cscope 15 C:\PokittoLib_Git\PokittoLib_curr"               0001462811
	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Bitmap\My_settings.h

12 #iâdeà
MY_SETTINGS_H


13 
	#MY_SETTINGS_H


	)

15 
	#PROJ_HIRES
 0

16 
	#PROJ_ENABLE_SOUND
 0

17 

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Bitmap\bitmap.cpp

3 
	~"Pok™to.h
"

4 
	~"pok™to_icÚ.h
"

6 
	gPok™to
::
CÜe
 
mygame
;

8 
	$maš
 () {

9 
mygame
.
	`begš
();

10 
mygame
.
di¥Ïy
.
	`lßd565P®‘‹
(
pok™to_icÚ_·l
);

11 
mygame
.
di¥Ïy
.
bgcŞÜ
=0;

13 
mygame
.
	`isRuÂšg
()) {

15 ià(
mygame
.
	`upd©e
()) {

16 
mygame
.
di¥Ïy
.
	`d¿wB™m­
(0,0,
pok™to_icÚ
);

21 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Bitmap\pokitto_icon.h

1 
	~<¡dšt.h
>

4 cÚ¡ 
ušt16_t
 
	gpok™to_icÚ_·l
[] = {

8 cÚ¡ 
ušt8_t
 
	gpok™to_icÚ
[] =

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\DrawDemo\My_settings.h

12 #iâdeà
MY_SETTINGS_H


13 
	#MY_SETTINGS_H


	)

15 
	#PROJ_HIRES
 0

16 
	#PROJ_ENABLE_SOUND
 0

17 

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\DrawDemo\drawdemo.cpp

1 
	~"Pok™to.h
"

3 
	gPok™to
::
CÜe
 
³li
;

6 
	gv¬i
=1;

7 
	gkoko
=2;

8 
	gx
=55;

9 
	gy
=44;

11 
	$maš
 () {

12 
³li
.
	`begš
();

13 
³li
.
di¥Ïy
.
³rsi¡’û
=1;

15 
³li
.
	`isRuÂšg
()) {

16 ià(
³li
.
	`upd©e
()) {

19 ià(
³li
.
bu‰Ús
.
	`upBŠ
()è
y
--;

20 ià(
³li
.
bu‰Ús
.
	`downBŠ
()è
y
++;

21 ià(
³li
.
bu‰Ús
.
	`ËáBŠ
()è
x
--;

22 ià(
³li
.
bu‰Ús
.
	`rightBŠ
()è
x
++;

23 ià(
³li
.
bu‰Ús
.
	`aBŠ
()è
v¬i
++;

24 ià(
³li
.
bu‰Ús
.
	`bBŠ
()è
koko
+=2;

25 ià(
³li
.
bu‰Ús
.
	`cBŠ
()è³li.
di¥Ïy
.
	`ş—r
();

28 ià(
x
<0) x=0;

29 ià(
y
<0) y=0;

30 ià(
x
>110) x=110;

31 ià(
y
>88) y=88;

34 ià(
v¬i
==16) vari=1;

35 ià(
koko
>8) koko=2;

38 
³li
.
di¥Ïy
.
	`£tCŞÜ
(
v¬i
);

39 
³li
.
di¥Ïy
.
	`flCœşe
(
x
,
y
,
koko
);

43 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\Animation.cpp

1 
	~"Pok™toCÜe.h
"

2 
	~"Anim©iÚ.h
"

4 
	#X_L_EYE
 6

	)

5 
	#Y_L_EYE
 8

	)

6 
	#X_R_EYE
 58

	)

7 
	#Y_R_EYE
 8

	)

8 
	#X_CHEEKS
 5

	)

9 
	#Y_CHEEKS
 43

	)

10 
	#Y_PUPIL
 18

	)

11 
	#X_LPUPIL
 19

	)

12 
	#X_RPUPIL
 66

	)

13 
	#DX_PUPIL
 8

	)

14 
	#X_SMILE
 40

	)

15 
	#Y_SMILE
 57

	)

16 
	#X_OH
 46

	)

17 
	#Y_OH
 49

	)

18 
	#X_GRIN
 19

	)

19 
	#Y_GRIN
 56

	)

20 
	#X_FLAT
 34

	)

21 
	#X_BLINKF
 5

	)

22 
	#Y_BLINKF
 6

	)

23 
	#X_BLINKH
 2

	)

24 
	#Y_BLINKH
 12

	)

25 
	#READLEVEL
 15

	)

26 
	#GRINLEVEL
 30

	)

27 
	#GRINOUT
 130

	)

28 
	#TALKPROBABILITY
 0x90

	)

30 
	gPok™to
::
CÜe
 
gb
;

32 
	$pİShowBu‰Ú
(
c
) {

33 
gb
.
di¥Ïy
.
cŞÜ
=0;

34 
gb
.
di¥Ïy
.
	`flReù
(gb.di¥Ïy.
width
/2-10,gb.di¥Ïy.
height
/2-10,20,20);

35 
gb
.
di¥Ïy
.
cŞÜ
=1;

36 
gb
.
di¥Ïy
.
	`£tCursÜ
(gb.di¥Ïy.
width
/2-5,gb.di¥Ïy.
height
/2-5);

37 
gb
.
di¥Ïy
.
	`´št
(
c
);

38 
	}
}

40 
	$maš
 () {

41 
	`pokIn™SD
();

42 
gb
.
sound
.
	`¶ayMusicSŒ—m
("feelgood.SND");

43 
št16_t
 
x
,
y
,
x_Íup
,
x_½up
,
y_pup
, 
squšt
=1;

44 
ušt8_t
 
mouth
=0,
eyes
=1,
blšk
=0,
blškcouÁ
=0, 
eyecouÁ
=0, 
gršcouÁ”
=0, 
gršout
=
GRINOUT
;

45 
boŞ
 
blockmouth
=
çl£
;

46 
boŞ
 
lkšg
=
çl£
;

48 
x_Íup
 = 
X_LPUPIL
; 
x_½up
 = 
X_RPUPIL
; 
y_pup
=
Y_PUPIL
;

49 
gb
.
	`begš
();

50 
gb
.
di¥Ïy
.
	`lßd565P®‘‹
(
m_ªim_·l
);

51 
gb
.
di¥Ïy
.
bgcŞÜ
=10;

52 
gb
.
di¥Ïy
.
	`ş—r
();

53 
gb
.
di¥Ïy
.
	`£tCŞÜD•th
(4);

54 
gb
.
sound
.
	`ampEÇbË
(
Œue
);

55 
gb
.
sound
.
	`¶ayMusicSŒ—m
();

56 
gb
.
	`isRuÂšg
()) {

59 ià(
soundby‹
 > 127 + 
READLEVEL
|| soundby‹ < 127-READLEVELè
lkšg
 = 
Œue
;

60 
lkšg
=
çl£
;

69 ià(
gb
.
bu‰Ús
.
	`aBŠ
()è
	`pİShowBu‰Ú
('A');

70 ià(
gb
.
bu‰Ús
.
	`bBŠ
()è
	`pİShowBu‰Ú
('B');

71 ià(
gb
.
bu‰Ús
.
	`cBŠ
()è
	`pİShowBu‰Ú
('C');

72 ià(
gb
.
bu‰Ús
.
	`upBŠ
()è
	`pİShowBu‰Ú
('U');

73 ià(
gb
.
bu‰Ús
.
	`downBŠ
()è
	`pİShowBu‰Ú
('D');

74 ià(
gb
.
bu‰Ús
.
	`ËáBŠ
()è
	`pİShowBu‰Ú
('L');

75 ià(
gb
.
bu‰Ús
.
	`rightBŠ
()è
	`pİShowBu‰Ú
('R');

77 ià(!
lkšg
è
gršcouÁ”
++;

78 
gršcouÁ”
 = 0;

80 ià(
gršcouÁ”
>
GRINOUT
) grincounter=0;

82 ià(
gb
.
	`upd©e
()) {

83 
x
=
X_L_EYE
; 
y
=
Y_L_EYE
;

84 
gb
.
di¥Ïy
.
	`d¿wB™m­
(
x
,
y
,
m_Ëáeye
);

85 
x
=
X_R_EYE
; 
y
=
Y_R_EYE
;

86 
gb
.
di¥Ïy
.
	`d¿wB™m­
(
x
,
y
,
m_righ‹ye
);

88 
ušt8_t
 
t
;

90 
eyes
) {

92 
x_Íup
=
X_LPUPIL
; 
x_½up
=
X_RPUPIL
;

93 
t
=98;

96 
x_Íup
=
X_LPUPIL
-
DX_PUPIL
-2; 
x_½up
=
X_RPUPIL
-DX_PUPIL;

97 
t
=70;

100 
x_Íup
=
X_LPUPIL
+
DX_PUPIL
; 
x_½up
=
X_RPUPIL
+DX_PUPIL+2;

101 
t
=70;

104 ià(
	`¿ndom
(100)>
t
è
eyes
 =„andom(2);

106 
blšk
) {

108 ià(
blškcouÁ
) blinkcount--;

110 
blšk
 = 
	`¿ndom
(2);

111 
blškcouÁ
 = 8/(
blšk
+1);

112 ià(
blšk
==1è
blškcouÁ
 *=3;

116 ià(
blškcouÁ
) {

117 
x
=
X_BLINKF
; 
y
=
Y_BLINKF
;

118 
gb
.
di¥Ïy
.
švisibËcŞÜ
=255;

119 
gb
.
di¥Ïy
.
	`d¿wB™m­
(
x
,
y
,
m_lids_şo£d
);

120 
blškcouÁ
--;

122 
blšk
 = 0;

123 
blškcouÁ
 = 
	`¿ndom
(0x20);

127 ià(
blškcouÁ
) {

128 
x
=
X_BLINKH
; 
y
=
Y_BLINKH
;

129 
gb
.
di¥Ïy
.
švisibËcŞÜ
=255;

130 
gb
.
di¥Ïy
.
cŞÜ
=10;

131 
gb
.
di¥Ïy
.
	`flReù
(0,0,110,12);

132 
gb
.
di¥Ïy
.
	`d¿wB™m­
(
x
,
y
,
m_lids_h®ãyes
);

133 
blškcouÁ
--;

135 
blšk
=0;

136 
blškcouÁ
 = 
	`¿ndom
(0x20);

139 ià(
blšk
 !=2 && 
	`¿ndom
(100)<98) {

140 
gb
.
di¥Ïy
.
švisibËcŞÜ
=1;

141 ià(
squšt
==1) {

142 
gb
.
di¥Ïy
.
	`d¿wB™m­
(
x_Íup
,
y_pup
,
m_ey•up
);

143 
gb
.
di¥Ïy
.
	`d¿wB™m­
(
x_½up
,
y_pup
,
m_ey•up
);

144 
gb
.
di¥Ïy
.
švisibËcŞÜ
=10;

146 }ià(
squšt
 ==0) {

147 
gb
.
di¥Ïy
.
	`d¿wB™m­
(
x_Íup
,
y_pup
,
m_squšt
);

148 
gb
.
di¥Ïy
.
	`d¿wB™m­
(
x_½up
,
y_pup
,
m_squšt
);

149 
gb
.
di¥Ïy
.
švisibËcŞÜ
=10;

151 } ià(
squšt
 ==2) {

152 
gb
.
di¥Ïy
.
	`d¿wB™m­
(
x_Íup
-3,
y_pup
-3,
m_h—¹
);

153 
gb
.
di¥Ïy
.
	`d¿wB™m­
(
x_½up
-3,
y_pup
-3,
m_h—¹
);

154 
gb
.
di¥Ïy
.
švisibËcŞÜ
=10;

159 
x
=
X_CHEEKS
; 
y
=
Y_CHEEKS
;

160 
gb
.
di¥Ïy
.
švisibËcŞÜ
=10;

161 ià(
mouth
 !ğ5è
gb
.
di¥Ïy
.
	`d¿wB™m­
(
x
,
y
,
m_ch“ks
);

163 
ušt8_t
 
om
=
mouth
;

165 ià(
lkšg
) {

166 ià(
	`¿ndom
(0xfff)>
TALKPROBABILITY
) {

167 
ušt8_t
 
Şdmouth
 = 
mouth
;

168 
mouth
 = 
	`¿ndom
(3)+1;

169 ià(
Şdmouth
=
mouth
) mouth++;

170 ià(
mouth
==5) mouth = 1;

173 ià(
gršcouÁ”
>
GRINLEVEL
è
mouth
 = 5;

174 
mouth
 = 5;

177 ià(
blockmouth
è
mouth
 = 
om
;

179 
mouth
) {

181 
x
=
X_SMILE
; 
y
=
Y_SMILE
;

182 
gb
.
di¥Ïy
.
	`d¿wB™m­
(
x
,
y
,
m_sme
);

185 
x
=
X_SMILE
; 
y
=
Y_SMILE
;

186 
gb
.
di¥Ïy
.
	`d¿wB™m­
(
x
,
y
,
m_sme_İ’
);

189 
x
=
X_SMILE
; 
y
=
Y_SMILE
;

190 
gb
.
di¥Ïy
.
	`d¿wB™m­
(
x
,
y
,
m_tÚgue
);

193 
x
=
X_OH
; 
y
=
Y_OH
;

194 
gb
.
di¥Ïy
.
	`d¿wB™m­
(
x
,
y
,
m_oh
);

197 
x
=
X_FLAT
; 
y
=
Y_SMILE
;

198 
gb
.
di¥Ïy
.
	`d¿wB™m­
(
x
,
y
,
m_æ©
);

201 
x
=
X_GRIN
; 
y
=
Y_GRIN
;

202 
gb
.
di¥Ïy
.
	`d¿wB™m­
(
x
,
y
,
m_grš
);

214 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\Animation.h

1 #iâdeà
POK_ANIMATIONTEST_H


2 
	#POK_ANIMATIONTEST_H


	)

4 cÚ¡ 
ušt16_t
 
m_ªim_·l
[];

5 cÚ¡ 
ušt8_t
 
m_ch“ks
[];

6 cÚ¡ 
ušt8_t
 
m_d»amy
[];

7 cÚ¡ 
ušt8_t
 
m_ey•up
[];

8 cÚ¡ 
ušt8_t
 
m_grš
[];

9 cÚ¡ 
ušt8_t
 
m_æ©
[];

10 cÚ¡ 
ušt8_t
 
m_h®åup
[];

11 cÚ¡ 
ušt8_t
 
m_h—¹
[];

12 cÚ¡ 
ušt8_t
 
m_Ëáeye
[];

13 cÚ¡ 
ušt8_t
 
m_lids_şo£d
[];

14 cÚ¡ 
ušt8_t
 
m_lids_h®ãyes
[];

15 cÚ¡ 
ušt8_t
 
m_lids_smug
[];

16 cÚ¡ 
ušt8_t
 
m_oh
[];

17 cÚ¡ 
ušt8_t
 
m_´oãssÜeyes
[];

18 cÚ¡ 
ušt8_t
 
m_righ‹ye
[];

19 cÚ¡ 
ušt8_t
 
m_sme
[];

20 cÚ¡ 
ušt8_t
 
m_sme_İ’
[];

21 cÚ¡ 
ušt8_t
 
m_squšt
[];

22 cÚ¡ 
ušt8_t
 
m_tÚgue
[];

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\My_settings.h

12 #iâdeà
MY_SETTINGS_H


13 
	#MY_SETTINGS_H


	)

15 
	#PROJ_HIRES
 0

16 
	#PROJ_ENABLE_SOUND
 1

17 
	#PROJ_ENABLE_SYNTH
 1

	)

18 
	#PROJ_STREAMING_MUSIC
 1

	)

19 
	#PROJ_AUD_FREQ
 16000

	)

20 
	#PRODUCTIONTESTING
 1

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_cheeks.c

7 
	~<¡dšt.h
>

8 
	~"Anim©iÚ.h
"

10 cÚ¡ 
ušt16_t
 
	gm_ªim_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gm_ch“ks
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_dreamy.c

7 
	~<¡dšt.h
>

8 
	~"Anim©iÚ.h
"

11 cÚ¡ 
ušt8_t
 
	gm_d»amy
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_eyepupil.c

7 
	~<¡dšt.h
>

8 
	~"Anim©iÚ.h
"

10 cÚ¡ 
ušt16_t
 
	gm_ey•up_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gm_ey•up
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_flat.c

7 
	~<¡dšt.h
>

8 
	~"Anim©iÚ.h
"

10 cÚ¡ 
ušt16_t
 
	gm_æ©_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gm_æ©
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_grin.c

7 
	~<¡dšt.h
>

8 
	~"Anim©iÚ.h
"

10 cÚ¡ 
ušt16_t
 
	gm_grš_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gm_grš
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_halfpupil.c

7 
	~<¡dšt.h
>

8 
	~"Anim©iÚ.h
"

10 cÚ¡ 
ušt16_t
 
	gm_h®åup_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gm_h®åup
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_heart.c

7 
	~<¡dšt.h
>

8 
	~"Anim©iÚ.h
"

10 cÚ¡ 
ušt16_t
 
	gm_h—¹_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gm_h—¹
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_lefteye.c

7 
	~<¡dšt.h
>

8 
	~"Anim©iÚ.h
"

10 cÚ¡ 
ušt16_t
 
	gm_Ëáeye_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gm_Ëáeye
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_lids_closed.c

7 
	~<¡dšt.h
>

8 
	~"Anim©iÚ.h
"

10 cÚ¡ 
ušt16_t
 
	gm_lids_şo£d_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gm_lids_şo£d
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_lids_halfeyes.c

7 
	~<¡dšt.h
>

8 
	~"Anim©iÚ.h
"

10 cÚ¡ 
ušt16_t
 
	gm_lids_h®ãyes_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gm_lids_h®ãyes
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_lids_smug.c

7 
	~<¡dšt.h
>

8 
	~"Anim©iÚ.h
"

10 cÚ¡ 
ušt16_t
 
	gm_lids_smug_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gm_lids_smug
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_oh.c

7 
	~<¡dšt.h
>

8 
	~"Anim©iÚ.h
"

10 cÚ¡ 
ušt8_t
 
	gm_oh
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_professoreyes.c

7 
	~<¡dšt.h
>

8 
	~"Anim©iÚ.h
"

10 cÚ¡ 
ušt16_t
 
	gm_´oãssÜeyes_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gm_´oãssÜeyes
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_righteye.c

7 
	~<¡dšt.h
>

8 
	~"Anim©iÚ.h
"

10 cÚ¡ 
ušt16_t
 
	gm_righ‹ye_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gm_righ‹ye
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_smile.c

7 
	~<¡dšt.h
>

8 
	~"Anim©iÚ.h
"

10 cÚ¡ 
ušt16_t
 
	gm_sme_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gm_sme
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_smile_open.c

7 
	~<¡dšt.h
>

8 
	~"Anim©iÚ.h
"

10 cÚ¡ 
ušt16_t
 
	gm_sme_İ’_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gm_sme_İ’
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_squint.c

7 
	~<¡dšt.h
>

8 
	~"Anim©iÚ.h
"

10 cÚ¡ 
ušt16_t
 
	gm_squšt_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gm_squšt
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_tongue.c

7 
	~<¡dšt.h
>

8 
	~"Anim©iÚ.h
"

10 cÚ¡ 
ušt16_t
 
	gm_tÚgue_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gm_tÚgue
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\HelloWorld\My_settings.h

12 #iâdeà
MY_SETTINGS_H


13 
	#MY_SETTINGS_H


	)

15 
	#PROJ_HIRES
 0

16 
	#PROJ_ENABLE_SOUND
 0

17 

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\HelloWorld\main.cpp

1 
	~"Pok™to.h
"

3 
	gPok™to
::
CÜe
 
mygame
;

6 
	$maš
 () {

7 
mygame
.
	`begš
();

8 
a
 = 
	`¿ndom
(100);

9 
mygame
.
	`isRuÂšg
()) {

11 ià(
mygame
.
	`upd©e
()) {

12 
mygame
.
di¥Ïy
.
	`´šn
(
a
);

13 
mygame
.
di¥Ïy
.
	`´šn
(()
Pok™to
::
B©‹ry
::
Ëv–
);

14 
mygame
.
di¥Ïy
.
	`´št
("Hello World!");

19 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Mode13\My_settings.h

12 #iâdeà
MY_SETTINGS_H


13 
	#MY_SETTINGS_H


	)

15 
	#PROJ_HIRES
 0

16 
	#PROJ_ENABLE_SOUND
 0

17 
	#PROJ_MODE13
 1

18 

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Mode13\mode13.cpp

3 
	~"Pok™to.h
"

5 
	gPok™to
::
CÜe
 
game
;

7 
	g·l
[256];

9 
ušt8_t
 
	gcŞ
=0;

11 
	$PÁCÌ
(
x
, 
y
){

12  
game
.
di¥Ïy
.
	`g‘Pix–
(
x
,
y
);

13 
	}
}

14 
	$DÙ
 (
x
, 
y
, 
c
){

15 
game
.
di¥Ïy
.
	`d¿wPix–
(
x
,
y
,
c
);

16 
	}
}

17 
	$RªdMšMax
(
mš
, 
max
){

18  
	`¿nd
(è% 
max
 + 
mš
;

19 
	}
}

20 
	$Adju¡
 (
xa
, 
ya
, 
x
, 
y
, 
xb
, 
yb
){

21 if(
	`PÁCÌ
(
x
, 
y
) != 0)  0;

22 
q
 = 
	`abs
(
xa
 - 
xb
è+‡bs(
ya
 - 
yb
);

23 
v
 = (
	`PÁCÌ
(
xa
, 
ya
è+ PÁCÌ(
xb
, 
yb
)è/ 2 + (
	`RªdMšMax
(0,
q
*10)) / 10;

24 ià(
v
 < 1) v = 1;

25 ià(
v
 > 255) v = 255;

26 
	`DÙ
(
x
, 
y
, 
v
);

28 
	}
}

29 
	$SubDivide
 (
x1
, 
y1
, 
x2
, 
y2
){

30 ià((
x2
 - 
x1
 < 2è&& (
y2
 - 
y1
 < 2)) ;

31 
x
 = (
x1
 + 
x2
) / 2;

32 
y
 = (
y1
 + 
y2
) / 2;

33 
	`Adju¡
(
x1
, 
y1
, 
x
, y1, 
x2
, y1);

34 
	`Adju¡
(
x1
, 
y2
, 
x
, y2, 
x2
, y2);

35 
	`Adju¡
(
x2
, 
y1
, x2, 
y
, x2, 
y2
);

36 
	`Adju¡
(
x1
, 
y1
, x1, 
y
, x1, 
y2
);

37 if(
	`PÁCÌ
(
x
, 
y
) == 0) {

38 
v
 = 
	`PÁCÌ
(
x1
, 
y1
è+ PÁCÌ(
x2
, y1è+ PÁCÌ(x2, 
y2
);

39 
v
 = v + 
	`PÁCÌ
(
x1
, 
y2
è+ PÁCÌ(x1, 
y
è+ PÁCÌ(
x
, 
y1
);

40 
v
 = v + 
	`PÁCÌ
(
x2
, 
y
è+ PÁCÌ(
x
, 
y2
);

41 
v
 = v / 8;

42 
	`DÙ
(
x
, 
y
, 
v
);

44 
	`SubDivide
(
x1
, 
y1
, 
x
, 
y
);

45 
	`SubDivide
(
x
, 
y
, 
x2
, 
y2
);

46 
	`SubDivide
(
x
, 
y1
, 
x2
, 
y
);

47 
	`SubDivide
(
x1
, 
y
, 
x
, 
y2
);

48 
	}
}

49 
make_¶asma
(
x1
=0,
y1
=0,
x2
=
game
.
di¥Ïy
.
width
-1,
y2
=game.di¥Ïy.
height
-1){

50 
game
.
di¥Ïy
.
ş—r
();

51 if(
	gx1
<0)x1=0;

52 if(
	gy1
<0)y1=0;

53 if(
	gx2
>
	ggame
.
	gdi¥Ïy
.
	gwidth
-1)x2=
game
.
di¥Ïy
.
width
-1;

54 if(
	gy2
>
	ggame
.
	gdi¥Ïy
.
	gheight
-1)y2=
game
.
di¥Ïy
.
height
-1;

55 
DÙ
(
x1
, 
y1
, 
RªdMšMax
(0,255) + 1);

56 
DÙ
(
x2
, 
y1
, 
RªdMšMax
(0,255) + 1);

57 
DÙ
(
x2
, 
y2
, 
RªdMšMax
(0,255) + 1);

58 
DÙ
(
x1
, 
y2
, 
RªdMšMax
(0,255) + 1);

59 
SubDivide
(
x1
, 
y1
, 
x2
, 
y2
);

61 
	$make_·l
(){

62 
a
,
s
,
r
,
g
,
b
;

63 
a
=0;‡<=63;‡++){

64 
s
 = 0; 
r
 = 
a
; 
g
 = 63-a; 
b
 = 0; 
·l
[a+s] = 
game
.
di¥Ïy
.
	`RGBto565
(r*4,g*4,b*4);

65 
s
 = 64; 
r
 = 63-
a
; 
g
 = 0; 
b
 =‡; 
·l
[a+s] = 
game
.
di¥Ïy
.
	`RGBto565
(r*4,g*4,b*4);

66 
s
 = 128; 
r
 = 0; 
g
 = 0; 
b
 = 63-
a
; 
·l
[a+s] = 
game
.
di¥Ïy
.
	`RGBto565
(r*4,g*4,b*4);

67 
s
 = 192; 
r
 = 0; 
g
 = 
a
; 
b
 = 0; 
·l
[a+s] = 
game
.
di¥Ïy
.
	`RGBto565
(r*4,g*4,b*4);

69 
game
.
di¥Ïy
.
	`lßd565P®‘‹
(&
·l
[0]);

70 
	}
}

71 
	$maš
(){

72 
game
.
	`begš
();

73 
game
.
di¥Ïy
.
³rsi¡’û
=1;

74 
	`¤ªd
(
game
.
	`g‘Time
());

75 
	`make_·l
();

76 
	`make_¶asma
(0,0,
game
.
di¥Ïy
.
width
-1,game.di¥Ïy.
height
-1);

78 
game
.
	`isRuÂšg
()) {

79 if(
game
.
	`upd©e
()){

81 
game
.
di¥Ïy
.
·lOff£t
 = 
cŞ
++;

86 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Mode14\My_settings.h

12 #iâdeà
MY_SETTINGS_H


13 
	#MY_SETTINGS_H


	)

15 
	#PROJ_HIRES
 0

16 
	#PROJ_ENABLE_SOUND
 0

17 
	#PROJ_MODE14
 1

	)

18 
	#PROJ_FPS
 100

	)

19 
	#PROJ_SHOW_FPS_COUNTER


	)

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Mode14\lemm.h

2 cÚ¡ 
ušt8_t
 
	gËmm
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Mode14\mode14.cpp

10 
	~"Pok™to.h
"

11 
	~"Ëmm.h
"

13 
	gPok™to
::
CÜe
 
mygame
;

15 
Dig™®Out
 
p
(
EXT0
);

17 
	#TEST_PORT
 1

	)

18 
	#TEST_PIN
 19

	)

19 
	#CLR_TEST
 
LPC_GPIO_PORT
->
CLR
[
TEST_PORT
] = 1 << 
TEST_PIN
;

	)

20 
	#SET_TEST
 
LPC_GPIO_PORT
->
SET
[
TEST_PORT
] = 1 << 
TEST_PIN
;

	)

22 
	gs
=0;

24 
	$maš
 () {

25 
mygame
.
	`begš
();

26 
c
 = 1;

27 
mygame
.
run_¡©e
) {

28 ià(
mygame
.
	`upd©e
()) {

29 ià(
s
è{
SET_TEST
}

30 {
CLR_TEST
}

31 
s
=1-s;

39 
mygame
.
di¥Ïy
.
	`d¿wB™m­
(0,0,
Ëmm
);

43 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Mode15\Mode15.cpp

3 
	~"Pok™to.h
"

4 
	~"mÚkey16.h
"

6 
	gPok™to
::
CÜe
 
mygame
;

8 
	$d¿wBlurb
(cÚ¡ * 
‹xt
, 
x
, 
y
, 
ušt8_t
 
fc
, ušt8_ˆ
bgc
) {

9 
tx
=-1;tx<2;tx++) {

10 
ty
=-1;ty<2;ty++) {

11 
mygame
.
di¥Ïy
.
	`£tCŞÜ
(
bgc
,15);

12 
mygame
.
di¥Ïy
.
	`£tInvisibËCŞÜ
(15);

13 
mygame
.
di¥Ïy
.
	`£tCursÜ
(
x
+
tx
,
y
+
ty
);

14 
mygame
.
di¥Ïy
.
	`´št
(
‹xt
);

17 
mygame
.
di¥Ïy
.
	`£tCursÜ
(
x
,
y
);

18 
mygame
.
di¥Ïy
.
	`£tCŞÜ
(
fc
,
bgc
);

19 
mygame
.
di¥Ïy
.
	`£tInvisibËCŞÜ
(
bgc
);

20 
mygame
.
di¥Ïy
.
	`´št
(
‹xt
);

21 
	}
}

24 
	$maš
 () {

25 
x
=0,
y
=20;

26 
mygame
.
	`begš
();

27 
mygame
.
di¥Ïy
.
	`lßd565P®‘‹
(
mÚkey16_·l
);

28 
mygame
.
di¥Ïy
.
	`£tCŞÜ
(1,0);

29 
mygame
.
di¥Ïy
.
	`£tFÚt
(
fÚtMÚkey
);

30 
mygame
.
di¥Ïy
.
	`£tInvisibËCŞÜ
(0);

32 
mygame
.
	`isRuÂšg
()) {

34 ià(
mygame
.
	`upd©e
()) {

35 
x
-=2;

36 ià(
x
<-90) x=-90;

37 ià(
x
>0) x = 0;

38 
mygame
.
di¥Ïy
.
	`d¿wB™m­
(
x
,16,
mÚkey161
);

39 
mygame
.
di¥Ïy
.
	`d¿wB™m­
(
x
+160,16,
mÚkey162
);

40 ià(
x
<-82) {

41 
	`d¿wBlurb
("The New Mode15!!",10,62,14,0);

43 ià(
x
<-88) {

44 
	`d¿wBlurb
("Nice!",130,82,10,0);

50 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Mode15\My_settings.h

12 #iâdeà
MY_SETTINGS_H


13 
	#MY_SETTINGS_H


	)

15 
	#PROJ_MODE15
 1

16 
	#PROJ_ENABLE_SOUND
 0

17 

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\My_settings.h

12 #iâdeà
MY_SETTINGS_H


13 
	#MY_SETTINGS_H


	)

15 
	#PROJ_HIRES
 0

16 
	#PROJ_ENABLE_SOUND
 1

17 
	#PROJ_STREAMING_MUSIC
 1

18 
	#PROJ_AUD_FREQ
 11025

	)

19 
	#PROJ_STREAM_TO_DAC
 1

20 
	#PROJ_USE_PWM
 1

21 
	#PROJ_GBSOUND
 0

22 
	#PROJ_ENABLE_SYNTH
 0

23 
	#PROJ_GAMEBUINO
 0

24 
	#PROJ_SHOW_FPS_COUNTER


	)

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\Pixonia.h

1 #iâdeà
POK_POKULOUS_H


2 
	#POK_POKULOUS_H


	)

4 
	~<¡dšt.h
>

6 cÚ¡ 
ušt16_t
 
pokulous_·l
[];

7 cÚ¡ 
ušt16_t
 
th”esgŞd_·l
[];

8 cÚ¡ 
ušt16_t
 
gameov”_·l
[];

10 cÚ¡ 
ušt8_t
 
ªim_dude
[];

11 cÚ¡ 
ušt8_t
 
ªim_sh“p
[];

12 cÚ¡ 
ušt8_t
 
ªim_wŞf_sw
[];

13 cÚ¡ 
ušt8_t
 
ªim_blue_æag1
[];

14 cÚ¡ 
ušt8_t
 
ªim_blue_æag2
[];

15 cÚ¡ 
ušt8_t
 
¥Ï‰”
[];

16 cÚ¡ 
ušt8_t
 
th”esgŞd
[];

17 cÚ¡ 
ušt8_t
 
gameov”
[];

18 cÚ¡ 
ušt8_t
 
gŞd
[];

19 cÚ¡ 
ušt8_t
 
gŞd2
[];

21 cÚ¡ 
ušt8_t
 
pix–mª_£_1
[];

22 cÚ¡ 
ušt8_t
 
pix–mª_£_2
[];

23 cÚ¡ 
ušt8_t
 
pix–mª_nw_1
[];

24 cÚ¡ 
ušt8_t
 
pix–mª_nw_2
[];

26 cÚ¡ 
ušt8_t
 
w”ewŞf_£_1
[];

27 cÚ¡ 
ušt8_t
 
w”ewŞf_£_2
[];

28 cÚ¡ 
ušt8_t
 
w”ewŞf_nw_1
[];

29 cÚ¡ 
ušt8_t
 
w”ewŞf_nw_2
[];

32 cÚ¡ 
ušt8_t
 
‹r_b—ch_£
[];

33 cÚ¡ 
ušt8_t
 
‹r_b—ch_sw
[];

35 cÚ¡ 
ušt8_t
 
‹r_bump_e
[];

36 cÚ¡ 
ušt8_t
 
‹r_bump_n
[];

37 cÚ¡ 
ušt8_t
 
‹r_bump_w
[];

38 cÚ¡ 
ušt8_t
 
‹r_bump_s
[];

40 cÚ¡ 
ušt8_t
 
‹r_d™ch_e
[];

41 cÚ¡ 
ušt8_t
 
‹r_d™ch_n
[];

42 cÚ¡ 
ušt8_t
 
‹r_d™ch_w
[];

43 cÚ¡ 
ušt8_t
 
‹r_d™ch_s
[];

45 cÚ¡ 
ušt8_t
 
‹r_bump_Ã
[];

46 cÚ¡ 
ušt8_t
 
‹r_bump_nw
[];

47 cÚ¡ 
ušt8_t
 
‹r_bump_sw
[];

48 cÚ¡ 
ušt8_t
 
‹r_bump_£
[];

50 cÚ¡ 
ušt8_t
 
‹r_—¹h
[];

51 cÚ¡ 
ušt8_t
 
‹r_g¿š
[];

52 cÚ¡ 
ušt8_t
 
‹r_gŞd
[];

53 cÚ¡ 
ušt8_t
 
‹r_¶aš
[];

54 cÚ¡ 
ušt8_t
 
‹r_hut
[];

55 cÚ¡ 
ušt8_t
 
‹r_w©”1
[];

56 cÚ¡ 
ušt8_t
 
‹r_w©”2
[];

57 cÚ¡ 
ušt8_t
 
‹r_Œ“
[];

58 cÚ¡ 
ušt8_t
 
‹r_¡Úe
[];

60 cÚ¡ 
ušt8_t
 
dœt_pÏr
[];

61 cÚ¡ 
ušt8_t
 
pixÚŸ
[];

62 cÚ¡ 
ušt16_t
 
night_·Ë‰e
[];

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\anim_blue_flag1.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	gªim_blue_æag1_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gªim_blue_æag1
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\anim_blue_flag2.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	gªim_blue_æag2_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gªim_blue_æag2
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\dirt_pillar.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	gdœt_pÏr_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gdœt_pÏr
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\gameover.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	ggameov”_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	ggameov”
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\gold.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	ggŞd_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	ggŞd
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\gold2.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	ggŞd2_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	ggŞd2
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\main.cpp

1 
	~"Pok™to.h
"

2 
	~"PixÚŸ.h
"

3 
	~"SyÁh.h
"

5 
	gPok™to
::
CÜe
 
gb
;

7 
	#YOFF
 4

	)

8 
	#XOFF
 8

	)

10 
	#WORLDSIZE
 50

	)

11 
	#TIMEINCREMENT
 16

	)

13 
	#SUBDIVS
 4

	)

14 
	#XSPEED
 2<<4

15 
	#YSPEED
 1<<4

16 
	#PILLARHEIGHT
 2

	)

17 
	#GROUNDLIFT
 1

	)

19 
	#MAXSTEP
 2

	)

20 
	#MAXWOLFSTEP
 3

	)

21 
	#WOLFENERGY
 0x26F

	)

22 
	#MONSTERMORNING
 75

	)

23 
	#MONSTERNIGHT
 130

	)

26 
	#MAXELEVATIONDIFF
 1

	)

27 
	#DIGMAX
 2

	)

29 
	#MAXHUMANS
 10

	)

30 
	#MAXWOLVES
 10

	)

31 
	#TREESNROCKS
 1

	)

32 
	#HUTPROB
 0x01

	)

33 
	#STONEPROB
 0x24

	)

34 
	#TREEPROB
 0x30

	)

35 
	#GOLDPROB
 0x08

36 
	#MAXGOLD
 50

	)

37 
	#GOLDMULT
 3

	)

38 
	#WOLFMULT
 1

	)

39 
	#MAPMULT
 10

	)

40 
	#GLIMMERPROB
 0x20

	)

41 
	#WOLFPROB
 0x2000

	)

45 
	#DIR_NE
 0

	)

46 
	#DIR_E
 1

	)

47 
	#DIR_SE
 2

	)

48 
	#DIR_S
 3

	)

49 
	#DIR_SW
 4

	)

50 
	#DIR_W
 5

	)

51 
	#DIR_NW
 6

	)

52 
	#DIR_N
 7

	)

55 
	#TER_UNDEFINED
 0

	)

56 
	#TER_WATER
 31

	)

57 
	#TER_PLAIN
 1

	)

58 
	#TER_HUT
 2

	)

59 
	#TER_TREE
 3

	)

60 
	#TER_STONE
 4

	)

61 
	#TER_BUMP_NW
 5

	)

62 
	#TER_BUMP_SE
 6

	)

63 
	#TER_BUMP_NE
 7

	)

64 
	#TER_BUMP_SW
 8

	)

65 
	#TER_BUMP_N
 9

	)

66 
	#TER_BUMP_S
 10

	)

67 
	#TER_BUMP_E
 11

	)

68 
	#TER_BUMP_W
 12

	)

69 
	#TER_GOLD
 13

	)

70 
	#TER_ROCK
 14

	)

71 
	#TER_BEACHSW
 29

	)

72 
	#TER_BEACHSE
 30

	)

74 
	ew®kDœ
 {

75 
	mNE
,

76 
	mSE
,

77 
	mSW
,

78 
	mNW


81 
	ehumªTasks
 {

82 
	mIDLE
,

83 
	mCHOPPING
,

84 
	mRAISING
,

85 
	mLOWERING
,

86 
	mPLANTING
,

87 
	mMOVING
,

88 
	mHUTBUILDING


91 
	eAImodes
 {

92 
	mHOMING
,

93 
	mINTERCEPT
,

94 
	mCHASE
,

95 
	mTURNCW
,

96 
	mGOTO


99 
	eGame¡©es
 {

100 
	mTITLE
,

101 
	mNEXTLEVEL
,

102 
	mINTRO
,

103 
	mGAME
,

104 
	mGAMEOVER
,

105 
	mLEVELPASSED


108 
Game¡©es
 
	ggame¡©e
 = 
TITLE
;

109 
	ggam–ev–
=1;

110 
ušt16_t
 
	gwÜldsize
=10;

113 
št32_t
 
	gwx
=-8,
	gwy
=0,
	gcx
=10,
	gcy
=10;

114 
ušt16_t
 
	g´evte
=0, 
	g¶ay”te
=0, 
	gfocu¡e
=0, 
	gûÁ”te
=0,
	gŞdûÁ”
, 
	gtw“n_·Ë‰e
[16], 
	ggŞds
=0, 
	g¶ay”gŞds
=0;

115 
ušt16_t
 
	gtimeofday
=0;

116 
ušt8_t
 
	gwave
=0, 
	gŞdtime
=0,
	gwŞve¡ick
=0,
	gw©”tick
=0;

117 
št8_t
 
	gwadšg
=1;

118 
boŞ
 
	gfocusšg
=
çl£
;

119 
boŞ
 
	gšHut
 = 
çl£
;

120 
št16_t
 
	gtw“nçùÜ
=0,
	gnumwŞves
=0;

123 
boŞ
 
¿i£Te
(
ušt16_t
);

124 
boŞ
 
low”Te
(
ušt16_t
);

125 
boŞ
 
	gÿught
=
çl£
;

126 
št8_t
 
g‘TeHeightToTe
(
ušt16_t
, uint16_t);

127 
ušt8_t
 
	gdigCouÁ
=0, 
	gmÚ¡”d¿š
=1;

128 
ušt16_t
 
	gwÜkšgOnTe
=0;

132 
	scoÜds
 {

133 
št16_t
 
	mx
;

134 
št16_t
 
	my
;

137 
	sü—tu»
 {

138 
št16_t
 
	m’”gy
;

139 
boŞ
 
	mvisibË
;

140 
w®kDœ
 
	mçcšg
;

141 
ušt8_t
 
	mªimäame
;

142 
ušt16_t
 
	mte
;

143 
coÜds
 
	mpos™iÚ
;

144 
coÜds
 
	mgošgto
;

145 
AImodes
 
	mai
;

148 
ü—tu»
 
	ghumªs
[
MAXHUMANS
];

149 
ü—tu»
 
	gw”ewŞves
[
MAXWOLVES
];

151 
coÜds
 
	g¶ay”
,
	gŞd¶ay”
,
	gfocus
,
	ggŞdnugg‘
;

152 
ušt8_t
 
	gŞd¶ay”couÁ
=0, 
	ggŞdnugg‘couÁ
;

154 
ušt8_t
 
	gwÜld
[
WORLDSIZE
*WORLDSIZE];

156 
	$g‘TeHeight
(
ušt16_t
 
i
) {

157  (
wÜld
[
i
]>>5);

158 
	}
}

160 
	$g‘TeTy³
(
ušt16_t
 
i
) {

161  (
wÜld
[
i
]&0x1F);

162 
	}
}

164 
	$£tTeHeight
(
ušt16_t
 
i
, 
št8_t
 
h
) {

165 
wÜld
[
i
] &= 0x1F;

166 
wÜld
[
i
] |ğ(
h
<<5);

167 
	}
}

169 
	$£tTeTy³
(
ušt16_t
 
i
, 
ušt8_t
 
t
) {

170 
wÜld
[
i
] &= 0xE0;

171 
wÜld
[
i
] |ğ(
t
&0x1F);

172 
	}
}

174 
ušt16_t
 
	$teFromCoÜds
 (
št16_t
 
x
,št16_ˆ
y
) {

175 ià(
x
<0) x=0;

176 ià(
y
<0) y=0;

177 
ušt16_t
 
te
 = (
x
/
SUBDIVS
)+(
y
/SUBDIVS)*
gam–ev–
*
MAPMULT
;

178  
te
;

179 
	}
}

181 
coÜds
 
	$teToSü“nXY
 (
ušt16_t
 
te
) {

182 
coÜds
 
s
;

183 
ušt16_t
 
x
 = 
te
 % 
wÜldsize
;

184 
ušt16_t
 
y
 = 
te
 / 
wÜldsize
;

185 
s
.
y
 = y*
YOFF
+
wy
+(3+
x
)*YOFF+2+
	`g‘TeHeight
(
te
);

186 
s
.
x
 = x*
XOFF
+
wx
+2*XOFF+2;

187  
s
;

188 
	}
}

190 
ušt16_t
 
	$sü“nToTe
 (
št16_t
 
x
, iÁ16_ˆ
y
) {

192 
št16_t
 
di¡x
 = 
x
-
wx
;

193 
št16_t
 
di¡y
 = 
y
-
wy
;

194 
ušt16_t
 
tesx
,
tesy
,
tx
,
ty
;

195 ià(
di¡x
>0) {

197 
tesx
 = 
di¡x
/
XOFF
;

198 
tesy
 = 
di¡y
/
YOFF
;

199 
tx
 = 
tesx
 + 
tesy
;

203 
di¡x
 = -distx;

204 
tesx
 = 
di¡x
/
XOFF
;

205 
tesy
 = 
di¡y
/
YOFF
;

210 
št32_t
 
tex
 = (
x
 - 
wx
 - 2 - 
XOFF
)/XOFF;

211 
št32_t
 
tey
 = (
y
-
wy
-2);

212 
tey
 -=(3+
tex
)*
YOFF
;

213 
tey
 /ğ
YOFF
;

214  
tex
+
tey
*
wÜldsize
;

215 
	}
}

217 
ušt16_t
 
	$wÜldToTe
 (
ušt16_t
 
x
, ušt16_ˆ
y
) {

218  (
x
/
SUBDIVS
)+(
y
/SUBDIVS)*
wÜldsize
;

219 
	}
}

221 
coÜds
 
	$wÜldToSü“n
(
ušt16_t
 
x
, ušt16_ˆ
y
) {

222 
ušt16_t
 
süy
 =(
wy
+
y
/
SUBDIVS
*4)+(
x
/SUBDIVS+1)*
YOFF
;

223 
ušt16_t
 
süx
 = 
wx
+(
x
/
SUBDIVS
+2)*
XOFF
-
y
/SUBDIVS*8;

224 
št16_t
 
oy
,
ox
;

225 
št16_t
 
off£ty
,
off£tx
;

226 
off£ty
 = 
y
%
SUBDIVS
;

227 
off£tx
 = 
x
%
SUBDIVS
;

228 
oy
 = -
off£tx
*
YOFF
/
SUBDIVS
 - 
off£ty
*YOFF/SUBDIVS;

229 
ox
 = 
off£tx
*
XOFF
/
SUBDIVS
 - 
off£ty
*8/SUBDIVS;

230 
coÜds
 
t
;

231 
t
.
x
 = 
süx
+
ox
;.
y
 = 
süy
-
oy
;

232  
t
;

233 
	}
}

235 
boŞ
 
	$ÚSü“n
(
coÜds
 
p
) {

236 
coÜds
 
t
 = 
	`wÜldToSü“n
(
p
.
x
,p.
y
);

237 ià(
t
.
x
>=0 &&.x<110 &&.
y
 > 0 &&.y <88è 
Œue
;

238  
çl£
;

239 
	}
}

241 
boŞ
 
	$focusOnTe
(
ušt16_t
 
t
) {

242 ià(!
focusšg
 || 
t
!ğ
focu¡e
) {

243 
focusšg
 = 
Œue
;

244 
focu¡e
 = 
t
;

245 
focus
.
x
 = 
t
 % 
wÜldsize
;

246 
focus
.
y
 = 
t
 / 
wÜldsize
;

248 
ušt16_t
 
cu¼’tfocus
 = 
ûÁ”te
;

249 ià(
cu¼’tfocus
 > 
focu¡e
-3 && currentfocus <focustile+3) {

250 
focusšg
 = 
çl£
;

251  
Œue
;

253 
št16_t
 
x
 = 
cu¼’tfocus
 % 
wÜldsize
;

254 
št16_t
 
y
 = 
cu¼’tfocus
 / 
wÜldsize
;

255 
št16_t
 
dx
 = 
x
 - 
focus
.x;

256 
št16_t
 
dy
 = 
y
 - 
focus
.y;

257 ià(
dx
<0) dx = -dx;

258 ià(
dy
<0) dy = -dy;

259 ià(
dx
+
dy
>20èdx = 
XSPEED
*8;

260 ià(
dx
+
dy
>5èdx = 
XSPEED
*2;

261 
dx
=
XSPEED
;

262 ià(
x
<
focus
.xè
wx
-=
dx
;

263 ià(
x
>
focus
.xè
wx
 +ğ
dx
;

264 ià(
y
<
focus
.yè
wy
-ğ
dx
;

265 ià(
y
>
focus
.yè
wy
+ğ
dx
;

266  
çl£
;

272 
	}
}

274 
	$d¿wToTe
(
ušt16_t
 
te
, cÚ¡ 
ušt8_t
* 
b™m­
, 
št16_t
 
off£tx
, iÁ16_ˆ
off£ty
, ušt8_ˆ
æ
) {

275 
ušt16_t
 
tex
,
tey
;

276 
tey
 = 
te
/
wÜldsize
;

277 
tex
 = 
te
%
wÜldsize
;

278 
ušt16_t
 
süy
=(
wy
+
tey
*4)+(
tex
+1)*
YOFF
;

279 
ušt16_t
 
süx
=
wx
+(
tex
+2)*
XOFF
-
tey
*8;

280 
št16_t
 
oy
,
ox
;

281 
oy
 = -
off£tx
*
YOFF
/
SUBDIVS
 - 
off£ty
*YOFF/SUBDIVS+4;

282 
ox
 = 
off£tx
*
XOFF
/
SUBDIVS
 - 
off£ty
*8/SUBDIVS-3;

283 
št8_t
 
t
=0;

284 ià(!
wadšg
è
t
=-
	`¿ndom
(10);

285 
gb
.
di¥Ïy
.
	`d¿wB™m­
(
süx
+
ox
+
t
,
süy
-(
	`g‘TeHeight
(
te
)<<1)-
oy
+t,
b™m­
,0,
æ
);

286 
	}
}

288 
boŞ
 
	$ÿnMoveTo
(
ušt16_t
 
i
) {

289 ià(
	`g‘TeHeightToTe
(
i
,
´evte
)>
MAXSTEP
è 
çl£
;

290 ià(
	`g‘TeTy³
(
i
)==
TER_HUT
 && 
humªs
[0].
çcšg
 !ğ
NE
 )  
çl£
;

291 ià(
	`g‘TeTy³
(
´evte
)==
TER_HUT
 && 
humªs
[0].
çcšg
 !ğ
SW
 )  
çl£
;

292 ià(
	`g‘TeTy³
(
i
)==
TER_TREE
è 
çl£
;

294 ià(
	`g‘TeTy³
(
i
)==
TER_STONE
è 
çl£
;

295  
Œue
;

296 
	}
}

298 
boŞ
 
	$ÿnWWMoveFromTo
(
ušt16_t
 
i
,ušt16_ˆ
j
) {

299 ià(
	`g‘TeHeightToTe
(
j
,
i
)>
MAXWOLFSTEP
è 
çl£
;

300 ià(
	`g‘TeTy³
(
j
)==
TER_HUT
è 
çl£
;

303  
Œue
;

304 
	}
}

306 
št8_t
 
	$g‘TeDX
(
ušt16_t
 
i
) {

307 
št8_t
 
h_this
 = 
	`g‘TeHeight
(
i
);

308 
ušt16_t
 
y
 = 
i
 / 
wÜldsize
;

309 
ušt16_t
 
x
 = 
i
 % 
wÜldsize
;

310 
št8_t
 
h_´ev
 = 
h_this
, 
h_Ãxt
=h_this ;

311 ià(
x
>0è
h_´ev
 = 
	`g‘TeHeight
(
i
-1);

312 ià(
x
<
wÜldsize
-1è
h_Ãxt
 = 
	`g‘TeHeight
(
i
+1);

313 ià(
h_´ev
>
h_Ãxt
)  -1;

314 ià(
h_´ev
<
h_Ãxt
)  1;

316 
	}
}

318 
št8_t
 
	$g‘TeDY
(
ušt16_t
 
i
) {

319 
št8_t
 
h_this
 = 
	`g‘TeHeight
(
i
);

320 
ušt16_t
 
y
 = 
i
 / 
wÜldsize
;

321 
ušt16_t
 
x
 = 
i
 % 
wÜldsize
;

322 
št8_t
 
h_´ev
 = 
h_this
, 
h_Ãxt
=h_this ;

323 ià(
y
>0è
h_Ãxt
 = 
	`g‘TeHeight
(
i
-
wÜldsize
);

324 ià(
y
<
wÜldsize
-1è
h_´ev
 = 
	`g‘TeHeight
(
i
+worldsize);

325 ià(
h_´ev
<
h_Ãxt
)  1;

326 ià(
h_´ev
>
h_Ãxt
)  -1;

328 
	}
}

330 
št8_t
 
	$g‘TeHeightToTe
(
ušt16_t
 
a
, ušt16_ˆ
b
) {

331 
št8_t
 
c
 = 
	`g‘TeHeight
(
a
);

332 
št8_t
 
d
 = 
	`g‘TeHeight
(
b
);

333  
c
-
d
;

334 
	}
}

336 
ušt8_t
 
	$g‘TeSlİe
(
ušt16_t
 
šdex
) {

337 
št8_t
 
dx
=0,
dy
=0;

338 
dx
=
	`g‘TeDX
(
šdex
);

339 
dy
=
	`g‘TeDY
(
šdex
);

340 
dy
) {

342 ià(
dx
==0è 
TER_PLAIN
;

343 ià(
dx
>0è 
TER_BUMP_NW
;

344  
TER_BUMP_SE
;

347 ià(
dx
==0è 
TER_BUMP_SW
;

348 ià(
dx
>0è 
TER_BUMP_W
;

349  
TER_BUMP_S
;

352 ià(
dx
==0è 
TER_BUMP_NE
;

353 ià(
dx
>0è 
TER_BUMP_N
;

354  
TER_BUMP_E
;

357 
	}
}

359 
	$£tSlİeAutom©ic
(
ušt16_t
 
t
) {

360 
ušt8_t
 
e
 = 
	`g‘TeTy³
(
t
);

361 ià(
e
<5 ||ƒ>12 &&ƒ !ğ
TER_PLAIN
) ;

362 
ušt8_t
 
¦İe
 = 
	`g‘TeSlİe
(
t
);

363 
	`£tTeTy³
(
t
,
¦İe
);

364 
	}
}

366 
boŞ
 
	$»cursiveGroundRai£
(
ušt16_t
 
te
) {

367 
ušt16_t
 
rg‘
=
te
;

368 ià(
te
>
wÜldsize
) {

370 ià(
te
%
wÜldsize
) {

371 
rg‘
 =¬g‘ - 
wÜldsize
 - 1;

372 ià(
	`g‘TeHeightToTe
(
rg‘
,
te
)<-
MAXELEVATIONDIFF
è
	`¿i£Te
(target);

374 
rg‘
++;

375 ià(
	`g‘TeHeightToTe
(
rg‘
,
te
)<-
MAXELEVATIONDIFF
è
	`¿i£Te
(target);

376 ià(
te
%
wÜldsize
<worldsize-1) {

377 
rg‘
++;

378 ià(
	`g‘TeHeightToTe
(
rg‘
,
te
)<-
MAXELEVATIONDIFF
è
	`¿i£Te
(target);

382 ià(
te
%
wÜldsize
>0) {

383 
rg‘
 = 
te
 - 1;

384 ià(
	`g‘TeHeightToTe
(
rg‘
,
te
)<-
MAXELEVATIONDIFF
è
	`¿i£Te
(target);

386 ià(
te
%
wÜldsize
<worldsize-1) {

387 
rg‘
+=2;

388 ià(
	`g‘TeHeightToTe
(
rg‘
,
te
)<-
MAXELEVATIONDIFF
è
	`¿i£Te
(target);

391 ià(
te
<
wÜldsize
*worldsize-worldsize) {

392 ià(
te
%
wÜldsize
>0) {

393 
rg‘
 = 
te
 + 
wÜldsize
 -1;

394 ià(
	`g‘TeHeightToTe
(
rg‘
,
te
)<-
MAXELEVATIONDIFF
è
	`¿i£Te
(target);

396 
rg‘
++;

397 ià(
	`g‘TeHeightToTe
(
rg‘
,
te
)<-
MAXELEVATIONDIFF
è
	`¿i£Te
(target);

398 ià(
te
<
wÜldsize
*worldsize-1) {

399 
rg‘
++;

400 ià(
	`g‘TeHeightToTe
(
rg‘
,
te
)<-
MAXELEVATIONDIFF
è
	`¿i£Te
(target);

405  
çl£
;

406 
	}
}

408 
boŞ
 
	$¿i£Te
(
ušt16_t
 
t
) {

409 
št8_t
 
z
 = 
	`g‘TeHeight
(
t
);

410 ià(
z
==0è
	`£tTeTy³
(
t
,
TER_PLAIN
);

411 
z
++;

412 ià(
z
>7) z=7;

413 
	`£tTeHeight
(
t
,
z
);

414 
	`»cursiveGroundRai£
(
t
);

415 ià(
z
==7è
digCouÁ
 = 
DIGMAX
;

416  
Œue
;

417 
	}
}

419 
ušt16_t
 
	$g‘FacšgTe
(
ušt16_t
 
te
, 
w®kDœ
 
çcšg
) {

420 
çcšg
) {

421 
NE
:

422 ià(
te
<
wÜldsize
)  -1;

423  
te
-
wÜldsize
;

425 
SE
:

426 ià(
te
%
wÜldsize
 == worldsize-1)  -1;

427  
te
+1;

428 
SW
:

429 ià(
te
>
wÜldsize
*worldsize-worldsize)  -1;

430  
te
+
wÜldsize
;

431 
NW
:

432 ià(
te
%
wÜldsize
 == 0)  -1;

433  
te
-1;

436 
	}
}

438 
	$¥awnWŞf
() {

439 
ušt8_t
 
i
 = 0; i< (
gam–ev–
-1è* 
WOLFMULT
 ; i++) {

440 ià(
w”ewŞves
[
i
].
’”gy
 <= 0) {

441 
ušt16_t
 
k
;

442 
k
=
	`¿ndom
(
wÜldsize
*worldsize-1);

443 
ušt8_t
 
a
 = (ušt8_t)
	`¿ndom
(3)-1;

444 
a
) {

446 
w”ewŞves
[
i
].
ai
 = 
HOMING
; ;

448 
w”ewŞves
[
i
].
ai
 = 
CHASE
; ;

450 
w”ewŞves
[
i
].
ai
 = 
INTERCEPT
; ;

453 
w”ewŞves
[
i
].
’”gy
 = 
WOLFENERGY
;

454 
w”ewŞves
[
i
].
te
 = 
k
;

455 
k
 *ğ
SUBDIVS
;

456 
w”ewŞves
[
i
].
pos™iÚ
.
x
 = 
k
%
wÜldsize
;

457 
w”ewŞves
[
i
].
pos™iÚ
.
y
 = 
k
/
wÜldsize
;

458 
numwŞves
++;

459 
i
=(
gam–ev–
-1)*
WOLFMULT
; ;

462 
	}
}

464 
	$de¥awnWŞf
(
ušt8_t
 
n
) {

465 
w”ewŞves
[
n
].
’”gy
=0;

466 
w”ewŞves
[
n
].
visibË
=
çl£
;

467 
numwŞves
--;

468 
	}
}

470 
	$de¥awnAÎWŞves
() {

471 
ušt8_t
 
i
 = 0; i< (
gam–ev–
-1)*
WOLFMULT
 ; i++) {

472 
	`de¥awnWŞf
(
i
);

474 
	}
}

476 
	$moveWŞves
() {

477 
ušt8_t
 
i
 = 0; i< (
gam–ev–
-1)*
WOLFMULT
 ; i++) {

478 ià(
w”ewŞves
[
i
].
’”gy
>0) {

479 ià(
wŞve¡ick
) {

480 
ušt16_t
 
äomte
 = 
w”ewŞves
[
i
].
te
;

481 
coÜds
 
äompos™iÚ
 = 
w”ewŞves
[
i
].
pos™iÚ
;

482 
št16_t
 
aix
,
aiy
,
bix
,
biy
;

483 
w”ewŞves
[
i
].
ai
) {

484 
INTERCEPT
:

485 ià(
humªs
[
i
].
çcšg
==
NE
è{
w”ewŞves
[i].
pos™iÚ
.
y
--; w”ewŞves[i].
ªimäame
 = 1 - w”ewŞves[i].ªimäame; w”ewŞves[i].çcšg = 
SE
;}

486 ià(
humªs
[
i
].
çcšg
==
SE
è{
w”ewŞves
[i].
pos™iÚ
.
x
++; w”ewŞves[i].
ªimäame
 = 1 - w”ewŞves[i].ªimäame;w”ewŞves[i].çcšg = 
NW
;}

487 ià(
humªs
[
i
].
çcšg
==
SW
è{
w”ewŞves
[i].
pos™iÚ
.
y
++; w”ewŞves[i].
ªimäame
 = 1 - werewolves[i].animframe;werewolves[i].facing = SW;}

488 ià(
humªs
[
i
].
çcšg
==
NW
è{
w”ewŞves
[i].
pos™iÚ
.
x
--; w”ewŞves[i].
ªimäame
 = 1 - w”ewŞves[i].ªimäame;w”ewŞves[i].çcšg = 
NE
;}

489 ià(
	`xÜshiá8
()>0xf0) {

490 
ušt8_t
 
a
 = (ušt8_t)
	`¿ndom
(3);

491 
a
) {

493 
w”ewŞves
[
i
].
ai
 = 
HOMING
; ;

495 
w”ewŞves
[
i
].
ai
 = 
CHASE
; ;

497 
w”ewŞves
[
i
].
ai
 = 
INTERCEPT
; ;

499 
w”ewŞves
[
i
].
ai
 = 
TURNCW
; ;

505 
CHASE
:

506 ià(
w”ewŞves
[
i
].
pos™iÚ
.
x
<
Şd¶ay”
.xè{w”ewŞves[i].pos™iÚ.x++; w”ewŞves[i].
ªimäame
 = 1 - w”ewŞves[i].ªimäame; w”ewŞves[i].
çcšg
 = 
SE
;}

507 ià(
w”ewŞves
[
i
].
pos™iÚ
.
x
>
Şd¶ay”
.xè{w”ewŞves[i].pos™iÚ.x--; w”ewŞves[i].
ªimäame
 = 1 - w”ewŞves[i].ªimäame;w”ewŞves[i].
çcšg
 = 
NW
;}

508 ià(
w”ewŞves
[
i
].
pos™iÚ
.
y
<
Şd¶ay”
.yè{w”ewŞves[i].pos™iÚ.y++; w”ewŞves[i].
ªimäame
 = 1 - w”ewŞves[i].ªimäame;w”ewŞves[i].
çcšg
 = 
SW
;}

509 ià(
w”ewŞves
[
i
].
pos™iÚ
.
y
>
Şd¶ay”
.yè{w”ewŞves[i].pos™iÚ.y--; w”ewŞves[i].
ªimäame
 = 1 - w”ewŞves[i].ªimäame;w”ewŞves[i].
çcšg
 = 
NE
;}

510 
aiy
 = 
w”ewŞves
[
i
].
pos™iÚ
.
y
 - 
¶ay”
.y;

511 
aix
 = 
w”ewŞves
[
i
].
pos™iÚ
.
x
 - 
¶ay”
.x;

512 ià(
aix
<0)‡ix = -aix;

513 ià(
aiy
<0)‡iy = -aiy;

514 ià(
aix
<30 || 
aiy
 <30è
w”ewŞves
[
i
].
ai
 = 
HOMING
;

516 
TURNCW
:

517 
w”ewŞves
[
i
].
gošgto
.
x
 = w”ewŞves[i].
pos™iÚ
.x+
	`¿ndom
(48)-24;

518 
w”ewŞves
[
i
].
gošgto
.
y
 = w”ewŞves[i].
pos™iÚ
.y+
	`¿ndom
(48)-24;

519 
	`wÜldToTe
(
w”ewŞves
[
i
].
gošgto
.
x
,w”ewŞves[i].gošgto.
y
)>
wÜldsize
*worldsize-1) {

520 
w”ewŞves
[
i
].
gošgto
.
x
 = w”ewŞves[i].
pos™iÚ
.x+
	`¿ndom
(48)-24;

521 
w”ewŞves
[
i
].
gošgto
.
y
 = w”ewŞves[i].
pos™iÚ
.y+
	`¿ndom
(48)-24;

523 
w”ewŞves
[
i
].
ai
 = 
GOTO
;

525 
GOTO
:

526 ià(
w”ewŞves
[
i
].
pos™iÚ
.
x
<w”ewŞves[i].
gošgto
.xè{w”ewŞves[i].pos™iÚ.x++; w”ewŞves[i].
ªimäame
 = 1 - w”ewŞves[i].ªimäame; w”ewŞves[i].
çcšg
 = 
SE
;}

527 ià(
w”ewŞves
[
i
].
pos™iÚ
.
x
>w”ewŞves[i].
gošgto
.xè{w”ewŞves[i].pos™iÚ.x--; w”ewŞves[i].
ªimäame
 = 1 - w”ewŞves[i].ªimäame;w”ewŞves[i].
çcšg
 = 
NW
;}

528 ià(
w”ewŞves
[
i
].
pos™iÚ
.
y
<w”ewŞves[i].
gošgto
.yè{w”ewŞves[i].pos™iÚ.y++; w”ewŞves[i].
ªimäame
 = 1 - w”ewŞves[i].ªimäame;w”ewŞves[i].
çcšg
 = 
SW
;}

529 ià(
w”ewŞves
[
i
].
pos™iÚ
.
y
>w”ewŞves[i].
gošgto
.yè{w”ewŞves[i].pos™iÚ.y--; w”ewŞves[i].
ªimäame
 = 1 - w”ewŞves[i].ªimäame;w”ewŞves[i].
çcšg
 = 
NE
;}

530 ià(
w”ewŞves
[
i
].
pos™iÚ
.
x
==w”ewŞves[i].
gošgto
.x && w”ewŞves[i].pos™iÚ.
y
==w”ewŞves[i].gošgto.yèw”ewŞves[i].
ai
 = 
HOMING
;

532 
HOMING
:

533 ià(
w”ewŞves
[
i
].
pos™iÚ
.
x
<
¶ay”
.xè{w”ewŞves[i].pos™iÚ.x++; w”ewŞves[i].
ªimäame
 = 1 - w”ewŞves[i].ªimäame; w”ewŞves[i].
çcšg
 = 
SE
;}

534 ià(
w”ewŞves
[
i
].
pos™iÚ
.
x
>
¶ay”
.xè{w”ewŞves[i].pos™iÚ.x--; w”ewŞves[i].
ªimäame
 = 1 - w”ewŞves[i].ªimäame;w”ewŞves[i].
çcšg
 = 
NW
;}

535 ià(
w”ewŞves
[
i
].
pos™iÚ
.
y
<
¶ay”
.yè{w”ewŞves[i].pos™iÚ.y++; w”ewŞves[i].
ªimäame
 = 1 - w”ewŞves[i].ªimäame;w”ewŞves[i].
çcšg
 = 
SW
;}

536 ià(
w”ewŞves
[
i
].
pos™iÚ
.
y
>
¶ay”
.yè{w”ewŞves[i].pos™iÚ.y--; w”ewŞves[i].
ªimäame
 = 1 - w”ewŞves[i].ªimäame;w”ewŞves[i].
çcšg
 = 
NE
;}

539 
w”ewŞves
[
i
].
te
 = 
	`wÜldToTe
(w”ewŞves[i].
pos™iÚ
.
x
,w”ewŞves[i].pos™iÚ.
y
);

540 ià(
	`ÿnWWMoveFromTo
(
äomte
,
w”ewŞves
[
i
].
te
)==
çl£
) {

541 
w”ewŞves
[
i
].
pos™iÚ
=
äompos™iÚ
;

542 
w”ewŞves
[
i
].
te
ğ
äomte
;

543 
ušt8_t
 
a
 = (ušt8_t)
	`¿ndom
(3);

544 
a
) {

546 
w”ewŞves
[
i
].
ai
 = 
HOMING
; ;

548 
w”ewŞves
[
i
].
ai
 = 
CHASE
; ;

550 
w”ewŞves
[
i
].
ai
 = 
INTERCEPT
; ;

552 
w”ewŞves
[
i
].
ai
 = 
TURNCW
; ;

556 ià(
w”ewŞves
[
i
].
pos™iÚ
.
x
>(
wÜldsize
-1)*
SUBDIVS
) werewolves[i].position.x=(worldsize-1)*SUBDIVS;

557 ià(
w”ewŞves
[
i
].
pos™iÚ
.
y
>(
wÜldsize
-1)*
SUBDIVS
) werewolves[i].position.y=(worldsize-1)*SUBDIVS;

558 ià(
w”ewŞves
[
i
].
pos™iÚ
.
x
<0) werewolves[i].position.x=1;

559 ià(
w”ewŞves
[
i
].
pos™iÚ
.
y
<0) werewolves[i].position.y=1;

560 ià(
	`ÚSü“n
(
w”ewŞves
[
i
].
pos™iÚ
)èw”ewŞves[i].
visibË
 = 
Œue
;

561 
w”ewŞves
[
i
].
visibË
 = 
çl£
;

562 
w”ewŞves
[
i
].
’”gy
-ğ
mÚ¡”d¿š
;

563 ià(
w”ewŞves
[
i
].
’”gy
<=0è
	`de¥awnWŞf
(i);

564 } 
w”ewŞves
[
i
].
visibË
=
çl£
;

566 
	}
}

568 
	$š™wÜld
() {

569 
timeofday
=0;

570 
wave
=0; 
Şdtime
=0; 
wŞve¡ick
=0;
w©”tick
=0;

571 
¶ay”gŞds
=0;

572 
wadšg
=1;

573 
focusšg
=
çl£
;

574 
šHut
 = 
çl£
;

575 
wÜldsize
 = 10+
gam–ev–
*
MAPMULT
;

576 
ÿught
=
çl£
; 
humªs
[0].
’”gy
=0xFFF;
gŞds
=0;
¶ay”gŞds
=0;

577 
gb
.
di¥Ïy
.
	`lßd565P®‘‹
(
pokulous_·l
);

578 
timeofday
=
	`¿ndom
(0x3FFF); 
tw“nçùÜ
=0; 
gŞds
=0;

579 
¶ay”
.
x
=5*
SUBDIVS
;

580 
¶ay”
.
y
=0;

581 
ušt16_t
 
i
 = 0;

583 
i
=0;i<
wÜldsize
*worldsize;i++) {

584 
	`£tTeHeight
(
i
,0);

585 
	`£tTeTy³
(
i
,
TER_UNDEFINED
);

588 
	#NUMPEAKS
 
wÜldsize
/10

	)

589 
ušt16_t
 
big³aks
 = 
NUMPEAKS
*
	`¿ndom
(2)+NUMPEAKS*3;

590 
ušt16_t
 
sm®Í—ks
 = 
NUMPEAKS
*
	`¿ndom
(2)+NUMPEAKS*30;

591 
ušt16_t
 
şiffs
 = 
NUMPEAKS
*
	`¿ndom
(2)+NUMPEAKS*3;

592 
ušt16_t
 
sh¬ds
 = 
NUMPEAKS
*
	`¿ndom
(4)+NUMPEAKS*30;

594 
	`¿ndom
(3)) {

600 
big³aks
 +ğ
NUMPEAKS
*10;

601 
sh¬ds
 /= 10;

602 
sm®Í—ks
 /= 10;

606 
big³aks
 =0;

607 
şiffs
 /=10;

608 
sh¬ds
 =0;

609 
sm®Í—ks
 /= 10;

613 
sh¬ds
 +ğ
NUMPEAKS
*50;

614 
big³aks
 = 0;

615 
sm®Í—ks
 /=10;

619 
ušt8_t
 
r
=0;„<
big³aks
;r++) {

620 
ušt16_t
 
rx
 = 
	`¿ndom
(
wÜldsize
-16)+8;

621 
ušt16_t
 
ry
 = 
	`¿ndom
(
wÜldsize
-16)+8;

622 
ušt8_t
 
sx
 = 
	`¿ndom
(
NUMPEAKS
)+1;

623 
ušt8_t
 
sy
 = 
	`¿ndom
(
NUMPEAKS
)+1;

624 
ušt8_t
 
he
 = 
	`¿ndom
(5)+2;

625 
ušt8_t
 
ty
 = 0;y < 
sy
;y++) {

626 
ušt8_t
 
tx
 = 0;x < 
sx
;x++) {

627 
ušt32_t
 
šdex
 = 
rx
+
tx
+(
ry
+
ty
è* 
wÜldsize
;

628 ià(
šdex
<
wÜldsize
*worldsize) {

629 
	`£tTeHeight
(
šdex
,
he
);

630 
	`£tTeTy³
(
šdex
,
TER_PLAIN
);

636 
ušt16_t
 
r
=0;„<
sm®Í—ks
;r++) {

637 
ušt16_t
 
rx
 = 
	`¿ndom
(
wÜldsize
-2)+1;

638 
ušt16_t
 
ry
 = 
	`¿ndom
(
wÜldsize
-2)+1;

639 
ušt8_t
 
sx
 = 
	`¿ndom
(3)+1;

640 
ušt8_t
 
sy
 = 
	`¿ndom
(3)+1;

641 
ušt8_t
 
he
 = 
	`¿ndom
(3)+1;

642 
ušt8_t
 
ty
 = 0;y < 
sy
;y++) {

643 
ušt8_t
 
tx
 = 0;x < 
sx
;x++) {

644 
ušt32_t
 
šdex
 = 
rx
+
tx
+(
ry
+
ty
è* 
wÜldsize
;

645 ià(
šdex
<
wÜldsize
*worldsize) {

646 
	`£tTeHeight
(
šdex
,
he
);

647 
	`£tTeTy³
(
šdex
,
TER_PLAIN
);

653 
št8_t
 
Ëv–
=7;

654 
Ëv–
>-1) {

655 
i
 =0;

656 
št16_t
 
y
 = 0; y<
wÜldsize
; y++) {

657 
št16_t
 
x
 = 0; x<
wÜldsize
; x++, 
i
++) {

658 
ušt8_t
 
a
 = 
	`g‘TeHeight
(
i
);

659 ià(
a
==
Ëv–
) {

660 ià(
a
==0è
	`£tTeTy³
(
i
,
TER_WATER
);

663 ià((
x
>0è&& 
	`g‘TeTy³
(
i
-1)==
TER_UNDEFINED
è{
	`£tTeTy³
((i-1),
TER_PLAIN
); 
	`£tTeHeight
((i-1),
Ëv–
-1);}

665 ià((
y
>0è&& 
	`g‘TeTy³
(
i
-
wÜldsize
)==
TER_UNDEFINED
è{
	`£tTeTy³
((i-wÜldsize),
TER_PLAIN
); 
	`£tTeHeight
((i-wÜldsize),
Ëv–
-1);}

667 ià((
x
<
wÜldsize
-1è&& 
	`g‘TeTy³
(
i
+1)==
TER_UNDEFINED
è{
	`£tTeTy³
((i+1),
TER_PLAIN
); 
	`£tTeHeight
((i+1),
Ëv–
-1);}

669 ià((
y
<
wÜldsize
-1è&& 
	`g‘TeTy³
(
i
+wÜldsize)==
TER_UNDEFINED
è{
	`£tTeTy³
((i+wÜldsize),
TER_PLAIN
); 
	`£tTeHeight
((i+wÜldsize),
Ëv–
-1);}

674 
Ëv–
--;

678 
ušt8_t
 
r
=0;„<
şiffs
;r++) {

679 
ušt16_t
 
rx
 = 
	`¿ndom
(
wÜldsize
-16)+8;

680 
ušt16_t
 
ry
 = 
	`¿ndom
(
wÜldsize
-16)+8;

681 
ušt8_t
 
sx
 = 
	`¿ndom
(
NUMPEAKS
)+1;

682 
ušt8_t
 
sy
 = 
	`¿ndom
(
NUMPEAKS
)+1;

683 
ušt8_t
 
he
 = 
	`¿ndom
(5)+2;

684 
ušt8_t
 
ty
 = 0;y < 
sy
;y++) {

685 
ušt8_t
 
tx
 = 0;x < 
sx
;x++) {

686 
ušt32_t
 
šdex
 = 
rx
+
tx
+(
ry
+
ty
è* 
wÜldsize
;

687 ià(
šdex
<
wÜldsize
*worldsize) {

688 
	`£tTeHeight
(
šdex
,
he
);

689 
	`£tTeTy³
(
šdex
,
TER_PLAIN
);

696 
Ëv–
=7; 
št8_t
 
edge
 = 
	`¿ndom
(6)+1;

697 
Ëv–
>
edge
) {

698 
i
 =0;

699 
št16_t
 
y
 = 0; y<
wÜldsize
; y++) {

700 
št16_t
 
x
 = 0; x<
wÜldsize
; x++, 
i
++) {

701 
ušt8_t
 
a
 = 
	`g‘TeHeight
(
i
);

702 ià(
a
==
Ëv–
) {

703 ià(
a
==0è
	`£tTeTy³
(
i
,
TER_WATER
);

706 ià((
x
>0è&& 
	`g‘TeTy³
(
i
-1)==
TER_UNDEFINED
è{
	`£tTeTy³
((i-1),
TER_PLAIN
); 
	`£tTeHeight
((i-1),
Ëv–
-1);}

708 ià((
y
>0è&& 
	`g‘TeTy³
(
i
-
wÜldsize
)==
TER_UNDEFINED
è{
	`£tTeTy³
((i-wÜldsize),
TER_PLAIN
); 
	`£tTeHeight
((i-wÜldsize),
Ëv–
-1);}

710 ià((
x
<
wÜldsize
-1è&& 
	`g‘TeTy³
(
i
+1)==
TER_UNDEFINED
è{
	`£tTeTy³
((i+1),
TER_PLAIN
); 
	`£tTeHeight
((i+1),
Ëv–
-1);}

712 ià((
y
<
wÜldsize
-1è&& 
	`g‘TeTy³
(
i
+wÜldsize)==
TER_UNDEFINED
è{
	`£tTeTy³
((i+wÜldsize),
TER_PLAIN
); 
	`£tTeHeight
((i+wÜldsize),
Ëv–
-1);}

717 
Ëv–
--;

721 
ušt16_t
 
r
=0;„<
sh¬ds
;r++) {

722 
ušt16_t
 
rx
 = 
	`¿ndom
(
wÜldsize
-2)+1;

723 
ušt16_t
 
ry
 = 
	`¿ndom
(
wÜldsize
-2)+1;

724 
ušt8_t
 
sx
 = 
	`¿ndom
(1)+1;

725 
ušt8_t
 
sy
 = 
	`¿ndom
(1)+1;

726 
ušt8_t
 
he
 = 
	`¿ndom
(5)+2;

727 
ušt8_t
 
ty
 = 0;y < 
sy
;y++) {

728 
ušt8_t
 
tx
 = 0;x < 
sx
;x++) {

729 
ušt32_t
 
šdex
 = 
rx
+
tx
+(
ry
+
ty
è* 
wÜldsize
;

730 ià(
šdex
<
wÜldsize
*worldsize) {

731 
	`£tTeHeight
(
šdex
,
he
);

732 
	`£tTeTy³
(
šdex
,
TER_PLAIN
);

739 
i
=0;i<
wÜldsize
*worldsize;i++) {

740 ià(
	`g‘TeTy³
(
i
)==
TER_UNDEFINED
) {

741 
	`£tTeHeight
(
i
,0);

742 
	`£tTeTy³
(
i
,
TER_WATER
);

747 
ušt16_t
 
j
=0; j<
wÜldsize
*worldsize;j++) {

748 ià(
	`g‘TeHeight
(
j
)è
	`£tTeTy³
(j,
	`g‘TeSlİe
(j));

749 #ià
TREESNROCKS


750 ià(
	`g‘TeTy³
(
j
)!=
TER_WATER
) {

751 
ušt8_t
 
r
=
	`xÜshiá8
();

752 ià(
r
>0xff-
HUTPROB
è{
	`£tTeTy³
(
j
,
TER_HUT
);
	`£tTeHeight
(j,7);}

753 ià(
r
>0xff-
GOLDPROB
 && 
gŞds
<
MAXGOLD
) {

754 
	`£tTeTy³
(
j
,
TER_GOLD
);

757 ià(
r
>0xff-
STONEPROB
è
	`£tTeTy³
(
j
,
TER_STONE
);

758 ià(
r
>0xff-
TREEPROB
è
	`£tTeTy³
(
j
,
TER_TREE
);

763 
i
=0; 
ušt16_t
 
huts
[100],
numhuts
=0;

767 
ušt16_t
 
j
 = 0; j<
wÜldsize
*worldsize; j++) {

768 ià(
wÜld
[
j
]==
TER_WATER
) {

769 
ušt16_t
 
y
 = 
j
/
wÜldsize
+1;

770 
ušt16_t
 
x
 = 
j
 % 
wÜldsize
;

771 ià((
j
%
wÜldsize
)&&(
wÜld
[j-1]!=
TER_WATER
)&&(wÜld[j+1]==TER_WATER)&&
x
>0èwÜld[j-1]=
TER_BEACHSE
;

772 ià(
j
>
wÜldsize
&&(
wÜld
[j-wÜldsize]!ğ
TER_WATER
)&&(wÜld[j+wÜldsize]==TER_WATER)&&
y
<wÜldsize-1èwÜld[j-wÜldsize]=
TER_BEACHSW
;

779 
ušt16_t
 
j
 = 0; j<
wÜldsize
*worldsize; j++) {

781 ià(
	`g‘TeTy³
(
j
)==
TER_HUT
) {

782 ià(
j
 < (
wÜldsize
-1)*worldsize) {

783 
	`£tTeTy³
(
j
+
wÜldsize
, 
TER_PLAIN
);

784 
huts
[
numhuts
++]=
j
;

785 } {
	`£tTeTy³
(
j
, 
TER_PLAIN
);}

789 ià(
numhuts
==0) {

790 
ušt16_t
 
ut
 = 
wÜldsize
*worldsize/2+worldsize/2;

791 
	`£tTeTy³
(
ut
,
TER_HUT
);

792 
	`£tTeHeight
(
ut
,4);

793 
	`£tTeTy³
(
ut
+
wÜldsize
,
TER_PLAIN
);

797 
ušt16_t
 
t
 = 
	`¿ndom
(
numhuts
);

799 
¶ay”te
 = (
ušt16_t
)
	`¿ndom
(
wÜldsize
*worldsize);

805 
¶ay”
.
x
 = (
¶ay”te
%
wÜldsize
)*
SUBDIVS
;

806 
¶ay”
.
y
 = 
¶ay”te
/
wÜldsize
*
SUBDIVS
;

810 
gŞds
=0;

811 
ušt16_t
 
i
=0;i<
wÜldsize
*worldsize;i++) {

812 ià(
	`g‘TeTy³
(
i
)==
TER_GOLD
è
gŞds
++;

815 
gŞds
<
gam–ev–
*
GOLDMULT
) {

816 
	`£tTeTy³
(
	`¿ndom
(
wÜldsize
*wÜldsize-1),
TER_GOLD
);

817 
gŞds
++;

819 
	}
}

821 
	$d¿wte
(
št32_t
 
x
, iÁ32_ˆ
y
, cÚ¡ 
ušt8_t
* 
bmp
) {

822 
gb
.
di¥Ïy
.
	`d¿wB™m­
(
x
+
cx
, 
y
+
cy
, 
bmp
);

823 
	}
}

825 
	$d¿whumª
(
ušt8_t
 
n
) {

826 
humªs
[
n
].
çcšg
) {

827 
NE
:

828 ià(!
humªs
[
n
].
ªimäame
è
	`d¿wToTe
(
¶ay”te
,
pix–mª_nw_1
,
¶ay”
.
x
%
SUBDIVS
,¶ay”.
y
%SUBDIVS,1);

829 
	`d¿wToTe
(
¶ay”te
,
pix–mª_nw_2
,
¶ay”
.
x
%
SUBDIVS
,¶ay”.
y
%SUBDIVS,1);

831 
SE
:

832 ià(!
humªs
[
n
].
ªimäame
è
	`d¿wToTe
(
¶ay”te
,
pix–mª_£_1
,
¶ay”
.
x
%
SUBDIVS
,¶ay”.
y
%SUBDIVS,0);

833 
	`d¿wToTe
(
¶ay”te
,
pix–mª_£_2
,
¶ay”
.
x
%
SUBDIVS
,¶ay”.
y
%SUBDIVS,0);

835 
SW
:

836 ià(!
humªs
[
n
].
ªimäame
è
	`d¿wToTe
(
¶ay”te
,
pix–mª_£_1
,
¶ay”
.
x
%
SUBDIVS
,¶ay”.
y
%SUBDIVS,1);

837 
	`d¿wToTe
(
¶ay”te
,
pix–mª_£_2
,
¶ay”
.
x
%
SUBDIVS
,¶ay”.
y
%SUBDIVS,1);

839 
NW
:

840 ià(!
humªs
[
n
].
ªimäame
è
	`d¿wToTe
(
¶ay”te
,
pix–mª_nw_1
,
¶ay”
.
x
%
SUBDIVS
,¶ay”.
y
%SUBDIVS,0);

841 
	`d¿wToTe
(
¶ay”te
,
pix–mª_nw_2
,
¶ay”
.
x
%
SUBDIVS
,¶ay”.
y
%SUBDIVS,0);

845 if(
gb
.
	`upd©e
()ègb.
di¥Ïy
.
	`´št
("ERROR!!!");

848 
	}
}

850 
	$¥awnGŞd
(
ušt16_t
 
t
) {

852 
	}
}

854 
	$d¿wwŞf
(
ušt8_t
 
n
) {

855 
w”ewŞves
[
n
].
çcšg
) {

856 
NE
:

857 ià(!
w”ewŞves
[
n
].
ªimäame
è
	`d¿wToTe
(w”ewŞves[n].
te
,
w”ewŞf_nw_1
,w”ewŞves[n].
pos™iÚ
.
x
%
SUBDIVS
,w”ewŞves[n].pos™iÚ.
y
%SUBDIVS,1);

858 
	`d¿wToTe
(
w”ewŞves
[
n
].
te
,
w”ewŞf_nw_2
,w”ewŞves[n].
pos™iÚ
.
x
%
SUBDIVS
,w”ewŞves[n].pos™iÚ.
y
%SUBDIVS,1);

860 
SE
:

861 ià(!
w”ewŞves
[
n
].
ªimäame
è
	`d¿wToTe
(w”ewŞves[n].
te
,
w”ewŞf_£_1
,w”ewŞves[n].
pos™iÚ
.
x
%
SUBDIVS
,w”ewŞves[n].pos™iÚ.
y
%SUBDIVS,0);

862 
	`d¿wToTe
(
w”ewŞves
[
n
].
te
,
w”ewŞf_£_2
,w”ewŞves[n].
pos™iÚ
.
x
%
SUBDIVS
,w”ewŞves[n].pos™iÚ.
y
%SUBDIVS,0);

864 
SW
:

865 ià(!
w”ewŞves
[
n
].
ªimäame
è
	`d¿wToTe
(w”ewŞves[n].
te
,
w”ewŞf_£_1
,w”ewŞves[n].
pos™iÚ
.
x
%
SUBDIVS
,w”ewŞves[n].pos™iÚ.
y
%SUBDIVS,1);

866 
	`d¿wToTe
(
w”ewŞves
[
n
].
te
,
w”ewŞf_£_2
,w”ewŞves[n].
pos™iÚ
.
x
%
SUBDIVS
,w”ewŞves[n].pos™iÚ.
y
%SUBDIVS,1);

868 
NW
:

869 ià(!
w”ewŞves
[
n
].
ªimäame
è
	`d¿wToTe
(w”ewŞves[n].
te
,
w”ewŞf_nw_1
,w”ewŞves[n].
pos™iÚ
.
x
%
SUBDIVS
,w”ewŞves[n].pos™iÚ.
y
%SUBDIVS,0);

870 
	`d¿wToTe
(
w”ewŞves
[
n
].
te
,
w”ewŞf_nw_2
,w”ewŞves[n].
pos™iÚ
.
x
%
SUBDIVS
,w”ewŞves[n].pos™iÚ.
y
%SUBDIVS,0);

873 
	}
}

875 
	$d¿wwÜld
(
št32_t
 
x
, iÁ32_ˆ
y
) {

877 
ušt16_t
 
i
=0;

878 
ušt8_t
 
t‘y³
;

879 
št8_t
 
teheight
;

880 
št32_t
 
süx
=
x
, 
süy
=
y
;

881 
wave
+=6;

883 
ûÁ”te
 =-1;

884 
št16_t
 
rowx
 = 0;

885 
šHut
 = 
çl£
;

886 
boŞ
 
hd¿wn
=
çl£
;

887 
ušt8_t
 
iy
=0;iy<
wÜldsize
;iy++,
rowx
-=8) {

888 
süy
=
y
+
iy
*4;

889 
süx
=
x
;

890 
ušt8_t
 
ix
=0;ix<
wÜldsize
;ix++, 
i
++, 
süx
+=
XOFF
, 
süy
+=
YOFF
) {

891 ià(
süx
+
rowx
>-5*
XOFF
 && 
süy
>-5*
YOFF
 && scrx+rowx < 110+XOFF && scry < 88+ YOFF ) {

892 
t‘y³
 = 
	`g‘TeTy³
(
i
);

893 
teheight
 = 
	`g‘TeHeight
(
i
);

894 
boŞ
 
pÏr
=
çl£
;

895 ià(
teheight
>
PILLARHEIGHT
è
pÏr
=
Œue
;

896 
teheight
 <<ğ
GROUNDLIFT
;

898 
t‘y³
) {

899 
TER_WATER
:

901 ià((
wave
>0x7F)) {

902 ià(
ix
&1è
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
‹r_w©”1
);

903 
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
‹r_w©”2
);

905 ià(
ix
&1è
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
‹r_w©”2
);

906 
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
‹r_w©”1
);

909 
TER_PLAIN
:

910 ià(
pÏr
è
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
dœt_pÏr
);

911 
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
‹r_¶aš
);

913 
TER_GOLD
:

914 ià(
pÏr
è
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
dœt_pÏr
);

915 
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
‹r_gŞd
);

917 
TER_HUT
:

918 ià(
pÏr
è
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
dœt_pÏr
);

919 
	`d¿wte
(
süx
+
rowx
,
süy
-10-
teheight
,
‹r_hut
);

920 ià(
i
==
¶ay”te
) {

921 
	`d¿wToTe
(
i
,
ªim_blue_æag1
,2,0,0);

922 
šHut
=
Œue
;

925 
TER_BEACHSE
:

926 
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
-1,
‹r_b—ch_£
);

928 
TER_BEACHSW
:

929 
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
-1,
‹r_b—ch_sw
);

931 
TER_TREE
:

932 ià(
pÏr
è
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
dœt_pÏr
);

933 
	`d¿wte
(
süx
+
rowx
,
süy
-10-
teheight
,
‹r_Œ“
);

935 
TER_STONE
:

936 ià(
pÏr
è
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
dœt_pÏr
);

937 
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
‹r_¡Úe
);

939 
TER_BUMP_NW
:

940 ià(
pÏr
è
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
dœt_pÏr
);

941 
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
‹r_bump_nw
);

943 
TER_BUMP_NE
:

944 ià(
pÏr
è
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
dœt_pÏr
);

945 
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
‹r_bump_Ã
);

947 
TER_BUMP_SE
:

948 ià(
pÏr
è
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
dœt_pÏr
);

949 
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
‹r_bump_£
);

951 
TER_BUMP_SW
:

952 ià(
pÏr
è
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
dœt_pÏr
);

953 
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
‹r_bump_sw
);

955 
TER_BUMP_W
:

956 ià(
pÏr
è
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
dœt_pÏr
);

957 
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
‹r_bump_w
);

959 
TER_BUMP_E
:

960 ià(
pÏr
è
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
dœt_pÏr
);

961 
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
‹r_bump_e
);

963 
TER_BUMP_S
:

964 ià(
pÏr
è
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
dœt_pÏr
);

965 
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
-2,
‹r_bump_s
);

967 
TER_BUMP_N
:

968 ià(
pÏr
è
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
dœt_pÏr
);

969 
	`d¿wte
(
süx
+
rowx
,
süy
-
teheight
,
‹r_bump_n
);

974 ià(
süx
+
rowx
<45 && süx+rowx+2*
XOFF
>45) {

975 ià(
süy
-
teheight
<40 && süy+teheight+8>40è
ûÁ”te
=
i
;

977 ià(
i
==
¶ay”te
+
wadšg
 && 
	`g‘TeTy³
(i-wadšgè!ğ
TER_HUT
è{
	`d¿whumª
(0); 
hd¿wn
=
Œue
;}

978 ià(
i
==
¶ay”te
 && 
	`g‘TeTy³
(iè!ğ
TER_HUT
 && 
hd¿wn
 =ğ
çl£
è
	`d¿whumª
(0);

979 
ušt8_t
 
r
=0;r<(
gam–ev–
-1)*
WOLFMULT
;r++) {

980 ià(
w”ewŞves
[
r
].
visibË
) {

981 ià(
i
==
w”ewŞves
[
r
].
te
è
	`d¿wwŞf
(r);

982 ià(
w”ewŞves
[
r
].
te
 =ğ
¶ay”te
) {

983 
ÿught
=
Œue
;

987 ià(
ÿught
) {

988 ià(
	`xÜshiá8
()>0xFDè
	`d¿wToTe
(
¶ay”te
,
¥Ï‰”
,
	`¿ndom
(3)-1,random(3)+1,random(1));

989 
humªs
[0].
’”gy
--;

990 ià(
humªs
[0].
’”gy
<0è
game¡©e
 = 
GAMEOVER
;

995 
	}
}

997 
Dig™®Out
 
±e¡
(
EXT0
);

999 
	#TEST_PORT
 1

	)

1000 
	#TEST_PIN
 19

	)

1001 
	#CLR_TEST
 
LPC_GPIO_PORT
->
CLR
[
TEST_PORT
] = 1 << 
TEST_PIN
;

	)

1002 
	#SET_TEST
 
LPC_GPIO_PORT
->
SET
[
TEST_PORT
] = 1 << 
TEST_PIN
;

	)

1004 
	gs
=0;

1006 
	$maš
 () {

1007 
gb
.
sound
.
	`¶ayMusicSŒ—m
("play22u.snd");

1009 
gb
.
	`begš
();

1010 
gb
.
di¥Ïy
.
	`lßd565P®‘‹
(
pokulous_·l
);

1013 
gb
.
di¥Ïy
.
	`ş—r
();

1014 
gb
.
di¥Ïy
.
	`£tCŞÜD•th
(4);

1015 
gb
.
di¥Ïy
.
bgcŞÜ
 = 13;

1016 
gb
.
di¥Ïy
.
švisibËcŞÜ
 = 15;

1017 
gb
.
sound
.
	`ampEÇbË
(
Œue
);

1018 
gb
.
sound
.
	`¶ayMusicSŒ—m
();

1019 
ušt8_t
 
timeout
=0xFF;

1022 
coÜds
 
´ev
;

1023 
boŞ
 
w®kšg
;

1024 
ušt8_t
 
Ãwtime
;

1025 
tgŞd
=0;

1028 
gb
.
di¥Ïy
.
bgcŞÜ
 = 13;

1029 
gb
.
	`isRuÂšg
()) {

1030 ià(
gb
.
	`upd©e
()) {

1031 ià(
s
è{
SET_TEST
}

1032 {
CLR_TEST
}

1033 
s
=1-s;

1034 
game¡©e
) {

1035 
TITLE
:

1036 !
gb
.
bu‰Ús
.
	`´es£d
(
BTN_A
)&&gb.
	`isRuÂšg
()) {

1037 ià(
gb
.
	`upd©e
()) {

1038 
gb
.
di¥Ïy
.
	`d¿wB™m­
(0,0,
pixÚŸ
);

1039 
gb
.
di¥Ïy
.
	`£tFÚt
(
fÚtRuÃs
);

1040 
gb
.
di¥Ïy
.
cŞÜ
=9;

1041 
gb
.
di¥Ïy
.
bgcŞÜ
 = gb.di¥Ïy.
švisibËcŞÜ
;

1042 
gb
.
di¥Ïy
.
	`£tCursÜ
(9,74);

1043 ià(
timeout
>127è
gb
.
di¥Ïy
.
	`´št
("Copyright 2017 Pokitto†td");

1044 
gb
.
di¥Ïy
.
	`´št
(" Press 'A'o Start");

1045 
timeout
-=2;

1046 
	`¤ªd
(
gb
.
	`g‘Time
());

1049 
game¡©e
 = 
NEXTLEVEL
;

1050 
	`š™wÜld
();

1052 
NEXTLEVEL
:

1053 
gb
.
di¥Ïy
.
	`£tCŞÜ
(9,3);

1054 
timeout
 = 0xf;

1055 
timeout
--è
gb
.
	`upd©e
();

1056 !
gb
.
bu‰Ús
.
	`´es£d
(
BTN_A
)&&gb.
	`isRuÂšg
()) {

1057 ià(
gb
.
	`upd©e
()) {

1058 
gb
.
di¥Ïy
.
	`£tFÚt
(
fÚtRuÃs
);

1059 
gb
.
di¥Ïy
.
	`£tCursÜ
(0,30);

1060 
gb
.
di¥Ïy
.
	`´št
(" Level: ");

1061 
gb
.
di¥Ïy
.
·Ë‰e
[6]=65312;

1062 
gb
.
di¥Ïy
.
	`£tCŞÜ
(6,3);

1063 
gb
.
di¥Ïy
.
	`´šn
(
gam–ev–
);

1064 
gb
.
di¥Ïy
.
	`£tCŞÜ
(9,3);

1065 
gb
.
di¥Ïy
.
	`´šn
(" ");

1066 
gb
.
di¥Ïy
.
	`´št
(" Find ");

1067 
gb
.
di¥Ïy
.
	`£tCŞÜ
(6,3);

1068 
gb
.
di¥Ïy
.
	`´št
(
gam–ev–
*
GOLDMULT
);

1069 
gb
.
di¥Ïy
.
	`£tCŞÜ
(9,3);

1070 
gb
.
di¥Ïy
.
	`´št
(" Gold");

1074 
game¡©e
=
GAME
;

1076 
INTRO
:

1077 
gb
.
di¥Ïy
.
	`£tCŞÜ
(9,3);

1078 
timeout
 = 0xf;

1079 
timeout
--è
gb
.
	`upd©e
();

1080 !
gb
.
bu‰Ús
.
	`´es£d
(
BTN_A
)&&gb.
	`isRuÂšg
()) {

1081 ià(
gb
.
	`upd©e
()) {

1082 
gb
.
di¥Ïy
.
	`£tFÚt
(
fÚtRuÃs
);

1083 
gb
.
di¥Ïy
.
	`£tCursÜ
(0,30);

1084 
gb
.
di¥Ïy
.
	`´št
(" \"There's ");

1085 
gb
.
di¥Ïy
.
·Ë‰e
[6]=65312;

1086 
gb
.
di¥Ïy
.
	`£tCŞÜ
(6,3);

1087 
gb
.
di¥Ïy
.
	`´šn
("gold");

1088 
gb
.
di¥Ïy
.
	`£tCŞÜ
(9,3);

1089 
gb
.
di¥Ïy
.
	`´šn
(" onhe Islands");

1090 
gb
.
di¥Ïy
.
	`´šn
(" of Pixonia!\"");

1093 
game¡©e
=
GAME
;

1095 
LEVELPASSED
:

1096 
gb
.
di¥Ïy
.
	`£tCŞÜ
(9,3);

1097 
timeout
 = 0xf;

1098 
timeout
--è
gb
.
	`upd©e
();

1099 !
gb
.
bu‰Ús
.
	`´es£d
(
BTN_A
)&&gb.
	`isRuÂšg
()) {

1100 ià(
gb
.
	`upd©e
()) {

1101 
gb
.
di¥Ïy
.
	`£tFÚt
(
fÚtRuÃs
);

1102 
gb
.
di¥Ïy
.
	`£tCursÜ
(0,30);

1103 
gb
.
di¥Ïy
.
	`´št
(" You made it! ");

1104 
gb
.
di¥Ïy
.
·Ë‰e
[6]=65312;

1105 
gb
.
di¥Ïy
.
	`£tCŞÜ
(6,3);

1107 
gb
.
di¥Ïy
.
	`£tCŞÜ
(9,3);

1108 
gb
.
di¥Ïy
.
	`´šn
(" ");

1109 
gb
.
di¥Ïy
.
	`´št
(" Found ");

1110 
gb
.
di¥Ïy
.
	`£tCŞÜ
(6,3);

1111 
gb
.
di¥Ïy
.
	`´št
(
gam–ev–
*
GOLDMULT
);

1112 
gb
.
di¥Ïy
.
	`£tCŞÜ
(9,3);

1113 
gb
.
di¥Ïy
.
	`´št
(" Gold");

1117 
gam–ev–
++;

1118 
game¡©e
=
NEXTLEVEL
;

1119 
	`š™wÜld
();

1121 
GAME
:

1122 
wŞve¡ick
 = 1 - wolvestick;

1123 
w©”tick
 = 1 - watertick;

1124 
Ãwtime
 = 
timeofday
>>8;

1125 ià(
Şdtime
 > 
Ãwtime
) oldtime=0;

1126 ià(
Şdtime
 < 
Ãwtime
) {

1127 
Şdtime
 = 
Ãwtime
;

1128 ià(
Şdtime
<127è
tw“nçùÜ
 +=2;

1130 
tw“nçùÜ
 -= 2;

1132 ià(
Şdtime
>150) {

1133 
mÚ¡”d¿š
 =4;

1134 } 
mÚ¡”d¿š
 =1;

1135 ià(
tw“nçùÜ
>253)weenfactor =253;

1136 ià(
tw“nçùÜ
<2)weenfactor = 2;

1137 
gb
.
di¥Ïy
.
	`tw“nP®‘‹
(gb.di¥Ïy.
·Ë‰e
,
pokulous_·l
,
night_·Ë‰e
,
tw“nçùÜ
);

1138 ià(
Şdtime
>
MONSTERMORNING
 && oldtime<
MONSTERNIGHT
 && 
	`xÜshiá16
()>0xFFFF-
WOLFPROB
) {

1139 
	`¥awnWŞf
();

1140 
gb
.
di¥Ïy
.
·Ë‰e
[6]=gb.display.palette[6]<<1;

1141 ià(
	`xÜshiá8
()>0xff-
GLIMMERPROB
è
gb
.
di¥Ïy
.
·Ë‰e
[6]=65312;

1144 #iâdeà
POK_SIM


1149 ià(
focusšg
è
	`focusOnTe
(
focu¡e
);

1150 
w®kšg
=
çl£
;

1151 
´ev
 = 
¶ay”
;

1152 
´evte
 = 
¶ay”te
;

1153 
ušt8_t
 
šc
;

1154 ià(
wadšg
!=1è
šc
=
w©”tick
;

1155 
šc
=1;

1157 ià(
ÿught
è
šc
=0;

1159 ià(
gb
.
bu‰Ús
.
	`downBŠ
(è&& !gb.bu‰Ús.
	`aBŠ
()è{ià(
¶ay”
.
x
 < (
wÜldsize
-1)*
SUBDIVS
è¶ay”.x+=
šc
;
humªs
[0].
ªimäame
 = 1 - humªs[0].ªimäame;humªs[0].
çcšg
 = 
SE
;}

1160 ià(
gb
.
bu‰Ús
.
	`rightBŠ
(è&& !gb.bu‰Ús.
	`aBŠ
()è{ià(
¶ay”
.
y
>0è¶ay”.y-=
šc
;
humªs
[0].
ªimäame
 = 1 - humªs[0].ªimäame;humªs[0].
çcšg
 = 
NE
;}

1161 ià(
gb
.
bu‰Ús
.
	`ËáBŠ
(è&& !gb.bu‰Ús.
	`aBŠ
()è{ià(
¶ay”
.
y
 < (
wÜldsize
-1)*
SUBDIVS
è¶ay”.y+=
šc
;
humªs
[0].
ªimäame
 = 1 - humªs[0].ªimäame;humªs[0].
çcšg
 = 
SW
;}

1162 ià(
gb
.
bu‰Ús
.
	`upBŠ
(è&& !gb.bu‰Ús.
	`aBŠ
()è{ià(
¶ay”
.
x
>0è¶ay”.x-=
šc
; 
humªs
[0].
ªimäame
 = 1 - humªs[0].ªimäame; humªs[0].
çcšg
 = 
NW
;}

1165 
coÜds
 
t
;

1166 
t
 = 
	`wÜldToSü“n
(
¶ay”
.
x
,¶ay”.
y
);

1167 ià(!
focusšg
) {

1168 
št16_t
 
owx
=
wx
, 
owy
=
wy
;

1169 
ušt8_t
 
¦ow”
=0;

1170 ià(
t
.
x
>0 &&.x<110 &&.
y
>0 &&.y<88) {

1171 
¦ow”
 = 4;

1174 ià(
t
.
x
<40è{
wy
-=0;
wx
+=
XSPEED
>>
¦ow”
;}

1175 ià(
t
.
y
<40è{
wy
+=
YSPEED
>>
¦ow”
;
wx
+=0;}

1176 ià(
t
.
x
>70è{
wy
+=0;
wx
-=
XSPEED
>>
¦ow”
;}

1177 ià(
t
.
y
>50è{
wy
-=
YSPEED
>>
¦ow”
;
wx
-=0;}

1178 ià(
ûÁ”te
 > 
wÜldsize
*wÜldsizeè{ûÁ”te=
ŞdûÁ”
; 
wx
=
owx
; 
wy
=
owy
;}

1180 
¶ay”te
 = 
	`wÜldToTe
(
¶ay”
.
x
,¶ay”.
y
);

1181 ià(
	`g‘TeTy³
(
¶ay”te
)==
TER_WATER
è
wadšg
=-1;

1182 
wadšg
 = 1;

1183 ià(
¶ay”te
 !ğ
´evte
 && 
	`ÿnMoveTo
ÕÏy”te)==
çl£
) {

1184 
¶ay”
=
´ev
;

1185 
¶ay”te
ğ
´evte
;

1187 
Şd¶ay”couÁ
++;

1188 ià(
Şd¶ay”couÁ
==6) {

1190 
Şd¶ay”
=
¶ay”
;

1191 
Şd¶ay”couÁ
=0;

1196 ià(
gb
.
bu‰Ús
.
	`´es£d
(
BTN_A
)) {

1197 
ušt16_t
 
te
 = 
	`g‘FacšgTe
(
¶ay”te
, 
humªs
[0].
çcšg
);

1198 
št8_t
 
z
 = 
	`g‘TeHeight
(
te
);

1199 ià(
z
==0è
	`£tTeTy³
(
te
,
TER_PLAIN
);

1200 
z
++;

1201 ià(
z
>7) z=7;

1202 
	`£tTeHeight
(
te
,
z
);

1203 
	`£tSlİeAutom©ic
(
te
);

1205 ià(
gb
.
bu‰Ús
.
	`´es£d
(
BTN_B
)) {

1206 
ušt16_t
 
t
 = 
	`g‘FacšgTe
(
¶ay”te
, 
humªs
[0].
çcšg
);

1207 
št8_t
 
z
 = 
	`g‘TeHeight
(
t
);

1208 
ušt8_t
 
k
 = 
	`g‘TeTy³
(
t
);

1210 ià(
	`g‘TeTy³
(
t
)!=
TER_HUT
è
z
--;

1211 ià(
z
<0) z=0;

1213 ià(
z
<
	`g‘TeHeight
(
¶ay”te
)-1 || z==0) {

1214 ià(
k
==
TER_GOLD
) {

1215 
¶ay”gŞds
++;

1216 ià(
¶ay”gŞds
==
gam–ev–
*
GOLDMULT
) {

1217 
game¡©e
=
LEVELPASSED
;

1219 
	`¥awnGŞd
(
t
);

1221 ià(
k
 < 5 || k > 12è
	`£tTeTy³
(
t
,
TER_PLAIN
);

1224 ià(
z
==0è
	`£tTeTy³
(
t
,
TER_WATER
);

1225 
	`£tTeHeight
(
t
,
z
);

1226 
	`£tSlİeAutom©ic
(
t
);

1229 
	`moveWŞves
();

1230 
	`d¿wwÜld
(
wx
,
wy
);

1231 
ŞdûÁ”
 = 
ûÁ”te
;

1232 
gb
.
di¥Ïy
.
	`d¿wB™m­
(1,1,
gŞd
);

1233 
gb
.
di¥Ïy
.
	`£tCursÜ
(10,0);

1234 
gb
.
di¥Ïy
.
	`£tCŞÜ
(9,gb.di¥Ïy.
švisibËcŞÜ
);

1235 
timeofday
 +ğ
TIMEINCREMENT
;

1236 ià(
šHut
è
timeofday
 +ğ7*
TIMEINCREMENT
;

1237 
gb
.
di¥Ïy
.
	`´št
(
¶ay”gŞds
);

1238 
gb
.
di¥Ïy
.
	`´št
("/");

1239 
gb
.
di¥Ïy
.
	`´šn
(
gam–ev–
*
GOLDMULT
);

1240 
gb
.
di¥Ïy
.
bgcŞÜ
 = 13;

1242 #ifdeà
DEBUG


1243 
gb
.
di¥Ïy
.
bgcŞÜ
 = 9;

1244 
gb
.
di¥Ïy
.
	`´šn
(
numwŞves
);

1245 
gb
.
di¥Ïy
.
	`´št
(
w”ewŞves
[0].
pos™iÚ
.
x
);gb.di¥Ïy.´št(",");gb.di¥Ïy.
	`´šn
(w”ewŞves[0].pos™iÚ.
y
);

1246 
gb
.
di¥Ïy
.
	`´št
(
w”ewŞves
[0].
te
);

1247 
w”ewŞves
[0].
ai
) {

1248 
HOMING
:

1249 
gb
.
di¥Ïy
.
	`´šn
("HOMING");;

1250 
CHASE
:

1251 
gb
.
di¥Ïy
.
	`´šn
("CHASE");;

1252 
INTERCEPT
:

1253 
gb
.
di¥Ïy
.
	`´šn
("ITERC");;

1254 
GOTO
:

1255 
gb
.
di¥Ïy
.
	`´šn
("GOTO");;

1256 
TURNCW
:

1257 
gb
.
di¥Ïy
.
	`´šn
("TURNCW");;

1260 
gb
.
di¥Ïy
.
	`´št
(
¶ay”
.
x
);gb.di¥Ïy.´št(",");gb.di¥Ïy.
	`´šn
ÕÏy”.
y
);

1261 
gb
.
di¥Ïy
.
	`´šn
(
timeofday
>>8);

1264 
GAMEOVER
:

1266 
timeout
 = 0xf;

1267 
timeout
--è
gb
.
	`upd©e
();

1268 !
gb
.
bu‰Ús
.
	`´es£d
(
BTN_A
)&&gb.
	`isRuÂšg
()) {

1269 ià(
gb
.
	`upd©e
()) {

1270 
gb
.
di¥Ïy
.
	`£tFÚt
(
fÚtRuÃs
);

1271 
gb
.
di¥Ïy
.
	`£tCursÜ
(0,20);

1272 
gb
.
di¥Ïy
.
	`£tCŞÜ
(14,0);

1273 
gb
.
di¥Ïy
.
	`´šn
(" GAME OVER ");gb.display.println("");

1274 
gb
.
di¥Ïy
.
	`£tCŞÜ
(9);

1275 
gb
.
di¥Ïy
.
	`´šn
(" Player gotƒaten ");

1276 
gb
.
di¥Ïy
.
	`´šn
(" byhe Beast! ");

1277 
gb
.
di¥Ïy
.
	`´šn
("");

1278 
gb
.
di¥Ïy
.
	`£tCŞÜ
(6);

1279 
gb
.
di¥Ïy
.
·Ë‰e
[6]=65312;

1280 
gb
.
di¥Ïy
.
	`´št
(" Gold collected: ");

1281 
gb
.
di¥Ïy
.
	`´št
((
ušt16_t
)(
¶ay”gŞds
*100/(
gam–ev–
*
GOLDMULT
)));

1282 
gb
.
di¥Ïy
.
	`´šn
("%");

1286 
	`de¥awnAÎWŞves
();

1287 
wx
=-8,
wy
=0,
cx
=10,
cy
=10;

1288 
´evte
=0, 
¶ay”te
=0, 
focu¡e
=0, 
ûÁ”te
=0,
ŞdûÁ”
, 
tw“n_·Ë‰e
[16], 
gŞds
=0, 
¶ay”gŞds
=0;

1289 
timeofday
=0;

1290 
wadšg
=1;

1291 
focusšg
=
çl£
;

1292 
šHut
 = 
çl£
;

1293 
tw“nçùÜ
=0,
numwŞves
=0;

1294 
gam–ev–
=1;

1295 
	`š™wÜld
();

1296 
game¡©e
=
TITLE
;

1301 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\night_palette.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

20 cÚ¡ 
ušt16_t
 
	gpokulous_·l
[] = {

42 cÚ¡ 
ušt16_t
 
	gnight_·Ë‰e_Üig
[] = {

46 cÚ¡ 
ušt16_t
 
	gnight_·Ë‰e
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\pixelman_nw_1.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	gpix–mª_nw_1_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gpix–mª_nw_1
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\pixelman_nw_2.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	gpix–mª_nw_2_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gpix–mª_nw_2
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\pixelman_se_1.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	gpix–mª_£_1_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gpix–mª_£_1
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\pixelman_se_2.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	gpix–mª_£_2_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gpix–mª_£_2
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\pixonia.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	gpixÚŸ_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gpixÚŸ
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\splatter.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt8_t
 
	g¥Ï‰”
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_beach_se.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	g‹r_b—ch_£_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	g‹r_b—ch_£
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_beach_sw.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	g‹r_b—ch_sw_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	g‹r_b—ch_sw
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_bump_e.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	g‹r_bump_e_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	g‹r_bump_e
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_bump_n.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	g‹r_bump_n_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	g‹r_bump_n
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_bump_ne.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	g‹r_bump_Ã_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	g‹r_bump_Ã
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_bump_nw.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	g‹r_bump_nw_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	g‹r_bump_nw
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_bump_s.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	g‹r_bump_s_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	g‹r_bump_s
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_bump_se.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	g‹r_bump_£_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	g‹r_bump_£
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_bump_sw.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	g‹r_bump_sw_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	g‹r_bump_sw
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_bump_w.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	g‹r_bump_w_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	g‹r_bump_w
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_earth.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	g‹r_—¹h_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	g‹r_—¹h
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_gold.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	g‹r_gŞd_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	g‹r_gŞd
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_grain.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	g‹r_g¿š_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	g‹r_g¿š
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_hut.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

11 cÚ¡ 
ušt16_t
 
	g‹r_hut_·l
[] = {

15 cÚ¡ 
ušt8_t
 
	g‹r_hut
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_plain.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	g‹r_¶aš_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	g‹r_¶aš
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_stone.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	g‹r_¡Úe_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	g‹r_¡Úe
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_tree.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	g‹r_Œ“_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	g‹r_Œ“
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_water1.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	g‹r_w©”1_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	g‹r_w©”1
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_water2.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	g‹r_w©”2_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	g‹r_w©”2
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\theresgold.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	gth”esgŞd_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gth”esgŞd
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\werewolf_nw_1.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	gw”ewŞf_nw_1_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gw”ewŞf_nw_1
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\werewolf_nw_2.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	gw”ewŞf_nw_2_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gw”ewŞf_nw_2
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\werewolf_se_1.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	gw”ewŞf_£_1_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gw”ewŞf_£_1
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\werewolf_se_2.cpp

7 
	~<¡dšt.h
>

8 
	~"PixÚŸ.h
"

10 cÚ¡ 
ušt16_t
 
	gw”ewŞf_£_2_·l
[] = {

14 cÚ¡ 
ušt8_t
 
	gw”ewŞf_£_2
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Sprites\My_settings.h

12 #iâdeà
MY_SETTINGS_H


13 
	#MY_SETTINGS_H


	)

15 
	#PROJ_HIRES
 1

16 
	#PROJ_ENABLE_SOUND
 0

17 
	#SPRITE_COUNT
 4

18 
	#PROJ_SHOW_FPS_COUNTER


19 

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Sprites\gfxdata.h

2 
	~<¡dšt.h
>

5 cÚ¡ 
ušt16_t
 
	g¥r™e1_·l
[] = {

8 cÚ¡ 
ušt16_t
 
	g¥r™e2_·l
[] = {

11 cÚ¡ 
ušt16_t
 
	g¥r™e3_·l
[] = {

14 cÚ¡ 
ušt16_t
 
	g¥r™e4_·l
[] = {

19 cÚ¡ 
ušt16_t
 
	gbackground_·l
[] = {

23 cÚ¡ 
ušt8_t
 
	g¥r™e_bmp
[] = {

59 cÚ¡ 
ušt8_t
 
	gbackground_bmp
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Sprites\main.cpp

1 
	~"Pok™to.h
"

2 
	~"gfxd©a.h
"

3 
	gPok™to
::
CÜe
 
mygame
;

6 
	sMyS´™e
 {

7 
št16_t
 
	mx
,
	my
,
	mw
,
	mh
,
	mvx
,
	mvy
;

10 cÚ¡ 
št16_t
 
	g¥“d
 = 4;

11 cÚ¡ 
ušt8_t
 
	g¥r™eCouÁ
 = 4;

12 cÚ¡ 
ušt8_t
 
	g¥r™eW
 = 32, 
	g¥r™eH
 = 32;

13 
MyS´™e
 
	gmyS´™es
[
¥r™eCouÁ
];

16 cÚ¡ 
ušt16_t
 *
	g·Ë‰es
[
¥r™eCouÁ
] = {

17 
¥r™e1_·l
,

18 
¥r™e2_·l
,

19 
¥r™e3_·l
,

20 
¥r™e4_·l
,

23 
	$maš
 () {

26 
št16_t
 
¡¬tX
 = 0, 
¡¬tY
 = 0;

27 
i
=0; i < 
¥r™eCouÁ
; i++) {

30 
myS´™es
[
i
].
x
 = 
¡¬tX
 + i*21;

31 
myS´™es
[
i
].
y
 = 
¡¬tY
 + i*21;

32 
myS´™es
[
i
].
w
 = 
¥r™eW
; myS´™es[i].
h
 = 
¥r™eH
;

33 
myS´™es
[
i
].
vx
 = 
¥“d
; myS´™es[i].
vy
 = speed;

36 
mygame
.
di¥Ïy
.
	`£tS´™eB™m­
(
i
, 
¥r™e_bmp
, 
·Ë‰es
[i], 
myS´™es
[i].
x
, myS´™es[i].
y
);

40 
mygame
.
di¥Ïy
.
³rsi¡’û
 = 1;

43 
mygame
.
di¥Ïy
.
·Ë‰e
[0] = 
background_·l
[0];

44 
mygame
.
di¥Ïy
.
·Ë‰e
[1] = 
background_·l
[1];

45 
mygame
.
di¥Ïy
.
·Ë‰e
[2] = 
background_·l
[2];

46 
mygame
.
di¥Ïy
.
·Ë‰e
[3] = 
background_·l
[3];

48 
mygame
.
	`begš
();

50 
mygame
.
	`£tF¿meR©e
(100);

53 
ušt8_t
 
isFœ¡Rounds
 = 2;

54 
mygame
.
	`isRuÂšg
()) {

57 if(
isFœ¡Rounds
 > 0) {

58 if(
mygame
.
	`upd©e
(
çl£
)) {

60 
mygame
.
di¥Ïy
.
	`d¿wB™m­
(0, 0, 
background_bmp
);

61 
isFœ¡Rounds
--;

66 ià(
mygame
.
	`upd©e
(
Œue
)) {

68 
i
=0; i < 
¥r™eCouÁ
; i++) {

70 
št16_t
 
x
 = 
myS´™es
[
i
].x, 
y
 = mySprites[i].y;

71 
št16_t
 
w
 = 
myS´™es
[
i
].w, 
h
 = mySprites[i].h;

74 
x
 +ğ
myS´™es
[
i
].
vx
; 
y
 +ğmyS´™es[i].
vy
;

77 ià(
x
 < -
¥r™eW
) {

78 
x
 = -
¥r™eW
;

79 
myS´™es
[
i
].
vx
 = 
¥“d
;

81 ià(
x
 >ğ
mygame
.
di¥Ïy
.
	`g‘Width
(è- 
w
 + 
¥r™eW
) {

82 
x
 = 
mygame
.
di¥Ïy
.
	`g‘Width
(è- 1 - 
w
 + 
¥r™eW
;

83 
myS´™es
[
i
].
vx
 = -
¥“d
;

85 ià(
y
 < -
¥r™eH
) {

86 
y
 = -
¥r™eH
;

87 
myS´™es
[
i
].
vy
 = 
¥“d
;

89 ià(
y
 >ğ
mygame
.
di¥Ïy
.
	`g‘Height
(è- 
h
 + 
¥r™eH
) {

90 
y
 = 
mygame
.
di¥Ïy
.
	`g‘Height
(è- 1 - 
h
 + 
¥r™eH
;

91 
myS´™es
[
i
].
vy
 = -
¥“d
;

95 
mygame
.
di¥Ïy
.
	`£tS´™ePos
(
i
, 
x
, 
y
);

98 
myS´™es
[
i
].
x
 = x; myS´™es[i].
y
 = y;

104 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\SynthTest\My_settings.h

12 #iâdeà
MY_SETTINGS_H


13 
	#MY_SETTINGS_H


	)

15 
	#PROJ_HIRES
 0

16 
	#PROJ_ENABLE_SOUND
 1

17 
	#PROJ_ENABLE_SYNTH
 1

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\SynthTest\SynthTest.cpp

1 
	~"Pok™to.h
"

2 
	~"SyÁh.h
"

4 
	gPok™to
::
CÜe
 
game
;

5 
	gPok™to
::
Di¥Ïy
 
di¥
;

6 
	gPok™to
::
Sound
 
¢d
;

7 
	gPok™to
::
Bu‰Ús
 
bŠ
;

8 #iâdeà
POK_SIM


9 
Dig™®Out
 
’abË
(
EXT4
);

12 
	gtÚeäeq
=46;

13 
ušt8_t
 
	gam¶™ude
 = 255;

14 
ušt8_t
 
	gwav‘y³
 = 1, 
	g¬pmode
=1;

15 
ušt32_t
 
	gchªged
 = 1;

16 
	gnÙe¡r
[6];

17 
ušt8_t
 
	gsbšdx
=0,
	gsbx
=0,
	g´evy
=0;

20 
	$maš
()

22 #iâdeà
POK_SIM


23 
’abË
=0;

25 
game
.
	`begš
();

27 
di¥
.
³rsi¡’û
 = 
Œue
;

28 
di¥
.
cŞÜ
=
wav‘y³
+1;

29 
di¥
.
bgcŞÜ
=0;

30 
ušt8_t
 
sbšdx
=0;

31 
ŞdvŞ
=0;

32 
lšeûÁ”
 = (
di¥
.
height
/4);

33 
lšeûÁ”
 *=2;

34 
lšeûÁ”
 += 0;

35 
¢d
.
	`ampEÇbË
(1);

36 
¢d
.
	`¶ayTÚe
(1,
tÚeäeq
,
am¶™ude
,
wav‘y³
,
¬pmode
);

39 
¢d
.
	`¶ayTÚe
(2,
tÚeäeq
+12,
am¶™ude
,
wav‘y³
,
¬pmode
);

41 
di¥
.
	`ş—r
();

42 
di¥
.
	`´št
("Frq:");

43 
	`g‘NÙeSŒšg
(
nÙe¡r
,
tÚeäeq
);

44 
di¥
.
	`´šn
(
nÙe¡r
);

45 
di¥
.
	`´št
("Vol:");

46 
di¥
.
	`´šn
(()
am¶™ude
);

47 
di¥
.
	`´št
("Wav:");

48 
di¥
.
	`´št
(()
wav‘y³
);

49 
wav‘y³
) {

51 
di¥
.
	`´šn
(" Off");;

53 
di¥
.
	`´šn
(" Square");;

55 
di¥
.
	`´šn
(" Saw");;

57 
di¥
.
	`´šn
(" Triang");;

59 
di¥
.
	`´šn
(" Noise");;

61 
di¥
.
	`´šn
(" SqNois");;

63 
di¥
.
	`´št
("Vol:");

64 #iâdeà
POK_SIM


65 
di¥
.
	`´št
(()
Pok™to
::
	`g‘HWvŞume
());

66 
di¥
.
	`´št
(", ");

68 
di¥
.
	`´šn
(()
¢d
.
	`g‘VŞume
());

69 
di¥
.
	`lcdReäesh
(di¥.
sü“nbufãr
);

73 
game
.
	`isRuÂšg
()) {

75 #ifdeà
POK_SIM


76 
	#DEBOU
 2048*32

	)

78 
	#DEBOU
 256

	)

82 ià(
chªged
 == 0) {

83 if(
bŠ
.
	`upBŠ
()è{ 
am¶™ude
++; 
chªged
 = 
DEBOU
; }

84 if(
bŠ
.
	`downBŠ
()è{ 
am¶™ude
--; 
chªged
 = 
DEBOU
; }

85 if(
bŠ
.
	`ËáBŠ
(è&& (
tÚeäeq
 > 0)è{Úeäeq --; 
chªged
 = 
DEBOU
; }

86 if(
bŠ
.
	`rightBŠ
(è&& (
tÚeäeq
 < 88)è{Úeäeq ++; 
chªged
 = 
DEBOU
; }

87 if(
bŠ
.
	`»Ëa£d
(
BTN_A
è&& 
wav‘y³
 > 0 ) { wav‘y³--; 
chªged
 = 
DEBOU
*10;}

88 if(
bŠ
.
	`»Ëa£d
(
BTN_B
è&& 
wav‘y³
 < 5 ) { wav‘y³++; 
chªged
 = 
DEBOU
*10;}

89 ià(
¢d
.
	`g‘VŞume
(è!ğ
ŞdvŞ
è
chªged
=
DEBOU
;

91 ià(
chªged
) {

92 
di¥
.
	`ş—r
();

93 
di¥
.
cŞÜ
=0;

94 
di¥
.
	`flReùªgË
(0,0,109,34);

95 
di¥
.
cŞÜ
=
wav‘y³
+1;

96 
di¥
.
bgcŞÜ
=0;

97 
di¥
.
	`´št
("Frq:");

98 
	`g‘NÙeSŒšg
(
nÙe¡r
,
tÚeäeq
);

99 
di¥
.
	`´šn
(
nÙe¡r
);

100 
di¥
.
	`´št
("Vol:");

101 
di¥
.
	`´šn
(()
am¶™ude
);

102 
di¥
.
	`´št
("Wav:");

103 
di¥
.
	`´št
(()
wav‘y³
);

104 
wav‘y³
) {

106 
di¥
.
	`´šn
(" Off");;

108 
di¥
.
	`´šn
(" Square");;

110 
di¥
.
	`´šn
(" Saw");;

112 
di¥
.
	`´šn
(" Triang");;

114 
di¥
.
	`´šn
(" Noise");;

116 
di¥
.
	`´šn
(" SqNois");;

118 
di¥
.
	`´št
("Vol:");

119 #iâdeà
POK_SIM


120 
di¥
.
	`´št
(()
Pok™to
::
	`g‘HWvŞume
());

121 
di¥
.
	`´št
(", ");

123 
di¥
.
	`´šn
(()
¢d
.
	`g‘VŞume
());

124 
¢d
.
	`¶ayTÚe
(1,
tÚeäeq
,
am¶™ude
,
wav‘y³
,
¬pmode
);

125 
ŞdvŞ
 = (è
¢d
.
	`g‘VŞume
();

127 
¢d
.
	`¶ayTÚe
(2,
tÚeäeq
+12,
am¶™ude
,
wav‘y³
,
¬pmode
);

129 } 
chªged
--;

130 
di¥
.
cŞÜ
=0;

131 
di¥
.
	`d¿wCŞumn
(
sbx
,38,di¥.
height
);

132 
di¥
.
cŞÜ
=
wav‘y³
+1;

133 
ušt8_t
 
tšdex
 = 
sbšdx
*2;

134 
št16_t
 
y
 = 
lšeûÁ”
 + ((()128-(
soundbuf
[
tšdex
]))>>2);

135 
di¥
.
	`d¿wLše
(
sbx
-1,
´evy
,sbx,
y
);

136 
game
.
	`upd©e
();

137 
di¥
.
cŞÜ
=0;

138 
´evy
=
y
;

139 
sbx
++;
sbšdx
++;

140 ià(
sbx
>
di¥
.
width
-1) {sbx=0;}

143 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\SynthTest\beat_11025.h

1 #iâdeà
BEAT_11025_RAW_H


2 
	#BEAT_11025_RAW_H


	)

4 cÚ¡ 
	gb—t_11025_¿w
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\TestCrashScreen\My_settings.h

12 #iâdeà
MY_SETTINGS_H


13 
	#MY_SETTINGS_H


	)

15 
	#PROJ_HIRES
 1

16 
	#PROJ_ENABLE_SOUND
 1

17 

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\TestCrashScreen\main.cpp

3 
	~"Pok™to.h
"

5 
	gPok™to
::
CÜe
 
mygame
;

6 "C" 
CheckSck
();

9 
	$RecursiveFunc
 (
št16_t
 
»cursiÚLev–
)

12 
‹¡
[256];

16 
	`CheckSck
();

19 ià(
»cursiÚLev–
>0) {

20 
	`RecursiveFunc
Ğ
»cursiÚLev–
 - 1 );

23 
mygame
.
di¥Ïy
.
	`´šn
("Current stack…ointer: ");

24 
mygame
.
di¥Ïy
.
	`´št
("0x"); mygame.di¥Ïy.
	`´šn
((
ušt32_t
)&
‹¡
, 16);

26 
	}
}

29 
	$maš
 () {

30 
št16_t
 
maxRecursiÚLev–
 = 1;

31 
mygame
.
	`begš
();

33 
mygame
.
	`isRuÂšg
()) {

34 ià(
mygame
.
	`upd©e
()) {

36 #iâdeà
POK_SIM


37 
mygame
.
di¥Ïy
.
	`´št
("Recursion†evel: ");

38 
mygame
.
di¥Ïy
.
	`´šn
(
maxRecursiÚLev–
);

39 
	`RecursiveFunc
Ğ
maxRecursiÚLev–
 );

40 
maxRecursiÚLev–
++;

44 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Tracker\Arrays.h

9 #iâdeà
ARRAYS_H


10 
	#ARRAYS
 
H


	)

12 
	~<¡dšt.h
>

14 cÚ¡ 
nÙeL‘‹rs
[12][2];

16 cÚ¡ * 
waveNames
[];

17 cÚ¡ * 
¬pModes
[];

19 cÚ¡ 
rboyCh¬
[] ;

20 cÚ¡ 
BPMCh¬
[] ;

21 cÚ¡ 
Ï¡P©‹ºCh¬
[] ;

22 cÚ¡ 
loİToCh¬
[];

23 cÚ¡ 
·tchesCh¬
[] ;

24 cÚ¡ 
blockSeqCh¬
[] ;

25 cÚ¡ 
blockCh¬
[] ;

26 cÚ¡ 
rowCh¬
[] ;

27 cÚ¡ 
unknownCh¬
[] ;

28 cÚ¡ 
waveCh¬
[] ;

29 cÚ¡ 
vŞCh¬
[] ;

30 cÚ¡ 
p™chR©eCh¬
[] ;

31 cÚ¡ 
p™chMaxCh¬
[] ;

32 cÚ¡ 
vibCh¬
[] ;

33 cÚ¡ 
¬pCh¬
[] ;

34 cÚ¡ 
ADSRCh¬
[] ;

35 cÚ¡ 
©ckCh¬
[] ;

36 cÚ¡ 
deÿyCh¬
[] ;

37 cÚ¡ 
su¡ašCh¬
[] ;

38 cÚ¡ 
»Ëa£Ch¬
[] ;

39 cÚ¡ 
loİCh¬
[] ;

40 cÚ¡ 
echoCh¬
[] ;

41 cÚ¡ 
ov”driveCh¬
[];

42 cÚ¡ 
drumCh¬
[] ;

44 cÚ¡ 
ušt8_t
 
·u£B™m­
[];

46 cÚ¡ 
ušt8_t
 
¶ayB™m­
[];

48 cÚ¡ 
ušt8_t
 
¡İB™m­
[];

50 cÚ¡ 
ušt8_t
 
poštB™m­
[];

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Tracker\My_settings.h

12 #iâdeà
MY_SETTINGS_H


13 
	#MY_SETTINGS_H


	)

15 
	#PROJ_HIRES
 1

16 
	#PROJ_ENABLE_SOUND
 1

17 
	#PROJ_ENABLE_SYNTH
 1

	)

18 
	#PROJ_STREAMING_MUSIC
 0

	)

19 
	#PROJ_SOUND_BUFFERED
 0

20 
	#PROJ_STREAM_TO_DAC
 0

22 
	#PROJ_AUD_FREQ
 44100

23 
	#PROJ_FPS
 20

	)

26 
	#TRACKER_EXAMPLE


	)

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Tracker\PatchSettings.h

2 
boŞ
 
	g¡İex™
=
Œue
;

4 
	sIn¡rum’t
{

5 
	mÇme
[10];

6 
št8_t
 
	mwave
;

7 
št8_t
 
	m¬pMode
;

8 
št8_t
 
	mloİ
;

9 
št8_t
 
	mecho
;

10 
št8_t
 
	mdi¡Üt
;

11 
št8_t
 
	mnÜm®ize
;

12 
št8_t
 
	mADSR
;

13 
ušt8_t
 
	m©ck
;

14 
ušt8_t
 
	mdeÿy
;

15 
ušt8_t
 
	msu¡aš
;

16 
ušt8_t
 
	m»Ëa£
;

17 
št16_t
 
	mvŞume
;

18 
št16_t
 
	mp™chR©e
;

19 
št16_t
 
	mp™chMax
;

20 
In¡rum’t
(è: 
wave
(0), 
¬pMode
(0), 
loİ
(0), 
echo
(0), 
di¡Üt
(0), 
nÜm®ize
(0), 
ADSR
(0),

21 
©ck
(0), 
deÿy
(0), 
su¡aš
(0), 
»Ëa£
(0), 
vŞume
(0), 
p™chR©e
(0), 
p™chMax
(0) {}

23 
In¡rum’t
 
	gš¡r
[15];

24 
št8_t
 
	gš¡rPoš‹r
 = 0;

25 
št8_t
 
	g£‰šgPoš‹r
 = 0;

27 
§veIn¡rInSÚg
();

29 
	$chªgeV®ues
(
št8_t
 
i
){

30 ià(
£‰šgPoš‹r
 =ğ9è
·tch
[
š¡rPoš‹r
].
©ck
 +ğ
i
;

31 ià(
£‰šgPoš‹r
 =ğ10è
·tch
[
š¡rPoš‹r
].
deÿy
 +ğ
i
;

32 ià(
£‰šgPoš‹r
 =ğ11è
·tch
[
š¡rPoš‹r
].
su¡aš
 +ğ
i
;

33 ià(
£‰šgPoš‹r
 =ğ12è
·tch
[
š¡rPoš‹r
].
»Ëa£
 +ğ
i
;

34 ià(
£‰šgPoš‹r
 =ğ13è
·tch
[
š¡rPoš‹r
].
b’d¿‹
 = 
Œack”
.
	`mšMax
Õ©ch[š¡rPoš‹r].b’d¿‹+
i
, -100, 100);

35 ià(
£‰šgPoš‹r
 =ğ14è
·tch
[
š¡rPoš‹r
].
maxb’d
 = 
Œack”
.
	`mšMax
Õ©ch[š¡rPoš‹r].maxb’d+
i
, -90, 190);

36 ià(
£‰šgPoš‹r
 =ğ15è
·tch
[
š¡rPoš‹r
].
vŞ
 = 
Œack”
.
	`mšMax
Õ©ch[š¡rPoš‹r].vŞ+
i
, 0, 300);

37 
	}
}

39 
boŞ
 
	$checkBu‰Ús
(){

40 
boŞ
 
chªged
=
çl£
;

41 ià(
pok
.
bu‰Ús
.
	`»Ëa£d
(
BTN_C
)) {

42 
¡İex™
=
çl£
;

44 if(
pok
.
bu‰Ús
.
	`»³©
(
BTN_DOWN
, 
bu‰ÚR•—tF¿me
))

45 {
£‰šgPoš‹r
 = 
Œack”
.
	`mšMax
(£‰šgPoš‹r+1, 0, 19); 
chªged
=
Œue
;}

46 if(
pok
.
bu‰Ús
.
	`»³©
(
BTN_UP
, 
bu‰ÚR•—tF¿me
))

47 {
£‰šgPoš‹r
 = 
Œack”
.
	`mšMax
(£‰šgPoš‹r-1, 0, 19); 
chªged
=
Œue
;}

48 if(
pok
.
bu‰Ús
.
	`aBŠ
(è&&…ok.bu‰Ús.
	`»³©
(
BTN_LEFT
, 
bu‰ÚR•—tF¿me
))

49 {
	`chªgeV®ues
(-10);
chªged
=
Œue
;}

50 if(
pok
.
bu‰Ús
.
	`aBŠ
(è&&…ok.bu‰Ús.
	`»³©
(
BTN_RIGHT
, 
bu‰ÚR•—tF¿me
))

51 {
	`chªgeV®ues
(10);
chªged
=
Œue
;}

52 if(
pok
.
bu‰Ús
.
	`bBŠ
(è&&…ok.bu‰Ús.
	`»³©
(
BTN_LEFT
, 
bu‰ÚR•—tF¿me
))

53 {
	`chªgeV®ues
(-100);
chªged
=
Œue
;}

54 if(
pok
.
bu‰Ús
.
	`bBŠ
(è&&…ok.bu‰Ús.
	`»³©
(
BTN_RIGHT
, 
bu‰ÚR•—tF¿me
))

55 {
	`chªgeV®ues
(100);
chªged
=
Œue
;}

56 if(
pok
.
bu‰Ús
.
	`»³©
(
BTN_LEFT
, 
bu‰ÚR•—tF¿me
))

58 ià(
£‰šgPoš‹r
 =ğ0è
š¡rPoš‹r
 = 
Œack”
.
	`mšMax
(instrPointer-1, 0, 14);

59 ià(
£‰šgPoš‹r
 =ğ2è
·tch
[
š¡rPoš‹r
].
wave
 = 
Œack”
.
	`mšMax
(patch[instrPointer].wave-1, 0, 5);

60 ià(
£‰šgPoš‹r
 =ğ3è
·tch
[
š¡rPoš‹r
].
¬pmode
 = 
Œack”
.
	`mšMax
(patch[instrPointer].arpmode-1, 0, 15);

61 ià(
£‰šgPoš‹r
 =ğ4è
·tch
[
š¡rPoš‹r
].
loİ
 = 
Œack”
.
	`mšMax
(patch[instrPointer].loop-1, 0, 1);

62 ià(
£‰šgPoš‹r
 =ğ5è
·tch
[
š¡rPoš‹r
].
echo
 = 
Œack”
.
	`mšMax
(patch[instrPointer].echo-1, 0, 1);

63 ià(
£‰šgPoš‹r
 =ğ6è
·tch
[
š¡rPoš‹r
].
ov”drive
 = 
Œack”
.
	`mšMax
(patch[instrPointer].overdrive-1, 0, 1);

64 ià(
£‰šgPoš‹r
 =ğ7è
·tch
[
š¡rPoš‹r
].
kick
 = 
Œack”
.
	`mšMax
(patch[instrPointer].kick-1, 0, 1);

65 ià(
£‰šgPoš‹r
 =ğ8è
·tch
[
š¡rPoš‹r
].
ad¤
 = 
Œack”
.
	`mšMax
(patch[instrPointer].adsr-1, 0, 1);

66 
	`chªgeV®ues
(-1);

67 
chªged
=
Œue
;

69 if(
pok
.
bu‰Ús
.
	`»³©
(
BTN_RIGHT
, 
bu‰ÚR•—tF¿me
))

71 ià(
£‰šgPoš‹r
 =ğ0è
š¡rPoš‹r
 = 
Œack”
.
	`mšMax
(instrPointer+1, 0, 14);

72 ià(
£‰šgPoš‹r
 =ğ2è
·tch
[
š¡rPoš‹r
].
wave
 = 
Œack”
.
	`mšMax
(patch[instrPointer].wave+1, 0, 5);

73 ià(
£‰šgPoš‹r
 =ğ3è
·tch
[
š¡rPoš‹r
].
¬pmode
 = 
Œack”
.
	`mšMax
(patch[instrPointer].arpmode+1, 0, 15);

74 ià(
£‰šgPoš‹r
 =ğ4è
·tch
[
š¡rPoš‹r
].
loİ
 = 
Œack”
.
	`mšMax
(patch[instrPointer].loop+1, 0, 1);

75 ià(
£‰šgPoš‹r
 =ğ5è
·tch
[
š¡rPoš‹r
].
echo
 = 
Œack”
.
	`mšMax
(patch[instrPointer].echo+1, 0, 1);

76 ià(
£‰šgPoš‹r
 =ğ6è
·tch
[
š¡rPoš‹r
].
ov”drive
 = 
Œack”
.
	`mšMax
(patch[instrPointer].overdrive+1, 0, 1);

77 ià(
£‰šgPoš‹r
 =ğ7è
·tch
[
š¡rPoš‹r
].
kick
 = 
Œack”
.
	`mšMax
(patch[instrPointer].kick+1, 0, 1);

78 ià(
£‰šgPoš‹r
 =ğ8è
·tch
[
š¡rPoš‹r
].
ad¤
 = 
Œack”
.
	`mšMax
(patch[instrPointer].adsr+1, 0, 1);

79 
	`chªgeV®ues
(1);

80 
chªged
=
Œue
;

82 if(
pok
.
bu‰Ús
.
	`´es£d
(
BTN_A
))

84 
Œack”
.
_cu¼·tch
=
š¡rPoš‹r
;

85 if(
£‰šgPoš‹r
 == 1)

86 {
pok
.
	`keybßrd
(
Œack”
.
·tchÇmes
[
š¡rPoš‹r
], 10);
chªged
=
Œue
;}

91 if(
£‰šgPoš‹r
 == 18){

92 
Œack”
.
	`§veSÚg
();

93 
	`§veIn¡rInSÚg
();

94 
chªged
=
Œue
;

98 
Œack”
.
	`¶ayNÙe
();

100 if(
pok
.
bu‰Ús
.
	`´es£d
(
BTN_C
è&& 
¡İex™
==
çl£
)

102 
sü“n
 = 0;

103 
£‰šgPoš‹r
 = 0;

104 
chªged
=
Œue
;

105 
¡İex™
=
Œue
;

107  
chªged
;

108 
	}
}

110 
	$´štS‘tšgs
(){

111 
pok
.
di¥Ïy
.
	`£tCŞÜ
(1);

112 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, 0);

113 
pok
.
di¥Ïy
.
	`´št
("Patch: ");

114 
pok
.
di¥Ïy
.
	`´št
(
š¡rPoš‹r
, 10);

115 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, 
fÚtH
 + 1);

116 
pok
.
di¥Ïy
.
	`´št
("Name: ");

117 
pok
.
di¥Ïy
.
	`´št
(
Œack”
.
·tchÇmes
[
š¡rPoš‹r
]);

118 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, (2 * 
fÚtH
) + 2);

119 
pok
.
di¥Ïy
.
	`´št
("Wave: ");

120 
pok
.
di¥Ïy
.
	`´št
(
waveNames
[
·tch
[
š¡rPoš‹r
].
wave
]);

121 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, (3 * 
fÚtH
) + 3);

122 
pok
.
di¥Ïy
.
	`´št
("Arp Mode: ");

123 
pok
.
di¥Ïy
.
	`´št
(
¬pModes
[
·tch
[
š¡rPoš‹r
].
¬pmode
]);

124 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, (4 * 
fÚtH
) + 4);

125 
pok
.
di¥Ïy
.
	`´št
("Loop: ");

126 
pok
.
di¥Ïy
.
	`´št
(()
·tch
[
š¡rPoš‹r
].
loİ
);

127 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, (5 * 
fÚtH
) + 5);

128 
pok
.
di¥Ïy
.
	`´št
("Echo: ");

129 
pok
.
di¥Ïy
.
	`´št
(()
·tch
[
š¡rPoš‹r
].
echo
);

130 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, (6 * 
fÚtH
) + 6);

131 
pok
.
di¥Ïy
.
	`´št
("Dist: ");

132 
pok
.
di¥Ïy
.
	`´št
(()
·tch
[
š¡rPoš‹r
].
ov”drive
);

133 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, (7 * 
fÚtH
) + 7);

134 
pok
.
di¥Ïy
.
	`´št
("Norm: ");

135 
pok
.
di¥Ïy
.
	`´št
(()
·tch
[
š¡rPoš‹r
].
kick
);

136 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, (8 * 
fÚtH
) + 8);

137 
pok
.
di¥Ïy
.
	`´št
("ADSR: ");

138 
pok
.
di¥Ïy
.
	`´št
(()
·tch
[
š¡rPoš‹r
].
ad¤
);

139 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, (9 * 
fÚtH
) + 9);

140 
pok
.
di¥Ïy
.
	`´št
("Attack: ");

141 
pok
.
di¥Ïy
.
	`´št
(
·tch
[
š¡rPoš‹r
].
©ck
, 10);

142 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, (10 * 
fÚtH
) + 10);

143 
pok
.
di¥Ïy
.
	`´št
("Decay: ");

144 
pok
.
di¥Ïy
.
	`´št
(
·tch
[
š¡rPoš‹r
].
deÿy
, 10);

145 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, (11 * 
fÚtH
) + 11);

146 
pok
.
di¥Ïy
.
	`´št
("Sustain: ");

147 
pok
.
di¥Ïy
.
	`´št
(
·tch
[
š¡rPoš‹r
].
su¡aš
, 10);

148 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, (12 * 
fÚtH
) + 12);

149 
pok
.
di¥Ïy
.
	`´št
("Release: ");

150 
pok
.
di¥Ïy
.
	`´št
(
·tch
[
š¡rPoš‹r
].
»Ëa£
, 10);

151 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, (13 * 
fÚtH
) + 13);

152 
pok
.
di¥Ïy
.
	`´št
("Pitch Bend Rate: ");

153 
pok
.
di¥Ïy
.
	`´št
(
·tch
[
š¡rPoš‹r
].
b’d¿‹
, 10);

154 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, (14 * 
fÚtH
) + 14);

155 
pok
.
di¥Ïy
.
	`´št
("Pitch Bend Max: ");

156 
pok
.
di¥Ïy
.
	`´št
(
·tch
[
š¡rPoš‹r
].
maxb’d
, 10);

157 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, (15 * 
fÚtH
) + 15);

158 
pok
.
di¥Ïy
.
	`´št
("Volume: ");

159 
pok
.
di¥Ïy
.
	`´št
(
·tch
[
š¡rPoš‹r
].
vŞ
, 10);

160 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, (16 * 
fÚtH
) + 16);

161 
pok
.
di¥Ïy
.
	`´št
("Save Instrument");

162 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, (17 * 
fÚtH
) + 17);

163 
pok
.
di¥Ïy
.
	`´št
("Load Instrument");

164 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, (18 * 
fÚtH
) + 18);

165 
pok
.
di¥Ïy
.
	`´št
("Save Song");

166 
pok
.
di¥Ïy
.
	`£tCursÜ
(2, (19 * 
fÚtH
) + 19);

167 
pok
.
di¥Ïy
.
	`´št
("Load Song");

168 
	}
}

170 
	$d¿wPoš‹r
(){

171 
pok
.
di¥Ïy
.
	`d¿wB™m­
(130, (
£‰šgPoš‹r
 * 
fÚtH
è+ s‘tšgPoš‹r, 
poštB™m­
);

172 
	}
}

174 
	$§veIn¡rInSÚg
(){

175 
ušt8_t
 
j
 = 0; j < 
Œack”
.
	`g‘LP
() + 1; j++){

176 ià(
Œack”
.
·tchÇmes
[0] =ğ0èŒack”.
	`fePutIÁ
(
j
);

177 
Œack”
.
	`fePršt
Ñ¿ck”.
·tchÇmes
[
j
], (tracker.patchnames[j]));

178 
Œack”
.
	`NL
();

180 
Œack”
.
	`fePutIÁ
(
·tch
[
j
].
wave
);

181 
Œack”
.
	`NL
();

183 
Œack”
.
	`fePutIÁ
(
·tch
[
j
].
vŞ
);

184 
Œack”
.
	`NL
();

186 
Œack”
.
	`fePutIÁ
(
·tch
[
j
].
b’d¿‹
);

187 
Œack”
.
	`NL
();

189 
Œack”
.
	`fePutIÁ
(
·tch
[
j
].
maxb’d
);

190 
Œack”
.
	`NL
();

192 
Œack”
.
	`fePutIÁ
(0);

193 
Œack”
.
	`NL
();

195 
Œack”
.
	`fePutIÁ
(
·tch
[
j
].
¬pmode
);

196 
Œack”
.
	`NL
();

198 
Œack”
.
	`fePutIÁ
(
·tch
[
j
].
ad¤
);

199 
Œack”
.
	`NL
();

201 
Œack”
.
	`fePutIÁ
(
·tch
[
j
].
©ck
);

202 
Œack”
.
	`NL
();

204 
Œack”
.
	`fePutIÁ
(
·tch
[
j
].
deÿy
);

205 
Œack”
.
	`NL
();

207 
Œack”
.
	`fePutIÁ
(
·tch
[
j
].
su¡aš
);

208 
Œack”
.
	`NL
();

210 
Œack”
.
	`fePutIÁ
(
·tch
[
j
].
»Ëa£
);

211 
Œack”
.
	`NL
();

213 
Œack”
.
	`fePutIÁ
(
·tch
[
j
].
loİ
);

214 
Œack”
.
	`NL
();

216 
Œack”
.
	`fePutIÁ
(
·tch
[
j
].
echo
);

217 
Œack”
.
	`NL
();

219 
Œack”
.
	`fePutIÁ
(
·tch
[
j
].
ov”drive
);

220 
Œack”
.
	`NL
();

222 
Œack”
.
	`fePutIÁ
(
·tch
[
j
].
kick
);

223 
Œack”
.
	`NL
();

225 
	`feClo£
();

226 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Tracker\Tracker.h

1 
	~"Pok™to.h
"

3 
ušt8_t
 
sü“nW
, 
sü“nH
, 
äameR©e
, 
fÚtW
, 
fÚtH
, 
sü“n
, 
bu‰ÚR•—tF¿me
;

4 
Pok™to
::
CÜe
 
pok
;

7 
	sT¿ck”
{

8 
	m´iv©e
:

9 
ušt16_t
 
İÏy”pos
=255, 
	mo£qpos
=0;

10 
ušt8_t
 
	mmaxCŞumn
 = 3, 
	mmaxRow
 = 64;

11 
št8_t
 
	mcŞPoš‹r
 = 0, 
	mrowPoš‹r
 = 0;

12 
št8_t
 
	msü“nMaxIn™
 = 20, 
	msü“nMš
 = 0, 
	msü“nMax
 = 
sü“nMaxIn™
, 
	msü“nPoš‹r
 = 0, 
	m¶ayPoš‹r
 = 0;

13 
št16_t
 
	mbpm
 = 60, 
	m_‹mpo
 = 60;

14 
ušt32_t
 
	m¶ayTime
 = 0;

15 
št8_t
 
	msÚgPos
 = 0, 
	mÏ¡P©‹º
 = 0, 
	mloİTo
 = 0, 
	mnumP©ches
=0;

16 
ušt8_t
 
	mmode
 = 0;

17 
št8_t
 
	med™
 = 0;

18 
ušt8_t
 
	mvLšes
[4] = {((
fÚtW
 + 1è* 2è+ 1, (((fÚtW + 1è* 9è+ 
vLšes
[0]) + 1, (((fontW + 1) * 9) + vLines[1]) + 1, (((fontW + 1) * 9) + vLines[2]) + 1};

19 
ušt8_t
 
	ms_vLšes
[2] = {
vLšes
[3] + 2, 0};

20 
št8_t
 
	m_·tch
[30][64];

21 
št8_t
 
	m_p™ch
[30][64];

22 
št8_t
 
	m_sÚgPos
[10][3] = {{0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}, {0, 0, 0}};

23 
boŞ
 
	mt1Mu‹
 = 0, 
	mt2Mu‹
 = 0, 
	mt3Mu‹
 = 0;

24 
štToCh¬
(
_št
, 
ušt8_t
 
dig™
);

25 
ušt8_t
 
dig™L’gth
(
_št
);

26 
št32_t
 
exŒaùNextIÁeg”
(*);

27 * 
	m_‹xŒ
;

29 
	mpublic
:

30 
š™SŒ—ms
();

31 
em±yP©ches
();

32 
št8_t
 
	m_cu¼p™ch
=34, 
	m_cu¼·tch
=1;

33 
	m·tchÇmes
[15][10];

34 
boŞ
 
	m¶ay
 = 0, 
	m¡İ
 = 0;

35 
boŞ
 
checkBu‰Ús
();

36 
¶ayNÙe
();

37 
¶ayPŠ
();

38 
flA¼ays
();

39 
d¿wLšes
();

40 
d¿wPoš‹r
();

41 
d¿wIsPÏyšg
();

42 
´štV®ues
();

43 
´štS‘tšgs
();

44 
boŞ
 
¶ayT¿ck”
();

45 
št16_t
 
g‘BPM
();

46 
mšMax
(
_v®
, 
_mš
, 
_max
);

47 
§veSÚg
();

48 
lßdSÚg
(*);

49 
fePutIÁ
(
_št
);

50 
fePršt
(cÚ¡ *
_¡ršg
, 
ušt8_t
 
_size
);

51 
fePršt
(*
_¡ršg
, 
ušt8_t
 
_size
);

52 
NL
();

53 
št8_t
 
g‘LP
(){  
	mÏ¡P©‹º
; }

56 
T¿ck”
 
Œack”
;

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Tracker\main.cpp

1 
	~"Pok™to.h
"

2 
	~"A¼ays.h
"

8 
	gPok™to
::
CÜe
 
pok
;

11 
ušt8_t
 
	gsü“nW
 = 220, 
	gsü“nH
 = 176, 
	gäameR©e
 = 30, 
	gfÚtW
 = 5, 
	gfÚtH
 = 7, 
	gsü“n
 = 0, 
	gbu‰ÚR•—tF¿me
 = 0;

13 
	~"T¿ck”.h
"

14 
T¿ck”
 
	gŒack”
;

16 
	~"P©chS‘tšgs.h
"

18 
	$maš
(){

19 
boŞ
 
upd©’ow
=
Œue
;

23 
pok
.
di¥Ïy
.
³rsi¡’û
=
Œue
;

24 #iâdeà
POK_SIM


25 
bu‰ÚR•—tF¿me
=0;

27 
pok
.
	`begš
();

28 
	`pokIn™SD
();

29 
Œack”
.
	`lßdSÚg
("finalc.rbs");

30 
pok
.
di¥Ïy
.
width
 = 
sü“nW
;

31 
pok
.
di¥Ïy
.
height
 = 
sü“nH
;

32 
pok
.
di¥Ïy
.
	`£tFÚt
(
fÚt5x7
);

33 
pok
.
	`£tF¿meR©e
(
äameR©e
);

35 
pok
.
	`isRuÂšg
()){

36 ià(
sü“n
){

37 if(
pok
.
	`upd©e
(
Œue
)){

38 
upd©’ow
=
Œue
;

39 
	`checkBu‰Ús
();

40 
pok
.
di¥Ïy
.
	`ş—r
();

41 
	`´štS‘tšgs
();

42 
	`d¿wPoš‹r
();

46 ià(
Œack”
.
¶ay
){

47 ià(
Œack”
.
	`¶ayT¿ck”
()) {

48 
upd©’ow
=
Œue
;

51 if(
pok
.
	`upd©e
(
Œue
)){

52 ià(
Œack”
.
	`checkBu‰Ús
()) {

53 
upd©’ow
=
Œue
;

56 ià(!
sü“n
 && 
upd©’ow
) {

57 
pok
.
di¥Ïy
.
	`ş—r
();

58 
Œack”
.
	`d¿wIsPÏyšg
();

59 
Œack”
.
	`d¿wLšes
();

60 
Œack”
.
	`´štV®ues
();

61 
Œack”
.
	`´štS‘tšgs
();

62 
Œack”
.
	`d¿wPoš‹r
();

65 ià(
upd©’ow
) {

66 
pok
.
di¥Ïy
.
	`upd©e
();

68 
upd©’ow
=
çl£
;

71 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\UpdateAndClipRect\My_settings.h

12 #iâdeà
MY_SETTINGS_H


13 
	#MY_SETTINGS_H


	)

15 
	#PROJ_HIRES
 1

16 
	#PROJ_ENABLE_SOUND
 0

17 
	#PROJ_USE_FPS_COUNTER


	)

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\UpdateAndClipRect\gfxdata.h

5 
	~<¡dšt.h
>

7 cÚ¡ 
ušt16_t
 
	gpok™to_·l
[] = {

11 cÚ¡ 
ušt8_t
 
	gpok™to_bmp
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\UpdateAndClipRect\main.cpp

1 
	~"Pok™to.h
"

2 
	~"gfxd©a.h
"

4 
	gPok™to
::
CÜe
 
mygame
;

6 
	$maš
 () {

8 
mygame
.
	`begš
();

10 
mygame
.
di¥Ïy
.
³rsi¡’û
 = 1;

12 
mygame
.
di¥Ïy
.
	`lßd565P®‘‹
Ğ
pok™to_·l
 );

14 
mygame
.
di¥Ïy
.
	`ş—r
();

16 
mygame
.
	`£tF¿meR©e
(100);

18 
boŞ
 
doD¿wB™m­
 = 
Œue
;

19 
mygame
.
	`isRuÂšg
()) {

21 ! 
mygame
.
	`upd©e
());

24 
ušt16_t
 
xx
 = 0;

25  
ušt16_t
 
x
=0; x < 220*2-4; x+=2 ) {

27 if(
x
<220)

28 
xx
 = 
x
;

30 
xx
 = 
x
 - 220 + 1;

32 if(
doD¿wB™m­
) {

37 
mygame
.
di¥Ïy
.
	`£tClReù
(
xx
, 0, 1, 176);

38 
mygame
.
di¥Ïy
.
	`d¿wB™m­
(0, 0, 
pok™to_bmp
);

45 
mygame
.
di¥Ïy
.
	`£tCŞÜ
(0);

46 
mygame
.
di¥Ïy
.
	`flReùªgË
(
xx
, 0, 1, 176);

50 ! 
mygame
.
	`upd©e
(
çl£
, 
xx
, 0, 1, 176));

53 
doD¿wB™m­
 = !doDrawBitmap;

57 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\WavePlayer\My_settings.h

12 #iâdeà
MY_SETTINGS_H


13 
	#MY_SETTINGS_H


	)

15 
	#PROJ_HIRES
 0

16 
	#PROJ_ENABLE_SOUND
 1

17 
	#PROJ_ENABLE_SYNTH
 1

	)

18 
	#PROJ_SOUND_BUFFERED
 1

19 
	#NOPETITFATFS


	)

20 
	#PROJ_AUD_FREQ
 11025

21 
	#PROJ_FPS
 40

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\WavePlayer\main.cpp

2 
	~"Pok™to.h
"

3 
	~"SDFeSy¡em.h
"

4 
	~"wave_¶ay”.h
"

6 
SDFeSy¡em
 
sd
Ğ
P0_9
, 
P0_8
, 
P0_6
, 
P0_7
, "sd");

8 
	gPok™to
::
CÜe
 
game
;

10 
wave_¶ay”
 
	gwav”
;

11 
FILE
 *
	gå
 = 
NULL
;

13 
	$maš
() {

16 
å
 = 
	`fİ’
("/sd/play11.wav", "rb");

18 if(
å
 =ğ
NULL
){

19 
game
.
di¥Ïy
.
	`´šn
("Couldn't open file");

21 
wav”
.
	`£t_v”bos™y
(0);

22 
wav”
.
	`¶ay2
(
å
);

23 
game
.
	`begš
();

24 
game
.
di¥Ïy
.
	`lßdRGBP®‘‹
(
·Ë‰eRašbow
);

25 
game
.
di¥Ïy
.
·Ë‰e
[0]=0;

26 
ušt8_t
 
ob
=0, 
cou
=1;

27 
game
.
	`isRuÂšg
())

29 
wav”
.
	`upd©e
(
å
);

30 ià(
game
.
	`upd©e
()) {

34 
i
=0;i<110;i++) {

35 
game
.
di¥Ïy
.
	`d¿wPix–
(
i
,game.di¥Ïy.
height
/2+((
št16_t
)
soundbuf
[
soundbufšdex
+i]-127)/2,soundbuf[soundbufindex+i]>>3);

37 
ob
 = 
soundbuf
[
soundbufšdex
]>>2;

38 
game
.
di¥Ïy
.
	`£tCŞÜ
(
ob
/2);

39 
game
.
di¥Ïy
.
	`d¿wCœşe
(game.di¥Ïy.
width
/2,game.di¥Ïy.
height
/2,
ob
);

44 
	`f£ek
(
å
, 0, 
SEEK_SET
);

45 
	`wa™
(3.0);

46 
	`fşo£
(
å
);

47 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\WavePlayer\wave_player.cpp

14 
	~"Pok™to.h
"

15 
	~"HWSound.h
"

16 
	~<¡dio.h
>

17 
	~<wave_¶ay”.h
>

19 
	gPok™to
::
Di¥Ïy
 
_wpdi¥
;

23 
	gwave_¶ay”
::
	$wave_¶ay”
()

27 
v”bos™y
=0;

28 
	}
}

37 
	gwave_¶ay”
::
	$£t_v”bos™y
(
v
)

39 
v”bos™y
=
v
;

40 
	}
}

49 
	gwave_¶ay”
::
	$¶ay
(
FILE
 *
wavefe
)

51 
chunk_id
,
chunk_size
,
chªÃl
;

52 
d©a
,
§mp_št
,
i
;

53 
dac_d©a
;

54 
¦iû_v®ue
;

55 *
¦iû_buf
;

56 *
d©a_¥Œ
;

57 *
d©a_b±r
;

58 *
d©a_w±r
;

59 
FMT_STRUCT
 
wav_fÜm©
;

60 
¦iû
,
num_¦iûs
;

61 
DAC_w±r
=0;

62 
DAC_½Œ
=0;

63 
i
=0;i<256;i+=2) {

64 
DAC_fifo
[
i
]=0;

65 
DAC_fifo
[
i
+1]=3000;

67 
DAC_w±r
=4;

68 
DAC_Ú
=0;

70 
	`ä—d
(&
chunk_id
,4,1,
wavefe
);

71 
	`ä—d
(&
chunk_size
,4,1,
wavefe
);

72 !
	`ãof
(
wavefe
)) {

73 ià(
v”bos™y
) {

74 
_wpdi¥
.
	`´št
("Read chunk ID: ");

75 
_wpdi¥
.
	`´št
(
chunk_id
);

76 
_wpdi¥
.
	`´št
(", size: ");

77 
_wpdi¥
.
	`´šn
(
chunk_size
); }

78 
chunk_id
) {

80 
	`ä—d
(&
d©a
,4,1,
wavefe
);

81 ià(
v”bos™y
) {

82 
_wpdi¥
.
	`´šn
("RIFF chunk");

83 
_wpdi¥
.
	`´št
(" chunk size: ");

84 
_wpdi¥
.
	`´št
(
chunk_size
);

85 
_wpdi¥
.
	`´št
(" RIFFype: ");

86 
_wpdi¥
.
	`´šn
(
d©a
);

90 
	`ä—d
(&
wav_fÜm©
,(wav_fÜm©),1,
wavefe
);

91 ià(
v”bos™y
) {

92 
_wpdi¥
.
	`´šn
("FORMAT chunk");

93 
_wpdi¥
.
	`´št
(" chunk size: ");

94 
_wpdi¥
.
	`´št
(
chunk_size
);

95 
_wpdi¥
.
	`´št
(" compression code: ");

96 
_wpdi¥
.
	`´šn
(
wav_fÜm©
.
comp_code
);

97 
_wpdi¥
.
	`´št
(
wav_fÜm©
.
num_chªÃls
);

98 
_wpdi¥
.
	`´šn
(" channels");

99 
_wpdi¥
.
	`´št
(
wav_fÜm©
.
§m¶e_¿‹
);

100 
_wpdi¥
.
	`´šn
(" samples/sec");

101 
_wpdi¥
.
	`´št
(
wav_fÜm©
.
avg_Bps
);

102 
_wpdi¥
.
	`´šn
(" bytes/sec");

103 
_wpdi¥
.
	`´št
(" block‡lign: ");

104 
_wpdi¥
.
	`´šn
(
wav_fÜm©
.
block_®ign
);

105 
_wpdi¥
.
	`´št
(
wav_fÜm©
.
sig_bps
);

106 
_wpdi¥
.
	`´šn
(" bits…er sample");

108 ià(
chunk_size
 > (
wav_fÜm©
))

109 
	`f£ek
(
wavefe
,
chunk_size
-(
wav_fÜm©
),
SEEK_CUR
);

113 
¦iû_buf
=(*)
	`m®loc
(
wav_fÜm©
.
block_®ign
);

114 ià(!
¦iû_buf
) {

115 
_wpdi¥
.
	`´šn
("Unableo malloc slice buffer");

116 
	`ex™
(1);

118 
num_¦iûs
=
chunk_size
/
wav_fÜm©
.
block_®ign
;

119 
§mp_št
=1000000/(
wav_fÜm©
.
§m¶e_¿‹
);

120 ià(
v”bos™y
) {

121 
_wpdi¥
.
	`´šn
("DATA chunk");

122 
_wpdi¥
.
	`´št
(" chunk size: ");

123 
_wpdi¥
.
	`´šn
(
chunk_size
);

124 
_wpdi¥
.
	`´št
(" slices: ");

125 
_wpdi¥
.
	`´šn
(
num_¦iûs
);

129 ià(
v”bos™y
)

130 
tick
.
	`©ch_us
(
this
,&
wave_¶ay”
::
dac_out
, 500000);

132 
tick
.
	`©ch_us
(
this
,&
wave_¶ay”
::
dac_out
, 
§mp_št
);

133 
DAC_Ú
=1;

145 
¦iû
=0;¦iû<
num_¦iûs
;slice+=1) {

146 
	`ä—d
(
¦iû_buf
,
wav_fÜm©
.
block_®ign
,1,
wavefe
);

147 ià(
	`ãof
(
wavefe
)) {

148 
_wpdi¥
.
	`´šn
("Oops --‚otƒnough slices inhe wave file");

149 
	`ex™
(1);

151 
d©a_¥Œ
=(*)
¦iû_buf
;

152 
d©a_b±r
=(*)
¦iû_buf
;

153 
d©a_w±r
=(*)
¦iû_buf
;

154 
¦iû_v®ue
=0;

155 
chªÃl
=0;chªÃl<
wav_fÜm©
.
num_chªÃls
;channel++) {

156 
wav_fÜm©
.
sig_bps
) {

158 ià(
v”bos™y
) {

159 
_wpdi¥
.
	`´št
("16 bit channel ");

160 
_wpdi¥
.
	`´št
(
chªÃl
);

161 
_wpdi¥
.
	`´št
(" data=");

162 
_wpdi¥
.
	`´šn
(
d©a_¥Œ
[
chªÃl
]); }

163 
¦iû_v®ue
+=
d©a_¥Œ
[
chªÃl
];

166 ià(
v”bos™y
) {

167 
_wpdi¥
.
	`´št
("32 bit channel ");

168 
_wpdi¥
.
	`´št
(
chªÃl
);

169 
_wpdi¥
.
	`´št
(" data=");

170 
_wpdi¥
.
	`´šn
(
d©a_w±r
[
chªÃl
]);}

171 
¦iû_v®ue
+=
d©a_w±r
[
chªÃl
];

174 ià(
v”bos™y
) {

175 
_wpdi¥
.
	`´št
("8 bit channel ");

176 
_wpdi¥
.
	`´št
(
chªÃl
);

177 
_wpdi¥
.
	`´št
(" data=");

178 
_wpdi¥
.
	`´šn
(()
d©a_b±r
[
chªÃl
]); }

179 
¦iû_v®ue
+=
d©a_b±r
[
chªÃl
];

183 
¦iû_v®ue
/=
wav_fÜm©
.
num_chªÃls
;

187 
wav_fÜm©
.
sig_bps
) {

188 8: 
¦iû_v®ue
<<=8;

190 16: 
¦iû_v®ue
+=32768;

192 32: 
¦iû_v®ue
>>=16;

193 
¦iû_v®ue
+=32768;

196 
dac_d©a
=()
¦iû_v®ue
;

197 
DAC_fifo
[
DAC_w±r
]=
dac_d©a
;

198 
DAC_w±r
=(DAC_wptr+1) & 0xff;

199 
DAC_w±r
==
DAC_½Œ
) {

202 
DAC_Ú
=0;

203 
tick
.
	`d‘ach
();

204 
	`ä“
(
¦iû_buf
);

207 ià(
v”bos™y
) {

208 
_wpdi¥
.
	`´št
("INFO chunk, size: ");

209 
_wpdi¥
.
	`´šn
(
chunk_size
); }

210 
	`f£ek
(
wavefe
,
chunk_size
,
SEEK_CUR
);

213 
_wpdi¥
.
	`´št
("unknown chunkype: ");

214 
_wpdi¥
.
	`´št
(
chunk_id
);

215 
_wpdi¥
.
	`´št
(", size:");

216 
_wpdi¥
.
	`´šn
(
chunk_size
);

217 
d©a
=
	`f£ek
(
wavefe
,
chunk_size
,
SEEK_CUR
);

220 
	`ä—d
(&
chunk_id
,4,1,
wavefe
);

221 
	`ä—d
(&
chunk_size
,4,1,
wavefe
);

223 
	}
}

234 
	gchunk_id
,
	gchunk_size
,
	gchªÃl
;

235 
	gd©a
,
	g§mp_št
,
	gi
;

236 
	gdac_d©a
;

237 
	g¦iû_v®ue
;

238 *
	g¦iû_buf
;

239 *
	gd©a_¥Œ
;

240 *
	gd©a_b±r
;

241 *
	gd©a_w±r
;

242 
FMT_STRUCT
 
	gwav_fÜm©
;

243 
	g¦iû
,
	gnum_¦iûs
;

245 
	gwave_¶ay”
::
	$¶ay2
(
FILE
 *
wavefe
)

248 
cu¼’t_FIFO
=0;

249 
DAC_w±r
=0;

250 
DAC_½Œ
=0;

251 
DAC_w±r
=4;

252 
DAC_Ú
=0;

253 
š™dÚe
=0;

255 
	`ä—d
(&
chunk_id
,4,1,
wavefe
);

256 
	`ä—d
(&
chunk_size
,4,1,
wavefe
);

257 !
	`ãof
(
wavefe
è&& !
š™dÚe
) {

258 ià(
v”bos™y
) {

259 
_wpdi¥
.
	`´št
("Read chunk ID: ");

260 
_wpdi¥
.
	`´št
(
chunk_id
);

261 
_wpdi¥
.
	`´št
(", size: ");

262 
_wpdi¥
.
	`´šn
(
chunk_size
); }

263 
chunk_id
) {

265 
	`ä—d
(&
d©a
,4,1,
wavefe
);

266 ià(
v”bos™y
) {

267 
_wpdi¥
.
	`´šn
("RIFF chunk");

268 
_wpdi¥
.
	`´št
(" chunk size: ");

269 
_wpdi¥
.
	`´št
(
chunk_size
);

270 
_wpdi¥
.
	`´št
(" RIFFype: ");

271 
_wpdi¥
.
	`´šn
(
d©a
);

275 
	`ä—d
(&
wav_fÜm©
,(wav_fÜm©),1,
wavefe
);

276 ià(
v”bos™y
) {

277 
_wpdi¥
.
	`´šn
("FORMAT chunk");

278 
_wpdi¥
.
	`´št
(" chunk size: ");

279 
_wpdi¥
.
	`´št
(
chunk_size
);

280 
_wpdi¥
.
	`´št
(" compression code: ");

281 
_wpdi¥
.
	`´šn
(
wav_fÜm©
.
comp_code
);

282 
_wpdi¥
.
	`´št
(
wav_fÜm©
.
num_chªÃls
);

283 
_wpdi¥
.
	`´šn
(" channels");

284 
_wpdi¥
.
	`´št
(
wav_fÜm©
.
§m¶e_¿‹
);

285 
_wpdi¥
.
	`´šn
(" samples/sec");

286 
_wpdi¥
.
	`´št
(
wav_fÜm©
.
avg_Bps
);

287 
_wpdi¥
.
	`´šn
(" bytes/sec");

288 
_wpdi¥
.
	`´št
(" block‡lign: ");

289 
_wpdi¥
.
	`´šn
(
wav_fÜm©
.
block_®ign
);

290 
_wpdi¥
.
	`´št
(
wav_fÜm©
.
sig_bps
);

291 
_wpdi¥
.
	`´šn
(" bits…er sample");

293 ià(
chunk_size
 > (
wav_fÜm©
))

294 
	`f£ek
(
wavefe
,
chunk_size
-(
wav_fÜm©
),
SEEK_CUR
);

299 
¦iû_buf
=(*)
	`m®loc
(
wav_fÜm©
.
block_®ign
*
SBUFSIZE
);

300 ià(!
¦iû_buf
) {

301 
_wpdi¥
.
	`´šn
("Unableo malloc slice buffer");

302 
	`ex™
(1);

304 
num_¦iûs
=
chunk_size
/
wav_fÜm©
.
block_®ign
;

305 
§mp_št
=1000000/(
wav_fÜm©
.
§m¶e_¿‹
);

306 ià(
v”bos™y
) {

307 
_wpdi¥
.
	`´šn
("DATA chunk");

308 
_wpdi¥
.
	`´št
(" chunk size: ");

309 
_wpdi¥
.
	`´šn
(
chunk_size
);

310 
_wpdi¥
.
	`´št
(" slices: ");

311 
_wpdi¥
.
	`´šn
(
num_¦iûs
);

317 
¦iû
=0;¦iû<
SBUFSIZE
;slice+=1) {

318 
	`ä—d
(
¦iû_buf
,
wav_fÜm©
.
block_®ign
,1,
wavefe
);

319 ià(
	`ãof
(
wavefe
)) {

320 
_wpdi¥
.
	`´šn
("Oops --‚otƒnough slices inhe wave file");

321 
	`ex™
(1);

323 
d©a_¥Œ
=(*)
¦iû_buf
;

324 
d©a_b±r
=(*)
¦iû_buf
;

325 
d©a_w±r
=(*)
¦iû_buf
;

326 
¦iû_v®ue
=0;

327 
chªÃl
=0;chªÃl<
wav_fÜm©
.
num_chªÃls
;channel++) {

328 
wav_fÜm©
.
sig_bps
) {

330 
¦iû_v®ue
+=
d©a_¥Œ
[
chªÃl
];

333 
¦iû_v®ue
+=
d©a_w±r
[
chªÃl
];

336 
¦iû_v®ue
+=
d©a_b±r
[
chªÃl
];

340 
¦iû_v®ue
/=
wav_fÜm©
.
num_chªÃls
;

344 
wav_fÜm©
.
sig_bps
) {

345 8: 
¦iû_v®ue
<<=8;

347 16: 
¦iû_v®ue
+=32768;

349 32: 
¦iû_v®ue
>>=16;

350 
¦iû_v®ue
+=32768;

353 
dac_d©a
=()
¦iû_v®ue
;

354 
soundbuf
[
DAC_w±r
]=
dac_d©a
/256;

355 
DAC_w±r
=(DAC_wptr+1);

359 
š™dÚe
=1;

360 
soundbufšdex
=0;

361 
cu¼’t_FIFO
=0;

364 ià(
v”bos™y
) {

365 
_wpdi¥
.
	`´št
("INFO chunk, size: ");

366 
_wpdi¥
.
	`´šn
(
chunk_size
); }

367 
	`f£ek
(
wavefe
,
chunk_size
,
SEEK_CUR
);

370 
_wpdi¥
.
	`´št
("unknown chunkype: ");

371 
_wpdi¥
.
	`´št
(
chunk_id
);

372 
_wpdi¥
.
	`´št
(", size:");

373 
_wpdi¥
.
	`´šn
(
chunk_size
);

374 
d©a
=
	`f£ek
(
wavefe
,
chunk_size
,
SEEK_CUR
);

377 
	`ä—d
(&
chunk_id
,4,1,
wavefe
);

378 
	`ä—d
(&
chunk_size
,4,1,
wavefe
);

380 
	}
}

383 
	gwave_¶ay”
::
	$upd©e
(
FILE
 *
wavefe
)

385 
DAC_w±r
=0; 
Pok™to
::
¡»amÚ
=1;

386 ià(
soundbufšdex
>(
SBUFSIZE
/4)-1 && 
cu¼’t_FIFO
 == 0) {

388 
	`ä—d
(
¦iû_buf
,
wav_fÜm©
.
block_®ign
,
SBUFSIZE
/4,
wavefe
);

389 
¦iû
=0;¦iû<
SBUFSIZE
/4;) {

390 
d©a_¥Œ
=(*)(
¦iû_buf
+(
¦iû
<<1)); slice++;

391 
¦iû_v®ue
=
d©a_¥Œ
[0]+32768;

392 
soundbuf
[
¦iû
]=
¦iû_v®ue
>>8;

394 
cu¼’t_FIFO
++;

395 } ià(
soundbufšdex
>(
SBUFSIZE
/2)-1 && 
cu¼’t_FIFO
 == 1)

398 
	`ä—d
(
¦iû_buf
,
wav_fÜm©
.
block_®ign
,
SBUFSIZE
/4,
wavefe
);

399 
¦iû
=0;¦iû<
SBUFSIZE
/4;) {

400 
d©a_¥Œ
=(*)(
¦iû_buf
+(
¦iû
<<1)); slice++;

401 
¦iû_v®ue
=
d©a_¥Œ
[0]+32768;

402 
soundbuf
[
¦iû
+
SBUFSIZE
/4]=
¦iû_v®ue
>>8;

404 
cu¼’t_FIFO
++;

405 } ià(
soundbufšdex
>((
SBUFSIZE
/4)*3)-1 && 
cu¼’t_FIFO
 == 2)

408 
	`ä—d
(
¦iû_buf
,
wav_fÜm©
.
block_®ign
,
SBUFSIZE
/4,
wavefe
);

409 
¦iû
=0;¦iû<
SBUFSIZE
/4;) {

410 
d©a_¥Œ
=(*)(
¦iû_buf
+(
¦iû
<<1)); slice++;

411 
¦iû_v®ue
=
d©a_¥Œ
[0]+32768;

412 
soundbuf
[
¦iû
+(
SBUFSIZE
/2)]=
¦iû_v®ue
>>8;

414 
cu¼’t_FIFO
++;

415 } ià(
soundbufšdex
<((
SBUFSIZE
/4)è&& 
cu¼’t_FIFO
 == 3)

418 
	`ä—d
(
¦iû_buf
,
wav_fÜm©
.
block_®ign
,
SBUFSIZE
/4,
wavefe
);

419 
¦iû
=0;¦iû<
SBUFSIZE
/4;) {

420 
d©a_¥Œ
=(*)(
¦iû_buf
+(
¦iû
<<1)); slice++;

421 
¦iû_v®ue
=
d©a_¥Œ
[0]+32768;

422 
soundbuf
[
¦iû
+((
SBUFSIZE
/4)*3)]=
¦iû_v®ue
>>8;

424 
cu¼’t_FIFO
=0;

504 
	}
}

506 
	gwave_¶ay”
::
	$dac_out
()

508 ià(
DAC_Ú
) {

511 
soundbuf
[
DAC_½Œ
] = (
DAC_fifo
[DAC_rptr]>>8);

513 
DAC_½Œ
=(DAC_rptr+1) & 0xff;

515 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\WavePlayer\wave_player.h

1 
	~"Pok™to.h
"

3 
	suFMT_STRUCT
 {

4 
	mcomp_code
;

5 
	mnum_chªÃls
;

6 
	m§m¶e_¿‹
;

7 
	mavg_Bps
;

8 
	mblock_®ign
;

9 
	msig_bps
;

10 } 
	tFMT_STRUCT
;

33 şas 
	cwave_¶ay”
 {

35 
	mpublic
:

40 
wave_¶ay”
();

46 
¶ay
(
FILE
 *
wavefe
);

48 
¶ay2
(
FILE
 *
wavefe
);

50 
upd©e
(
FILE
 *
wavefe
);

63 
£t_v”bos™y
(
v
);

65 
	m´iv©e
:

66 
dac_out
();

67 
	mv”bos™y
;

69 
Tick”
 
	mtick
;

70 
	mDAC_fifo
[256];

71 
	mcu¼’t_FIFO
;

72 
	mDAC_w±r
;

73 vŞ©
	mDAC_½Œ
;

74 
	mDAC_Ú
;

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Zuzupong\My_settings.h

12 #iâdeà
MY_SETTINGS_H


13 
	#MY_SETTINGS_H


	)

15 
	#PROJ_HIRES
 0

16 
	#PROJ_ENABLE_SOUND
 1

17 

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Zuzupong\textures.h

1 #iâdeà
TEXTURES_H_INCLUDED


2 
	#TEXTURES_H_INCLUDED


	)

4 
	~<¡dšt.h
>

7 cÚ¡ 
ušt16_t
 
	gdeçuÉ36
[] = {

11 cÚ¡ 
ušt8_t
 
	g·ddËg»’
[] =

35 cÚ¡ 
ušt8_t
 
	g·ddË»d
[] =

60 cÚ¡ 
ušt8_t
 
	gb®lg»’
[] =

70 cÚ¡ 
ušt8_t
 
	gb®Ìed
[] =

80 cÚ¡ 
ušt8_t
 
	gb®lÜªge
[] =

90 cÚ¡ 
ušt8_t
 
	gb®ly–low
[] =

100 cÚ¡ 
ušt8_t
 
	gb®lblue
[] =

110 cÚ¡ 
ušt8_t
 
	gb®lg¿y
[] =

121 cÚ¡ 
ušt8_t
 
	gt™Ë
[] =

145 cÚ¡ 
ušt8_t
 
	gbŠa
[] =

159 cÚ¡ 
ušt8_t
 
	gback¬row
[] =

	@C:\PokittoLib_Git\PokittoLib_curr\Examples\Zuzupong\zuzupong.cpp

1 
	~"Pok™to.h
"

2 
	~"‹xtu»s.h
"

4 
	gPok™to
::
CÜe
 
game
;

6 
scÜ•ošt
(
boŞ
 
void»£t
);

7 
’dgame
(
boŞ
 
void»£t2
);

9 
	g¡©us
 = 0;

10 
	gcursÜ
 = 0;

11 
boŞ
 
	gshowdifficuÉy
 = 0;

12 
boŞ
 
	gshowb®lmovem’t
 = 0;

13 
	gb®lcŞÜ
 = 0;

14 
	gdifficuÉy£‰šg
 = 60;

16 
	g·d¶ay”
 = 34;

17 
	g·dcom
 = 34;

18 
	gb®lx
 = 52;

19 
	gb®ly
 = 41;

20 
	gmovex
 = 0;

21 
	gmovey
 = 0;

22 
	gscÜ•Ïy”
 = 0;

23 
	gscÜecom
 = 0;

24 
	gsü“nW
 = 110;

25 
	gsü“nH
 = 88;

26 
	gmovecom
 = 0;

27 
	gmov•Ïy”
 = 0;

28 
	gdifficuÉy
 = 60;

29 
boŞ
 
	ggame¡¬t
 = 0;

30 
boŞ
 
	gwš
 = 0;

32 
	$maš
 ()

34 
game
.
di¥Ïy
.
width
 = 
sü“nW
;

35 
game
.
di¥Ïy
.
height
 = 
sü“nH
;

36 
game
.
di¥Ïy
.
	`lßd565P®‘‹
(
deçuÉ36
);

37 
game
.
	`£tF¿meR©e
(60);

39 
game
.
	`begš
();

40 
game
.
di¥Ïy
.
	`£tFÚt
(
fÚt5x7
);

42 
game
.
	`isRuÂšg
())

44 ià(
game
.
	`upd©e
())

49 ià(
¡©us
 == 0)

52 ià(
cursÜ
 == 0)

54 
cursÜ
 = 30;

56 ià(
game
.
bu‰Ús
.
	`´es£d
(
BTN_DOWN
è&& (
cursÜ
 < 50))

58 
cursÜ
 += 10;

60 ià(
game
.
bu‰Ús
.
	`´es£d
(
BTN_UP
è&& (
cursÜ
 > 30))

62 
cursÜ
 -= 10;

64 ià(
game
.
bu‰Ús
.
	`»Ëa£d
(
BTN_A
))

66 
¡©us
 = ((
cursÜ
 / 10) - 2);

67 
cursÜ
 = 0;

68 
	`’dgame
(1);

71 
game
.
di¥Ïy
.
	`d¿wB™m­
(0,0,
t™Ë
);

72 
game
.
di¥Ïy
.
	`£tCursÜ
(20,30);

73 
game
.
di¥Ïy
.
	`´št
("Play");

74 
game
.
di¥Ïy
.
	`£tCursÜ
(20,40);

75 
game
.
di¥Ïy
.
	`´št
("Settings");

76 
game
.
di¥Ïy
.
	`£tCursÜ
(20,50);

77 
game
.
di¥Ïy
.
	`´št
("About");

78 
game
.
di¥Ïy
.
	`£tCursÜ
(90,80);

79 
game
.
di¥Ïy
.
	`´št
("1.0");

81 
game
.
di¥Ïy
.
	`£tCursÜ
(10,
cursÜ
);

82 
game
.
di¥Ïy
.
	`´št
(">");

87 ià(
¡©us
 == 2)

90 ià(
cursÜ
 == 0)

92 
cursÜ
 = 20;

94 ià(
game
.
bu‰Ús
.
	`´es£d
(
BTN_DOWN
è&& (
cursÜ
 < 60))

96 ià(
cursÜ
 == 20) cursor += 20;

97 
cursÜ
 += 10;

99 ià(
game
.
bu‰Ús
.
	`´es£d
(
BTN_UP
è&& (
cursÜ
 > 20))

101 ià(
cursÜ
 == 40) cursor -= 20;

102 
cursÜ
 -= 10;

104 ià(
game
.
bu‰Ús
.
	`´es£d
(
BTN_B
))

106 
¡©us
 = 0;

107 
cursÜ
 = 0;

109 ià(
game
.
bu‰Ús
.
	`´es£d
(
BTN_LEFT
))

111 ià(
cursÜ
 =ğ20 && 
b®lcŞÜ
 > 0) ballcolor -= 1;

112 ià(
cursÜ
 =ğ40è
showb®lmovem’t
 = 0;

113 ià(
cursÜ
 =ğ50è
showdifficuÉy
 = 0;

114 ià(
cursÜ
 =ğ60 && 
difficuÉy£‰šg
 < 80) difficultysetting += 10;

116 ià(
game
.
bu‰Ús
.
	`´es£d
(
BTN_RIGHT
))

118 ià(
cursÜ
 =ğ20 && 
b®lcŞÜ
 < 4) ballcolor += 1;

119 ià(
cursÜ
 =ğ40è
showb®lmovem’t
 = 1;

120 ià(
cursÜ
 =ğ50è
showdifficuÉy
 = 1;

121 ià(
cursÜ
 =ğ60 && 
difficuÉy£‰šg
 > 40) difficultysetting -= 10;

124 
game
.
di¥Ïy
.
	`£tCursÜ
(1,1);

125 
game
.
di¥Ïy
.
	`´št
("SETTINGS:");

127 
game
.
di¥Ïy
.
	`£tCursÜ
(15,20);

128 
game
.
di¥Ïy
.
	`´št
("Ball: ");

129 ià(
b®lcŞÜ
 == 0)

131 
game
.
di¥Ïy
.
	`d¿wB™m­
(50,21,
b®lg»’
);

132 
game
.
di¥Ïy
.
	`d¿wB™m­
(58,21,
b®Ìed
);

134 ià(
b®lcŞÜ
 =ğ1è
game
.
di¥Ïy
.
	`d¿wB™m­
(50,21,
b®lÜªge
);

135 ià(
b®lcŞÜ
 =ğ2è
game
.
di¥Ïy
.
	`d¿wB™m­
(50,21,
b®ly–low
);

136 ià(
b®lcŞÜ
 =ğ3è
game
.
di¥Ïy
.
	`d¿wB™m­
(50,21,
b®lblue
);

137 ià(
b®lcŞÜ
 =ğ4è
game
.
di¥Ïy
.
	`d¿wB™m­
(50,21,
b®lg¿y
);

138 
game
.
di¥Ïy
.
	`£tCursÜ
(15,40);

139 
game
.
di¥Ïy
.
	`´št
("shwBllMvmnt: ");

140 ià(
showb®lmovem’t
 =ğ0è
game
.
di¥Ïy
.
	`´št
("off");

141 ià(
showb®lmovem’t
 =ğ1è
game
.
di¥Ïy
.
	`´št
("on");

142 
game
.
di¥Ïy
.
	`£tCursÜ
(15,50);

143 
game
.
di¥Ïy
.
	`´št
("shwDffclty: ");

144 ià(
showdifficuÉy
 =ğ0è
game
.
di¥Ïy
.
	`´št
("off");

145 ià(
showdifficuÉy
 =ğ1è
game
.
di¥Ïy
.
	`´št
("on");

146 
game
.
di¥Ïy
.
	`£tCursÜ
(15,60);

147 
game
.
di¥Ïy
.
	`´št
("strtDffclty: ");

148 ià(
difficuÉy£‰šg
 =ğ80è
game
.
di¥Ïy
.
	`´št
("--");

149 ià(
difficuÉy£‰šg
 =ğ70è
game
.
di¥Ïy
.
	`´št
("-");

150 ià(
difficuÉy£‰šg
 =ğ60è
game
.
di¥Ïy
.
	`´št
("0");

151 ià(
difficuÉy£‰šg
 =ğ50è
game
.
di¥Ïy
.
	`´št
("+");

152 ià(
difficuÉy£‰šg
 =ğ40è
game
.
di¥Ïy
.
	`´št
("++");

153 
game
.
di¥Ïy
.
	`d¿wB™m­
(2,76,
back¬row
);

155 
game
.
di¥Ïy
.
	`£tCursÜ
(5,
cursÜ
);

156 
game
.
di¥Ïy
.
	`´št
(">");

161 ià(
¡©us
 == 3)

164 ià(
game
.
bu‰Ús
.
	`´es£d
(
BTN_B
))

166 
¡©us
 = 0;

167 
cursÜ
 = 0;

168 
	`’dgame
(1);

171 
game
.
di¥Ïy
.
	`d¿wB™m­
(2,2,
·ddËg»’
);

172 
game
.
di¥Ïy
.
	`d¿wB™m­
(13,2,
·ddË»d
);

173 
game
.
di¥Ïy
.
	`d¿wB™m­
(24,2,
b®lg»’
);

174 
game
.
di¥Ïy
.
	`d¿wB™m­
(35,2,
b®Ìed
);

175 
game
.
di¥Ïy
.
	`d¿wB™m­
(46,2,
b®lÜªge
);

176 
game
.
di¥Ïy
.
	`d¿wB™m­
(57,2,
b®ly–low
);

177 
game
.
di¥Ïy
.
	`d¿wB™m­
(68,2,
b®lblue
);

178 
game
.
di¥Ïy
.
	`d¿wB™m­
(79,2,
b®lg¿y
);

180 
game
.
di¥Ïy
.
	`£tCursÜ
(5,55);

181 
game
.
di¥Ïy
.
	`´št
("By: Zuzu36");

182 
game
.
di¥Ïy
.
	`£tCursÜ
(5,65);

183 
game
.
di¥Ïy
.
	`´št
("Made for Pokitto");

184 
game
.
di¥Ïy
.
	`d¿wB™m­
(2,76,
back¬row
);

189 ià(
¡©us
 == 1)

192 ià(
game
.
bu‰Ús
.
	`»³©
(
BTN_UP
,0è&& (
·d¶ay”
 > 0è&& (
game¡¬t
 == 1))

194 
·d¶ay”
 -= 2;

195 
mov•Ïy”
 = -1;

197 
mov•Ïy”
 = 0;

198 ià(
game
.
bu‰Ús
.
	`»³©
(
BTN_DOWN
,0è&& (
·d¶ay”
 < 67è&& (
game¡¬t
 == 1))

200 
·d¶ay”
 += 2;

201 
mov•Ïy”
 = 1;

203 
mov•Ïy”
 = 0;

204 ià(
game
.
bu‰Ús
.
	`´es£d
(
BTN_A
è&& (
game¡¬t
 == 0))

206 ià(
wš
 == 0)

208 
movex
 = 3;

210 ià(
wš
 == 1)

212 
movex
 = -3;

214 
game¡¬t
 = 1;

216 ià(
game
.
bu‰Ús
.
	`h–d
(
BTN_C
,15))

218 
¡©us
 = 0;

219 
	`’dgame
(1);

222 ià((
movecom
 > -2) && (movecom < 2))

224 
movecom
 = 
	`¿ndom
(-2,2);

226 ià((
difficuÉy
 == 10)||(difficulty == 100))

228 
	`’dgame
(1);

230 
difficuÉy
 = (
difficuÉy£‰šg
 - ((
scÜ•Ïy”
 - 
scÜecom
)*2));

232 ià(
game¡¬t
 == 1)

234 
b®lx
 +ğ
movex
;

235 
b®ly
 +ğ
movey
;

236 
·dcom
 +ğ
movecom
;

238 ià(
movey
 == 0)

240 
movey
 = 
	`¿ndom
(-1,1);

243 ià((
b®lx
 - 1 <ğ6è&& ((
b®ly
 + 6 >ğ
·d¶ay”
) && (bally <=…adplayer + 20)))

245 
movex
 = 3;

246 
movey
 +ğ((
mov•Ïy”
 / 2)+((
b®ly
 - 
·d¶ay”
) / 20));

248 ià((
b®lx
 + 7 >ğ
sü“nW
 - 6è&& ((
b®ly
 + 6>ğ
·dcom
) && (bally <=…adcom + 20)))

250 
movex
 = -3;

251 
movey
 +ğ((
movecom
 / 4)+((
b®ly
 -
·dcom
) / 20));

253 ià((
b®ly
 <= 0) || (bally + 6 >= 88))

255 
movey
 *= -1;

258 ià(
b®lx
 <= 0)

260 
scÜecom
 += 1;

261 
wš
 = 0;

262 
	`scÜ•ošt
(1);

264 ià(
b®lx
 + 6 >ğ
sü“nW
)

266 
scÜ•Ïy”
 += 1;

267 
wš
 = 1;

268 
	`scÜ•ošt
(1);

270 ià((
scÜ•Ïy”
 =ğ100è|| (
scÜecom
 == 100))

272 
	`’dgame
(1);

275 ià((
b®lx
 > 
difficuÉy
è&& (
movex
 > 0))

277 ià(
b®ly
 < 
·dcom
 &&…adcom > 1)

279 
movecom
 = -2;

281 ià(
b®ly
 + 6 > 
·dcom
 + 20 &&…adcom + 20 < 86)

283 
movecom
 = 2;

286 ià(
·dcom
 - 1 <= 0)

288 
movecom
 = 2;

290 ià(
·dcom
 + 21 >= 86)

292 
movecom
 = -2;

297 
game
.
di¥Ïy
.
	`£tCursÜ
(30,26);

298 
game
.
di¥Ïy
.
	`´št
("Ready?");

299 
game
.
di¥Ïy
.
	`d¿wB™m­
(70,24,
bŠa
);

302 ià(
showdifficuÉy
 == 1)

304 
game
.
di¥Ïy
.
	`£tCursÜ
(1,81);

305 
game
.
di¥Ïy
.
	`´št
(
difficuÉy
);

307 ià(
showb®lmovem’t
 == 1)

309 
game
.
di¥Ïy
.
	`£tCursÜ
(1,1);

310 
game
.
di¥Ïy
.
	`´št
(
movey
);

312 ià(
scÜ•Ïy”
 < 10è
game
.
di¥Ïy
.
	`£tCursÜ
(43,5);

313 
game
.
di¥Ïy
.
	`£tCursÜ
(37,5);

314 
game
.
di¥Ïy
.
	`´št
(
scÜ•Ïy”
);

315 
game
.
di¥Ïy
.
	`´št
(" - ");

316 
game
.
di¥Ïy
.
	`´št
(
scÜecom
);

317 
game
.
di¥Ïy
.
	`d¿wB™m­
(0,
·d¶ay”
,
·ddËg»’
);

318 
game
.
di¥Ïy
.
	`d¿wB™m­
(
sü“nW
 - 6,
·dcom
,
·ddË»d
);

320 ià((
b®lcŞÜ
 =ğ0è&& ((
movex
 < 0è|| ((
wš
 =ğ1è&& (
game¡¬t
 =ğ0)))è
game
.
di¥Ïy
.
	`d¿wB™m­
(
b®lx
,
b®ly
,
b®Ìed
);

321 ià((
b®lcŞÜ
 =ğ0è&& ((
movex
 > 0è|| ((
wš
 =ğ0è&& (
game¡¬t
 =ğ0)))è
game
.
di¥Ïy
.
	`d¿wB™m­
(
b®lx
,
b®ly
,
b®lg»’
);

322 ià(
b®lcŞÜ
 =ğ1è
game
.
di¥Ïy
.
	`d¿wB™m­
(
b®lx
,
b®ly
,
b®lÜªge
);

323 ià(
b®lcŞÜ
 =ğ2è
game
.
di¥Ïy
.
	`d¿wB™m­
(
b®lx
,
b®ly
,
b®ly–low
);

324 ià(
b®lcŞÜ
 =ğ3è
game
.
di¥Ïy
.
	`d¿wB™m­
(
b®lx
,
b®ly
,
b®lblue
);

325 ià(
b®lcŞÜ
 =ğ4è
game
.
di¥Ïy
.
	`d¿wB™m­
(
b®lx
,
b®ly
,
b®lg¿y
);

327 
game
.
di¥Ïy
.
bgcŞÜ
 = 14;

328 
game
.
di¥Ïy
.
cŞÜ
 = 15;

333 
	}
}

335 
	$scÜ•ošt
(
boŞ
 
void»£t
)

337 
·d¶ay”
 = 34;

338 
·dcom
 = 34;

339 
b®lx
 = 52;

340 
b®ly
 = 44;

341 
movex
 = 0;

342 
movey
 = 0;

343 
game¡¬t
 = 0;

344 
movecom
 = 0;

345 
mov•Ïy”
 = 0;

346 
	}
}

348 
	$’dgame
(
boŞ
 
void»£t2
)

350 
·d¶ay”
 = 34;

351 
·dcom
 = 34;

352 
b®lx
 = 52;

353 
b®ly
 = 44;

354 
movex
 = 0;

355 
movey
 = 0;

356 
scÜ•Ïy”
 = 0;

357 
scÜecom
 = 0;

358 
game¡¬t
 = 0;

359 
wš
 = 0;

360 
movecom
 = 0;

361 
mov•Ïy”
 = 0;

362 
difficuÉy
 = 60;

363 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\TIC806x6.cpp

15 
	~"Pok™toFÚts.h
"

17 cÚ¡ 
	gfÚtTIC806x6
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\ZXSpec.cpp

12 
	~"Pok™toFÚts.h
"

14 cÚ¡ 
	gfÚtZXS³c
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\adventurer12x16.cpp

10 
	~"Pok™toFÚts.h
"

12 cÚ¡ 
	gfÚtAdv’tu»r
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\donut7x10.cpp

11 
	~"Pok™toFÚts.h
"

13 cÚ¡ 
	gfÚtDÚut
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\dragon6x8.cpp

11 
	~"Pok™toFÚts.h
"

13 cÚ¡ 
	gfÚtD¿gÚ
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\font3x3.cpp

20 #iâdeà
FONT3x3_C


21 
	#FONT3x3_C


	)

23 
	~<¡dšt.h
>

24 
	~"Pok™toFÚts.h
"

27 
	#PROGMEM


	)

28 cÚ¡ 
ušt8_t
 
	gfÚt3x3
[] 
	gPROGMEM
 = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\font3x5.cpp

20 #iâdeà
FONT3X5_C


21 
	#FONT3X5_C


	)

23 
	~<¡dšt.h
>

24 
	~"Pok™toFÚts.h
"

26 
	#PROGMEM


	)

28 cÚ¡ 
ušt8_t
 
	gfÚt3x5
[] 
	gPROGMEM
 = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\font5x7.cpp

20 #iâdeà
FONT5X7_C


21 
	#FONT5X7_C


	)

23 
	~<¡dšt.h
>

24 
	~"Pok™toFÚts.h
"

26 
	#PROGMEM


	)

30 cÚ¡ 
ušt8_t
 
	gfÚt5x7
[] 
	gPROGMEM
 = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\fontC64.cpp

11 
	~"Pok™toFÚts.h
"

13 cÚ¡ 
	gfÚtC64
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\fontC64UIGfx.cpp

13 
	~"Pok™toFÚts.h
"

15 cÚ¡ 
	gâtC64UIGfx
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\fontMonkey.cpp

11 
	~"Pok™toFÚts.h
"

13 cÚ¡ 
	gfÚtMÚkey
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\karateka8x11.cpp

11 
	~"Pok™toFÚts.h
"

13 cÚ¡ 
	gfÚtK¬©eka
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\koubit7x7.cpp

11 
	~"Pok™toFÚts.h
"

13 cÚ¡ 
	gfÚtKoub™
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\mini4x6.cpp

11 
	~"Pok™toFÚts.h
"

13 cÚ¡ 
	gfÚtMši
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\runes6x8.cpp

12 
	~"Pok™toFÚts.h
"

14 cÚ¡ 
	gfÚtRuÃs
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\tight4x7.cpp

11 
	~"Pok™toFÚts.h
"

13 cÚ¡ 
	gfÚtTight
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\tiny5x7.cpp

11 
	~"Pok™toFÚts.h
"

13 cÚ¡ 
	gfÚtTšy
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\GBcompatibility.h

1 #iâdeà
GBCOMPATIBILITY_H


2 
	#GBCOMPATIBILITY_H


	)

25 #iâdeà
SETTINGS_C


26 
	#SETTINGS_C


	)

28 
	~"bš¬y.h
"

30 
	#_BV
(
b™
) (1 << (bit))

31 

	)

32 
	#NOROT
 0

	)

33 
	#ROTCCW
 1

	)

34 
	#ROT180
 2

	)

35 
	#ROTCW
 3

	)

38 
	#WHITE
 0

	)

39 
	#BLACK
 1

	)

40 
	#GRAY
 2

	)

41 
	#INVERT
 255

	)

44 
	#NOROT
 0

	)

45 
	#ROTCCW
 1

	)

46 
	#ROT180
 2

	)

47 
	#ROTCW
 3

	)

48 
	#NOFLIP
 0

	)

49 
	#FLIPH
 1

	)

50 
	#FLIPV
 2

	)

51 
	#FLIPVH
 3

	)

58 
	#NUM_CHANNELS
 1

59 
	#DISPLAY_ROT
 
NOROT


60 
	#ENABLE_GUI
 1

61 
	#ENABLE_BITMAPS
 1

62 
	#ENABLE_GRAYSCALE
 1

63 
	#EXTENDED_NOTE_RANGE
 0

64 

	)

66 
	#ENABLE_BATTERY
 0

67 
	#ENABLE_BACKLIGHT
 0

68 

	)

72 
	#SCR_CONTRAST
 60

	)

73 
	#START_MENU_TIMER
 255

74 

	)

76 
	#SETTINGS_PAGE
 ((cÚ¡ *)(0x7800-128))

	)

77 
	#SETTINGS_TOKEN
 0xC001

	)

78 
	#OFFSET_CURRENTGAME
 2

	)

79 
	#OFFSET_USERNAME
 11

	)

80 
	#USERNAME_LENGTH
 10

	)

81 
	#OFFSET_CONTRAST
 22

	)

82 
	#OFFSET_BACKLIGHT_MIN
 23

	)

83 
	#OFFSET_BACKLIGHT_MAX
 24

	)

84 
	#OFFSET_LIGHT_MIN
 25

	)

85 
	#OFFSET_LIGHT_MAX
 27

	)

86 
	#OFFSET_VOLUME_MAX
 29

	)

87 
	#OFFSET_VOLUME_DEFAULT
 30

	)

88 
	#OFFSET_START_MENU_TIMER
 31

	)

89 
	#OFFSET_BATTERY_CRITIC
 32

	)

90 
	#OFFSET_BATTERY_LOW
 34

	)

91 
	#OFFSET_BATTERY_MED
 36

	)

92 
	#OFFSET_BATTERY_FULL
 38

	)

95 
	#KEYBOARD_W
 16

	)

96 
	#KEYBOARD_H
 8

	)

99 
	#VOLUME_CHANNEL_MAX
 255/
NUM_CHANNELS
/7/9

100 

	)

102 
	#BAT_PIN
 6

103 
	#NUM_LVL
 4

	)

104 
	#BAT_LVL_CRITIC
 3500

	)

105 
	#BAT_LVL_LOW
 3550

	)

106 
	#BAT_LVL_MED
 3700

	)

107 
	#BAT_LVL_FULL
 3900

	)

110 
	#SD_CS
 10

	)

113 
	#BACKLIGHT_PIN
 5

	)

115 
	#BACKLIGHT_MIN
 0

	)

116 
	#BACKLIGHT_MAX
 255

	)

119 
	#AMBIENTLIGHT_PIN
 
A7


	)

121 
	#AMBIENTLIGHT_MIN
 800

122 
	#AMBIENTLIGHT_MAX
 980

123 
	#AMBIENTLIGHT_SMOOTHING
 16

	)

126 
	#NUM_BTN
 7

	)

128 #ià
DISPLAY_ROT
 == 0

129 
	#BTN_UP
 1

	)

130 
	#BTN_RIGHT
 2

	)

131 
	#BTN_DOWN
 3

	)

132 
	#BTN_LEFT
 0

	)

133 #–ià
DISPLAY_ROT
 =ğ
ROTCCW


134 
	#BTN_UP
 2

	)

135 
	#BTN_RIGHT
 3

	)

136 
	#BTN_DOWN
 0

	)

137 
	#BTN_LEFT
 1

	)

138 #–ià
DISPLAY_ROT
 =ğ
ROT180


139 
	#BTN_UP
 3

	)

140 
	#BTN_RIGHT
 0

	)

141 
	#BTN_DOWN
 1

	)

142 
	#BTN_LEFT
 2

	)

143 #–ià
DISPLAY_ROT
 =ğ
ROTCW


144 
	#BTN_UP
 0

	)

145 
	#BTN_RIGHT
 1

	)

146 
	#BTN_DOWN
 2

	)

147 
	#BTN_LEFT
 3

	)

149 
	#BTN_A
 4

	)

150 
	#BTN_B
 5

	)

151 
	#BTN_C
 6

	)

153 
	#BTN_LEFT_PIN
 0

	)

154 
	#BTN_UP_PIN
 1

	)

155 
	#BTN_RIGHT_PIN
 2

	)

156 
	#BTN_DOWN_PIN
 3

	)

157 
	#BTN_A_PIN
 4

	)

158 
	#BTN_B_PIN
 5

	)

159 
	#BTN_C_PIN
 6

	)

165 cÚ¡ 
ušt16_t
 
	g¡¬tupSound
[] = {0x0005,0x3089,0x208,0x238,0x7849,0x1468,0x0000};

167 cÚ¡ 
ušt8_t
 
	ggamebušoLogo
[] =

170 
B00000011
, 
B11100001
, 
B10000001
, 
B10000110
, 
B01111111
, 
B00111110
, 
B00011000
, 
B01101101
, 
B10000011
, 
B00001111
, B00001111,

171 
B00001110
, 
B00000001
, 
B10000011
, 
B10000110
, 
B01100000
, 
B00110011
, 
B00011000
, 
B01101101
, 
B11000011
, 
B00011001
, 
B10001111
,

172 
B00011000
, 
B00000011
, 
B11000011
, 
B10001110
, 
B01100000
, 
B00110011
, B00011000, 
B01101101
, 
B11100011
, 
B00110000
, 
B11001111
,

173 
B00011000
, 
B00000011
, 
B11000011
, 
B10011110
, 
B01100000
, 
B00110110
, 
B00110000
, 
B11001101
, 
B11100011
, B01100000, 
B11001111
,

174 
B00110000
, 
B00000110
, 
B11000111
, 
B10011110
, 
B01111110
, 
B00111110
, B00110000, 
B11001101
, 
B10110011
, 
B01100000
, 
B11001111
,

175 
B00110000
, 
B00001100
, 
B11000110
, 
B11110110
, 
B01100000
, 
B00110011
, B00110000, 
B11011001
, 
B10110110
, B01100000, 
B11001111
,

176 
B00110011
, 
B11001111
, 
B11001100
, 
B11110110
, 
B01100000
, 
B01100001
, 
B10110000
, 
B11011011
, 
B00011110
, B01100000, B11001111,

177 
B00110000
, 
B11011000
, 
B01101100
, 
B11100110
, 
B11000000
, 
B01100001
, 
B10110000
, 
B11011011
, 
B00011110
, B01100001, 
B10001111
,

178 
B00011001
, 
B10011000
, 
B01101100
, 
B11000110
, 
B11000000
, 
B01100011
, 
B10110001
, 
B10011011
, 
B00001110
, 
B00110011
, 
B00001111
,

179 
B00001111
, 
B10110000
, 
B01111000
, 
B11000110
, 
B11111111
, 
B01111110
, 
B00011111
, 
B00011011
, 
B00000110
, 
B00011110
, B00001111,

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\Localization.h

37 #iâdeà
LOCALIZATION_H


38 
	#LOCALIZATION_H


	)

43 
	#STR_OK
 "OK"

	)

44 
	#STR_CANCEL
 "CANCEL"

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\Macros_LCD.h

37 #iâdeà
LCDMACROS_H


38 
	#LCDMACROS_H


	)

44 #ià
POK_BOARDREV
 == 1

46 
	#LCD_CD_PORT
 0

	)

47 
	#LCD_CD_PIN
 2

	)

48 
	#LCD_WR_PORT
 1

	)

49 
	#LCD_WR_PIN
 23

	)

50 
	#LCD_RD_PORT
 1

	)

51 
	#LCD_RD_PIN
 24

	)

52 
	#LCD_RES_PORT
 1

	)

53 
	#LCD_RES_PIN
 28

	)

56 
	#LCD_CD_PORT
 0

	)

57 
	#LCD_CD_PIN
 2

	)

58 
	#LCD_WR_PORT
 1

	)

59 
	#LCD_WR_PIN
 12

	)

60 
	#LCD_RD_PORT
 1

	)

61 
	#LCD_RD_PIN
 24

	)

62 
	#LCD_RES_PORT
 1

	)

63 
	#LCD_RES_PIN
 0

	)

70 
	#CLR_RESET
 
LPC_GPIO_PORT
->
CLR
[
LCD_RES_PORT
] = 1 << 
LCD_RES_PIN
;

71 
	#SET_RESET
 
LPC_GPIO_PORT
->
SET
[
LCD_RES_PORT
] = 1 << 
LCD_RES_PIN
;

72 

	)

73 
	#CLR_CD
 
LPC_GPIO_PORT
->
CLR
[
LCD_CD_PORT
] = 1 << 
LCD_CD_PIN
;

74 
	#SET_CD
 
LPC_GPIO_PORT
->
SET
[
LCD_CD_PORT
] = 1 << 
LCD_CD_PIN
;

75 

	)

76 
	#CLR_WR
 { 
LPC_GPIO_PORT
->
CLR
[
LCD_WR_PORT
] = 1 << 
LCD_WR_PIN
; 
	`__asm
("nop");}

77 
	#SET_WR
 
LPC_GPIO_PORT
->
SET
[
LCD_WR_PORT
] = 1 << 
LCD_WR_PIN
;

78 

	)

79 
	#CLR_RD
 
LPC_GPIO_PORT
->
CLR
[
LCD_RD_PORT
] = 1 << 
LCD_RD_PIN
;

80 
	#SET_RD
 
LPC_GPIO_PORT
->
SET
[
LCD_RD_PORT
] = 1 << 
LCD_RD_PIN
;

81 

	)

82 
	#SET_CS


83 
	#CLR_CS


	)

85 
	#CLR_CS_CD_SET_RD_WR
 {
CLR_CD
; 
SET_RD
; 
SET_WR
;}

	)

86 
	#CLR_CS_SET_CD_RD_WR
 {
SET_CD
; 
SET_RD
; 
SET_WR
;}

	)

87 
	#SET_CD_RD_WR
 {
SET_CD
; 
SET_RD
; 
SET_WR
;}

	)

88 
	#SET_WR_CS
 
SET_WR
;

	)

90 
	#SET_MASK_P2
 
LPC_GPIO_PORT
->
MASK
[2] = ~(0x7FFF8);

91 
	#CLR_MASK_P2
 
LPC_GPIO_PORT
->
MASK
[2] = 0;

92 

	)

97 
	#wr™e_commªd
 
w_cmd_16


	)

98 
	#wr™e_d©a
 
w_d©a_16


	)

100 
	#AB_JUMP
 1024

101 
	#GB_JUMP
 504

102 

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palAction.cpp

1 
	~"Pok™toP®‘‹s.h
"

5 cÚ¡ 
	g·Ë‰eAùiÚ
[48] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palCGA.cpp

1 
	~"Pok™toP®‘‹s.h
"

3 cÚ¡ 
	g·Ë‰eCGA
[48] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palDB16.cpp

1 
	~"Pok™toP®‘‹s.h
"

3 cÚ¡ 
	g·Ë‰eDB16
[48] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palDefault.cpp

1 
	~"Pok™toP®‘‹s.h
"

3 cÚ¡ 
	g·Ë‰eDeçuÉ
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palGameboy.cpp

1 
	~"Pok™toP®‘‹s.h
"

3 cÚ¡ 
	g·Ë‰eGameboy
[48] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palMagma.cpp

1 
	~"Pok™toP®‘‹s.h
"

3 cÚ¡ 
	g·Ë‰eMagma
[48] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palMono.cpp

1 
	~"Pok™toP®‘‹s.h
"

3 cÚ¡ 
	g·Ë‰eMÚo
[48] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palPico.cpp

1 
	~"Pok™toP®‘‹s.h
"

3 cÚ¡ 
	g·Ë‰ePico
[16*3] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palRainbow.cpp

1 
	~"Pok™toP®‘‹s.h
"

3 cÚ¡ 
	g·Ë‰eRašbow
[48] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palZXSpec.cpp

1 
	~"Pok™toP®‘‹s.h
"

3 cÚ¡ 
	g·Ë‰eZXS³c
[48] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoBacklight.cpp

37 
	~"Pok™toBacklight.h
"

39 
usšg
 
Çme¥aû
 
	gPok™to
;

41 
boŞ
 
	gBacklight
::
autom©ic
;

42 
ušt16_t
 
	gBacklight
::
amb›ÁLight
;

43 
ušt8_t
 
	gBacklight
::
backlightV®ue
;

44 
ušt8_t
 
	gBacklight
::
backlightMš
, Backlight::
backlightMax
;

45 
ušt16_t
 
	gBacklight
::
amb›ÁLightMš
, Backlight::
amb›ÁLightMax
;

47 
	gBacklight
::
	$begš
() {

49 
	}
}

51 
Backlight
::
	$£t
(
ušt8_t
 
v®ue
) {

53 
	}
}

55 
Backlight
::
	$upd©e
() {

57 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoBacklight.h

37 #iâdeà
POKITTO_BACKLIGHT


38 
	#POKITTO_BACKLIGHT


	)

40 
	~<¡dšt.h
>

42 
Çme¥aû
 
	gPok™to
 {

43 şas 
	cBacklight
 {

44 
	gpublic
:

45 
begš
();

46 
£t
(
ušt8_t
 
v®ue
);

47 
upd©e
();

48 
boŞ
 
	gautom©ic
;

49 
ušt16_t
 
	gamb›ÁLight
;

50 
ušt8_t
 
	gbacklightV®ue
;

51 
ušt8_t
 
	gbacklightMš
, 
	gbacklightMax
;

52 
ušt16_t
 
	gamb›ÁLightMš
, 
	gamb›ÁLightMax
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoBattery.cpp

37 
	~"Pok™toB©‹ry.h
"

39 
usšg
 
Çme¥aû
 
	gPok™to
;

41 
boŞ
 
	gB©‹ry
::
show
;

42 
ušt8_t
 
	gB©‹ry
::
Ëv–
;

43 
ušt16_t
 
	gB©‹ry
::
vŞge
;

44 
ušt16_t
 
	gB©‹ry
::
th»shŞds
[
NUM_LVL
];

45 
ušt8_t
 
	gB©‹ry
::
ÃxtUpd©e
;

47 #iâdeà
POK_SIM


48 
AÇlogIn
 
B©Lev–Pš
(
P0_23
);

51 
	gB©‹ry
::
	$begš
() {

52 #iâdeà
POK_SIM


53 
Ëv–
 = 
B©Lev–Pš
 * 0xFF;

56 
Ëv–
 = 0;

58 
	}
}

60 
	gB©‹ry
::
	$upd©e
() {

61 #iâdeà
POK_SIM


63 
Ëv–
 = 
B©Lev–Pš
 * 0xFF;

67 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoBattery.h

38 #iâdeà
POKITTOBATTERY_H


39 
	#POKITTOBATTERY_H


	)

41 
	~<¡dšt.h
>

42 
	~"Pok™to_£‰šgs.h
"

43 
	~"GBcom·tib™y.h
"

44 
	~"Pok™toGlobs.h
"

47 
Çme¥aû
 
	gPok™to
 {

49 şas 
	cB©‹ry
 {

50 
	gpublic
:

51 
begš
();

52 
upd©e
();

53 
boŞ
 
	gshow
;

54 
ušt8_t
 
	gËv–
;

55 
ušt16_t
 
	gvŞge
;

56 
ušt16_t
 
	gth»shŞds
[
NUM_LVL
];

57 
ušt8_t
 
	gÃxtUpd©e
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoButtons.cpp

37 
	~"Pok™toCÜe.h
"

39 
usšg
 
Çme¥aû
 
	gPok™to
;

41 
ušt8_t
 
	gBu‰Ús
::
pšs
[
NUM_BTN
];

42 
ušt8_t
 
	gBu‰Ús
::
¡©es
[
NUM_BTN
];

43 
ušt8_t
 
	gBu‰Ús
::
bu‰Ús_¡©e
;

44 
ušt8_t
 
	gBu‰Ús
::
bu‰Ús_h–d
;

45 
ušt8_t
 
	gBu‰Ús
::
bu‰Ús_»Ëa£d
;

46 
ušt16_t
 
	gBu‰Ús
::
cHWLÚgP»ss
 = 
CHWLONGPRESSTIMEOUT
;

49 
	gBu‰Ús
::
	$begš
() {

50 #iâdeà
POK_SIM


51 
Pok™to
::
	`š™Bu‰Ús
();

53 
	}
}

55 
	gBu‰Ús
::
	$upd©e
() {

56 #ià
POK_USE_CONSOLE


57 ià(
cÚsŞe
.
cÚscouÁ”
) ;

59 #iâdeà
POK_SIM


61 
ušt8_t
 
thisBu‰Ú
 = 0;hisBu‰Ú < 
NUM_BTN
;hisButton++) {

62 ià(
Pok™to
::
h–dS‹s
[
thisBu‰Ú
]) {

63 
¡©es
[
thisBu‰Ú
]++;

64 ià(
¡©es
[
thisBu‰Ú
]==0xFF) states[thisButton]=2;

66 ià(
¡©es
[
thisBu‰Ú
] == 0)

68 ià(
¡©es
[
thisBu‰Ú
] == 0xFF)

69 
¡©es
[
thisBu‰Ú
] = 0;

71 
¡©es
[
thisBu‰Ú
] = 0xFF;

76 
simuÏtÜ
.
	`pŞlBu‰Ús
();

77 
ušt8_t
 
thisBu‰Ú
 = 0;hisBu‰Ú < 
NUM_BTN
;hisButton++) {

78 
ušt8_t
 
‹mp
=0;

79 
thisBu‰Ú
) {

81 
‹mp
 = 
simuÏtÜ
.
	`ËáH–d
(); ;

83 
‹mp
 = 
simuÏtÜ
.
	`upH–d
(); ;

85 
‹mp
 = 
simuÏtÜ
.
	`rightH–d
(); ;

87 
‹mp
 = 
simuÏtÜ
.
	`downH–d
(); ;

89 
‹mp
 = 
simuÏtÜ
.
	`aH–d
(); ;

91 
‹mp
 = 
simuÏtÜ
.
	`bH–d
(); ;

93 
‹mp
 = 
simuÏtÜ
.
	`cH–d
(); ;

98 ià(
‹mp
 =ğ
HIGH
) {

99 
¡©es
[
thisBu‰Ú
]++;

100 ià(
¡©es
[
thisBu‰Ú
]==0xFF) states[thisButton] = 2;

102 ià(
¡©es
[
thisBu‰Ú
] == 0)

104 ià(
¡©es
[
thisBu‰Ú
] == 0xFF)

105 
¡©es
[
thisBu‰Ú
] = 0;

107 
¡©es
[
thisBu‰Ú
] = 0xFF;

112 
	}
}

118 
boŞ
 
	gBu‰Ús
::
	$´es£d
(
ušt8_t
 
bu‰Ú
) {

119 ià(
¡©es
[
bu‰Ú
] == 1)

120  
Œue
;

122  
çl£
;

123 
	}
}

128 
boŞ
 
	gBu‰Ús
::
	$»Ëa£d
(
ušt8_t
 
bu‰Ú
) {

129 ià(
¡©es
[
bu‰Ú
] == 0xFF)

130  
Œue
;

132  
çl£
;

133 
	}
}

141 
boŞ
 
	gBu‰Ús
::
	$h–d
(
ušt8_t
 
bu‰Ú
, ušt8_ˆ
time
){

142 if(
¡©es
[
bu‰Ú
] =ğ(
time
+1))

143  
Œue
;

145  
çl£
;

146 
	}
}

154 
boŞ
 
	gBu‰Ús
::
	$»³©
(
ušt8_t
 
bu‰Ú
, ušt8_ˆ
³riod
) {

155 ià(
³riod
 <= 1) {

156 ià((
¡©es
[
bu‰Ú
] != 0xFF) && (states[button]))

157  
Œue
;

159 ià((
¡©es
[
bu‰Ú
] !ğ0xFFè&& ((¡©es[bu‰Ú] % 
³riod
) == 1))

160  
Œue
;

162  
çl£
;

163 
	}
}

170 
ušt8_t
 
	gBu‰Ús
::
	$timeH–d
(
ušt8_t
 
bu‰Ú
){

171 if(
¡©es
[
bu‰Ú
] != 0xFF)

172  
¡©es
[
bu‰Ú
];

176 
	}
}

178 
	gBu‰Ús
::
	$pŞlBu‰Ús
() {

179 #ifdeà
POK_SIM


180 
simuÏtÜ
.
	`pŞlBu‰Ús
();

182 
ušt8_t
 
bu‰Ús_¡©e_Şd
 = 
bu‰Ús_¡©e
;

183 
bu‰Ús_¡©e
 = 0;

184 ià(
	`upBŠ
()è
bu‰Ús_¡©e
 |ğ(1<<
UPBIT
);

185 ià(
	`downBŠ
()è
bu‰Ús_¡©e
 |ğ(1<<
DOWNBIT
);

186 ià(
	`ËáBŠ
()è
bu‰Ús_¡©e
 |ğ(1<<
LEFTBIT
);

187 ià(
	`rightBŠ
()è
bu‰Ús_¡©e
 |ğ(1<<
RIGHTBIT
);

188 ià(
	`aBŠ
()è
bu‰Ús_¡©e
 |ğ(1<<
ABIT
);

189 ià(
	`bBŠ
()è
bu‰Ús_¡©e
 |ğ(1<<
BBIT
);

190 ià(
	`cBŠ
()è
bu‰Ús_¡©e
 |ğ(1<<
CBIT
);

191 
bu‰Ús_h–d
 = 
bu‰Ús_¡©e
 & 
bu‰Ús_¡©e_Şd
;

192 
bu‰Ús_»Ëa£d
 = ~
bu‰Ús_¡©e
 & 
bu‰Ús_¡©e_Şd
;

194 
	}
}

196 
ušt8_t
 
	gBu‰Ús
::
	$aBŠ
() {

197 #ifdeà
POK_SIM


198  
simuÏtÜ
.
	`aBŠ
();

200  
Pok™to
::
h–dS‹s
[
BTN_A
];

202 
	}
}

205 
ušt8_t
 
	gBu‰Ús
::
	$bBŠ
() {

206 #ifdeà
POK_SIM


207  
simuÏtÜ
.
	`bBŠ
();

209  
Pok™to
::
h–dS‹s
[
BTN_B
];

211 
	}
}

213 
ušt8_t
 
	gBu‰Ús
::
	$cBŠ
() {

214 
ušt8_t
 
c
;

215 #ifdeà
POK_SIM


216 
c
 = 
simuÏtÜ
.
	`cBŠ
();

218 
c
 = 
Pok™to
::
h–dS‹s
[
BTN_C
];

220  
c
;

221 
	}
}

223 
ušt8_t
 
	gBu‰Ús
::
	$ËáBŠ
() {

224 #ifdeà
POK_SIM


225  
simuÏtÜ
.
	`ËáBŠ
();

227  
Pok™to
::
h–dS‹s
[
BTN_LEFT
];

229 
	}
}

231 
ušt8_t
 
	gBu‰Ús
::
	$rightBŠ
() {

232 #ifdeà
POK_SIM


233  
simuÏtÜ
.
	`rightBŠ
();

235  
Pok™to
::
h–dS‹s
[
BTN_RIGHT
];

237 
	}
}

239 
ušt8_t
 
	gBu‰Ús
::
	$upBŠ
() {

240 #ifdeà
POK_SIM


241  
simuÏtÜ
.
	`upBŠ
();

243  
Pok™to
::
h–dS‹s
[
BTN_UP
];

245 
	}
}

247 
ušt8_t
 
	gBu‰Ús
::
	$downBŠ
() {

248 #ifdeà
POK_SIM


249  
simuÏtÜ
.
	`downBŠ
();

251  
Pok™to
::
h–dS‹s
[
BTN_DOWN
];

253 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoButtons.h

38 #iâdeà
POKITTOBUTTONS_H


39 
	#POKITTOBUTTONS_H


	)

41 
	~<¡dšt.h
>

42 
	~"Pok™to_£‰šgs.h
"

43 
	~"GBcom·tib™y.h
"

44 
	~"Pok™toGlobs.h
"

46 #iâdeà
POK_SIM


47 
	~"HWBu‰Ús.h
"

48 
	#CHWLONGPRESSTIMEOUT
 100

	)

50 
	~"Pok™toSimuÏtÜ.h
"

51 
	#CHWLONGPRESSTIMEOUT
 1000

	)

55 
Çme¥aû
 
	gPok™to
 {

57 şas 
	cBu‰Ús
 {

58 
	gpublic
:

60 
ušt8_t
 
bu‰Ús_¡©e
, 
	gbu‰Ús_h–d
, 
	gbu‰Ús_»Ëa£d
;

61 
š™Bu‰Ús
();

62 
pŞlBu‰Ús
();

63 
ušt8_t
 
ËáBŠ
();

64 
ušt8_t
 
rightBŠ
();

65 
ušt8_t
 
upBŠ
();

66 
ušt8_t
 
downBŠ
();

67 
ušt8_t
 
aBŠ
();

68 
ušt8_t
 
bBŠ
();

69 
ušt8_t
 
cBŠ
();

70 
ušt8_t
 
ËáH–d
();

71 
ušt8_t
 
rightH–d
();

72 
ušt8_t
 
upH–d
();

73 
ušt8_t
 
downH–d
();

74 
ušt8_t
 
aH–d
();

75 
ušt8_t
 
bH–d
();

76 
ušt8_t
 
cH–d
();

78 
ušt8_t
 
ËáR–—£d
();

79 
ušt8_t
 
rightR–—£d
();

80 
ušt8_t
 
upR–—£d
();

81 
ušt8_t
 
downR–—£d
();

82 
ušt8_t
 
aR–—£d
();

83 
ušt8_t
 
bR–—£d
();

84 
ušt8_t
 
cR–—£d
();

87 
begš
();

88 
upd©e
();

89 
boŞ
 
´es£d
(
ušt8_t
 
bu‰Ú
);

90 
boŞ
 
»Ëa£d
(
ušt8_t
 
bu‰Ú
);

91 
boŞ
 
h–d
(
ušt8_t
 
bu‰Ú
, ušt8_ˆ
time
);

92 
boŞ
 
»³©
(
ušt8_t
 
bu‰Ú
, ušt8_ˆ
³riod
);

93 
ušt8_t
 
timeH–d
(ušt8_ˆ
bu‰Ú
);

94 
ušt8_t
 
	gpšs
[
NUM_BTN
];

95 
ušt8_t
 
	g¡©es
[
NUM_BTN
];

96 
ušt8_t
 
	gh–dS‹s
[
NUM_BTN
];

97 
	g´iv©e
:

98 
ušt16_t
 
cHWLÚgP»ss
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoConsole.cpp

37 
	~"Pok™toGlobs.h
"

38 
	~"Pok™toCÚsŞe.h
"

39 
	~"Pok™toFÚts.h
"

40 
	~"Pok™toDi¥Ïy.h
"

42 
	gPok™to
::
CÚsŞe
 
pCÚsŞe
;

44 
usšg
 
Çme¥aû
 
	gPok™to
;

46 
cÚsmsg
 
	gCÚsŞe
::
msgbuf
[
CONSOLEBUFSIZE
];

47 
ušt8_t
 
	gCÚsŞe
::
cÚ¦a¡
;

48 
ušt8_t
 
	gCÚsŞe
::
cÚsfœ¡
;

49 
ušt8_t
 
	gCÚsŞe
::
cÚ¥oš‹r
;

50 
ušt16_t
 
	gCÚsŞe
::
cÚscouÁ”
;

51 
ušt16_t
 
	gCÚsŞe
::
cŞÜ
;

52 
Di¥Ïy
* 
	gCÚsŞe
::
_di¥Ïy
;

53 
ušt8_t
 
	gCÚsŞe
::
mode
;

54 
ušt8_t
 
	gCÚsŞe
::
visibË
;

55 * 
	gCÚsŞe
::
fÚt
;

57 
	gCÚsŞe
::
	$CÚsŞe
() {

58 
cÚ¦a¡
=
cÚsfœ¡
=
cÚ¥oš‹r
=
cÚscouÁ”
=0;

59 
cŞÜ
=0xFFFF;

60 
fÚt
=(*)
fÚtMši
;

61 #ià
POK_CONSOLE_VISIBLE_AT_STARTUP
 > 0

62 
mode
=
CONS_OVERLAY
|
CONS_VISIBLE
;

64 
mode
=
CONS_OVERLAY
;

66 
	}
}

68 
	gCÚsŞe
::
	$ToggË
() {

69 ià(!
cÚscouÁ”
)

71 
mode
 ^ğ
CONS_VISIBLE
;

72 
cÚscouÁ”
 = 
CONS_TIMEOUT
;

74 
	}
}

77 
	gCÚsŞe
::
	$AddMes§ge
(
ušt8_t
 
sourû
, ušt8_ˆ
msgty³
) {

78 
	`AddMes§ge
(
sourû
,
msgty³
, 
V_NONE
,0);

79 
	}
}

82 
	gCÚsŞe
::
	$AddMes§ge
(
ušt8_t
 
ty³
, * 
¡ršg±r
) {

83 
	`AddMes§ge
(
MSOURCE_USER
,
ty³
,
V_STRING
, (
ušt32_t
è
¡ršg±r
);

84 
	}
}

87 
	gCÚsŞe
::
	$AddMes§ge
(
ušt8_t
 
msgty³
, ušt8_ˆ
v®ty³
, 
ušt32_t
 
v®
) {

88 
	`AddMes§ge
(
MSOURCE_USER
,
msgty³
,
v®ty³
,
v®
);

89 
	}
}

91 
	gCÚsŞe
::
	$AddMes§ge
(
ušt8_t
 
sourû
, ušt8_ˆ
msgty³
, ušt8_ˆ
v®ty³
, 
ušt32_t
 
v®
) {

92 
cÚsmsg
 
c
;

93 
c
.
msgsourû
 = 
sourû
;

94 
c
.
msgty³
 = msgtype;

95 
c
.
v®ty³
 = valtype;

96 
c
.
v®
 = val;

97 
msgbuf
[
cÚ¦a¡
] = 
c
;

98 
cÚ¦a¡
++;

99 ià(
cÚ¦a¡
==
CONSOLEBUFSIZE
) conslast = 0;

100 
cÚsfœ¡
 = 
cÚ¦a¡
 + 1;

101 ià(
cÚsfœ¡
 =ğ
CONSOLEBUFSIZE
) consfirst = 0;

102 
	}
}

104 
	gCÚsŞe
::
	$La¡
() {

105 
cÚ¥oš‹r
 = 
cÚ¦a¡
;

106 
	}
}

108 
	gCÚsŞe
::
	$RemoveLa¡
() {

109 
	`La¡
();

110 
	`P»vious
();

111 
msgbuf
[
cÚ¥oš‹r
].
msgsourû
 = 
MSOURCE_USER
;

112 
msgbuf
[
cÚ¥oš‹r
].
msgty³
 = 
MSG_OK
;

113 
msgbuf
[
cÚ¥oš‹r
].
v®
 = 0;

114 
msgbuf
[
cÚ¥oš‹r
].
v®ty³
 = 0;

115 
cÚ¦a¡
 = 
cÚ¥oš‹r
;

116 
	}
}

118 
	gCÚsŞe
::
	$Fœ¡
() {

119 
cÚsmsg
 
c
;

120 
ušt16_t
 
outofbounds
=0;

121 
cÚ¥oš‹r
 = 
cÚsfœ¡
;

122 
c
=
	`G‘Mes§ge
();

123 !
c
.
msgsourû
) {

124 
	`Next
();

125 
c
=
	`G‘Mes§ge
();

126 
outofbounds
++;

127 ià(
outofbounds
==
CONSOLEBUFSIZE
) {

128 
cÚ¥oš‹r
 = 
cÚsfœ¡
;

132 
	}
}

134 
	gCÚsŞe
::
	$P»vious
() {

135 ià(
cÚ¥oš‹r
==0ècÚ¥oš‹¸ğ
CONSOLEBUFSIZE
-1;

136 
cÚ¥oš‹r
--;

137 
	}
}

139 
	gCÚsŞe
::
	$Next
() {

140 ià(
cÚ¥oš‹r
==
CONSOLEBUFSIZE
-1) conspointer = 0;

141 
cÚ¥oš‹r
++;

142 
	}
}

144 
cÚsmsg
 
	gCÚsŞe
::
	$G‘Mes§ge
() {

145  
msgbuf
[
cÚ¥oš‹r
];

146 
	}
}

148 
	gCÚsŞe
::
	$PrštMes§ge
() {

149 
cÚsmsg
 
c
 = 
msgbuf
[
cÚ¥oš‹r
];

150 
c
.
msgsourû
) {

151 
MSOURCE_APP
:

152 
_di¥Ïy
->
	`´št
("App:");;

153 
MSOURCE_BATT
:

154 
_di¥Ïy
->
	`´št
("Batt:");;

155 
MSOURCE_BTNA
:

156 
_di¥Ïy
->
	`´št
("A:");;

157 
MSOURCE_BTNB
:

158 
_di¥Ïy
->
	`´št
("B:");;

159 
MSOURCE_BTNC
:

160 
_di¥Ïy
->
	`´št
("C:");;

161 
MSOURCE_BTNU
:

162 
_di¥Ïy
->
	`´št
("Up:");;

163 
MSOURCE_BTND
:

164 
_di¥Ïy
->
	`´št
("Down:");;

165 
MSOURCE_BTNL
:

166 
_di¥Ïy
->
	`´št
("Left:");;

167 
MSOURCE_BTNR
:

168 
_di¥Ïy
->
	`´št
("Right:");;

169 
MSOURCE_LCD
:

170 
_di¥Ïy
->
	`´št
("LCD:");;

171 
MSOURCE_SD
:

172 
_di¥Ïy
->
	`´št
("SD:");;

173 
MSOURCE_SOUND
:

174 
_di¥Ïy
->
	`´št
("Sound:");;

175 
MSOURCE_TIMER
:

176 
_di¥Ïy
->
	`´št
("Timer:");;

177 
MSOURCE_USER
:

178 
_di¥Ïy
->
	`´št
("User:");;

179 
MSOURCE_COLLISION
:

180 
_di¥Ïy
->
	`´št
("Hit:");;

186 
c
.
msgty³
) {

187 
MSG_OK
:

188 
_di¥Ïy
->
	`´št
("OK ");;

189 
MSG_INIT_OK
:

190 
_di¥Ïy
->
	`´št
("INIT OK ");;

191 
MSG_INIT_FAIL
:

192 
_di¥Ïy
->
	`´št
("INIT FAIL ");;

193 
MSG_WARNING
:

194 
_di¥Ïy
->
	`´št
("WARNING ");;

195 
MSG_FATAL
:

196 
_di¥Ïy
->
	`´št
("FATAL ");;

197 
MSG_GFX_MODE_CHANGE
:

198 
_di¥Ïy
->
	`´št
("MODE ");;

199 
MSG_GFX_MODE_INVALID
:

200 
_di¥Ïy
->
	`´št
("INVALID!");;

201 
MSG_NOT_ENOUGH_MEM
:

202 
_di¥Ïy
->
	`´št
("NOT ENOUGH MEM ");;

203 
MSG_UP
:

204 
_di¥Ïy
->
	`´št
("KEYUP");;

205 
MSG_DOWN
:

206 
_di¥Ïy
->
	`´št
("KEYDOWN");;

207 
MSG_BREAK
:

208 
_di¥Ïy
->
	`´št
("BREAK ");;

209 
MSG_YESNO
:

210 
_di¥Ïy
->
	`´št
("YES(A)/NO(B)");;

211 
MSG_YES
:

212 
_di¥Ïy
->
	`´št
("YES");;

213 
MSG_NO
:

214 
_di¥Ïy
->
	`´št
("NO");;

215 
MSG_OBJECT
:

216 
_di¥Ïy
->
	`´št
("OBJ1: ");;

217 
MSG_OBJECT2
:

218 
_di¥Ïy
->
	`´št
("OBJ2: ");;

220 
_di¥Ïy
->
	`´št
(" ");

223 
c
.
v®ty³
) {

224 
V_NONE
:

225 
_di¥Ïy
->
	`´šn
();;

226 
V_UINT8
:

227 
_di¥Ïy
->
	`´šn
((
ušt16_t
)
c
.
v®
);;

228 
V_INT8
:

229 
_di¥Ïy
->
	`´šn
((
št16_t
)
c
.
v®
);;

230 
V_UINT16
:

231 
_di¥Ïy
->
	`´šn
((
ušt16_t
)
c
.
v®
);;

232 
V_INT16
:

233 
_di¥Ïy
->
	`´šn
((
št16_t
)
c
.
v®
);;

234 
V_UINT32
:

235 
_di¥Ïy
->
	`´šn
((
ušt32_t
)
c
.
v®
);;

236 
V_INT32
:

237 
_di¥Ïy
->
	`´šn
((
št32_t
)
c
.
v®
);;

238 
V_FLOAT
:

239 
_di¥Ïy
->
	`´šn
(()
c
.
v®
);;

240 
V_STRING
:

241 
_di¥Ïy
->
	`´šn
((*)
c
.
v®
);;

243 
_di¥Ïy
->
	`´šn
();

246 ià(
c
.
msgty³
 =ğ
MSG_BREAK
 || c.msgty³ =ğ
MSG_YESNO
) {

247 #iâdeà
POK_SIM


248 
	`__di§bË_œq
();

250 
	`·u£Audio
(1);

251 
visibË
 = 
çl£
;

252 
simuÏtÜ
.
	`wa™_ms
(300);

254 
rv®
=0;

255 !
rv®
) {

256 
_bu‰Ús
->
	`pŞlBu‰Ús
();

257 #ifdeà
POK_SIM


258 
simuÏtÜ
.
	`»äeshDi¥Ïy
();

260 ià(
_bu‰Ús
->
	`aBŠ
()è
rv®
 = 1;

261 ià(
_bu‰Ús
->
	`bBŠ
()è
rv®
 = -1;

264 ià(
c
.
msgty³
 =ğ
MSG_YESNO
) {

265 
št8_t
* 
v
;

266 
v
 = (
št8_t
*è
c
.
v®
;

267 *
v
 = 
rv®
;

268 
msgbuf
[
cÚ¥oš‹r
].
msgsourû
 = 
MSOURCE_USER
;

269 ià(
rv®
==1è
msgbuf
[
cÚ¥oš‹r
].
msgty³
 = 
MSG_YES
;

270 
msgbuf
[
cÚ¥oš‹r
].
msgty³
 = 
MSG_NO
;

271 } 
msgbuf
[
cÚ¥oš‹r
].
msgsourû
 = 
MSOURCE_NULL
;

273 #iâdeà
POK_SIM


274 
	`__’abË_œq
();

276 
	`·u£Audio
(0);

277 
visibË
 = 
Œue
;

280 
	}
}

282 
	gCÚsŞe
::
	$D¿w
() {

283 * 
ŞdfÚt
;

284 
št16_t
 
Şdx
,
Şdy
;

285 
ušt16_t
 
ŞdcŞÜ
;

286 
ušt8_t
 
Şdsize
;

287 
boŞ
 
Şd’abË
;

288 
ŞdfÚt
 = (*è
_di¥Ïy
->
fÚt
;

289 
Şdx
 = 
_di¥Ïy
->
cursÜX
;

290 
Şdy
 = 
_di¥Ïy
->
cursÜY
;

291 
ŞdcŞÜ
 = 
_di¥Ïy
->
dœeùcŞÜ
;

292 
Şdsize
 = 
_di¥Ïy
->
fÚtSize
;

293 ià(!(
mode
 & 
CONS_OVERLAY
)è
_di¥Ïy
->
	`ş—rLCD
();

294 
_di¥Ïy
->
	`£tFÚt
(
fÚt5x7
);

295 
_di¥Ïy
->
fÚtSize
=1;

296 
_di¥Ïy
->
	`£tCursÜ
(0,0);

297 
_di¥Ïy
->
dœeùcŞÜ
=
cŞÜ
;

298 
	`Fœ¡
();

299 
cÚ¥oš‹r
!=
cÚ¦a¡
) {

300 
	`PrštMes§ge
();

301 
	`Next
();

302 ià(
	`G‘Mes§ge
().
msgsourû
==
MSOURCE_NULL
) ;

304 
_di¥Ïy
->
fÚt
 = 
ŞdfÚt
;

305 
_di¥Ïy
->
fÚtSize
 = 
Şdsize
;

306 
_di¥Ïy
->
cursÜX
 = 
Şdx
;

307 
_di¥Ïy
->
cursÜY
 = 
Şdy
;

308 
_di¥Ïy
->
dœeùcŞÜ
 = 
ŞdcŞÜ
;

309 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoConsole.h

37 #iâdeà
POKITTO_CONSOLE_H


38 
	#POKITTO_CONSOLE_H


	)

40 
	~"Pok™to_£‰šgs.h
"

41 
	~"Pok™toBu‰Ús.h
"

42 
	~<¡dšt.h
>

44 
	scÚsmsg
 {

45 
ušt32_t
 
	mv®
;

46 
ušt8_t
 
	mv®ty³
;

47 
ušt8_t
 
	mmsgsourû
;

48 
ušt8_t
 
	mmsgty³
;

52 
	#V_UINT8
 0

	)

53 
	#V_INT8
 1

	)

54 
	#V_UINT16
 2

	)

55 
	#V_INT16
 3

	)

56 
	#V_UINT32
 4

	)

57 
	#V_INT32
 5

	)

58 
	#V_FLOAT
 6

	)

59 
	#V_STRING
 7

	)

60 
	#V_NONE
 8

	)

63 
	#MSG_NULL
 0

	)

64 
	#MSG_OK
 1

	)

65 
	#MSG_WARNING
 2

	)

66 
	#MSG_FATAL
 255

	)

67 
	#MSG_INIT_OK
 3

	)

68 
	#MSG_INIT_FAIL
 4

	)

69 
	#MSG_NOT_ENOUGH_MEM
 5

	)

70 
	#MSG_GFX_MODE_CHANGE
 6

	)

71 
	#MSG_GFX_MODE_INVALID
 7

	)

72 
	#MSG_UP
 8

	)

73 
	#MSG_DOWN
 9

	)

74 
	#MSG_PRINT
 10

	)

75 
	#MSG_BREAK
 11

	)

76 
	#MSG_YESNO
 12

	)

77 
	#MSG_YES
 13

	)

78 
	#MSG_NO
 14

	)

79 
	#MSG_OBJECT
 15

	)

80 
	#MSG_OBJECT2
 16

	)

83 
	#MSOURCE_NULL
 0

	)

84 
	#MSOURCE_SD
 1

	)

85 
	#MSOURCE_LCD
 2

	)

86 
	#MSOURCE_SOUND
 3

	)

87 
	#MSOURCE_TIMER
 4

	)

88 
	#MSOURCE_BTNA
 5

	)

89 
	#MSOURCE_BTNB
 6

	)

90 
	#MSOURCE_BTNC
 7

	)

91 
	#MSOURCE_BTNU
 8

	)

92 
	#MSOURCE_BTND
 9

	)

93 
	#MSOURCE_BTNL
 10

	)

94 
	#MSOURCE_BTNR
 11

	)

95 
	#MSOURCE_BATT
 12

	)

96 
	#MSOURCE_APP
 13

	)

97 
	#MSOURCE_USER
 14

	)

98 
	#MSOURCE_COLLISION
 15

	)

101 
	#CONS_OVERLAY
 0x1

	)

102 
	#CONS_PAUSE
 0x2

	)

103 
	#CONS_STEP
 0x4

	)

104 
	#CONS_VISIBLE
 0x8

	)

108 
	#CONS_TIMEOUT
 20

	)

109 
ušt16_t
 
cÚscouÁ”
;

113 
Çme¥aû
 
	gPok™to
 {

115 
şass
 
	gDi¥Ïy
;

117 şas 
	cCÚsŞe
 {

118 
	gpublic
:

120 
CÚsŞe
();

122 
ušt8_t
 
	gmode
;

123 
ušt8_t
 
	gvisibË
;

124 * 
	gfÚt
;

125 
ToggË
();

126 
AddMes§ge
(
ušt8_t
, ušt8_t, ušt8_t, 
ušt32_t
);

127 
AddMes§ge
(
ušt8_t
, uint8_t);

128 
AddMes§ge
(
ušt8_t
, *);

129 
AddMes§ge
(
ušt8_t
, ušt8_t, 
ušt32_t
);

130 
La¡
();

131 
Fœ¡
();

132 
RemoveLa¡
();

133 
P»vious
();

134 
Next
();

135 
cÚsmsg
 
G‘Mes§ge
();

136 
PrštMes§ge
();

137 
Purge
();

138 
D¿w
();

140 
	g´iv©e
:

142 
cÚsmsg
 
msgbuf
[
CONSOLEBUFSIZE
];

143 
ušt8_t
 
	gcÚ¦a¡
;

144 
ušt8_t
 
	gcÚsfœ¡
;

145 
ušt8_t
 
	gcÚ¥oš‹r
;

146 
	gpublic
:

147 
ušt16_t
 
cÚscouÁ”
;

148 
ušt16_t
 
	gcŞÜ
;

149 
Di¥Ïy
* 
	g_di¥Ïy
;

150 
Bu‰Ús
* 
	g_bu‰Ús
;

157 
Pok™to
::
CÚsŞe
 
cÚsŞe
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoCore.cpp

37 
	~"Pok™toCÜe.h
"

38 
	~"Pok™to_£‰šgs.h
"

39 
	~"Pok™toCÚsŞe.h
"

40 
	~"Pok™toFÚts.h
"

41 
	~"Pok™toTim”.h
"

42 
	~"Pok™toLogos.h
"

43 
	~<¡dlib.h
>

44 #iâdeà
DISABLEAVRMIN


45 
	#max
(
a
,
b
è(×)>(b)?×):(b))

	)

48 
	g£Ëùedfe
[25];

51 #ifdeà
__ARMCC_VERSION


52 (*
	tfunc_t
)();

55 #iâdeà
POK_SIM


56 
	~"Ÿp.h
"

61 
	$¡¬t_­¶iÿtiÚ
(
­p_lšk_loÿtiÚ
){

66 
	`__di§bË_œq
();

72 
LPC_PINT
->
IENR
 = 0;

73 
LPC_PINT
->
IENF
 = 0;

75 
SysTick
->
CTRL
 = 
SysTick_CTRL_CLKSOURCE_Msk
 & ~(
SysTick_CTRL_ENABLE_Msk
);

76 
LPC_SYSCON
->
PDRUNCFG
 |= (1 << 10);

77 
LPC_SYSCON
->
PDRUNCFG
 |= (1 << 8);

80 
LPC_SYSCON
->
MAINCLKUEN
 = 0x01;

81 
LPC_SYSCON
->
MAINCLKUEN
 = 0x00;

82 
LPC_SYSCON
->
MAINCLKUEN
 & 0x01);

84 
LPC_SYSCON
->
MAINCLKSEL
 = 0;

85 
LPC_SYSCON
->
MAINCLKUEN
 = 0x01;

86 
LPC_SYSCON
->
MAINCLKUEN
 = 0x00;

87 
LPC_SYSCON
->
MAINCLKUEN
 & 0x01);

89 
LPC_SYSCON
->
SYSPLLCLKUEN
 = 0;

90 
LPC_SYSCON
->
SYSPLLCLKUEN
 & 0x00);

91 
LPC_SYSCON
->
SYSPLLCTRL
 = 0;

94 
LPC_SYSCON
->
MAINCLKSEL
 = 0;

95 
LPC_SYSCON
->
PRESETCTRL
 = 0;

98 vŞ©
ušt32_t
 
tmp
;

99 
tmp
 = (
LPC_SYSCON
->
PDRUNCFG
 & 0x000025FFL);

100 
tmp
 |= ((1<<7) & 0x000025FFL);

101 
LPC_SYSCON
->
PDRUNCFG
 = (
tmp
 | 0x0000C800L);

106 
LPC_GPIO_PORT
->
PIN
[0] = 0;

107 
LPC_GPIO_PORT
->
PIN
[1] = 0;

108 
LPC_GPIO_PORT
->
PIN
[2] = 0;

110 
SCB
->
VTOR
 = 
­p_lšk_loÿtiÚ
;

111 #iâdeà
__ARMCC_VERSION


112 
	`asm
(" mov„0, %[add»ss]"::[
add»ss
] "r" (
­p_lšk_loÿtiÚ
));

113 
	`asm
("†dr„1, [r0,#0]");

114 
	`asm
(" mov sp,„1");

115 
	`asm
("†dr„0, [r0,#4]");

116 
	`asm
(" blx„0");

118 
ušt32_t
 *
­p_loc
 = (ušt32_t*)
­p_lšk_loÿtiÚ
;

119 
	`__£t_MSP
 (
­p_loc
[0]);

120 ((
func_t
)(
­p_loc
[1]))();

122 
	}
}

126 
	$¿ndom
(
maxV®
)

128  
	`¿ndom
Ğ0, 
maxV®
);

129 
	}
}

132 
	$¿ndom
(
mšV®
, 
maxV®
)

135  
	`¿nd
(è% (
maxV®
-
mšV®
+1) + minVal;

136 
	}
}

138 
usšg
 
Çme¥aû
 
	gPok™to
;

140 
boŞ
 
	gCÜe
::
run_¡©e
;

143 
Backlight
 
	gCÜe
::
backlight
;

144 
Bu‰Ús
 
	gCÜe
::
bu‰Ús
;

145 
B©‹ry
 
	gCÜe
::
b©‹ry
;

146 #ià
POK_ENABLE_SOUND
 > 0

147 
Sound
 
	gCÜe
::
sound
;

149 
Di¥Ïy
 
	gCÜe
::
di¥Ïy
;

152 
ušt8_t
 
	gCÜe
::
¡¬tM’uTim”
;

153 
ušt8_t
 
	gCÜe
::
timeP”F¿me
;

154 
ušt32_t
 
	gCÜe
::
ÃxtF¿meMlis
;

155 
ušt32_t
 
	gCÜe
::
äameCouÁ
;

156 cÚ¡ * 
	gCÜe
::
pİupText
;

157 
ušt8_t
 
	gCÜe
::
pİupTimeLeá
;

158 
ušt16_t
 
	gCÜe
::
äameDu¿tiÚMiüos
;

159 
ušt32_t
 
	gCÜe
::
äameS¹Miüos
, CÜe::
äameEndMiüos
;

160 
ušt8_t
 
	gCÜe
::
vŞb¬_visibË
=0;

162 
ušt32_t
 
	gCÜe
::
ås_couÁ”
;

163 
boŞ
 
	gCÜe
::
ås_couÁ”_upd©ed
;

164 
ušt32_t
 
	gCÜe
::
ås_»äeshtime
;

165 
ušt32_t
 
	gCÜe
::
ås_äameCouÁ
;

167 
	gCÜe
::
	$CÜe
() {

169 
	}
}

172 
CÜe
::
	$upd©eLßd”
 (
ušt32_t
 
v”siÚ
, ušt32_ˆ
jum·dd»ss
) {

173 #iâdeà
POK_SIM


174 #iâdeà
NOPETITFATFS


175 
ušt32_t
 
couÁ”
=0;

176 
ušt8_t
 
d©a
[256];

178 
´og»ss
=0;

179 
İg
=-1;

180 
ušt32_t
 
fsize
=0;

181 
	`feEnd
();

182 
fsize
 = 
	`feG‘Pos™iÚ
();

183 ià(
fsize
>0x40000-
jum·dd»ss
) fsize = 0x40000-jumpaddress;

184 
	`feRewšd
();

185 
di¥Ïy
.
	`´šn
("PLEASE WAIT");

190 ià(
couÁ”
 >ğ
fsize
) {

193 
İg
=
´og»ss
;

194 ià(
	`feR—dBy‹s
(&
d©a
[0],0x100)<0x100) {

195 ià(
fsize
-
couÁ”
>0x100) {

196 
di¥Ïy
.
	`´šn
("ERROR READING LOA.DER FILE");

200 ià(
	`CİyPageToFÏsh
(
jum·dd»ss
+
couÁ”
,
d©a
)) {

201 
di¥Ïy
.
	`´šn
("FLASH WRITE ERROR");

204 
couÁ”
 += 0x100;

205 
di¥Ïy
.
	`´št
(".");

211 
	}
}

213 
	gCÜe
::
	$showW¬nšg
() {

214 
di¥Ïy
.
	`’abËDœeùPrštšg
(
Œue
);

215 
di¥Ïy
.
dœeùbgcŞÜ
 = 
COLOR_BLACK
;

216 
di¥Ïy
.
	`ş—rLCD
();

217 
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_RED
;

218 
di¥Ïy
.
	`£tFÚt
(
âtC64UIGfx
);

219 
di¥Ïy
.
adju¡Ch¬S‹p
 = 0;

220 
di¥Ïy
.
adju¡LšeS‹p
 = 0;

221 
di¥Ïy
.
	`£tCursÜ
(10*8,9);

222 
di¥Ïy
.
	`´št
("WARNING!");

223 
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_WHITE
;

224 
di¥Ïy
.
	`£tCursÜ
(5*8,4*9);

225 
di¥Ïy
.
	`´št
("LOUD SOUND THROUGH");

226 
di¥Ïy
.
	`£tCursÜ
(2*8,5*9);

227 
di¥Ïy
.
	`´št
("HEADPHONES COULD DAMAGE");

228 
di¥Ïy
.
	`£tCursÜ
(7*8,6*9);

229 
di¥Ïy
.
	`´št
("YOUR HEARING.");

230 
di¥Ïy
.
	`£tCursÜ
(5*8,8*9);

231 
di¥Ïy
.
	`´št
("USE "); di¥Ïy.
dœeùcŞÜ
 = 
COLOR_GREEN
;

232 
di¥Ïy
.
	`´št
("0-100% VOLUME");

233 
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_WHITE
;

234 
di¥Ïy
.
	`£tCursÜ
(5*8,9*9);

235 
di¥Ïy
.
	`´št
("FOR LISTENING WITH");

236 
di¥Ïy
.
	`£tCursÜ
(8*8,10*9);

237 
di¥Ïy
.
	`´št
("HEADPHONES");

238 
di¥Ïy
.
	`£tCursÜ
(5*8,12*9);

239 
di¥Ïy
.
	`´št
("USE "); di¥Ïy.
dœeùcŞÜ
 = 
COLOR_RED
;

240 
di¥Ïy
.
	`´št
("> 100% VOLUME"); di¥Ïy.
dœeùcŞÜ
 = 
COLOR_GREEN
;

241 
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_WHITE
;

242 
di¥Ïy
.
	`£tCursÜ
(1*8,13*9);

243 
di¥Ïy
.
	`´št
("ONLY FOR LISTENING VIA THE");

244 
di¥Ïy
.
	`£tCursÜ
(5*8,14*9);

245 
di¥Ïy
.
	`´št
("BUILT-IN SPEAKER");

246 
di¥Ïy
.
	`£tCursÜ
(5*8,17*9);

247 
di¥Ïy
.
	`´št
("PRESS ");di¥Ïy.
dœeùcŞÜ
 = 
COLOR_GREEN
;

248 
di¥Ïy
.
	`´št
("C ");di¥Ïy.
dœeùcŞÜ
 = 
COLOR_WHITE
;

249 
di¥Ïy
.
	`´št
("TO ACCEPT");

250 !
bu‰Ús
.
	`cBŠ
()) {

251 
	`wa™
(100);

253 
di¥Ïy
.
	`ş—rLCD
();

254 
di¥Ïy
.
	`’abËDœeùPrštšg
(
çl£
);

255 
	}
}

257 
	gCÜe
::
	$jumpToLßd”
() {

261 
di¥Ïy
.
fÚtSize
=1;

262 
di¥Ïy
.
dœeùbgcŞÜ
=
COLOR_BLACK
;

263 
di¥Ïy
.
dœeùcŞÜ
=
COLOR_GREEN
;

264 
di¥Ïy
.
	`ş—rLCD
();

265 
di¥Ïy
.
	`£tCursÜ
(0,0);

266 
di¥Ïy
.
	`’abËDœeùPrštšg
(
Œue
);

267 #ifdeà
POK_SIM


268 
di¥Ïy
.
	`´šn
("LOADER IS NOT AVAILABLE ON THE SIMULATOR. PRESS A TO RETURN.");

270 
ušt32_t
* 
boÙšfo
;

271 
ušt32_t
 
boÙv”siÚ
=0, 
sdv”siÚ
=0, 
sdjump
=0;

272 
boŞ
 
æashlßd”
=
çl£
, 
checkfÜboÙ
=
Œue
;

274 #ià
POK_ENABLE_LOADER_UPDATES
 > 0

275 #iâdeà
NOPETITFATFS


276 
	`pokIn™SD
();

277 ià(
	`feO³n
("LOA.DER", 
FILE_MODE_BINARY
)==0) {

279 
	`feEnd
();

280 
	`feS“kR–©ive
(-8);

281 
ušt32_t
* 
Œ
 = &
sdv”siÚ
;

282 
	`feR—dBy‹s
((
ušt8_t
*)
Œ
,4);

283 
Œ
 = &
sdjump
;

284 
	`feR—dBy‹s
((
ušt8_t
*)
Œ
,4);

285 
	`feRewšd
();

290 
checkfÜboÙ
)

292 
checkfÜboÙ
=
çl£
; 
æashlßd”
=false;

293 
boÙšfo
 = (
ušt32_t
*)0x3FFF4;

294 ià(*
boÙšfo
 !ğ0xB007AB1EèboÙšfØğ(
ušt32_t
*)0x3FF04;

295 ià(*
boÙšfo
 !ğ0xB007AB1EèboÙšfØğ(
ušt32_t
*)0x3FE04;

296 ià(*
boÙšfo
 !ğ0xB007AB1EèboÙšfØğ(
ušt32_t
*)0x3F004;

297 ià(*
boÙšfo
 != 0xB007AB1E) {

299 
di¥Ïy
.
dœeùcŞÜ
=
COLOR_YELLOW
;

300 
di¥Ïy
.
	`´šn
("NO LOADER INSTALLED");

301 ià(
sdv”siÚ
==0 || 
sdjump
 < 0x38000) {

303 
di¥Ïy
.
	`´šn
("NO VALID LOA.DER ON SD");

304 
di¥Ïy
.
	`´šn
("");

305 
di¥Ïy
.
dœeùcŞÜ
=
COLOR_GREEN
;

306 
di¥Ïy
.
	`´šn
("PUT LOA.DER ON SD & REBOOT");

307 } 
æashlßd”
=
Œue
;

311 
di¥Ïy
.
dœeùcŞÜ
=
COLOR_CYAN
;

312 
di¥Ïy
.
	`´št
("LOADER V.");

313 
di¥Ïy
.
dœeùcŞÜ
=
COLOR_WHITE
;

314 
di¥Ïy
.
	`´šn
(*(
boÙšfo
+1));

315 #ià
POK_ENABLE_LOADER_UPDATES


316 ià(
sdv”siÚ
>(*(
boÙšfo
+1))è
æashlßd”
=
Œue
;

317 
	`¡¬t_­¶iÿtiÚ
(*(
boÙšfo
+2));

319 
	`¡¬t_­¶iÿtiÚ
(*(
boÙšfo
+2));

323 if(
æashlßd”
) {

324 
di¥Ïy
.
dœeùcŞÜ
=
COLOR_MAGENTA
;

325 
di¥Ïy
.
	`´št
("NEW LOADER ON SD V.");

326 
di¥Ïy
.
dœeùcŞÜ
=
COLOR_WHITE
;

327 
di¥Ïy
.
	`´šn
(
sdv”siÚ
);

328 
di¥Ïy
.
dœeùcŞÜ
=
COLOR_GREEN
;

329 
di¥Ïy
.
	`´šn
("UPDATE LOADER?\n(UP=YES, DOWN=CANCEL)");

331 ià(
bu‰Ús
.
	`upBŠ
()) {

332 ià(
	`upd©eLßd”
(
sdv”siÚ
,
sdjump
)) {

333 
di¥Ïy
.
	`´šn
("PUT LOA.DER ON SD AND RETRY");

335 
di¥Ïy
.
	`´šn
("SUCCESS!!");

336 
checkfÜboÙ
=
Œue
;

340 ià(
bu‰Ús
.
	`downBŠ
()) ;

345 !
bu‰Ús
.
	`aBŠ
()) {

346 
bu‰Ús
.
	`pŞlBu‰Ús
();

347 ià(
bu‰Ús
.
	`aBŠ
()) {

348 
bu‰Ús
.
	`aBŠ
()) {

349 
bu‰Ús
.
	`pŞlBu‰Ús
();

354 
	}
}

356 
	gCÜe
::
	$askLßd”
() {

357 
di¥Ïy
.
	`’abËDœeùPrštšg
(
Œue
);

358 
di¥Ïy
.
dœeùbgcŞÜ
 = 
COLOR_BLACK
;

359 
di¥Ïy
.
	`ş—rLCD
();

360 
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_RED
;

361 
di¥Ïy
.
	`£tFÚt
(
âtC64UIGfx
);

362 
di¥Ïy
.
fÚtSize
=1;

363 
di¥Ïy
.
adju¡Ch¬S‹p
 = 0;

364 
di¥Ïy
.
adju¡LšeS‹p
 = 0;

365 
di¥Ïy
.
dœeùcŞÜ
=
COLOR_GREEN
;

366 
di¥Ïy
.
	`£t_cursÜ
(12*8,6*8);

367 
di¥Ïy
.
	`´št
("ijkl");

368 
di¥Ïy
.
	`£t_cursÜ
(12*8,7*8);

369 
di¥Ïy
.
	`´št
("mnop");

370 
di¥Ïy
.
	`£t_cursÜ
(12*8,8*8);

371 
di¥Ïy
.
	`´št
("qrst");

372 
di¥Ïy
.
	`£t_cursÜ
(12*8,9*8);

373 
di¥Ïy
.
	`´št
("uvwx");

374 
di¥Ïy
.
	`£t_cursÜ
(5*8,12*8);

375 
di¥Ïy
.
	`´št
("PRESS");

376 
di¥Ïy
.
dœeùcŞÜ
=
COLOR_WHITE
;

377 
di¥Ïy
.
	`´št
(" C ");

378 
di¥Ïy
.
dœeùcŞÜ
=
COLOR_GREEN
;

379 
di¥Ïy
.
	`´št
("FOR LOADER");

380 
di¥Ïy
.
dœeùcŞÜ
=
COLOR_WHITE
;

381 
di¥Ïy
.
fÚtSize
=2;

382 
couÁd
 = 0;

383 #iâdeà
POK_SIM


385 
couÁd
 = 
	`“´om_»ad_by‹
((
ušt16_t
*)
EESETTINGS_LOADERWAIT
);

387 ià(
couÁd
==0 || countd > 5) countd=3;

388 
ušt16_t
 
c2
 = 
	`g‘Time
();

389 
couÁd
) {

390 
bu‰Ús
.
	`pŞlBu‰Ús
();

391 
di¥Ïy
.
	`£t_cursÜ
(13*8,15*8);

392 
di¥Ïy
.
	`´št
(
couÁd
);

393 ià(
	`g‘Time
()>
c2
+1000) {

394 
c2
=
	`g‘Time
();

395 
couÁd
--;

397 ià(
	`cBŠ
()è{cBŠ()è
bu‰Ús
.
	`pŞlBu‰Ús
();
	`jumpToLßd”
();
couÁd
=0;}

398 ià(
	`aBŠ
()è{aBŠ()è
bu‰Ús
.
	`pŞlBu‰Ús
();
couÁd
=0;}

399 ià(
	`bBŠ
()è{bBŠ()è
bu‰Ús
.
	`pŞlBu‰Ús
();
couÁd
=0;}

401 
di¥Ïy
.
fÚtSize
=1;

402 
di¥Ïy
.
	`ş—rLCD
();

403 
di¥Ïy
.
	`’abËDœeùPrštšg
(
çl£
);

404 
	}
}

407 
	gCÜe
::
	$d¿wvŞb¬
(
x
, 
y
, 
Ëv–
, 
boŞ
 
‹xt
) {

408 
ušt16_t
 
ŞdcŞ
 = 
di¥Ïy
.
dœeùcŞÜ
;

409 
Ëv–
 =†evel >> 5;

410 ià(
‹xt
è
di¥Ïy
.
	`dœeùReùªgË
(0,0,50,50,
COLOR_BLACK
);

411 ià(
Ëv–
<4è
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_GREEN
;

412 ià(
Ëv–
==4è
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_YELLOW
;

413 ià(
Ëv–
>4è
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_RED
;

415 ià(
‹xt
) {

416 
boŞ
 
‹mp
 = 
di¥Ïy
.
	`isDœeùPrštšgEÇbËd
();

417 
di¥Ïy
.
	`’abËDœeùPrštšg
(
Œue
);

418 
di¥Ïy
.
	`´št
(
x
-1,
y
-20,()
sound
.
	`g‘VŞume
());

419 
di¥Ïy
.
	`´št
(" ");

420 
di¥Ïy
.
	`’abËDœeùPrštšg
(
‹mp
);

422 ià(
Ëv–
<1è
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_GRAY_80
;

423 
di¥Ïy
.
	`dœeùB™m­
(
x
,
y
,
Pok™to_vŞumeb¬
,1,1);

424 ià(
Ëv–
<2è
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_GRAY_80
;

425 
di¥Ïy
.
	`dœeùB™m­
(
x
+8,
y
,
Pok™to_vŞumeb¬
,1,1);

426 
di¥Ïy
.
	`dœeùB™m­
(
x
+8,
y
-4,
Pok™to_vŞumeb¬
,1,1);

427 ià(
Ëv–
<3è
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_GRAY_80
;

428 
di¥Ïy
.
	`dœeùB™m­
(
x
+16,
y
,
Pok™to_vŞumeb¬
,1,1);

429 
di¥Ïy
.
	`dœeùB™m­
(
x
+16,
y
-4,
Pok™to_vŞumeb¬
,1,1);

430 
di¥Ïy
.
	`dœeùB™m­
(
x
+16,
y
-8,
Pok™to_vŞumeb¬
,1,1);

431 ià(
Ëv–
<4) {

432 
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_GRAY_80
;

434 
di¥Ïy
.
	`dœeùB™m­
(
x
+24,
y
,
Pok™to_vŞumeb¬
,1,1);

435 
di¥Ïy
.
	`dœeùB™m­
(
x
+24,
y
-4,
Pok™to_vŞumeb¬
,1,1);

436 
di¥Ïy
.
	`dœeùB™m­
(
x
+24,
y
-8,
Pok™to_vŞumeb¬
,1,1);

437 
di¥Ïy
.
	`dœeùB™m­
(
x
+24,
y
-12,
Pok™to_vŞumeb¬
,1,1);

439 ià(
Ëv–
<5) {

440 
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_GRAY_80
;

442 
di¥Ïy
.
	`dœeùB™m­
(
x
+32,
y
,
Pok™to_vŞumeb¬
,1,1);

443 
di¥Ïy
.
	`dœeùB™m­
(
x
+32,
y
-4,
Pok™to_vŞumeb¬
,1,1);

444 
di¥Ïy
.
	`dœeùB™m­
(
x
+32,
y
-8,
Pok™to_vŞumeb¬
,1,1);

445 
di¥Ïy
.
	`dœeùB™m­
(
x
+32,
y
-12,
Pok™to_vŞumeb¬
,1,1);

446 
di¥Ïy
.
	`dœeùB™m­
(
x
+32,
y
-16,
Pok™to_vŞumeb¬
,1,1);

448 ià(
Ëv–
<6) {

449 
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_GRAY_80
;

451 
di¥Ïy
.
	`dœeùB™m­
(
x
+40,
y
,
Pok™to_vŞumeb¬
,1,1);

452 
di¥Ïy
.
	`dœeùB™m­
(
x
+40,
y
-4,
Pok™to_vŞumeb¬
,1,1);

453 
di¥Ïy
.
	`dœeùB™m­
(
x
+40,
y
-8,
Pok™to_vŞumeb¬
,1,1);

454 
di¥Ïy
.
	`dœeùB™m­
(
x
+40,
y
-12,
Pok™to_vŞumeb¬
,1,1);

455 
di¥Ïy
.
	`dœeùB™m­
(
x
+40,
y
-16,
Pok™to_vŞumeb¬
,1,1);

456 
di¥Ïy
.
	`dœeùB™m­
(
x
+40,
y
-20,
Pok™to_vŞumeb¬
,1,1);

457 
di¥Ïy
.
dœeùcŞÜ
 = 
ŞdcŞ
;

458 
	}
}

461 #ifdeà
POK_SIM


462 
	#VINCMULT
 0.9f

	)

464 
	#VINCMULT
 50

	)

466 
	gCÜe
::
	$£tVŞLim™
() {

467 
di¥Ïy
.
	`’abËDœeùPrštšg
(
Œue
);

468 
di¥Ïy
.
adju¡Ch¬S‹p
 = 0;

470 
d¡©e
=1;

471 
boŞ
 
we
 = 
Œue
;

472 
vŞ
 = 
sound
.
	`g‘VŞume
(); 
tvŞ
;

473 #iâdeà
POK_SIM


474 
vŞ
=
	`“´om_»ad_by‹
((
ušt16_t
*)
EESETTINGS_VOL
);

475 
Pok™to
::
Sound
::
glob®VŞume
=
vŞ
;

477 ià(
vŞ
>
VOLUME_HEADPHONE_MAX
è
sound
.
	`£tMaxVŞ
(
VOLUME_SPEAKER_MAX
);

478 
sound
.
	`£tMaxVŞ
(
VOLUME_HEADPHONE_MAX
);

479 #ifdeà
PRODUCTIONTESTING


480 
vŞ
=255;

481 
sound
.
	`£tMaxVŞ
(
VOLUME_SPEAKER_MAX
);

483 
ušt8_t
 
t
=0;t<=
vŞ
;t++) {

484 
sound
.
	`£tVŞume
(
t
);

486 
vŞb¬_visibË
=0;

487 
couÁd
=0;

488 #iâdeà
POK_SIM


490 
couÁd
 = 
	`“´om_»ad_by‹
((
ušt16_t
*)
EESETTINGS_VOLWAIT
);

492 ià(
couÁd
==0 || countd > 10) countd=0xFFFF;

493 #ifdeà
PRODUCTIONTESTING


494 
couÁd
=2;

496 
ušt16_t
 
c2
 = 
	`g‘Time
();

497 
cÜe
.
	`isRuÂšg
(è&& 
d¡©e
 && 
couÁd
){

498 ià(
	`g‘Time
()>
c2
+1000) {

499 
c2
=
	`g‘Time
();

500 ià(
couÁd
<0xFFFF) countd--;

502 
d¡©e
) {

505 ià(
we
) {

506 
di¥Ïy
.
	`ş—rLCD
();

507 
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_WHITE
;

508 
di¥Ïy
.
	`£tCursÜ
(4*8,2*8);

509 
di¥Ïy
.
	`´št
("SELECT VOLUME LIMIT");

510 
di¥Ïy
.
	`£tCursÜ
(5*8,17*9);

511 
di¥Ïy
.
	`´št
("PRESS ");

512 
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_GREEN
;

513 
di¥Ïy
.
	`´št
("A");

514 
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_WHITE
;

515 
di¥Ïy
.
	`´št
(" TO ACCEPT");

516 
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_GREEN
;

518 
di¥Ïy
.
	`£tCursÜ
(0,11*8);

519 
di¥Ïy
.
	`´šn
("‡bbbbbbbbbbbbbbbbbbbbbbbc");

520 
di¥Ïy
.
	`´šn
(" | |");

521 
di¥Ïy
.
	`´šn
(" | |");

522 
di¥Ïy
.
	`´šn
(" | |");

523 
di¥Ïy
.
	`´šn
(" | |");

524 
di¥Ïy
.
	`´šn
(" dbbbbbbbbbbbbbbbbbbbbbbbe");

526 
di¥Ïy
.
	`£tCursÜ
(6*8,17*9);

527 ià(
disü‘e_vŞ
<4è
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_WHITE
;

528 
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_RED
;

529 
di¥Ïy
.
	`dœeùB™m­
(21*8-4,6*8,
Pok™to_h—dphÚes
,1,2);

530 
di¥Ïy
.
	`£tCursÜ
(3*8,6*8+6);

531 
di¥Ïy
.
	`´št
("HEADPHONES");

532 
di¥Ïy
.
	`£tCursÜ
(3*8,8*8+2);

533 ià(
disü‘e_vŞ
>3è
di¥Ïy
.
	`´št
("TOO LOUD!");

534 
di¥Ïy
.
	`´št
("OK ");

535 
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_GREEN
;

536 
di¥Ïy
.
	`dœeùB™m­
(21*8-4,12*8,
Pok™to_¥—k”
,1,2);

537 
di¥Ïy
.
	`£tCursÜ
(3*8,12*8+6);

538 
di¥Ïy
.
	`´št
("VOLUME MAX");

539 
di¥Ïy
.
	`£tCursÜ
(3*8,14*8+2);

543 ià((
sound
.
	`g‘VŞume
()>>5)>3è{ 
di¥Ïy
.
dœeùcŞÜ
=
COLOR_RED
;}

544 
di¥Ïy
.
dœeùcŞÜ
=
COLOR_GREEN
;

545 ià(
disü‘e_vŞ
==4è
di¥Ïy
.
dœeùcŞÜ
=
COLOR_YELLOW
;

546 ià(
disü‘e_vŞ
==7) discrete_vol=6;

547 
di¥Ïy
.
	`´št
(()
disü‘e_vŞ
);

549 
di¥Ïy
.
	`´št
(" ");

550 
di¥Ïy
.
dœeùcŞÜ
=
COLOR_GREEN
;

551 
	`d¿wvŞb¬
(14*8,14*8+4+3,
sound
.
	`g‘VŞume
(),
çl£
);

554 
d¡©e
=2; ;

556 #iâdeà
POK_SIM


557 
bu‰Ús
.
	`pŞlBu‰Ús
();

559 
bu‰Ús
.
	`upd©e
();

560 ià(
	`aBŠ
()è{
d¡©e
=0;aBŠ()){
bu‰Ús
.
	`pŞlBu‰Ús
();bu‰Ús.
	`upd©e
();}
	`wa™
(100);;}

561 ià(
bu‰Ús
.
	`´es£d
(
BTN_RIGHT
)) {

562 
couÁd
=0xFFFF;

571 
sound
.
	`vŞumeUp
();

572 
d¡©e
=1; 
we
=
çl£
;

575 ià(
bu‰Ús
.
	`´es£d
(
BTN_LEFT
)) {

576 
couÁd
=0xFFFF;

582 
sound
.
	`vŞumeDown
();

583 
d¡©e
=1; 
we
=
çl£
;

589 
vŞ
 = 
sound
.
	`g‘VŞume
();

590 #iâdeà
POK_SIM


591 ià(
vŞ
 !ğ
	`“´om_»ad_by‹
((
ušt16_t
*)
EESETTINGS_VOL
)è
	`“´om_wr™e_by‹
((ušt16_t*)EESETTINGS_VOL,(
ušt8_t
)vol);

593 
sound
.
	`£tVŞume
(
vŞ
);

595 
di¥Ïy
.
	`£tCursÜ
(0,0);

596 
	}
}

598 
	gCÜe
::
	$begš
() {

600 
	`š™
();

601 
timeP”F¿me
 = 
POK_FRAMEDURATION
;

604 
äameEndMiüos
 = 1;

605 
¡¬tM’uTim”
 = 255;

607 
	`»adS‘tšgs
();

609 
backlight
.
	`begš
();

610 
backlight
.
	`£t
(
BACKLIGHT_MAX
);

611 
bu‰Ús
.
	`begš
();

612 
bu‰Ús
.
	`upd©e
();

613 
b©‹ry
.
	`begš
();

614 
di¥Ïy
.
	`begš
();

615 #ià
POK_DISPLAYLOGO


616 #ià
PROJ_DEVELOPER_MODE
 != 1

617 
	`showLogo
();

621 
di¥Ïy
.
	`’abËDœeùPrštšg
(
Œue
);

622 
di¥Ïy
.
dœeùbgcŞÜ
 = 
COLOR_BLACK
;

623 
di¥Ïy
.
	`ş—rLCD
();

624 
di¥Ïy
.
	`£tFÚt
(
âtC64UIGfx
);

626 
di¥Ïy
.
	`’abËDœeùPrštšg
(
Œue
);

627 
di¥Ïy
.
dœeùbgcŞÜ
 = 
COLOR_BLACK
;

628 
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_GREEN
;

629 
di¥Ïy
.
	`ş—rLCD
();

630 
di¥Ïy
.
	`£tFÚt
(
âtC64UIGfx
);

631 
di¥Ïy
.
adju¡Ch¬S‹p
=0;

632 
di¥Ïy
.
adju¡LšeS‹p
=1;

633 #ifdeà
JUSTLOAD


634 
	`jumpToLßd”
();

637 #iâdeà
DISABLE_LOADER


638 #ià
PROJ_DEVELOPER_MODE
 != 1

639 
	`askLßd”
();

643 #ià
PROJ_DEVELOPER_MODE
==1

644 
sound
.
	`£tMaxVŞ
(
VOLUME_SPEAKER_MAX
);

645 
sound
.
	`£tVŞume
(
VOLUME_SPEAKER_MAX
);

648 
	`£tVŞLim™
();

651 
di¥Ïy
.
	`’abËDœeùPrštšg
(
çl£
);

652 
di¥Ïy
.
adju¡Ch¬S‹p
=1;

653 
di¥Ïy
.
adju¡LšeS‹p
=1;

654 
di¥Ïy
.
fÚtSize
=1;

655 
di¥Ïy
.
‹xtW¿p
=
Œue
;

656 #ià
POK_GAMEBUINO_SUPPORT
 > 0

657 
di¥Ïy
.
	`£tFÚt
(
fÚt5x7
);

659 
di¥Ïy
.
	`£tFÚt
(
fÚtC64
);

661 #ià
POK_ENABLE_SOUND
 > 0

662 
sound
.
	`begš
();

665 
b©‹ry
.
	`upd©e
();

666 if(
bu‰Ús
.
	`´es£d
(
BTN_B
)){

667 
sound
.
	`£tVŞume
(0);

670 #ià
POK_GBSOUND
 > 0

671 #if(
NUM_CHANNELS
 > 0)

672 
sound
.
	`¶ayP©‹º
(
¡¬tupSound
, 0);

674 #if(
NUM_CHANNELS
 > 1)

675 
sound
.
	`¶ayP©‹º
(
¡¬tupSound
, 1);

677 #if(
NUM_CHANNELS
 > 2)

678 
sound
.
	`¶ayP©‹º
(
¡¬tupSound
, 2);

680 #if(
NUM_CHANNELS
 > 3)

681 
sound
.
	`¶ayP©‹º
(
¡¬tupSound
, 3);

686 
	}
}

688 
	gCÜe
::
	$š™
() {

689 
run_¡©e
 = 
Œue
;

690 
di¥Ïy
.
	`’abËDœeùPrštšg
(
çl£
);

691 
di¥Ïy
.
	`£tFÚt
(
DEFAULT_FONT
);

692 
	`š™Clock
();

693 
	`š™GPIO
();

694 
	`š™Bu‰Ús
();

695 
	`š™Rªdom
();

698 
	}
}

700 
	gCÜe
::
	$š™
(
ušt8_t
 
sw™ches
) {

701 
run_¡©e
 = 
Œue
;

702 
di¥Ïy
.
	`’abËDœeùPrštšg
(
çl£
);

703 
di¥Ïy
.
	`£tFÚt
(
DEFAULT_FONT
);

704 
	`š™Clock
();

705 
	`š™GPIO
();

706 
	`š™Bu‰Ús
();

707 
	`š™Rªdom
();

710 
	}
}

712 
	gCÜe
::
	$š™Bu‰Ús
() {

713 #iâdeà
POK_SIM


714 
Pok™to
::
	`š™Bu‰Ús
();

716 
	}
}

718 
boŞ
 
	gCÜe
::
	$isRuÂšg
() {

719 #ifdeà
POK_SIM


720 
run_¡©e
 = 
simuÏtÜ
.
	`isRuÂšg
();

722  
run_¡©e
;

723 
	}
}

725 
	gCÜe
::
	$š™Di¥Ïy
() {

726 #ià
POK_DISPLAYLOGO
 > 0

727 
	`showLogo
();

729 #ià
POK_USE_CONSOLE
 > 0

730 
cÚsŞe
.
	`AddMes§ge
(
MSOURCE_LCD
,
MSG_INIT_OK
);

732 
	}
}

734 
	gCÜe
::
	$showLogo
() {

735 
ušt32_t
 
now
;

736 
ušt8_t
 
¡©e
=0;

737 
ušt16_t
 
couÁ”
=0, 
i
=0;

738 
ušt16_t
 
sc
;

739 
¡©e
 < 255/6) {

740 
now
=
	`g‘Time
();

741 ià(
now
>
»äeshtime
) {

742 
»äeshtime
=
now
+30;

743 
¡©e
) {

746 
di¥Ïy
.
dœeùbgcŞÜ
 = 
COLOR_BLACK
;

747 
di¥Ïy
.
	`flLCD
(di¥Ïy.
dœeùbgcŞÜ
);

748 
sc
 = 
COLOR_BLACK
;

749 
¡©e
++;

753 
di¥Ïy
.
dœeùcŞÜ
 = di¥Ïy.
	`š‹½Ş©eCŞÜ
(
sc
, 
COLOR_GREEN
, 
i
);

754 
di¥Ïy
.
	`dœeùB™m­
(
POK_LCD_W
/2 - (*
Pok™to_logo
/2),
POK_LCD_H
/2-(*(Pokitto_logo+1)/2),Pokitto_logo,1,1);

755 
i
 += 28;

756 ià(
i
>=0xFFè{ 
¡©e
++; i=0;}

760 
di¥Ïy
.
dœeùcŞÜ
 = 
COLOR_GREEN
;

761 
di¥Ïy
.
	`dœeùB™m­
(
POK_LCD_W
/2 - (*
Pok™to_logo
/2),
POK_LCD_H
/2-(*(Pokitto_logo+1)/2),Pokitto_logo,1,1);

762 
i
+= 0x3F;

763 ià(
i
>0x3FFè
¡©e
 = 255;

766 if(
bu‰Ús
.
	`aBŠ
()è
¡©e
=255;

769 
	}
}

771 
	gCÜe
::
	$»adS‘tšgs
() {

779 
sound
.
	`£tMaxVŞ
(
VOLUME_HEADPHONE_MAX
);

780 
sound
.
glob®VŞume
 = 
VOLUME_STARTUP
;

782 
¡¬tM’uTim”
 = 
START_MENU_TIMER
;

788 
	}
}

790 
	gCÜe
::
	$t™ËSü“n
(cÚ¡ * 
Çme
){

791 
	`t™ËSü“n
(
Çme
, 0);

792 
	}
}

794 
	gCÜe
::
	$t™ËSü“n
(cÚ¡ 
ušt8_t
* 
logo
){

795 
	`t™ËSü“n
((""), 
logo
);

796 
	}
}

798 
	gCÜe
::
	$t™ËSü“n
(){

799 
	`t™ËSü“n
((""));

800 
	}
}

802 
	gCÜe
::
	$t™ËSü“n
(cÚ¡ * 
Çme
, cÚ¡ 
ušt8_t
 *
logo
){

803 
di¥Ïy
.
	`£tFÚt
(
fÚt5x7
);

804 if(
¡¬tM’uTim”
){

805 
di¥Ïy
.
fÚtSize
 = 1;

806 
di¥Ïy
.
‹xtW¿p
 = 
çl£
;

807 
di¥Ïy
.
³rsi¡’û
 = 
çl£
;

808 
b©‹ry
.
show
 = 
çl£
;

809 
di¥Ïy
.
	`£tCŞÜ
(
BLACK
);

810 
	`isRuÂšg
()){

811 if(
	`upd©e
()){

812 
ušt8_t
 
logoOff£t
 = 
Çme
[0]?
di¥Ïy
.
fÚtHeight
:0;

814 
di¥Ïy
.
	`£tCŞÜD•th
(1);

815 
di¥Ïy
.
	`£tCŞÜ
(3);

817 
di¥Ïy
.
	`£tCŞÜ
(1);

818 if(
logo
){

819 
di¥Ïy
.
	`d¿wB™m­
(0, 12+
logoOff£t
, 
logo
);

821 
di¥Ïy
.
cursÜX
 = 0;

822 
di¥Ïy
.
cursÜY
 = 12;

823 
di¥Ïy
.
	`´št
(
Çme
);

826 
di¥Ïy
.
cursÜX
 = 
LCDWIDTH
 - di¥Ïy.
fÚtWidth
*3 -1;

827 
di¥Ïy
.
cursÜY
 = 
LCDHEIGHT
 - di¥Ïy.
fÚtHeight
*3 - 3;

828 if((
äameCouÁ
/16)%2)

829 
di¥Ïy
.
	`´šn
(("\25 \20"));

831 
di¥Ïy
.
	`´šn
(("\25\20 "));

833 
di¥Ïy
.
cursÜX
 = 
LCDWIDTH
 - di¥Ïy.
fÚtWidth
*3 - 1;

834 
di¥Ïy
.
cursÜY
++;

835 if(
sound
.
glob®VŞume
)

836 
di¥Ïy
.
	`´šn
(("\26\23\24"));

838 
di¥Ïy
.
	`´šn
(("\26\23x"));

840 
di¥Ïy
.
cursÜX
 = 
LCDWIDTH
 - di¥Ïy.
fÚtWidth
*3 - 1;

841 
di¥Ïy
.
cursÜY
++;

845 if(
bu‰Ús
.
	`´es£d
(
BTN_B
)){

846 
sound
.
	`£tVŞume
(sound.
	`g‘VŞume
() + 1);

847 
sound
.
	`¶ayTick
();

850 if(
bu‰Ús
.
	`´es£d
(
BTN_A
è|| ((
äameCouÁ
>=
¡¬tM’uTim”
)&&(startMenuTimer != 255))){

851 
¡¬tM’uTim”
 = 255;

852 
sound
.
	`¡İP©‹º
(0);

853 
sound
.
	`¶ayOK
();

861 
b©‹ry
.
show
 = 
Œue
;

863 
	}
}

876 
boŞ
 
	gCÜe
::
	$upd©e
(
boŞ
 
u£DœeùMode
, 
ušt8_t
 
updReùX
, ušt8_ˆ
updReùY
, ušt8_ˆ
updReùW
, ušt8_ˆ
updReùH
) {

878 #ià
POK_STREAMING_MUSIC


879 
sound
.
	`upd©eSŒ—m
();

882 
ušt32_t
 
now
 = 
	`g‘Time
();

883 ià((((
ÃxtF¿meMlis
 - 
now
)è> 
timeP”F¿me
è&& 
äameEndMiüos
) {

884 
ÃxtF¿meMlis
 = 
now
 + 
timeP”F¿me
;

885 
äameCouÁ
++;

887 
äameEndMiüos
 = 0;

888 
backlight
.
	`upd©e
();

889 
bu‰Ús
.
	`upd©e
();

890 
b©‹ry
.
	`upd©e
();

893 #ià
	`defšed
(
PROJ_USE_FPS_COUNTER
è|| defšed(
PROJ_SHOW_FPS_COUNTER
)

894 cÚ¡ 
ušt32_t
 
åsIÁ”v®_ms
 = 1000*3;

896 
ås_äameCouÁ
++;

897 ià(
now
 > 
ås_»äeshtime
) {

898 
ås_couÁ”
 = (1000*
ås_äameCouÁ
è/ (
now
 - 
ås_»äeshtime
 + 
åsIÁ”v®_ms
);

899 
ås_»äeshtime
 = 
now
 + 
åsIÁ”v®_ms
;

900 
ås_äameCouÁ
 = 0;

901 
ås_couÁ”_upd©ed
 = 
Œue
;

905  
Œue
;

908 ià(!
äameEndMiüos
) {

909 #ià
POK_ENABLE_SOUND
 > 0

910 
sound
.
	`upd©eT¿ck
();

911 
sound
.
	`upd©eP©‹º
();

912 
sound
.
	`upd©eNÙe
();

914 
	`upd©ePİup
();

915 
	`di¥ÏyB©‹ry
();

917 
di¥Ïy
.
	`upd©e
(
u£DœeùMode
, 
updReùX
, 
updReùY
, 
updReùW
, 
updReùH
);

919 
äameEndMiüos
 = 1;

922  
çl£
;

924 
	}
}

926 
	gCÜe
::
	$di¥ÏyB©‹ry
(){

927 #ià(
ENABLE_BATTERY
 > 0)

929 
ušt8_t
 
ox
,
oy
;

930 
ox
=
di¥Ïy
.
cursÜX
;

931 
oy
=
di¥Ïy
.
cursÜY
;

932 
di¥Ïy
.
cursÜX
 = 
LCDWIDTH
-di¥Ïy.
fÚtWidth
+1;

933 
di¥Ïy
.
cursÜY
 = 0;

934 
b©‹ry
.
Ëv–
){

936 
sound
.
	`¡İP©‹º
();

937 
backlight
.
	`£t
(0);

938 
di¥Ïy
.
	`ş—r
();

939 
di¥Ïy
.
fÚtSize
 = 1;

940 
di¥Ïy
.
	`´št
(("LOW BATTERY\n"));

941 
di¥Ïy
.
	`´št
(
b©‹ry
.
vŞge
);

942 
di¥Ïy
.
	`´št
(("mV\n\nPLEASE\nTURN OFF"));

943 
di¥Ïy
.
	`upd©e
();

946 if((
äameCouÁ
 % 16è< 8è
di¥Ïy
.
	`´št
('\7');

947 
di¥Ïy
.
	`´št
('x');

952 if(
b©‹ry
.
show
){

953 
di¥Ïy
.
	`´št
((5+
b©‹ry
.
Ëv–
));

957 if(
b©‹ry
.
show
){

958 
di¥Ïy
.
	`´št
('/');

962 
di¥Ïy
.
cursÜX
 = 
ox
;

963 
di¥Ïy
.
cursÜY
 = 
oy
;

965 
	}
}

967 * 
	gCÜe
::
	$fem’u
(*
ext
) {

968 
di¥Ïy
.
³rsi¡’û
 = 
çl£
;

969 
ušt16_t
 
Şd·l0
=
di¥Ïy
.
·Ë‰e
[0];

970 
ušt16_t
 
Şd·l1
=
di¥Ïy
.
·Ë‰e
[1];

971 
ušt16_t
 
Şd·l2
=
di¥Ïy
.
·Ë‰e
[2];

972 
di¥Ïy
.
·Ë‰e
[2]=
COLOR_GREEN
;

973 
di¥Ïy
.
·Ë‰e
[1]=
COLOR_WHITE
;

974 
di¥Ïy
.
·Ë‰e
[0]=
COLOR_BLACK
;

975 
ušt8_t
 
Şdbg
=
di¥Ïy
.
bgcŞÜ
;

976 
ušt8_t
 
Şdfg
=
di¥Ïy
.
cŞÜ
;

977 
di¥Ïy
.
cŞÜ
=1;

978 
di¥Ïy
.
bgcŞÜ
=0;

980 
št8_t
 
aùiveI‹m
 = 0;

981 
št16_t
 
cu¼’tY
 = 100;

982 
št16_t
 
rg‘Y
 = 0, 
rowh
 = 
di¥Ïy
.
fÚtHeight
 + 2;

983 
boŞ—n
 
ex™
 = 
çl£
;

985 * 
txt
;

988 
	`isRuÂšg
()) {

989 ià(
	`upd©e
()) {

990 
	`g‘Fœ¡Fe
(
ext
);

991 ià(
bu‰Ús
.
	`´es£d
(
BTN_A
è|| bu‰Ús.´es£d(
BTN_B
è|| bu‰Ús.´es£d(
BTN_C
)) {

992 
ex™
 = 
Œue
;

993 
rg‘Y
 = - 
di¥Ïy
.
fÚtHeight
 * 10 - 2;

994 ià(
bu‰Ús
.
	`´es£d
(
BTN_A
)) {

996 
sound
.
	`¶ayOK
();

998 
sound
.
	`¶ayCªûl
();

1001 ià(
ex™
 =ğ
çl£
) {

1002 ià(
bu‰Ús
.
	`»³©
(
BTN_DOWN
,4)) {

1003 
aùiveI‹m
++;

1004 
sound
.
	`¶ayTick
();

1006 ià(
bu‰Ús
.
	`»³©
(
BTN_UP
,4)) {

1007 
aùiveI‹m
--;

1008 
sound
.
	`¶ayTick
();

1013 ià(
cu¼’tY
>
rg‘Y
) currentY-=16;

1014 ià(
cu¼’tY
<
rg‘Y
) currentY=targetY;

1017 ià(
cu¼’tY
>
rg‘Y
) currentY-=16;

1018 ià(
cu¼’tY
<
rg‘Y
) currentY=targetY;

1019 ià((
cu¼’tY
 - 
rg‘Y
) <= 1)

1021 
di¥Ïy
.
bgcŞÜ
=
Şdbg
;

1022 
di¥Ïy
.
cŞÜ
=
Şdfg
;

1023 
di¥Ïy
.
·Ë‰e
[0] = 
Şd·l0
;

1024 
di¥Ïy
.
·Ë‰e
[1] = 
Şd·l1
;

1025 
di¥Ïy
.
·Ë‰e
[2] = 
Şd·l2
;

1026  
£Ëùedfe
;

1032 
di¥Ïy
.
cursÜX
 = 0;

1033 
di¥Ïy
.
cursÜY
 = 
cu¼’tY
;

1034 
di¥Ïy
.
‹xtW¿p
 = 
çl£
;

1035 
ušt16_t
 
fc
,
bc
;

1036 
fc
 = 
di¥Ïy
.
cŞÜ
;

1037 
bc
 = 
di¥Ïy
.
bgcŞÜ
;

1039 
i
 = 0; i<20; i++) {

1040 
di¥Ïy
.
švisibËcŞÜ
=255;

1041 
di¥Ïy
.
cursÜY
 = 
cu¼’tY
 + 
rowh
 * 
i
;

1042 ià(
i
==3è
di¥Ïy
.
cŞÜ
=1;

1043 ià(
i
 =ğ
aùiveI‹m
){

1044 
di¥Ïy
.
cursÜX
 = 3;

1047 
di¥Ïy
.
cŞÜ
=2;

1048 
di¥Ïy
.
	`flReù
(0, 
cu¼’tY
 + 
rowh
 * 
aùiveI‹m
 - 2, 
LCDWIDTH
, (rowh));

1049 
di¥Ïy
.
	`£tCŞÜ
(0,2);

1050 } 
di¥Ïy
.
	`£tCŞÜ
(1,0);

1053 
txt
 = 
	`g‘NextFe
(
ext
);

1054 ià(
txt
) {

1055 
di¥Ïy
.
	`´šn
(
txt
);

1056 ià(
i
 =ğ
aùiveI‹m
) {

1057 
	`¡rıy
(
£Ëùedfe
,
txt
);

1059 } 
i
--;

1060 
di¥Ïy
.
	`£tCŞÜ
(1,0);

1065 
	}
}

1067 * 
	gCÜe
::
	$fem’u
() {

1068  
	`fem’u
("");

1069 
	}
}

1071 
št8_t
 
	gCÜe
::
	$m’u
(cÚ¡ * cÚ¡* 
™ems
, 
ušt8_t
 
Ëngth
) {

1072 #ià(
ENABLE_GUI
 > 0)

1073 
di¥Ïy
.
³rsi¡’û
 = 
çl£
;

1074 
št8_t
 
aùiveI‹m
 = 0;

1075 
št16_t
 
cu¼’tY
 = 
di¥Ïy
.
height
;

1076 
št16_t
 
rg‘Y
 = 0, 
rowh
 = 
di¥Ïy
.
fÚtHeight
 + 2;

1077 
boŞ—n
 
ex™
 = 
çl£
;

1078 
št8_t
 
ªsw”
 = -1;

1079 
	`isRuÂšg
()) {

1080 ià(
	`upd©e
()) {

1081 ià(
bu‰Ús
.
	`´es£d
(
BTN_A
è|| bu‰Ús.´es£d(
BTN_B
è|| bu‰Ús.´es£d(
BTN_C
)) {

1082 
ex™
 = 
Œue
;

1083 
rg‘Y
 = - 
di¥Ïy
.
fÚtHeight
 * 
Ëngth
 - 2;

1084 ià(
bu‰Ús
.
	`´es£d
(
BTN_A
)) {

1085 
ªsw”
 = 
aùiveI‹m
;

1086 
sound
.
	`¶ayOK
();

1088 
sound
.
	`¶ayCªûl
();

1091 ià(
ex™
 =ğ
çl£
) {

1092 ià(
bu‰Ús
.
	`»³©
(
BTN_DOWN
,4)) {

1093 
aùiveI‹m
++;

1094 
sound
.
	`¶ayTick
();

1096 ià(
bu‰Ús
.
	`»³©
(
BTN_UP
,4)) {

1097 
aùiveI‹m
--;

1098 
sound
.
	`¶ayTick
();

1101 ià(
aùiveI‹m
 =ğ
Ëngth
)‡ctiveItem = 0;

1102 ià(
aùiveI‹m
 < 0èaùiveI‹m = 
Ëngth
 - 1;

1104 
rg‘Y
 = -
rowh
 * 
aùiveI‹m
 + (rowh+4);

1106 ià((
cu¼’tY
 - 
rg‘Y
) <= 1)

1107  (
ªsw”
);

1110 
cu¼’tY
 = (cu¼’tY + 
rg‘Y
) / 2;

1111 
di¥Ïy
.
cursÜX
 = 0;

1112 
di¥Ïy
.
cursÜY
 = 
cu¼’tY
;

1113 
di¥Ïy
.
‹xtW¿p
 = 
çl£
;

1114 
ušt16_t
 
fc
,
bc
;

1115 
fc
 = 
di¥Ïy
.
cŞÜ
;

1116 
bc
 = 
di¥Ïy
.
bgcŞÜ
;

1117 
by‹
 
i
 = 0; i < 
Ëngth
; i++) {

1118 
di¥Ïy
.
cursÜY
 = 
cu¼’tY
 + 
rowh
 * 
i
;

1119 ià(
i
 =ğ
aùiveI‹m
){

1120 
di¥Ïy
.
cursÜX
 = 3;

1123 
di¥Ïy
.
	`flReù
(0, 
cu¼’tY
 + 
rowh
 * 
aùiveI‹m
 - 2, 
LCDWIDTH
, (rowh));

1124 
di¥Ïy
.
	`£tCŞÜ
(
bc
,
fc
);

1125 } 
di¥Ïy
.
	`£tCŞÜ
(
fc
,
bc
);

1127 
di¥Ïy
.
	`´šn
((*)*(cÚ¡ *)(
™ems
+
i
));

1128 
di¥Ïy
.
	`£tCŞÜ
(
fc
,
bc
);

1137 
	}
}

1139 
	gCÜe
::
	$keybßrd
(* 
‹xt
, 
ušt8_t
 
Ëngth
) {

1140 #ià(
ENABLE_GUI
 > 0)

1141 
di¥Ïy
.
³rsi¡’û
 = 
çl£
;

1143 
‹xt
[
Ëngth
-1] = '\0';

1145 
št8_t
 
aùiveCh¬
 = 0;

1147 
št8_t
 
aùiveX
 = 0;

1148 
št8_t
 
aùiveY
 = 2;

1150 
št8_t
 
cu¼’tX
 = 
LCDWIDTH
;

1151 
št8_t
 
cu¼’tY
 = 
LCDHEIGHT
;

1152 
št8_t
 
rg‘X
 = 0;

1153 
št8_t
 
rg‘Y
 = 0;

1156 ià(
	`upd©e
()) {

1158 ià(
bu‰Ús
.
	`»³©
(
BTN_DOWN
, 4)) {

1159 
aùiveY
++;

1160 
sound
.
	`¶ayTick
();

1162 ià(
bu‰Ús
.
	`»³©
(
BTN_UP
, 4)) {

1163 
aùiveY
--;

1164 
sound
.
	`¶ayTick
();

1166 ià(
bu‰Ús
.
	`»³©
(
BTN_RIGHT
, 4)) {

1167 
aùiveX
++;

1168 
sound
.
	`¶ayTick
();

1170 ià(
bu‰Ús
.
	`»³©
(
BTN_LEFT
, 4)) {

1171 
aùiveX
--;

1172 
sound
.
	`¶ayTick
();

1175 ià(
aùiveX
 =ğ
KEYBOARD_W
)‡ctiveX = 0;

1176 ià(
aùiveX
 < 0èaùiveX = 
KEYBOARD_W
 - 1;

1177 ià(
aùiveY
 =ğ
KEYBOARD_H
)‡ctiveY = 0;

1178 ià(
aùiveY
 < 0èaùiveY = 
KEYBOARD_H
 - 1;

1180 
rg‘X
 = -(
di¥Ïy
.
fÚtWidth
+1è* 
aùiveX
 + 
LCDWIDTH
 / 2 - 3;

1181 
rg‘Y
 = -(
di¥Ïy
.
fÚtHeight
+1è* 
aùiveY
 + 
LCDHEIGHT
 / 2 - 4 - display.fontHeight;

1183 
cu¼’tX
 = (
rg‘X
 + currentX) / 2;

1184 
cu¼’tY
 = (
rg‘Y
 + currentY) / 2;

1186 ià(
bu‰Ús
.
	`´es£d
(
BTN_A
)) {

1187 ià(
aùiveCh¬
 < (
Ëngth
-1)) {

1188 
by‹
 
thisCh¬
 = 
aùiveX
 + 
KEYBOARD_W
 * 
aùiveY
;

1189 if((
thisCh¬
 == 0)||(thisChar == 10)||(thisChar == 13))

1191 
‹xt
[
aùiveCh¬
] = 
thisCh¬
;

1192 
‹xt
[
aùiveCh¬
+1] = '\0';

1194 
aùiveCh¬
++;

1195 
sound
.
	`¶ayOK
();

1196 ià(
aùiveCh¬
 > 
Ëngth
)

1197 
aùiveCh¬
 = 
Ëngth
;

1200 ià(
bu‰Ús
.
	`´es£d
(
BTN_B
)) {

1201 
aùiveCh¬
--;

1202 
sound
.
	`¶ayCªûl
();

1203 ià(
aùiveCh¬
 >= 0)

1204 
‹xt
[
aùiveCh¬
] = 0;

1206 
aùiveCh¬
 = 0;

1209 ià(
bu‰Ús
.
	`´es£d
(
BTN_C
)) {

1210 
sound
.
	`¶ayOK
();

1212 ià(
	`upd©e
()) {

1214 
di¥Ïy
.
	`´šn
(("Youƒntered\n"));

1215 
di¥Ïy
.
	`´št
(
‹xt
);

1216 
di¥Ïy
.
	`´šn
(("\n\n\n\x15:okay \x16:edit"));

1217 if(
bu‰Ús
.
	`´es£d
(
BTN_A
)){

1218 
sound
.
	`¶ayOK
();

1221 if(
bu‰Ús
.
	`´es£d
(
BTN_B
)){

1222 
sound
.
	`¶ayCªûl
();

1229 
št8_t
 
y
 = 0; y < 
KEYBOARD_H
; y++) {

1230 
št8_t
 
x
 = 0; x < 
KEYBOARD_W
; x++) {

1231 
di¥Ïy
.
	`d¿wCh¬
(
cu¼’tX
 + 
x
 * (di¥Ïy.
fÚtWidth
+1), 
cu¼’tY
 + 
y
 * (di¥Ïy.
fÚtHeight
+1), x + y * 
KEYBOARD_W
, 1);

1235 
di¥Ïy
.
cursÜX
 = 
cu¼’tX
-di¥Ïy.
fÚtWidth
*6-2;

1236 
di¥Ïy
.
cursÜY
 = 
cu¼’tY
+1*(di¥Ïy.
fÚtHeight
+1);

1237 
di¥Ïy
.
	`´št
(("\25type"));

1239 
di¥Ïy
.
cursÜX
 = 
cu¼’tX
-di¥Ïy.
fÚtWidth
*6-2;

1240 
di¥Ïy
.
cursÜY
 = 
cu¼’tY
+2*(di¥Ïy.
fÚtHeight
+1);

1241 
di¥Ïy
.
	`´št
(("\26back"));

1243 
di¥Ïy
.
cursÜX
 = 
cu¼’tX
-di¥Ïy.
fÚtWidth
*6-2;

1244 
di¥Ïy
.
cursÜY
 = 
cu¼’tY
+3*(di¥Ïy.
fÚtHeight
+1);

1245 
di¥Ïy
.
	`´št
(("\27save"));

1248 
di¥Ïy
.
	`£tCŞÜ
(
WHITE
);

1249 
di¥Ïy
.
	`d¿wFa¡HLše
(
cu¼’tX
 + 
aùiveX
 * (di¥Ïy.
fÚtWidth
+1è- 1, 
cu¼’tY
 + 
aùiveY
 * (di¥Ïy.
fÚtHeight
+1) - 2, 7);

1251 
di¥Ïy
.
	`£tCŞÜ
(
BLACK
);

1252 
di¥Ïy
.
	`d¿wRoundReù
(
cu¼’tX
 + 
aùiveX
 * (di¥Ïy.
fÚtWidth
+1è- 2, 
cu¼’tY
 + 
aùiveY
 * (di¥Ïy.
fÚtHeight
+1) - 3, (display.fontWidth+2)+(display.fontWidth-1)%2, (display.fontHeight+5), 3);

1256 
di¥Ïy
.
	`d¿wFa¡HLše
(0, 
LCDHEIGHT
-di¥Ïy.
fÚtHeight
-2, 
LCDWIDTH
);

1257 
di¥Ïy
.
	`£tCŞÜ
(
WHITE
);

1258 
di¥Ïy
.
	`flReù
(0, 
LCDHEIGHT
-di¥Ïy.
fÚtHeight
-1, 
LCDWIDTH
, display.fontHeight+1);

1260 
di¥Ïy
.
cursÜX
 = 0;

1261 
di¥Ïy
.
cursÜY
 = 
LCDHEIGHT
-di¥Ïy.
fÚtHeight
;

1262 
di¥Ïy
.
	`£tCŞÜ
(
BLACK
);

1263 
di¥Ïy
.
	`´št
(
‹xt
);

1265 ià(((
äameCouÁ
 % 8è< 4è&& (
aùiveCh¬
 < (
Ëngth
-1)))

1266 
di¥Ïy
.
	`d¿wCh¬
(di¥Ïy.
fÚtWidth
 * 
aùiveCh¬
, 
LCDHEIGHT
-di¥Ïy.
fÚtHeight
, '_',1);

1270 
	}
}

1272 
	gCÜe
::
	$pİup
(cÚ¡ * 
‹xt
, 
ušt8_t
 
du¿tiÚ
){

1273 #ià(
ENABLE_GUI
 > 0)

1274 
pİupText
 = 
‹xt
;

1275 
pİupTimeLeá
 = 
du¿tiÚ
+12;

1277 
	}
}

1279 
	gCÜe
::
	$upd©ePİup
(){

1280 #ià(
ENABLE_GUI
 > 0)

1281 ià(
pİupTimeLeá
){

1282 
ušt8_t
 
yOff£t
 = 0;

1283 if(
pİupTimeLeá
<12){

1284 
yOff£t
 = 12-
pİupTimeLeá
;

1286 
di¥Ïy
.
fÚtSize
 = 1;

1287 
di¥Ïy
.
	`£tCŞÜ
(
WHITE
);

1288 
di¥Ïy
.
	`flRoundReù
(0,
LCDHEIGHT
-di¥Ïy.
fÚtHeight
+
yOff£t
-3,84,display.fontHeight+3,3);

1289 
di¥Ïy
.
	`£tCŞÜ
(
BLACK
);

1290 
di¥Ïy
.
	`d¿wRoundReù
(0,
LCDHEIGHT
-di¥Ïy.
fÚtHeight
+
yOff£t
-3,84,display.fontHeight+3,3);

1291 
di¥Ïy
.
cursÜX
 = 4;

1292 
di¥Ïy
.
cursÜY
 = 
LCDHEIGHT
-di¥Ïy.
fÚtHeight
+
yOff£t
-1;

1293 
di¥Ïy
.
	`´št
(
pİupText
);

1294 
pİupTimeLeá
--;

1297 
	}
}

1299 
	gCÜe
::
	$£tF¿meR©e
(
ušt8_t
 
ås
) {

1300 
timeP”F¿me
 = 1000 / 
ås
;

1301 
sound
.
´esÿËr
 = 
ås
 / 20;

1302 
sound
.
´esÿËr
 = 
	`__avrmax
(1, sound.prescaler);

1303 
	}
}

1305 
	gCÜe
::
	$pickRªdomS“d
(){

1306 
	`š™Rªdom
();

1307 
	}
}

1309 
boŞ
 
	gCÜe
::
	$cŞlidePoštReù
(
št16_t
 
x1
, iÁ16_ˆ
y1
 ,št16_ˆ
x2
 ,št16_ˆ
y2
, iÁ16_ˆ
w
, iÁ16_ˆ
h
){

1310 if((
x1
>=
x2
)&&(x1<x2+
w
))

1311 if((
y1
>=
y2
)&&(y1<y2+
h
))

1312  
Œue
;

1313  
çl£
;

1314 
	}
}

1316 
boŞ
 
	gCÜe
::
	$cŞlideReùReù
(
št16_t
 
x1
, iÁ16_ˆ
y1
, iÁ16_ˆ
w1
, iÁ16_ˆ
h1
 ,št16_ˆ
x2
 ,št16_ˆ
y2
, iÁ16_ˆ
w2
, iÁ16_ˆ
h2
){

1317  !Ğ
x2
 >ğ
x1
+
w1
 ||

1318 
x2
+
w2
 <ğ
x1
 ||

1319 
y2
 >ğ
y1
+
h1
 ||

1320 
y2
+
h2
 <ğ
y1
 );

1321 
	}
}

1323 
boŞ
 
	gCÜe
::
	$cŞlideB™m­B™m­
(
št16_t
 
x1
, iÁ16_ˆ
y1
, cÚ¡ 
ušt8_t
* 
b1
, iÁ16_ˆ
x2
, iÁ16_ˆ
y2
, cÚ¡ ušt8_t* 
b2
){

1324 
št16_t
 
w1
 = 
	`pgm_»ad_by‹
(
b1
);

1325 
št16_t
 
h1
 = 
	`pgm_»ad_by‹
(
b1
 + 1);

1326 
št16_t
 
w2
 = 
	`pgm_»ad_by‹
(
b2
);

1327 
št16_t
 
h2
 = 
	`pgm_»ad_by‹
(
b2
 + 1);

1329 if(
	`cŞlideReùReù
(
x1
, 
y1
, 
w1
, 
h1
, 
x2
, 
y2
, 
w2
, 
h2
è=ğ
çl£
){

1330  
çl£
;

1333 
št16_t
 
xmš
 = (
x1
>=
x2
)? 0 : x2-x1;

1334 
št16_t
 
ymš
 = (
y1
>=
y2
)? 0 : y2-y1;

1335 
št16_t
 
xmax
 = (
x1
+
w1
>=
x2
+
w2
)? x2+w2-x1 : w1;

1336 
št16_t
 
ymax
 = (
y1
+
h1
>=
y2
+
h2
)? y2+h2-y1 : h1;

1337 
ušt8_t
 
y
 = 
ymš
; y < 
ymax
; y++){

1338 
ušt8_t
 
x
 = 
xmš
; x < 
xmax
; x++){

1339 if(
di¥Ïy
.
	`g‘B™m­Pix–
(
b1
, 
x
, 
y
è&& di¥Ïy.g‘B™m­Pix–(
b2
, 
x1
+x-
x2
, 
y1
+y-
y2
)){

1340  
Œue
;

1344  
çl£
;

1345 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoCore.h

37 #iâdeà
POKITTOCORE_H


38 
	#POKITTOCORE_H


	)

40 
	~<¡dšt.h
>

41 
	~<m©h.h
>

42 #iâdeà
POK_SIM


43 
	~"pwmout_­i.h
"

44 
	~"HWBu‰Ús.h
"

46 
	~"Pok™toSimuÏtÜ.h
"

48 #ià
POK_USE_CONSOLE
 > 0

49 
	~"Pok™toCÚsŞe.h
"

51 #ià
POK_ENABLE_SD
 > 0

52 
	~"Pok™toDisk.h
"

55 
	~"Pok™toFÚts.h
"

56 
	~"Pok™toP®‘‹s.h
"

57 
	~"Pok™toDi¥Ïy.h
"

58 
	~"Pok™toBu‰Ús.h
"

59 
	~"Pok™toB©‹ry.h
"

60 
	~"Pok™toBacklight.h
"

61 
	~"Pok™toSound.h
"

62 
	~"Pok™toFak—vr.h
"

64 
	#PALETTE_SIZE
 256

	)

65 
	#PI
 3.141592741f

	)

68 #ià
PROJ_GAMEBUINO
 > 0

69 
£tup
();

70 
loİ
();

73 
ušt32_t
* 
±im”
;

75 
Çme¥aû
 
	gPok™to
 {

100 şas 
	cCÜe


102 
	gpublic
:

105 
CÜe
();

108 
Backlight
 
	gbacklight
;

110 
Bu‰Ús
 
	gbu‰Ús
;

112 
B©‹ry
 
	gb©‹ry
;

114 
Sound
 
	gsound
;

116 
Di¥Ïy
 
	gdi¥Ïy
;

119 
	gpublic
:

121 
begš
();

123 
š™
();

125 
š™
(
ušt8_t
);

127 
boŞ
 
isRuÂšg
();

129 
qu™
();

132 
boŞ
 
	grun_¡©e
;

134 
	gpublic
:

137 
š™Di¥Ïy
();

139 
š™Rªdom
();

141 
š™GPIO
();

143 
š™LCD
();

145 
š™Audio
();

149 
	gpublic
:

151 
š™Backlight
();

153 
	g´iv©e
:

155 #iâdeà
POK_SIM


156 
pwmout_t
 
backlighwm
;

160 
	gpublic
:

162 
š™Clock
();

164 
ušt32_t
 
g‘Time
();

166 
wa™
(
ušt16_t
);

168 
ušt32_t
 
	gås_couÁ”
;

169 
boŞ
 
	gås_couÁ”_upd©ed
;

170 
	g´iv©e
:

172 
ušt32_t
 
»äeshtime
;

175 
	gpublic
:

177 
showLogo
();

178 
showW¬nšg
();

179 
£tVŞLim™
();

182 
	gpublic
:

183 
š™Bu‰Ús
();

184 
pŞlBu‰Ús
();

185 
ušt8_t
 
ËáBŠ
();

186 
ušt8_t
 
rightBŠ
();

187 
ušt8_t
 
upBŠ
();

188 
ušt8_t
 
downBŠ
();

189 
ušt8_t
 
aBŠ
();

190 
ušt8_t
 
bBŠ
();

191 
ušt8_t
 
cBŠ
();

192 
ušt8_t
 
ËáH–d
();

193 
ušt8_t
 
rightH–d
();

194 
ušt8_t
 
upH–d
();

195 
ušt8_t
 
downH–d
();

196 
ušt8_t
 
aH–d
();

197 
ušt8_t
 
bH–d
();

198 
ušt8_t
 
cH–d
();

200 
ušt8_t
 
ËáR–—£d
();

201 
ušt8_t
 
rightR–—£d
();

202 
ušt8_t
 
upR–—£d
();

203 
ušt8_t
 
downR–—£d
();

204 
ušt8_t
 
aR–—£d
();

205 
ušt8_t
 
bR–—£d
();

206 
ušt8_t
 
cR–—£d
();

209 
ušt8_t
 
ampIsOn
();

210 
ampEÇbË
(
ušt8_t
);

211 
ušt8_t
 
	gsoundby‹
;

214 
	gpublic
:

215 
»adS‘tšgs
();

216 
t™ËSü“n
(cÚ¡ * 
Çme
, cÚ¡ 
ušt8_t
 *
logo
);

217 
t™ËSü“n
(cÚ¡ * 
Çme
);

218 
t™ËSü“n
(cÚ¡ 
ušt8_t
* 
logo
);

219 
t™ËSü“n
();

220 
boŞ
 
upd©e
(boŞ 
u£DœeùMode
=
çl£
, 
ušt8_t
 
updReùX
=0, ušt8_ˆ
updReùY
=0, ušt8_ˆ
updReùW
=
LCDWIDTH
, ušt8_ˆ
updReùH
=
LCDHEIGHT
);

221 
ušt32_t
 
	gäameCouÁ
;

222 
št8_t
 
m’u
(cÚ¡ * cÚ¡* 
™ems
, 
ušt8_t
 
Ëngth
);

223 * 
fem’u
(*);

224 * 
fem’u
();

225 
keybßrd
(* 
‹xt
, 
ušt8_t
 
Ëngth
);

226 
pİup
(cÚ¡ * 
‹xt
, 
ušt8_t
 
du¿tiÚ
);

227 
£tF¿meR©e
(
ušt8_t
 
ås
);

228 
pickRªdomS“d
();

230 
ušt8_t
 
g‘CpuLßd
();

231 
ušt16_t
 
g‘F»eRam
();

233 
boŞ
 
cŞlidePoštReù
(
št16_t
 
x1
, iÁ16_ˆ
y1
 ,št16_ˆ
x2
 ,št16_ˆ
y2
, iÁ16_ˆ
w
, iÁ16_ˆ
h
);

234 
boŞ
 
cŞlideReùReù
(
št16_t
 
x1
, iÁ16_ˆ
y1
, iÁ16_ˆ
w1
, iÁ16_ˆ
h1
 ,št16_ˆ
x2
 ,št16_ˆ
y2
, iÁ16_ˆ
w2
, iÁ16_ˆ
h2
);

235 
boŞ
 
cŞlideB™m­B™m­
(
št16_t
 
x1
, iÁ16_ˆ
y1
, cÚ¡ 
ušt8_t
* 
b1
, iÁ16_ˆ
x2
, iÁ16_ˆ
y2
, cÚ¡ ušt8_t* 
b2
);

237 
	g´iv©e
:

238 
ušt8_t
 
timeP”F¿me
;

239 
ušt32_t
 
	gÃxtF¿meMlis
;

240 
upd©ePİup
();

241 cÚ¡ * 
	gpİupText
;

242 
ušt8_t
 
	gpİupTimeLeá
;

243 
di¥ÏyB©‹ry
();

244 
ušt16_t
 
	gäameDu¿tiÚMiüos
;

245 
ušt32_t
 
	gäameS¹Miüos
, 
	gäameEndMiüos
;

246 
ušt8_t
 
	g¡¬tM’uTim”
;

247 
upd©eLßd”
(
ušt32_t
,uint32_t);

248 
ušt32_t
 
	gås_»äeshtime
;

249 
ušt32_t
 
	gås_äameCouÁ
;

251 
	gpublic
:

252 
ušt8_t
 
vŞb¬_visibË
;

253 
d¿wvŞb¬
(,,, 
boŞ
);

254 
askLßd”
();

255 
jumpToLßd”
();

259 
CÜe
 
cÜe
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoDisk.cpp

21 
	~"Pok™to.h
"

23 
	#SD_MOSI_PORT
 0

	)

24 
	#SD_MISO_PORT
 0

	)

25 
	#SD_SCK_PORT
 0

	)

26 
	#SD_CS_PORT
 0

	)

27 
	#SD_MOSI_PIN
 9

	)

28 
	#SD_MISO_PIN
 8

	)

29 
	#SD_SCK_PIN
 6

	)

30 
	#SD_CS_PIN
 7

	)

32 #ià
POK_ENABLE_SD
 > 0

33 #iâdeà
NOPETITFATFS


34 
BYTE
 
	g»s
;

35 
FATFS
 
	gfs
;

36 
FATDIR
 
	gdœ
;

37 
FILINFO
 
	gâo
;

41 
boŞ
 
	gdœİ’ed
=
çl£
;

43 
	#SPEAKER
 3

	)

45 
	#SONGLENGTH
 0x1BFBCD

46 
	#FILESIZE
 0x1BFBCD

	)

48 
ušt8_t
 
	gfemode
 = 
FILE_MODE_UNINITIALIZED
;

49 
	gcu¼’tfe
[15];

51 
SPI
 
deviû
(
CONNECT_MOSI
,
CONNECT_MISO
,
CONNECT_SCK
);

54 cÚ¡ *
	$g‘_f’ame_ext
(cÚ¡ *
f’ame
) {

55 cÚ¡ *
dÙ
 = 
	`¡¼chr
(
f’ame
, '.');

56 if(!
dÙ
 || dÙ =ğ
f’ame
)  "";

57  
dÙ
 + 1;

58 
	}
}

60 
__©Œibu‹__
((
£ùiÚ
(".SD_Code"))è
	$š™SDGPIO
() {

61 
LPC_GPIO_PORT
->
DIR
[
SD_MOSI_PORT
] |ğ(1 << 
SD_MOSI_PIN
 );

62 
LPC_GPIO_PORT
->
DIR
[
SD_MISO_PORT
] |ğ(1 << 
SD_MISO_PIN
 );

63 
LPC_GPIO_PORT
->
DIR
[
SD_SCK_PORT
] |ğ(1 << 
SD_SCK_PIN
 );

64 
LPC_GPIO_PORT
->
DIR
[
SD_CS_PORT
] |ğ(1 << 
SD_CS_PIN
 );

65 
	}
}

67 
__©Œibu‹__
((
£ùiÚ
(".SD_Code"))è
	$pokIn™SD
() {

68 
	`š™SDGPIO
();

69 #iâdeà
NOPETITFATFS


70 
»s
 = 
	`disk_š™Ÿlize
();

72 
»s
 = 
	`disk_š™Ÿlize
(0);

74 
»s
 = (
	`pf_mouÁ
(&
fs
));

75 
»s
 = 
	`pf_İ’dœ
(&
dœ
,"");

76 ià(
»s
è
dœİ’ed
=
çl£
;

77 
dœİ’ed
=
Œue
;

78  
»s
;

79 
	}
}

82 
	$em±yFÇme
() {

83 
i
=0; i<13; i++è
âo
.
âame
[i]=
NULL
;

84 
	}
}

88 * 
	$g‘Fœ¡DœEÁry
() {

89 
»s
=0;

90 ià(!
dœİ’ed
) {

91 
	`pokIn™SD
();

93 
»s
 = 
	`pf_İ’dœ
(&
dœ
,"");

94 
	`em±yFÇme
();

95 
»s
 = 
	`pf_»addœ
(&
dœ
,&
âo
);

96 ià(
»s
)  0;

97 
»s
==0) {

98 ià((
âo
.
ç‰rib
 & 0x02)==0) {

99 ià(
âo
.
ç‰rib
 & 0x10) {

100 
âo
.
âame
[8]='.';

101 
âo
.
âame
[9]='D';

102 
âo
.
âame
[10]='I';

103 
âo
.
âame
[11]='R';

104 
âo
.
âame
[12]='\0';

106  
âo
.
âame
;

108 
	`em±yFÇme
();

109 
»s
 = 
	`pf_»addœ
(&
dœ
,&
âo
);

110 ià(
»s
==0 && 
dœ
.
šdex
==0) ;

113 
	}
}

115 * 
	$g‘NextDœEÁry
() {

116 ià(!
dœİ’ed
è
	`pokIn™SD
();

117 
	`em±yFÇme
();

118 
»s
 = 
	`pf_»addœ
(&
dœ
,&
âo
);

119 ià(
»s
==0) {

120 
âo
.
ç‰rib
 & 0x02 && !
»s
è{
	`em±yFÇme
();„e ğ
	`pf_»addœ
(&
dœ
,&fno);}

121 ià(
âo
.
ç‰rib
 & 0x10) {

122 
a
=12;

123 
a
) {

124 
âo
.
âame
[
a
] = fno.fname[a-1];

125 
a
--;

127 ià(
âo
.
âame
[0]) {

128 
âo
.
âame
[0]='/';

129 
a
=0;

130 
âo
.
âame
[
a
])‡++;

131 
âo
.
âame
[
a
]='/';

140  
âo
.
âame
;

142  
NULL
;

143 
	}
}

145 * 
	$g‘NextFe
 (* 
ext
){

147 ià(!
dœİ’ed
è
	`pokIn™SD
();

148 
a
=1;

149 
	`em±yFÇme
();

150 
»s
 = 
	`pf_»addœ
(&
dœ
,&
âo
);

151 
»s
==0 || 
a
) {

152 ià(
dœ
.
šdex
==0)  0;

153 
a
 = 
	`¡rcmp
((cÚ¡ *)
	`g‘_f’ame_ext
(
âo
.
âame
),(cÚ¡ *)
ext
);

154 ià(
	`¡rcmp
(
ext
,"")==0 && (
âo
.
ç‰rib
 & 0x10è=ğ0è
a
=0;

155 ià(
a
 =ğ0 && (
âo
.
ç‰rib
 & 0x10è=ğ0è fno.
âame
;

156 ià(
âo
.
âame
[0]==
NULL
)  NULL;

158 
	`em±yFÇme
();

159 
»s
 = 
	`pf_»addœ
(&
dœ
,&
âo
);

162 
	}
}

165 * 
	$g‘NextFe
() {

166  
	`g‘NextFe
("");

167 
	}
}

169 * 
	$g‘Fœ¡Fe
(* 
ext
) {

170 
»s
=0;

171 ià(!
dœİ’ed
) {

172 
	`pokIn™SD
();

174 
»s
 = 
	`pf_İ’dœ
(&
dœ
,"");

175 
	`em±yFÇme
();

176 
»s
 = 
	`pf_»addœ
(&
dœ
,&
âo
);

177 ià(
»s
)  0;

178 
»s
==0 || (
âo
.
ç‰rib
 & 0x10) == 0) {

179 
a
=0;

180 
a
 = 
	`¡rcmp
((cÚ¡ *)
	`g‘_f’ame_ext
(
âo
.
âame
),(cÚ¡ *)
ext
);

181 ià(!
	`¡rcmp
(
ext
,"")è
a
=0;

182 iàĞ
a
 =ğ0 && (
âo
.
ç‰rib
 & 0x10è=ğ0è fno.
âame
;

183 
	`em±yFÇme
();

184 
»s
 = 
	`pf_»addœ
(&
dœ
,&
âo
);

185 ià(
âo
.
âame
[0]==
NULL
) ;

186 ià(
»s
==0 && 
dœ
.
šdex
==0) ;

189 
	}
}

191 * 
	$g‘Fœ¡Fe
() {

192  
	`g‘Fœ¡Fe
("");

193 
	}
}

195 
	$isThisFeO³n
(* 
bufãr
){

196 
a
=0;

197 
a
 = 
	`¡rcmp
((cÚ¡ *)
bufãr
,(cÚ¡ *)
cu¼’tfe
);

198 iàĞ
a
 =ğ0 && 
femode
 !ğ
FILE_MODE_FAILED
)  1;

200 
	}
}

202 
	$feOK
() {

203 ià(
femode
 !ğ
FILE_MODE_FAILED
)  1;

205 
	}
}

207 
ušt8_t
 
	$feO³n
(* 
bufãr
, 
fmode
) {

208 
”r
;

209 ià(
femode
 =ğ
FILE_MODE_UNINITIALIZED
) {

210 
a
 = 
	`pf_mouÁ
(&
fs
);

211 ià(
a
)  1;

214 
femode
 = 
fmode
;

215 
”r
 = 
	`pf_İ’
(
bufãr
);

216 ià(
”r
==0) {

217 
	`¡rıy
(
cu¼’tfe
,(cÚ¡ *)
bufãr
);

221 
femode
 = 
FILE_MODE_FAILED
;

223 
	}
}

225 
	$feClo£
() {

226 
femode
 = 
FILE_MODE_UNINITIALIZED
;

227 
ušt8_t
 
i
=0; i<15; i++è
cu¼’tfe
[i]=0;

228 
	}
}

230 
	$feG‘Ch¬
() {

231 
BYTE
 
buff
[1];

232 
WORD
 
br
;

233 
”r
 = 
	`pf_»ad
(
buff
, 1, &
br
);

234  
buff
[0];

235 
	}
}

237 
	$fePutCh¬
(
c
) {

238 
WORD
 
bw
;

239 
	`pf_wr™e
((cÚ¡ *)&
c
, 1, &
bw
);

240 
	`pf_wr™e
(0, 0, &
bw
);

241 
	}
}

243 
	$feWr™eBy‹s
(
ušt8_t
 * 
b
, 
ušt16_t
 
n
) {

244 
WORD
 
bw
;

245 
	`pf_wr™e
((cÚ¡ *)&
b
, 
n
, &
bw
);

246 
	`pf_wr™e
(0, 0, &
bw
);

247 
	}
}

249 
ušt16_t
 
	$feR—dBy‹s
(
ušt8_t
 * 
b
, 
ušt16_t
 
n
) {

250 
WORD
 
br
;

251 
	`pf_»ad
(
b
, 
n
, &
br
);

252  
br
;

253 
	}
}

255 
	$feS“kAbsŞu‹
(
n
) {

256 
»s
 = 
	`pf_l£ek
(
n
);

257 
	}
}

259 
	$feS“kR–©ive
(
n
) {

260 ià(
n
<0èià(
fs
.
åŒ
 < -n)‚=-fs.fptr;

261 ià(
n
>0èià(
fs
.
åŒ
+À> fs.
fsize
)‚=fs.fsize-fs.fptr;

262 
»s
 = 
	`pf_l£ek
(
fs
.
åŒ
 + 
n
);

263 
	}
}

265 
	$feRewšd
() {

266 
»s
 = 
	`pf_l£ek
(0);

267 
	}
}

269 
	$feEnd
() {

270 
»s
 = 
	`pf_l£ek
(
fs
.
fsize
);

271 
	}
}

273 
	$feG‘Pos™iÚ
() {

274  
fs
.
åŒ
;

275 
	}
}

277 
ušt8_t
 
	$feP“k
(
n
) {

278 
	`pf_l£ek
(
n
);

279  
	`feG‘Ch¬
();

280 
	}
}

282 
	$fePoke
(
n
, 
ušt8_t
 
c
) {

283 
	`pf_l£ek
(
n
);

284 
	`fePutCh¬
(
c
);

285 
	}
}

287 
	$feR—dLše
(* 
de¡š©iÚ
, 
maxch¬s
) {

288 
n
=0;

289 
c
=1;

290 
lšebuf
[80];

291 
	`feR—dBy‹s
((
ušt8_t
*)
lšebuf
,80);

292 
šdex
=0;

293 
c
!=
NULL
) {

294 
c
 = 
lšebuf
[
šdex
++];

295 ià(
n
 == 0) {

296 
c
 =ğ'\n' || c =ğ'\r'èøğ
lšebuf
[
šdex
++];

298 
n
++;

299 ià(
c
=='\n' || c=='\r' || 
n
==
maxch¬s
-1èc=
NULL
;

300 *
de¡š©iÚ
++ = 
c
;

302 
	`feS“kR–©ive
(-80+
šdex
);

303  
n
;

304 
	}
}

306 
	$dœO³n
() {

307  
	`pf_İ’dœ
(&
dœ
,"");

308 
	}
}

310 
	$dœUp
() {

313 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoDisk.h

38 #iâdeà
POKITTO_DISK_H


39 
	#POKITTO_DISK_H


	)

41 
	~"Pok™to_£‰šgs.h
"

43 #iâdeà
POK_SIM


45 #iâdeà
NOPETITFATFS


46 
	~"diskio.h
"

47 
	~"pff.h
"

48 
	~"cÚÃù.h
"

49 
BYTE
 
»s
;

50 
FATFS
 
fs
;

51 
FATDIR
 
dœ
;

52 
FILINFO
 
âo
;

55 
	~"mbed.h
"

57 
SPI
 
deviû
;

58 
Dig™®Out
 
mmccs
;

65 
	#CLR_SD_CS
 
LPC_GPIO_PORT
->
CLR
[0] = (1 << 7)

	)

66 
	#SET_SD_CS
 
LPC_GPIO_PORT
->
SET
[0] = (1 << 7)

	)

67 
	#GET_SD_CS
 
LPC_GPIO_PORT
->
PIN
[0] & (1 << 7)

	)

73 
	~<¡dšt.h
>

77 
pokIn™SD
();

80 
	#FILE_MODE_APPEND
 0x1

	)

81 
	#FILE_MODE_OVERWRITE
 0

	)

82 
	#FILE_MODE_READONLY
 0x2

	)

83 
	#FILE_MODE_READWRITE
 0

	)

84 
	#FILE_MODE_BINARY
 0x4

	)

85 
	#FILE_MODE_ASCII
 0

	)

86 
	#FILE_MODE_FAILED
 0x8

	)

87 
	#FILE_MODE_UNINITIALIZED
 0x10

	)

89 
ušt8_t
 
feO³n
(*, );

90 
feClo£
();

91 
feG‘Ch¬
();

92 
fePutCh¬
();

93 
feWr™eBy‹s
(
ušt8_t
 *, 
ušt16_t
);

94 
ušt16_t
 
feR—dBy‹s
(
ušt8_t
 *, uint16_t);

95 
feS“kAbsŞu‹
();

96 
feS“kR–©ive
();

97 
feRewšd
();

98 
feEnd
();

99 
feG‘Pos™iÚ
();

100 
	#feS‘Pos™iÚ
(
n
è(
	`feS“kAbsŞu‹
Ò))

	)

101 
ušt8_t
 
feP“k
();

102 
fePoke
(, 
ušt8_t
);

103 
feR—dLše
(*,);

104 * 
g‘Cu¼’tFeName
 ();

105 * 
g‘NextFe
 (*);

106 * 
g‘NextFe
 ();

107 * 
g‘Fœ¡Fe
(*);

108 * 
g‘Fœ¡Fe
();

109 * 
g‘Fœ¡DœEÁry
();

110 * 
g‘NextDœEÁry
();

111 
isThisFeO³n
(*);

112 
feOK
();

113 
dœO³n
();

114 
dœUp
();

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoDisplay.cpp

67 
	~"Pok™toDi¥Ïy.h
"

68 
	~"Pok™to_£‰šgs.h
"

69 
	~"GBcom·tib™y.h
"

70 
	~"Pok™toCÜe.h
"

71 
	~"Pok™toSound.h
"

72 
	~<¡dio.h
>

73 
	~<¡ršg.h
>

74 #ifdeà
DISABLEAVRMIN


75 
	~<®gÜ™hm
>

76 
usšg
 
	g¡d
::
mš
;

77 
usšg
 
	g¡d
::
max
;

80 #iâdeà
POK_SIM


81 
	~"HWLCD.h
"

83 
	~"SimLCD.h
"

86 "C" 
CheckSck
();

87 
_ebss
[];

88 
_vSckTİ
[];

90 
	gPok™to
::
CÜe
 
cÜe
;

91 
	gPok™to
::
Sound
 
_pdsound
;

93 
usšg
 
Çme¥aû
 
	gPok™to
;

97 
ušt8_t
* 
	gDi¥Ïy
::
m_sübuf
;

98 
ušt8_t
* 
	gDi¥Ïy
::
m_te£t
;

99 
ušt8_t
* 
	gDi¥Ïy
::
m_tebuf
;

100 
ušt8_t
* 
	gDi¥Ïy
::
m_tecŞÜbuf
;

101 
ušt8_t
 
	gDi¥Ïy
::
m_mode
, Di¥Ïy::
m_cŞÜd•th
;

102 
ušt8_t
 
	gDi¥Ïy
::
·lOff£t
;

103 
S´™eInfo
 
	gDi¥Ïy
::
m_¥r™es
[
SPRITE_COUNT
];

104 
ušt8_t
 
	gDi¥Ïy
::
fÚtSize
=1;

105 
št16_t
 
	gDi¥Ïy
::
cursÜX
,Di¥Ïy::
cursÜY
;

106 
ušt16_t
 
	gDi¥Ïy
::
m_w
,Di¥Ïy::
m_h
;

107 
ušt8_t
 
	gDi¥Ïy
::
fÚtWidth
, Di¥Ïy::
fÚtHeight
;

108 
boŞ
 
	gDi¥Ïy
::
‹xtW¿p
=
Œue
;

110 
ušt8_t
 
	gDi¥Ïy
::
³rsi¡’û
 = 0;

111 
ušt16_t
 
	gDi¥Ïy
::
cŞÜ
 = 1;

112 
ušt16_t
 
	gDi¥Ïy
::
bgcŞÜ
 = 0;

113 
ušt16_t
 
	gDi¥Ïy
::
švisibËcŞÜ
 = 17;

114 
ušt16_t
 
	gDi¥Ïy
::
dœeùcŞÜ
=0xFFFF;

115 
ušt16_t
 
	gDi¥Ïy
::
dœeùbgcŞÜ
=0x0;

116 
boŞ
 
	gDi¥Ïy
::
dœeù‹xŒÙ©ed
=
çl£
;

117 
št16_t
 
	gDi¥Ïy
::
şX
 = 0;

118 
št16_t
 
	gDi¥Ïy
::
şY
 = 0;

119 
št16_t
 
	gDi¥Ïy
::
şW
 = 
LCDWIDTH
;

120 
št16_t
 
	gDi¥Ïy
::
şH
 = 
LCDHEIGHT
;

122 
ušt16_t
* 
	gDi¥Ïy
::
·Ë‰•Œ
;

123 
ušt16_t
 
	gDi¥Ïy
::
·Ë‰e
[
PALETTE_SIZE
];

124 cÚ¡ * 
	gDi¥Ïy
::
fÚt
;

125 
št8_t
 
	gDi¥Ïy
::
adju¡Ch¬S‹p
 = 1;

126 
št8_t
 
	gDi¥Ïy
::
adju¡LšeS‹p
 = 1;

127 
boŞ
 
	gDi¥Ïy
::
fixedWidthFÚt
 = 
çl£
;

133 
ušt8_t
 
	gDi¥Ïy
::
bµ
 = 
POK_COLORDEPTH
;

134 #iâdeà
POK_TILEDMODE


135 #ià(
POK_SCREENMODE
 =ğ
MODE_HI_MONOCHROME
)

136 
ušt8_t
 
	gDi¥Ïy
::
width
 = 
POK_LCD_W
;

137 
ušt8_t
 
	gDi¥Ïy
::
height
 = 
POK_LCD_H
;

138 
ušt8_t
 
	gDi¥Ïy
::
sü“nbufãr
[((
POK_LCD_H
+1)*
POK_LCD_W
)*
POK_COLORDEPTH
/8];

139 #–ià(
POK_SCREENMODE
 =ğ
MODE_HI_4COLOR
)

140 
ušt8_t
 
	gDi¥Ïy
::
width
 = 
POK_LCD_W
;

141 
ušt8_t
 
	gDi¥Ïy
::
height
 = 
POK_LCD_H
;

142 
ušt8_t
 
__©Œibu‹__
((
£ùiÚ
 (".bss"))è
	gDi¥Ïy
::
sü“nbufãr
[((
POK_LCD_H
)*
POK_LCD_W
)/4];

143 #–ià(
POK_SCREENMODE
 =ğ
MODE_FAST_16COLOR
)

144 
ušt8_t
 
	gDi¥Ïy
::
width
 = 
POK_LCD_W
/2;

145 
ušt8_t
 
	gDi¥Ïy
::
height
 = 
POK_LCD_H
/2;

146 
ušt8_t
 
	gDi¥Ïy
::
sü“nbufãr
[(((
POK_LCD_H
/2)+1)*
POK_LCD_W
/2)*
POK_COLORDEPTH
/8];

147 #–ià(
POK_SCREENMODE
 =ğ
MODE_HI_16COLOR
)

148 
ušt8_t
 
	gDi¥Ïy
::
width
 = 
POK_LCD_W
;

149 
ušt8_t
 
	gDi¥Ïy
::
height
 = 
POK_LCD_H
;

150 
ušt8_t
 
	gDi¥Ïy
::
sü“nbufãr
[
POK_LCD_H
*
POK_LCD_W
/2];

151 #–ià(
POK_SCREENMODE
 =ğ
MODE_LAMENES
)

152 
ušt8_t
 
	gDi¥Ïy
::
width
 = 128;

153 
ušt8_t
 
	gDi¥Ïy
::
height
 = 120;

154 
ušt8_t
 
	gDi¥Ïy
::
sü“nbufãr
[((121)*128)*
POK_COLORDEPTH
/8];

155 #–ià(
POK_SCREENMODE
 =ğ
MODE_GAMEBOY
)

156 
ušt8_t
 
	gDi¥Ïy
::
width
 = 160;

157 
ušt8_t
 
	gDi¥Ïy
::
height
 = 144;

158 
ušt8_t
 
	gDi¥Ïy
::
sü“nbufãr
[160*144/4];

159 #–ià(
POK_SCREENMODE
 =ğ
MODE14
)

160 
ušt8_t
 
	gDi¥Ïy
::
width
 = 220;

161 
ušt8_t
 
	gDi¥Ïy
::
height
 = 176;

162 
ušt8_t
 
	gDi¥Ïy
::
sü“nbufãr
[14520];

163 #–ià(
POK_SCREENMODE
 =ğ
MODE13
)

164 
ušt8_t
 
	gDi¥Ïy
::
width
 = 110;

165 
ušt8_t
 
	gDi¥Ïy
::
height
 = 88;

166 
ušt8_t
 
	gDi¥Ïy
::
sü“nbufãr
[110*88];

167 #–ià(
POK_SCREENMODE
 =ğ
MODE15
)

168 
ušt8_t
 
	gDi¥Ïy
::
width
 = 220;

169 
ušt8_t
 
	gDi¥Ïy
::
height
 = 176;

170 
ušt8_t
 
	gDi¥Ïy
::
sü“nbufãr
[0x4BA0];

172 
ušt8_t
 
	gDi¥Ïy
::
width
 = 84;

173 
ušt8_t
 
	gDi¥Ïy
::
height
 = 48;

174 
ušt8_t
 
	gDi¥Ïy
::
sü“nbufãr
[128*64];

177 #ià(
POK_SCREENMODE
 =ğ
MODE_TILED_1BIT
)

178 
ušt8_t
 
	gDi¥Ïy
::
width
 = 
POK_LCD_W
;

179 
ušt8_t
 
	gDi¥Ïy
::
height
 = 
POK_LCD_H
;

180 
ušt8_t
 
	gDi¥Ïy
::
sü“nbufãr
[0];

182 
ušt8_t
 
	gDi¥Ïy
::
width
 = 
POK_LCD_W
;

183 
ušt8_t
 
	gDi¥Ïy
::
height
 = 
POK_LCD_H
;

184 
ušt8_t
 
	gDi¥Ïy
::
sü“nbufãr
[0];

189 
	#RLE_ESC_EOL
 0

	)

190 
	#RLE_ESC_EOB
 1

	)

191 
	#RLE_ESC_OFFSET
 2

	)

193 
	gDi¥Ïy
::
	$Di¥Ïy
() {

194 
m_sübuf
 = 
sü“nbufãr
;

195 
	`£tDeçuÉP®‘‹
();

196 
m_mode
 = 1;

197 
m_w
 = 
POK_LCD_W
;

198 
m_h
 = 
POK_LCD_H
;

199 
	`£tFÚt
(
DEFAULT_FONT
);

200 
švisibËcŞÜ
=17;

201 
bgcŞÜ
=0;

202 ià(
POK_COLORDEPTH
è
m_cŞÜd•th
 = POK_COLORDEPTH;

203 
m_cŞÜd•th
 = 4;

204 #ià
POK_GAMEBUINO_SUPPORT


205 
	`£tCŞÜD•th
(1);

209 
m_tecŞÜbuf
 = 
NULL
;

210 
ušt8_t
 
s
 = 0; s < 
SPRITE_COUNT
; s++è
m_¥r™es
[s].
b™m­D©a
 = 
NULL
;

211 
	}
}

213 
ušt16_t
 
	gDi¥Ïy
::
	$g‘Width
() {

214  
width
;

215 
	}
}

217 
ušt8_t
 
	gDi¥Ïy
::
	$g‘Numb”OfCŞÜs
() {

218  1<<
POK_COLORDEPTH
;

219 
	}
}

221 
ušt16_t
 
	gDi¥Ïy
::
	$g‘Height
() {

222  
height
;

223 
	}
}

225 
ušt8_t
 
	gDi¥Ïy
::
	$g‘CŞÜD•th
() {

226  
m_cŞÜd•th
;

227 
	}
}

229 
	gDi¥Ïy
::
	$£tCŞÜD•th
(
ušt8_t
 
v
) {

230 ià(
v
 > 
POK_COLORDEPTH
) v=POK_COLORDEPTH;

231 
m_cŞÜd•th
 = 
v
;

232 
	}
}

234 
	gDi¥Ïy
::
	$ş—rLCD
() {

235 
	`lcdFlSurçû
(0);

236 
	`£tCursÜ
(0,0);

237 
	}
}

239 
	gDi¥Ïy
::
	$flLCD
(
ušt16_t
 
c
) {

240 
	`lcdFlSurçû
(
c
);

241 
	}
}

243 
	gDi¥Ïy
::
	$dœeùPix–
(
št16_t
 
x
, iÁ16_ˆ
y
, 
ušt16_t
 
cŞÜ
) {

244 ià((
švisibËcŞÜ
 < 
PALETTE_SIZE
è&& (švisibËcŞÜ < 16è&& (
cŞÜ
 =ğ
·Ë‰e
[invisiblecolor])) ;

245 
	`lcdPix–
(
x
,
y
,
cŞÜ
);

246 
	}
}

248 
	gDi¥Ïy
::
	$dœeùTe
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
x2
, iÁ16_ˆ
y2
, 
ušt16_t
* 
gfx
) {

249 
	`lcdTe
(
x
,
y
,
x2
,
y2
,
gfx
);

250 
	}
}

252 
	gDi¥Ïy
::
	$dœeùReùªgË
(
št16_t
 
x
, iÁ16_ˆ
y
,št16_ˆ
x2
, iÁ16_ˆ
y2
, 
ušt16_t
 
cŞÜ
) {

253 
	`lcdReùªgË
(
x
,
y
,
x2
,
y2
,
cŞÜ
);

254 
	}
}

256 
	gDi¥Ïy
::
	$begš
() {

257 
	`lcdIn™
();

258 
	}
}

260 
	gDi¥Ïy
::
	$£tCursÜ
(
št16_t
 
x
,št16_ˆ
y
) {

261 
cursÜX
 = 
x
;

262 
cursÜY
 = 
y
;

263 
	}
}

276 
	gDi¥Ïy
::
	$upd©e
(
boŞ
 
u£DœeùD¿wMode
, 
ušt8_t
 
updReùX
, ušt8_ˆ
updReùY
, ušt8_ˆ
updReùW
, ušt8_ˆ
updReùH
) {

278 #ià
POK_SCREENMODE
 =ğ
MODE_HI_4COLOR


280 ià(
m_¥r™es
[0].
b™m­D©a
 !ğ
NULL
)

281 
	`lcdReäeshMode1S´
(
m_sübuf
, 
updReùX
, 
updReùY
, 
updReùW
, 
updReùH
, 
·Ë‰•Œ
, 
m_¥r™es
, 
u£DœeùD¿wMode
);

282 ià(!
u£DœeùD¿wMode
)

283 
	`lcdReäeshMode1
(
m_sübuf
, 
updReùX
, 
updReùY
, 
updReùW
, 
updReùH
, 
·Ë‰•Œ
);

287 ià(! 
u£DœeùD¿wMode
) {

288 #ià
POK_SCREENMODE
 =ğ
MODE13


289 
	`lcdReäeshMode13
(
m_sübuf
, 
·Ë‰•Œ
, 
·lOff£t
);

292 #ià
POK_SCREENMODE
 =ğ
MODE_GAMEBOY


293 
	`lcdReäeshModeGBC
(
m_sübuf
, 
·Ë‰•Œ
);

296 #ià
POK_SCREENMODE
 =ğ
MODE_HI_16COLOR


297 
	`lcdReäeshMode3
(
m_sübuf
, 
·Ë‰•Œ
);

300 #ià
POK_SCREENMODE
 =ğ
MODE_FAST_16COLOR


301 
	`lcdReäeshMode2
(
m_sübuf
, 
·Ë‰•Œ
);

304 #ià
POK_SCREENMODE
 =ğ
MODE_GAMEBUINO_16COLOR


305 
	`lcdReäeshGB
(
m_sübuf
, 
·Ë‰•Œ
);

308 #ià
POK_SCREENMODE
 =ğ
MODE_ARDUBOY_16COLOR


309 
	`lcdReäeshAB
(
m_sübuf
, 
·Ë‰•Œ
);

312 #ià
POK_SCREENMODE
 =ğ
MODE14


313 
	`lcdReäeshMode14
(
m_sübuf
, 
·Ë‰•Œ
);

316 #ià
POK_SCREENMODE
 =ğ
MODE15


317 
	`lcdReäeshMode15
(
·Ë‰•Œ
, 
m_sübuf
);

320 #ià
POK_SCREENMODE
 =ğ
MODE_TILED_1BIT


321 
	`lcdReäeshT1
(
m_tebuf
, 
m_tecŞÜbuf
, 
m_te£t
, 
·Ë‰•Œ
);

325 ià(!
³rsi¡’û
è
	`ş—r
();

328 #ià
POK_SHOW_VOLUME
 > 0

329 ià(
cÜe
.
vŞb¬_visibË
) {

330 
cÜe
.
	`d¿wvŞb¬
(4,20,
_pdsound
.
	`g‘VŞume
(),
Œue
);

331 
cÜe
.
vŞb¬_visibË
--;

336 #ifdeà
PROJ_SHOW_FPS_COUNTER


338 if(
cÜe
.
ås_couÁ”_upd©ed
) {

341 
boŞ
 
‹mp
 = 
	`isDœeùPrštšgEÇbËd
();

342 
ušt16_t
 
ŞdcŞ
 = 
dœeùcŞÜ
;

343 
ušt16_t
 
ŞdšvisibËcŞÜ
 = 
švisibËcŞÜ
;

344 
ušt16_t
 
ŞdbgcŞ
 = 
dœeùbgcŞÜ
;

345 
boŞ
 
Şddœeù‹xŒÙ©ed
 = 
dœeù‹xŒÙ©ed
;

346 
št8_t
 
Şdadju¡Ch¬S‹p
 = 
adju¡Ch¬S‹p
;

347 cÚ¡ * 
ŞdFÚt
 = 
fÚt
;

350 
¡r
[16];

351 
	`¥rštf
(
¡r
,"FPS:%d ", ()
cÜe
.
ås_couÁ”
);

352 
dœeùcŞÜ
 = 
COLOR_WHITE
;

353 
švisibËcŞÜ
 = 
COLOR_BLACK
;

354 
dœeùbgcŞÜ
 = 0x0001;

355 
dœeù‹xŒÙ©ed
 = 
Œue
;

356 
adju¡Ch¬S‹p
 = 0;

357 
	`£tFÚt
(
fÚtC64
);

358 
	`’abËDœeùPrštšg
(
Œue
);

359 
	`´št
(0,0, 
¡r
);

362 
	`’abËDœeùPrštšg
(
‹mp
);

363 
dœeùcŞÜ
 = 
ŞdcŞ
;

364 
švisibËcŞÜ
 = 
ŞdšvisibËcŞÜ
;

365 
dœeùbgcŞÜ
 = 
ŞdbgcŞ
;

366 
dœeù‹xŒÙ©ed
 = 
Şddœeù‹xŒÙ©ed
;

367 
adju¡Ch¬S‹p
 = 
Şdadju¡Ch¬S‹p
;

368 
	`£tFÚt
(
fÚt
);

370 
cÜe
.
ås_couÁ”_upd©ed
 = 
çl£
;

373 
	}
}

375 
	gDi¥Ïy
::
	$dœeùB™m­
(
št16_t
 
x
, iÁ16_ˆ
y
, cÚ¡ 
ušt8_t
 *
b™m­
, ušt8_ˆ
d•th
, ušt8_ˆ
sÿË
) {

376 
ušt8_t
 
w
 = *
b™m­
;

377 
ušt8_t
 
h
 = *(
b™m­
 + 1);

378 
b™m­
 = bitmap + 2;

379 
št16_t
 
i
, 
j
;

380 
št8_t
 
by‹Num
, 
b™Num
, 
by‹Width
 = (
w
 + 7) >> 3;

382 ià(
d•th
 == 1) {

383 
i
 = 0; i < 
w
; i++) {

384 
by‹Num
 = 
i
 / 8;

385 
b™Num
 = 
i
 % 8;

386 
j
 = 0; j < 
h
; j++) {

387 ià(*(
b™m­
 + 
j
 * 
by‹Width
 + 
by‹Num
è& (0x80 >> 
b™Num
)) {

388 ià(
sÿË
==1è
	`dœeùPix–
(
x
 + 
i
, 
y
 + 
j
,
dœeùcŞÜ
);

390 
	`dœeùPix–
(
x
 + 
i
 + i, 
y
 + 
j
 + j,
dœeùcŞÜ
);

391 
	`dœeùPix–
(
x
 + 1 + 
i
 + i, 
y
 + 
j
 + j,
dœeùcŞÜ
);

392 
	`dœeùPix–
(
x
 + 
i
 + i, 
y
 + 
j
 + j + 1,
dœeùcŞÜ
);

393 
	`dœeùPix–
(
x
 + 
i
 + i + 1 , 
y
 + 
j
 + j + 1,
dœeùcŞÜ
);

398 } ià(
d•th
 == 4) {

399 
j
 = 0; j < 
h
; j+=1) {

400 
i
 = 0; i < 
w
; i+=2) {

401 
ušt16_t
 
cŞ
 = 
·Ë‰•Œ
[*
b™m­
>>4];

402 ià(
sÿË
==2) {

403 
	`dœeùPix–
(
x
 + (
i
<<1), 
y
 + (
j
<<1),
cŞ
);

404 
	`dœeùPix–
(
x
 + (
i
<<1è+ 1, 
y
 + (
j
<<1),
cŞ
);

405 
	`dœeùPix–
(
x
 + (
i
<<1è+ 1, 
y
 + (
j
<<1è+ 1,
cŞ
);

406 
	`dœeùPix–
(
x
 + (
i
<<1), 
y
 + (
j
<<1è+ 1,
cŞ
);

407 } 
	`dœeùPix–
(
x
 + 
i
, 
y
 + 
j
,
cŞ
);

408 
cŞ
 = 
·Ë‰•Œ
[*
b™m­
&0xF];

409 ià(
sÿË
==2) {

410 
	`dœeùPix–
(
x
 + (
i
<<1è+ 2, 
y
 + (
j
<<1),
cŞ
);

411 
	`dœeùPix–
(
x
 + (
i
<<1è+ 1 + 2, 
y
 + (
j
<<1),
cŞ
);

412 
	`dœeùPix–
(
x
 + (
i
<<1è+ 1 + 2, 
y
 + (
j
<<1è+ 1,
cŞ
);

413 
	`dœeùPix–
(
x
 + (
i
<<1è+ 2 , 
y
 + (
j
<<1è+ 1,
cŞ
);

414 } 
	`dœeùPix–
(
x
 + 
i
 + 1, 
y
 + 
j
,
cŞ
);

415 
b™m­
++;

420 
	}
}

422 
	gDi¥Ïy
::
	$dœeùCh¬
(
št16_t
 
x
, iÁ16_ˆ
y
, 
ušt16_t
 
šdex
){

423 cÚ¡ 
ušt8_t
* 
b™m­
 = 
fÚt
;

424 
ušt8_t
 
w
 = *
b™m­
;

425 
ušt8_t
 
h
 = *(
b™m­
 + 1);

426 
ušt8_t
 
hby‹s
=0, 
xŒa
=1;

427 ià(
h
==8 || h==16è
xŒa
=0;

428 
hby‹s
=(
h
>>3)+
xŒa
;

430 
b™m­
 = b™m­ + 4 + 
šdex
 * (
w
 * 
hby‹s
 + 1);

432 
št8_t
 
i
, 
j
, 
numBy‹s
;

433 
numBy‹s
 = *
b™m­
++;

435 
ušt16_t
 
b™cŞumn
;

437 
i
 = 0; i < 
numBy‹s
; i++) {

438 
b™cŞumn
 = *
b™m­
++;

439 ià(
hby‹s
 =ğ2è
b™cŞumn
 |ğ(*
b™m­
++)<<8;

440 
j
 = 0; j < 
h
; j++) {

441 ià(
b™cŞumn
&0x1) {

442 ià(
fÚtSize
==2) {

443 
	`dœeùPix–
(
x
 + (
i
<<1è, 
y
 + (
j
<<1),
dœeùcŞÜ
);

444 
	`dœeùPix–
(
x
 + (
i
<<1)+1, 
y
 + (
j
<<1),
dœeùcŞÜ
);

445 
	`dœeùPix–
(
x
 + (
i
<<1è, 
y
 + (
j
<<1)+1,
dœeùcŞÜ
);

446 
	`dœeùPix–
(
x
 + (
i
<<1)+1, 
y
 + (
j
<<1)+1,
dœeùcŞÜ
);

448 if(
dœeù‹xŒÙ©ed
è
	`dœeùPix–
(
y
 + 
h
 - 
j
 - 1, 
x
 + 
i
,
dœeùcŞÜ
);

449 
	`dœeùPix–
(
x
 + 
i
, 
y
 + 
j
,
dœeùcŞÜ
);

452 } ià(
dœeùbgcŞÜ
 !ğ
švisibËcŞÜ
) {

453 ià(
fÚtSize
==2) {

454 
	`dœeùPix–
(
x
 + (
i
<<1è, 
y
 + (
j
<<1),
dœeùbgcŞÜ
);

455 
	`dœeùPix–
(
x
 + (
i
<<1)+1, 
y
 + (
j
<<1),
dœeùbgcŞÜ
);

456 
	`dœeùPix–
(
x
 + (
i
<<1è, 
y
 + (
j
<<1)+1,
dœeùbgcŞÜ
);

457 
	`dœeùPix–
(
x
 + (
i
<<1)+1, 
y
 + (
j
<<1)+1,
dœeùbgcŞÜ
);

459 if(
dœeù‹xŒÙ©ed
è
	`dœeùPix–
(
y
 + 
h
 - 
j
 - 1, 
x
 + 
i
,
dœeùbgcŞÜ
);

460 
	`dœeùPix–
(
x
 + 
i
, 
y
 + 
j
,
dœeùbgcŞÜ
);

463 
b™cŞumn
>>=1;

466  (
numBy‹s
+
adju¡Ch¬S‹p
)*
fÚtSize
;

467 
	}
}

469 
	gDi¥Ïy
::
	$bufãrCh¬
(
št16_t
 
x
, iÁ16_ˆ
y
, 
ušt16_t
 
šdex
){

470 cÚ¡ 
ušt8_t
* 
b™m­
 = 
fÚt
;

471 
ušt8_t
 
w
 = *
b™m­
;

472 
ušt8_t
 
h
 = *(
b™m­
 + 1);

473 
ušt8_t
 
hby‹s
=0, 
xŒa
=1;

474 ià(
h
==8 || h==16è
xŒa
=0;

475 
hby‹s
=(
h
>>3)+
xŒa
;

477 
b™m­
 = b™m­ + 4 + 
šdex
 * (
w
 * 
hby‹s
 + 1);

479 
št8_t
 
i
, 
j
, 
numBy‹s
;

480 
numBy‹s
 = *
b™m­
++;

482 
ušt16_t
 
b™cŞumn
;

484 
i
 = 0; i < 
numBy‹s
; i++) {

485 
b™cŞumn
 = *
b™m­
++;

486 ià(
hby‹s
 =ğ2è
b™cŞumn
 |ğ(*
b™m­
++)<<8;

487 
j
 = 0; j <ğ
h
; j++) {

488 #ià
PROJ_ARDUBOY
 > 0

489 ià(
b™cŞumn
&0x1) {

490 
	`d¿wPix–
(
x
 + 
i
, 
y
 + 7 - 
j
,
cŞÜ
);

491 } 
	`d¿wPix–
(
x
 + 
i
, 
y
 + 7 - 
j
,
bgcŞÜ
);

492 
b™cŞumn
>>=1;

494 ià(
b™cŞumn
&0x1) {

495 
	`d¿wPix–
(
x
 + 
i
, 
y
 + 
j
,
cŞÜ
);

496 } 
	`d¿wPix–
(
x
 + 
i
, 
y
 + 
j
,
bgcŞÜ
);

497 
b™cŞumn
>>=1;

503  
numBy‹s
+
adju¡Ch¬S‹p
;

504 
	}
}

506 
	gDi¥Ïy
::
	$ş—r
() {

508 
ušt8_t
 
c
=0;

509 
c
 = 
bgcŞÜ
 & (
PALETTE_SIZE
-1) ;

510 ià(
bµ
==1 && 
bgcŞÜ
è
c
=0xFF;

511 ià(
bµ
==2) {

512 
c
 = 
bgcŞÜ
 & 0x3;

513 
c
 = c | (c << 2);

514 
c
 = c | (c << 4);

515 } ià(
bµ
==3){

516 
ušt16_t
 
j
 = 
POK_BITFRAME
;

517 ià(
bgcŞÜ
 & 0x1è
	`mem£t
((*)
m_sübuf
,0xFF,
j
);

518 
	`mem£t
((*)
m_sübuf
,0x00,
j
);

519 ià((
bgcŞÜ
>>1è& 0x1è
	`mem£t
((*)
m_sübuf
+
POK_BITFRAME
,0xFF,
j
);

520 
	`mem£t
((*)
m_sübuf
+
POK_BITFRAME
,0x00,
j
);

521 ià((
bgcŞÜ
>>2è& 0x1è
	`mem£t
((*)
m_sübuf
+
POK_BITFRAME
*2,0xFF,
j
);

522 
	`mem£t
((*)
m_sübuf
+
POK_BITFRAME
*2,0x00,
j
);

523 
	`£tCursÜ
(0,0);

526 
c
 = (c & 0x0F) | (c << 4);

528 
ušt16_t
 
j
 = (
sü“nbufãr
);

529 
	`mem£t
((*)
m_sübuf
,
c
,
j
);

531 
	`£tCursÜ
(0,0);

533 
	}
}

535 
	gDi¥Ïy
::
	$süŞl
(
št16_t
 
pix–rows
) {

536 
ušt16_t
 
šdex
 = 0, 
šdex2
=0,
oc
;

537 ià(
pix–rows
==0) ;

538 ià(
pix–rows
 >ğ
height
)…ixelrows=height-1;

539 ià(
bµ
 =ğ4è
šdex2
 = 
pix–rows
*
width
/2;

540 ià(
bµ
 =ğ2è
šdex2
 = 
pix–rows
*
width
/4;

542 
oc
 = 
cŞÜ
;

543 
cŞÜ
 = 
bgcŞÜ
;

544 ià(
pix–rows
>0) {

545 
ušt16_t
 
y
=0;y<
height
-
pix–rows
;y++) {

546 
ušt16_t
 
x
=0;x<(
width
/8)*
bµ
;x++è
sü“nbufãr
[
šdex
++]=sü“nbufãr[
šdex2
++];

548 
	`flReù
(0,
cursÜY
,
width
,
height
);

550 
ušt16_t
 
y
=
pix–rows
;y<
height
;y++) {

551 
ušt16_t
 
x
=0;x<(
width
*
bµ
)/8;x++è
sü“nbufãr
[
šdex2
++]=sü“nbufãr[
šdex
++];

553 
	`flReù
(0,0,
width
,
pix–rows
);

555 
cŞÜ
=
oc
;

556 
	}
}

558 
	gDi¥Ïy
::
	$flSü“n
(
ušt16_t
 
c
) {

559 
c
 = c & (
PALETTE_SIZE
-1) ;

560 ià(
bµ
==1 && 
c
) c=0xFF;

561 ià(
bµ
==2) {

562 
c
 = c & 0x3;

563 
c
 = c | (c << 2);

564 
c
 = c | (c << 4);

566 
c
 = (c & 0x0F) | (c << 4);

568 
	`mem£t
((*)
m_sübuf
,
c
,(
sü“nbufãr
));

569 
	}
}

571 
	gDi¥Ïy
::
	$£tDeçuÉP®‘‹
() {

572 #ià
PICOPALETTE


573 
	`lßdRGBP®‘‹
(
·Ë‰ePico
);

575 
	`lßdRGBP®‘‹
(
POK_DEFAULT_PALETTE
);

577 
	}
}

579 
	gDi¥Ïy
::
	$£tCŞÜ
(
ušt8_t
 
c
) {

580 
cŞÜ
 = 
c
 & ((1<<
POK_COLORDEPTH
)-1);

581 
	}
}

583 
	gDi¥Ïy
::
	$£tCŞÜ
(
ušt8_t
 
c
,ušt8_ˆ
bgc
){

584 
cŞÜ
 = 
c
 & ((1<<
POK_COLORDEPTH
)-1);

585 
bgcŞÜ
 = 
bgc
 & ((1<<
POK_COLORDEPTH
)-1);

586 
	}
}

588 
	gDi¥Ïy
::
	$£tInvisibËCŞÜ
(
ušt16_t
 
c
){

589 
švisibËcŞÜ
 = 
c
;

590 
	}
}

592 
ušt8_t
 
	gDi¥Ïy
::
	$g‘CŞÜ
() {

593  
cŞÜ
;

594 
	}
}

596 
ušt8_t
 
	gDi¥Ïy
::
	$g‘BgCŞÜ
() {

597  
bgcŞÜ
;

598 
	}
}

600 
ušt16_t
 
	gDi¥Ïy
::
	$g‘InvisibËCŞÜ
() {

601  
švisibËcŞÜ
;

602 
	}
}

604 
	gDi¥Ïy
::
	$£tClReù
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
w
, iÁ16_ˆ
h
) {

605 
şX
 = 
x
; 
şY
 = 
y
; 
şW
 = 
w
; 
şH
 = 
h
;

606 
	}
}

609 
	gDi¥Ïy
::
	$d¿wPix–
(
št16_t
 
x
,št16_ˆ
y
, 
ušt8_t
 
cŞ
) {

610 ià(
cŞ
==
švisibËcŞÜ
) ;

611 ià((
ušt16_t
)
x
 >ğ
width
 || (ušt16_t)
y
 >ğ
height
) ;

612 
cŞ
 &ğ(
PALETTE_SIZE
-1);

614 #ià
POK_COLORDEPTH
 == 8

615 
m_sübuf
[
x
+
width
*
y
] = 
cŞ
;

618 #ià
POK_GAMEBUINO_SUPPORT
 >0

620 
ušt8_t
 
c
 = 
cŞ
;

621 
ušt8_t
 
ù
 = 
cŞ
;

623 
ušt16_t
 
b™±r
=0;

624 
ušt8_t
 
cb™
=0;cb™<
POK_COLORDEPTH
;cbit++) {

625 
c
 = 
ù
 & 1;

626 if(
c
 == 0){

627 
m_sübuf
[
x
 + (
y
 / 8è* 
LCDWIDTH
 + 
b™±r
] &ğ~
	`_BV
(y % 8);

629 
m_sübuf
[
x
 + (
y
 / 8è* 
LCDWIDTH
 + 
b™±r
] |ğ
	`_BV
(y % 8);

631 
ù
 >>=1;

632 
b™±r
 +ğ
POK_BITFRAME
;

636 #ià
POK_COLORDEPTH
 == 1

637 ià(
cŞ
è{
m_sübuf
[(
y
 >> 3è* 
width
 + 
x
] |= (0x80 >> (y & 7)); ;}

638 
m_sübuf
[(
y
 >> 3è* 
width
 + 
x
] &= ~(0x80 >> (y & 7));

639 #–ià
POK_COLORDEPTH
 == 2

640 ià(
cŞ
) {

641 
cŞ
 &= 3;

643 
ušt16_t
 
i
 = 
y
*(
width
>>2è+ (
x
>>2);

644 
ušt8_t
 
pix–
 = 
m_sübuf
[
i
];

645 
ušt8_t
 
cŞumn
 = 
x
&0x03;

646 ià(
cŞumn
==3è
pix–
 = (pix–&0xFC)|(
cŞ
);

647 ià(
cŞumn
==2è
pix–
 = (pix–&0xF3)|(
cŞ
<<2);

648 ià(
cŞumn
==1è
pix–
 = (pix–&0xCF)|(
cŞ
<<4);

649 
pix–
 = (pix–&0x3F)|(
cŞ
<<6);

650 
m_sübuf
[
i
] = 
pix–
;

651 #–ià
POK_COLORDEPTH
 == 3

652 
ušt8_t
 
c
 = 
cŞ
;

653 
ušt8_t
 
ù
 = 
cŞ
;

655 
ušt16_t
 
b™±r
=0;

656 
ušt8_t
 
cb™
=0;cb™<
POK_COLORDEPTH
;cbit++) {

657 
c
 = 
ù
 & 1;

658 if(
c
 == 0){

659 
m_sübuf
[
x
 + (
y
 / 8è* 
LCDWIDTH
 + 
b™±r
] &ğ~
	`_BV
(y % 8);

661 
m_sübuf
[
x
 + (
y
 / 8è* 
LCDWIDTH
 + 
b™±r
] |ğ
	`_BV
(y % 8);

663 
ù
 >>=1;

664 
b™±r
 +ğ
POK_BITFRAME
;

666 #–ià
POK_COLORDEPTH
 == 4

667 
ušt16_t
 
i
 = 
y
*(
width
>>1è+ (
x
>>1);

668 
ušt8_t
 
pix–
 = 
m_sübuf
[
i
];

669 ià(
x
&1è
pix–
 = (pix–&0xF0)|(
cŞ
);

670 
pix–
 = (pix–&0x0Fè| (
cŞ
<<4);

671 
m_sübuf
[
i
] = 
pix–
;

674 
	}
}

676 
	gDi¥Ïy
::
	$d¿wPix–
(
št16_t
 
x
,št16_ˆ
y
) {

677 ià((
ušt16_t
)
x
 >ğ
width
 || (ušt16_t)
y
 >ğ
height
) ;

679 #ià
POK_COLORDEPTH
 == 8

680 
m_sübuf
[
x
+
width
*
y
] = 
cŞÜ
;

683 #ià
POK_GAMEBUINO_SUPPORT
 > 0

685 
ušt8_t
 
c
 = 
cŞÜ
;

686 
ušt8_t
 
ù
 = 
cŞÜ
;

687 if(
ù
 =ğ
INVERT
){

688 
ù
 = !
	`g‘Pix–
(
x
, 
y
);

691 
ušt16_t
 
b™±r
=0;

692 
ušt8_t
 
cb™
=0;cb™<
POK_COLORDEPTH
;cbit++) {

693 
c
 = 
ù
 & 1;

694 if(
c
 == 0){

695 #ià
DISPLAY_ROT
 =ğ
NOROT


696 
m_sübuf
[
x
 + (
y
 / 8è* 
LCDWIDTH
 + 
b™±r
] &ğ~
	`_BV
(y % 8);

697 #–ià
DISPLAY_ROT
 =ğ
ROTCCW


698 
m_sübuf
[
LCDHEIGHT
 - 
y
 - 1 + (
x
 / 8è* 
LCDWIDTH_NOROT
 + 
b™±r
] &ğ~
	`_BV
(x % 8);

699 #–ià
DISPLAY_ROT
 =ğ
ROT180


700 
m_sübuf
[
LCDWIDTH
 - 
x
 - 1 + ((
LCDHEIGHT
 - 
y
 - 1è/ 8è* 
LCDWIDTH_NOROT
 + 
b™±r
] &ğ~
	`_BV
((LCDHEIGHT - y - 1) % 8);

701 #–ià
DISPLAY_ROT
 =ğ
ROTCW


702 
m_sübuf
[
y
 + ((
LCDWIDTH
 - 
x
 - 1è/ 8è* 
LCDWIDTH_NOROT
 + 
b™bŒ
] &ğ~
	`_BV
((LCDWIDTH - x - 1) % 8);

706 #ià
DISPLAY_ROT
 =ğ
NOROT


707 
m_sübuf
[
x
 + (
y
 / 8è* 
LCDWIDTH
 + 
b™±r
] |ğ
	`_BV
(y % 8);

708 #–ià
DISPLAY_ROT
 =ğ
ROTCCW


709 
m_sübuf
[
LCDHEIGHT
 - 
y
 - 1 + (
x
 / 8è* 
LCDWIDTH_NOROT
 + 
b™±r
] |ğ
	`_BV
(x % 8);

710 #–ià
DISPLAY_ROT
 =ğ
ROT180


711 
m_sübuf
[
LCDWIDTH
 - 
x
 - 1 + ((
LCDHEIGHT
 - 
y
 - 1è/ 8è* 
LCDWIDTH_NOROT
 + 
b™±r
] |ğ
	`_BV
((LCDHEIGHT - y - 1) % 8);

712 #–ià
DISPLAY_ROT
 =ğ
ROTCW


713 
m_sübuf
[
y
 + ((
LCDWIDTH
 - 
x
 - 1è/ 8è* 
LCDWIDTH_NOROT
 + 
b™±r
] |ğ
	`_BV
((LCDWIDTH - x -1) % 8);

717 
ù
 >>=1;

718 
b™±r
 +ğ
POK_BITFRAME
;

724 #ià
POK_COLORDEPTH
 == 1

725 ià(
cŞÜ
è{
m_sübuf
[(
y
 >> 3è* 
width
 + 
x
] |= (0x80 >> (y & 7)); ;}

726 
m_sübuf
[(
y
 >> 3è* 
width
 + 
x
] &= ~(0x80 >> (y & 7));

727 #–ià
POK_COLORDEPTH
 == 2

728 
ušt16_t
 
i
 = 
y
*(
width
>>2è+ (
x
>>2);

729 
ušt8_t
 
pix–
 = 
m_sübuf
[
i
];

730 
ušt8_t
 
cŞumn
 = 
x
&0x03;

731 ià(
cŞumn
==3è
pix–
 = (pix–&0xFC)|(
cŞÜ
);

732 ià(
cŞumn
==2è
pix–
 = (pix–&0xF3)|(
cŞÜ
<<2);

733 ià(
cŞumn
==1è
pix–
 = (pix–&0xCF)|(
cŞÜ
<<4);

734 
pix–
 = (pix–&0x3F)|(
cŞÜ
<<6);

735 
m_sübuf
[
i
] = 
pix–
;

736 #–ià
POK_COLORDEPTH
 == 3

737 #–ià
POK_COLORDEPTH
 == 4

738 
ušt16_t
 
i
 = 
y
*(
width
>>1è+ (
x
>>1);

739 
ušt8_t
 
pix–
 = 
m_sübuf
[
i
];

740 ià(
x
&1è
pix–
 = (pix–&0xF0)|(
cŞÜ
);

741 
pix–
 = (pix–&0x0Fè| (
cŞÜ
<<4);

742 
m_sübuf
[
i
] = 
pix–
;

745 
	}
}

747 
ušt8_t
 
	gDi¥Ïy
::
	$g‘Pix–
(
št16_t
 
x
,št16_ˆ
y
) {

748 ià((
ušt16_t
)
x
 >ğ
width
 || (ušt16_t)
y
 >ğ
height
)  0;

749 #ià
POK_COLORDEPTH
 == 8

750 
ušt16_t
 
i
 = 
y
*
width
+
x
;

751  
m_sübuf
[
i
];

754 #ià
POK_GAMEBUINO_SUPPORT


755 
ušt8_t
 
cŞÜ
=0;

756 
ušt8_t
 
cb™
=0; cb™<
POK_COLORDEPTH
;cbit++) {

757 
cŞÜ
 |ğ(
m_sübuf
[
x
 + (
y
 / 8è* 
LCDWIDTH
+
POK_BITFRAME
*
cb™
] >> (y % 8)) & 0x1 ;

759  
cŞÜ
;

762 #ià
POK_COLORDEPTH
 == 1

763  (
m_sübuf
[(
y
 >> 3è* 
width
 + 
x
] & (0x80 >> (y & 7))) ? 1:0;

764 #–ià
POK_COLORDEPTH
 == 2

765 
ušt16_t
 
i
 = 
y
*(
width
>>2è+ (
x
>>2);

766 
ušt8_t
 
pix–
 = 
m_sübuf
[
i
];

767 
ušt8_t
 
cŞumn
 = 
x
&0x03;

768 ià(
cŞumn
==0è 
pix–
 & 0x03;

769 ià(
cŞumn
==1è (
pix–
 & 0x0C)>>2;

770 ià(
cŞumn
==2è (
pix–
 & 0x30)>>4;

771  
pix–
>>6;;

772 #–ià
POK_COLORDEPTH
 == 3

773 #–ià
POK_COLORDEPTH
 == 4

774 
ušt16_t
 
i
 = 
y
*(
width
>>1è+ (
x
>>1);

775 
ušt8_t
 
pix–
 = 
m_sübuf
[
i
];

776 ià(
x
&1è 
pix–
 & 0x0F;

777  
pix–
>>4;

780 
	}
}

782 
	gDi¥Ïy
::
	$d¿wLše
(
št16_t
 
x0
, iÁ16_ˆ
y0
, iÁ16_ˆ
x1
, iÁ16_ˆ
y1
) {

783 ià((
ušt16_t
)
x0
 >ğ
width
 || (ušt16_t)
y0
 >ğ
height
 || (ušt16_t)
x1
 >ğwidth || (ušt16_t)
y1
 >= height ) {

784 ià(
	`şLše
 (&
x0
,&
y0
,&
x1
,&
y1
)==0) ;

786 ià(
x0
 =ğ
x1
)

787 
	`d¿wCŞumn
(
x0
,
y0
,
y1
);

788 ià(
y0
 =ğ
y1
)

789 
	`d¿wRow
(
x0
,
x1
,
y0
);

791 
e
;

792 sigÃd 
dx
,
dy
,
j
, 
‹mp
;

793 sigÃd 
s1
,
s2
, 
xchªge
;

794 sigÃd 
x
,
y
;

796 
x
 = 
x0
;

797 
y
 = 
y0
;

800 ià(
x1
 < 
x0
) {

801 
dx
 = 
x0
 - 
x1
;

802 
s1
 = -1;

804 ià(
x1
 =ğ
x0
) {

805 
dx
 = 0;

806 
s1
 = 0;

809 
dx
 = 
x1
 - 
x0
;

810 
s1
 = 1;

813 ià(
y1
 < 
y0
) {

814 
dy
 = 
y0
 - 
y1
;

815 
s2
 = -1;

817 ià(
y1
 =ğ
y0
) {

818 
dy
 = 0;

819 
s2
 = 0;

822 
dy
 = 
y1
 - 
y0
;

823 
s2
 = 1;

826 
xchªge
 = 0;

828 ià(
dy
>
dx
) {

829 
‹mp
 = 
dx
;

830 
dx
 = 
dy
;

831 
dy
 = 
‹mp
;

832 
xchªge
 = 1;

835 
e
 = (()
dy
<<1è- 
dx
;

837 
j
=0; j<=
dx
; j++) {

838 
	`d¿wPix–
(
x
,
y
);

840 ià(
e
>=0) {

841 ià(
xchªge
==1è
x
 = x + 
s1
;

842 
y
 = y + 
s2
;

843 
e
 =ƒ - (()
dx
<<1);

845 ià(
xchªge
==1)

846 
y
 = y + 
s2
;

848 
x
 = x + 
s1
;

849 
e
 =ƒ + (()
dy
<<1);

852 
	}
}

854 
ušt8_t
 
	gDi¥Ïy
::
	$şLše
(
št16_t
 *
x0
, iÁ16_ˆ*
y0
, iÁ16_ˆ*
x1
, iÁ16_ˆ*
y1
){

856 ià(*
x1
<*
x0
) {

858 
	`sw­WT
(
št16_t
*,
x1
,
x0
);

860 
	`sw­WT
(
št16_t
*,
y1
,
y0
);

863 ià(*
x0
>=
width
)  0;

866 ià(*
x0
 < 0) {

867 iàĞ*
x1
 < 0)  0;

868 
št16_t
 
dx
 = (*
x1
 - *
x0
);

869 
št16_t
 
dy
 = ((*
y1
 - *
y0
) << 8);

870 
št16_t
 
m
 = 
dy
/
dx
;

871 *
y0
 = *y0 + ((
m
*-*
x0
)>>8);

872 *
x0
 = 0;

876 ià(*
x1
 >ğ
width
) {

877 
št16_t
 
dx
 = (*
x1
 - *
x0
);

878 
št16_t
 
dy
 = ((*
y1
 - *
y0
) << 8);

879 
št16_t
 
m
 = 
dy
/
dx
;

881 *
y1
 = *y1 + ((
m
*(
width
-1-*
x1
))>>8);

882 *
x1
 = 
width
-1;

886 ià(*
y1
<*
y0
) {

888 
	`sw­WT
(
št16_t
*,
x1
,
x0
);

890 
	`sw­WT
(
št16_t
*,
y1
,
y0
);

893 ià(*
y0
>=
height
)  0;

895 ià(*
y0
 < 0) {

896 iàĞ*
y1
 < 0)  0;

897 
št16_t
 
dx
 = (*
x1
 - *
x0
) << 8;

898 
št16_t
 
dy
 = (*
y1
 - *
y0
);

899 
št16_t
 
m
 = 
dx
/
dy
;

900 *
x0
 = *x0 + ((
m
*-*
y0
)>>8);

901 *
y0
 = 0;

905 ià(*
y1
 >ğ
height
) {

906 
št16_t
 
dx
 = (*
x1
 - *
x0
) << 8;

907 
št16_t
 
dy
 = (*
y1
 - *
y0
);

908 
št16_t
 
m
 = 
dx
/
dy
;

909 *
x1
 = *x1 + ((
m
*(
height
-1-*
y1
))>>8);

911 *
y1
 = 
height
-1;

914 
	}
}

916 
	gDi¥Ïy
::
	$m­1B™CŞumn
(
št16_t
 
x
, iÁ16_ˆ
sy
, iÁ16_ˆ
ey
, cÚ¡ 
ušt8_t
* 
b™m­
, 
ušt16_t
 
cŞumn
){

917 ià((
ušt16_t
)
sy
>=
height
 && (ušt16_t)
ey
>=height) ;

918 ià((
ušt16_t
)
x
>=
width
) ;

919 ià(
sy
>
ey
) {

920 
y
=
sy
;

921 
sy
=
ey
;

922 
ey
=
y
;

924 
ušt16_t
 
bmw
,
bmh
;

925 
‹x–¡•
, 
‹x–šdex
;

926 
bmw
 = *(
b™m­
);

927 
bmh
 = *(
b™m­
+1);

928 ià(
cŞumn
>
bmw
-1) column=bmw-1;

929 
b™m­
 += 2;

930 
b™m­
 +ğ
cŞumn
;

931 
‹x–¡•
 = ()
bmh
/(()
ey
-()
sy
);

932 
‹x–šdex
 = 0;

933 
y
=
sy
; y <ğ
ey
; y++, 
‹x–šdex
 +ğ
‹x–¡•
) {

934 
ušt8_t
 
‹x–
;

935 
ušt8_t
 
cu¼by‹
, 
b™
;

936 
cu¼by‹
 = 
‹x–šdex
 / 8;

937 
b™
 = 7-((
ušt16_t
è
‹x–šdex
 & 0x7);

938 
‹x–
=*(
b™m­
+
cu¼by‹
*
bmw
);

939 ià(
‹x–
 & (1<<
b™
)è
	`d¿wPix–
(
x
,
y
);

940 ià(
bgcŞÜ
 !ğ
švisibËcŞÜ
è
	`d¿wPix–
(
x
,
y
,bgcolor);

942 
	}
};

944 
	gDi¥Ïy
::
	$d¿wCŞumn
(
št16_t
 
x
, iÁ16_ˆ
sy
, iÁ16_ˆ
ey
){

945 ià((
ušt16_t
)
sy
>=
height
 && (ušt16_t)
ey
>=height) ;

946 ià((
ušt16_t
)
x
>=
width
) ;

947 ià(
sy
>
ey
) {

948 
y
=
sy
;

949 
sy
=
ey
;

950 
ey
=
y
;

952 
y
=
sy
; y <ğ
ey
; y++) {

953 
	`d¿wPix–
(
x
,
y
);

955 
	}
}

957 
	gDi¥Ïy
::
	$d¿wRow
(
št16_t
 
x0
, iÁ16_ˆ
x1
, iÁ16_ˆ
y
){

958 ià((
ušt16_t
)
x0
>=
width
 && (ušt16_t)
x1
>=width) ;

959 ià((
ušt16_t
)
y
>=
height
) ;

961 ià(
x0
>
x1
) {

962 
x
=
x0
;

963 
x0
=
x1
;

964 
x1
=
x
;

966 
x
=
x0
; x <ğ
x1
; x++) {

967 
	`d¿wPix–
(
x
,
y
);

969 
	}
}

971 
	gDi¥Ïy
::
	$d¿wFa¡VLše
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
h
){

972 ià(
h
<0è{
y
 += h; h = -h;}

973 
	`d¿wCŞumn
(
x
,
y
,y+
h
);

974 
	}
}

976 
	gDi¥Ïy
::
	$d¿wFa¡HLše
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
w
){

977 ià(
w
<0è{
x
 += w; w = -w;}

978 
	`d¿wRow
(
x
,x+
w
-1,
y
);

979 
	}
}

981 
	gDi¥Ïy
::
	$d¿wReùªgË
(
št16_t
 
x0
, iÁ16_ˆ
y0
, iÁ16_ˆ
w
, iÁ16_ˆ
h
) {

982 
	`d¿wCŞumn
(
x0
,
y0
,y0+
h
);

983 
	`d¿wCŞumn
(
x0
+
w
,
y0
,y0+
h
);

984 
	`d¿wRow
(
x0
,x0+
w
,
y0
);

985 
	`d¿wRow
(
x0
,x0+
w
,
y0
+
h
);

986 
	}
}

988 
	gDi¥Ïy
::
	$flReùªgË
(
št16_t
 
x0
,št16_ˆ
y0
, iÁ16_ˆ
w
, iÁ16_ˆ
h
){

989 
št16_t
 
x
,
y
,
x1
,
y1
;

990 
x1
=
x0
+
w
;
y1
=
y0
+
h
;

991 ià((
x0
<0 && 
x1
<0è|| (x0>=
width
 && x1 >=width)) ;

992 ià((
y0
<0 && 
y1
<0è|| (y0>=
height
 && y1 >=height)) ;

993 ià(
x0
>
x1
è{
x
=x1;x1=x0;}

994 
x
=
x0
;

995 ià(
y0
>
y1
è{
y
=y1;y1=y0;}

996 
y
=
y0
;

997 ià(
x
<0) x=0;

998 ià(
y
<0) y=0;

999 ;
x
<
x1
;x++è
	`d¿wCŞumn
(x,
y
,
y1
);

1000 
	}
}

1002 
	gDi¥Ïy
::
	$flReù
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
w
, iÁ16_ˆ
h
) {

1003 
	`flReùªgË
(
x
,
y
,
w
,
h
);

1004 
	}
}

1006 
	gDi¥Ïy
::
	$d¿wReù
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
w
, iÁ16_ˆ
h
) {

1007 
	`d¿wReùªgË
(
x
,
y
,
w
,
h
);

1008 
	}
}

1010 
	gDi¥Ïy
::
	$d¿wCœşe
(
št16_t
 
x0
, iÁ16_ˆ
y0
, iÁ16_ˆ
r
) {

1011 
št16_t
 
f
 = 1 - 
r
;

1012 
št16_t
 
ddF_x
 = 1;

1013 
št16_t
 
ddF_y
 = -2 * 
r
;

1014 
št16_t
 
x
 = 0;

1015 
št16_t
 
y
 = 
r
;

1017 
	`d¿wPix–
(
x0
, 
y0
 + 
r
);

1018 
	`d¿wPix–
(
x0
, 
y0
 - 
r
);

1019 
	`d¿wPix–
(
x0
 + 
r
, 
y0
);

1020 
	`d¿wPix–
(
x0
 - 
r
, 
y0
);

1022 
x
 < 
y
) {

1023 ià(
f
 >= 0) {

1025 
y
--;

1026 
ddF_y
 += 2;

1027 
f
 +ğ
ddF_y
;

1029 
x
++;

1030 
ddF_x
 += 2;

1031 
f
 +ğ
ddF_x
;

1033 
	`d¿wPix–
(
x0
 + 
x
, 
y0
 + 
y
);

1034 
	`d¿wPix–
(
x0
 - 
x
, 
y0
 + 
y
);

1035 
	`d¿wPix–
(
x0
 + 
x
, 
y0
 - 
y
);

1036 
	`d¿wPix–
(
x0
 - 
x
, 
y0
 - 
y
);

1037 
	`d¿wPix–
(
x0
 + 
y
, 
y0
 + 
x
);

1038 
	`d¿wPix–
(
x0
 - 
y
, 
y0
 + 
x
);

1039 
	`d¿wPix–
(
x0
 + 
y
, 
y0
 - 
x
);

1040 
	`d¿wPix–
(
x0
 - 
y
, 
y0
 - 
x
);

1043 
	}
}

1045 
	gDi¥Ïy
::
	$d¿wCœşeH–³r
(
št16_t
 
x0
, iÁ16_ˆ
y0
, iÁ16_ˆ
r
, 
ušt16_t
 
cÜÃºame
) {

1046 
št16_t
 
f
 = 1 - 
r
;

1047 
št16_t
 
ddF_x
 = 1;

1048 
št16_t
 
ddF_y
 = -2 * 
r
;

1049 
št16_t
 
x
 = 0;

1050 
št16_t
 
y
 = 
r
;

1052 
x
 < 
y
) {

1053 ià(
f
 >= 0) {

1054 
y
--;

1055 
ddF_y
 += 2;

1056 
f
 +ğ
ddF_y
;

1058 
x
++;

1059 
ddF_x
 += 2;

1060 
f
 +ğ
ddF_x
;

1061 ià(
cÜÃºame
 & 0x4) {

1062 
	`d¿wPix–
(
x0
 + 
x
, 
y0
 + 
y
);

1063 
	`d¿wPix–
(
x0
 + 
y
, 
y0
 + 
x
);

1065 ià(
cÜÃºame
 & 0x2) {

1066 
	`d¿wPix–
(
x0
 + 
x
, 
y0
 - 
y
);

1067 
	`d¿wPix–
(
x0
 + 
y
, 
y0
 - 
x
);

1069 ià(
cÜÃºame
 & 0x8) {

1070 
	`d¿wPix–
(
x0
 - 
y
, 
y0
 + 
x
);

1071 
	`d¿wPix–
(
x0
 - 
x
, 
y0
 + 
y
);

1073 ià(
cÜÃºame
 & 0x1) {

1075 
	`d¿wPix–
(
x0
 - 
y
, 
y0
 - 
x
);

1076 
	`d¿wPix–
(
x0
 - 
x
, 
y0
 - 
y
);

1079 
	}
}

1081 
	gDi¥Ïy
::
	$flCœşe
(
št16_t
 
x0
, iÁ16_ˆ
y0
, iÁ16_ˆ
r
) {

1082 
	`d¿wFa¡VLše
(
x0
, 
y0
 - 
r
, 2 *„ );

1083 
	`flCœşeH–³r
(
x0
, 
y0
, 
r
, 3, 0);

1084 
	}
}

1086 
	gDi¥Ïy
::
	$flCœşeH–³r
(
št16_t
 
x0
, iÁ16_ˆ
y0
, iÁ16_ˆ
r
, 
ušt16_t
 
cÜÃºame
, iÁ16_ˆ
d–
) {

1087 
št16_t
 
f
 = 1 - 
r
;

1088 
št16_t
 
ddF_x
 = 1;

1089 
št16_t
 
ddF_y
 = -2 * 
r
;

1090 
št16_t
 
x
 = 0;

1091 
št16_t
 
y
 = 
r
;

1093 
x
 < 
y
) {

1094 ià(
f
 >= 0) {

1095 
y
--;

1096 
ddF_y
 += 2;

1097 
f
 +ğ
ddF_y
;

1099 
x
++;

1100 
ddF_x
 += 2;

1101 
f
 +ğ
ddF_x
;

1103 ià(
cÜÃºame
 & 0x1) {

1104 
	`d¿wFa¡VLše
(
x0
 + 
x
, 
y0
 - 
y
, 2 * y + 1 + 
d–
-1);

1105 
	`d¿wFa¡VLše
(
x0
 + 
y
, 
y0
 - 
x
, 2 * x + 1 + 
d–
-1);

1107 ià(
cÜÃºame
 & 0x2) {

1109 
	`d¿wFa¡VLše
(
x0
 - 
x
, 
y0
 - 
y
, 2 * y + 1 + 
d–
-1);

1110 
	`d¿wFa¡VLše
(
x0
 - 
y
, 
y0
 - 
x
, 2 * x + 1 + 
d–
-1);

1113 
	}
}

1115 
	gDi¥Ïy
::
	$d¿wRoundReù
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
w
,št16_ˆ
h
, iÁ16_ˆ
r
) {

1116 ià(
r
<2è{
	`d¿wReùªgË
(
x
,
y
,
w
,
h
);;}

1118 
	`d¿wFa¡HLše
(
x
 + 
r
, 
y
, 
w
 - 2 *„);

1119 
	`d¿wFa¡HLše
(
x
 + 
r
, 
y
 + 
h
 - 1, 
w
 - 2 *„);

1120 
	`d¿wFa¡VLše
(
x
, 
y
 + 
r
, 
h
 - 2 *„);

1121 
	`d¿wFa¡VLše
(
x
 + 
w
 - 1, 
y
 + 
r
, 
h
 - 2 *„);

1123 
	`d¿wCœşeH–³r
(
x
 + 
r
, 
y
 +„,„, 1);

1124 
	`d¿wCœşeH–³r
(
x
 + 
w
 - 
r
 - 1, 
y
 +„,„, 2);

1125 
	`d¿wCœşeH–³r
(
x
 + 
w
 - 
r
 - 1, 
y
 + 
h
 -„ - 1,„, 4);

1126 
	`d¿wCœşeH–³r
(
x
 + 
r
, 
y
 + 
h
 -„ - 1,„, 8);

1127 
	}
}

1129 
	gDi¥Ïy
::
	$flRoundReù
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
w
,št16_ˆ
h
, iÁ16_ˆ
r
) {

1130 ià(
r
<2è{
	`flReùªgË
(
x
,
y
,
w
,
h
);;}

1131 
	`flReùªgË
(
x
 + 
r
, 
y
, 
w
 - 2 *„, 
h
-1);

1133 
	`flCœşeH–³r
(
x
 + 
w
 - 
r
 - 1, 
y
 +„,„, 1, 
h
 - 2 *„ - 1);

1134 
	`flCœşeH–³r
(
x
 + 
r
, 
y
 +„,„, 2, 
h
 - 2 *„ - 1);

1135 
	}
}

1137 
	gDi¥Ïy
::
	$d¿wTrŸngË
(
št16_t
 
x0
, iÁ16_ˆ
y0
,

1138 
št16_t
 
x1
, iÁ16_ˆ
y1
,

1139 
št16_t
 
x2
, iÁ16_ˆ
y2
) {

1140 
	`d¿wLše
(
x0
, 
y0
, 
x1
, 
y1
);

1141 
	`d¿wLše
(
x1
, 
y1
, 
x2
, 
y2
);

1142 
	`d¿wLše
(
x2
, 
y2
, 
x0
, 
y0
);

1143 
	}
}

1145 
	gDi¥Ïy
::
	$flTrŸngË
(
št16_t
 
x0
, iÁ16_ˆ
y0
,

1146 
št16_t
 
x1
, iÁ16_ˆ
y1
,

1147 
št16_t
 
x2
, iÁ16_ˆ
y2
) {

1148 
št16_t
 
a
, 
b
, 
y
, 
Ï¡
;

1151 ià(
y0
 > 
y1
) {

1152 
	`sw­WT
(
št16_t
,
y0
, 
y1
);

1153 
	`sw­WT
(
št16_t
,
x0
, 
x1
);

1155 ià(
y1
 > 
y2
) {

1156 
	`sw­WT
(
št16_t
,
y2
, 
y1
);

1157 
	`sw­WT
(
št16_t
,
x2
, 
x1
);

1159 ià(
y0
 > 
y1
) {

1160 
	`sw­WT
(
št16_t
,
y0
, 
y1
);

1161 
	`sw­WT
(
št16_t
,
x0
, 
x1
);

1164 ià(
y0
 =ğ
y2
) {

1165 
a
 = 
b
 = 
x0
;

1166 ià(
x1
 < 
a
)‡ = x1;

1167 ià(
x1
 > 
b
) b = x1;

1168 ià(
x2
 < 
a
)‡ = x2;

1169 ià(
x2
 > 
b
) b = x2;

1170 
	`d¿wFa¡HLše
(
a
, 
y0
, 
b
 -‡ + 1);

1174 
št16_t


1175 
dx01
 = 
x1
 - 
x0
,

1176 
dy01
 = 
y1
 - 
y0
,

1177 
dx02
 = 
x2
 - 
x0
,

1178 
dy02
 = 
y2
 - 
y0
,

1179 
dx12
 = 
x2
 - 
x1
,

1180 
dy12
 = 
y2
 - 
y1
,

1181 
§
 = 0,

1182 
sb
 = 0;

1190 ià(
y1
 =ğ
y2
è
Ï¡
 = y1;

1191 
Ï¡
 = 
y1
 - 1;

1193 
y
 = 
y0
; y <ğ
Ï¡
; y++) {

1194 
a
 = 
x0
 + 
§
 / 
dy01
;

1195 
b
 = 
x0
 + 
sb
 / 
dy02
;

1196 
§
 +ğ
dx01
;

1197 
sb
 +ğ
dx02
;

1202 ià(
a
 > 
b
è
	`sw­WT
(
št16_t
,a, b);

1203 
	`d¿wFa¡HLše
(
a
, 
y
, 
b
 -‡ + 1);

1208 
§
 = 
dx12
 * (
y
 - 
y1
);

1209 
sb
 = 
dx02
 * (
y
 - 
y0
);

1210 ; 
y
 <ğ
y2
; y++) {

1211 
a
 = 
x1
 + 
§
 / 
dy12
;

1212 
b
 = 
x0
 + 
sb
 / 
dy02
;

1213 
§
 +ğ
dx12
;

1214 
sb
 +ğ
dx02
;

1216 ià(
a
 > 
b
è
	`sw­WT
(
št16_t
,a, b);

1217 
	`d¿wFa¡HLše
(
a
, 
y
, 
b
 -‡ + 1);

1219 
	}
}

1221 
	gDi¥Ïy
::
	$£tFÚt
(cÚ¡ * 
f
) {

1222 
fÚt
 = 
f
;

1223 
fÚtWidth
 = *(
fÚt
)+1;

1224 
fÚtHeight
 = *(
fÚt
 + 1)+1;

1225 
	}
}

1227 
	gDi¥Ïy
::
	$d¿wMÚoB™m­
(
št16_t
 
x
, iÁ16_ˆ
y
, cÚ¡ 
ušt8_t
* 
b™m­
, ušt8_ˆ
šdex
) {

1228 
ušt8_t
 
w
 = *
b™m­
;

1229 
ušt8_t
 
h
 = *(
b™m­
 + 1);

1230 
ušt8_t
 
xŒa
=0;

1231 ià(
w
&0x7è
xŒa
=1;

1232 
b™m­
 = b™m­ + 3 + 
šdex
 * 
h
 * ((
w
>>3)+
xŒa
);

1233 #ià
POK_GAMEBUINO_SUPPORT
 > 0

1234 
št8_t
 
i
, 
j
, 
by‹Num
, 
b™Num
, 
by‹Width
 = (
w
 + 7) >> 3;

1235 
i
 = 0; i < 
w
; i++) {

1236 
by‹Num
 = 
i
 / 8;

1237 
b™Num
 = 
i
 % 8;

1238 
j
 = 0; j < 
h
; j++) {

1239 
ušt8_t
 
sourû
 = *(
b™m­
 + 
j
 * 
by‹Width
 + 
by‹Num
);

1240 ià(
sourû
 & (0x80 >> 
b™Num
)) {

1241 
	`d¿wPix–
(
x
 + 
i
, 
y
 + 
j
);

1247 
št8_t
 
süx
,
süy
;

1248 
ušt8_t
* 
sü±r
 = 
m_sübuf
 + (
y
*(
width
>>1è+ (
x
>>1));

1249 
št8_t
 
b™±r
;

1250 
süy
 = 
y
; süy < y+
h
; scry+=1) {

1251 ià((
x
&1)==0) {

1252 
süx
 = 
x
, 
b™±r
=7; süx < 
w
+x; scrx+=2) {

1253 
ušt8_t
 
rg‘pix–
 = *
sü±r
;

1254 ià(*
b™m­
 & (1<<
b™±r
)è
rg‘pix–
 = (rg‘pix– & 0xFè| 
cŞÜ
<<4;

1255 ià(
bgcŞÜ
 !ğ
švisibËcŞÜ
è
rg‘pix–
 = (targetpixel & 0xF) | bgcolor<<4;

1256 
b™±r
--;

1257 ià(*
b™m­
 & (1<<
b™±r
)è
rg‘pix–
 = (rg‘pix– & 0xF0è| 
cŞÜ
;

1258 ià(
bgcŞÜ
 !ğ
švisibËcŞÜ
è
rg‘pix–
 = (targetpixel & 0xF0) | bgcolor;

1259 
b™±r
--;

1260 ià(
b™±r
<0è{ b™±¸ğ7; 
b™m­
++; }

1261 *
sü±r
 = 
rg‘pix–
;

1262 
sü±r
++;

1265 
süx
 = 
x
, 
b™±r
=7; süx < 
w
+x; scrx+=2) {

1266 
ušt8_t
 
rg‘pix–
 = *
sü±r
;

1268 ià(*
b™m­
 & (1<<
b™±r
)è
rg‘pix–
 = (rg‘pix– & 0xF0è| 
cŞÜ
;

1269 ià(
bgcŞÜ
 !ğ
švisibËcŞÜ
è
rg‘pix–
 = (targetpixel & 0xF0) | bgcolor;

1270 *
sü±r
 = 
rg‘pix–
;

1271 
b™±r
--;
sü±r
++;
rg‘pix–
 = *scrptr;

1273 ià(*
b™m­
 & (1<<
b™±r
)è
rg‘pix–
 = (rg‘pix– & 0xFè| 
cŞÜ
<<4;

1274 ià(
bgcŞÜ
 !ğ
švisibËcŞÜ
è
rg‘pix–
 = (targetpixel & 0xF) | bgcolor<<4;

1275 *
sü±r
 = 
rg‘pix–
;

1276 
b™±r
--;

1279 ià(
b™±r
!=7è
b™m­
++;

1281 
sü±r
 = sü±¸+ ((
width
 - 
w
)>>1);

1284 
	}
}

1287 
	gDi¥Ïy
::
	$d¿wB™m­
(
št16_t
 
x
, iÁ16_ˆ
y
, cÚ¡ 
ušt8_t
* 
b™m­
, ušt8_ˆ
äame
)

1289 
št16_t
 
w
 = *
b™m­
;

1290 
št16_t
 
h
 = *(
b™m­
 + 1);

1291 
ušt8_t
 
äamew
 = *(
b™m­
+2);

1292 
b™m­
 = bitmap + 3;

1294 ià(
y
<-
h
 || y>
height
) ;

1295 ià(
x
<-
äamew
 || x>
width
) ;

1297 ià(
m_cŞÜd•th
<2) {

1298 
št16_t
 
i
, 
j
, 
by‹Num
, 
b™Num
, 
by‹Width
 = (
w
 + 7) >> 3;

1299 
i
 = 0; i < 
w
; i++) {

1300 
by‹Num
 = 
i
 / 8;

1301 
b™Num
 = 
i
 % 8;

1302 
j
 = 0; j < 
h
; j++) {

1303 
ušt8_t
 
sourû
 = *(
b™m­
 + 
j
 * 
by‹Width
 + 
by‹Num
);

1304 ià(
sourû
 & (0x80 >> 
b™Num
)) {

1305 
	`d¿wPix–
(
x
 + 
i
, 
y
 + 
j
);

1313 ià(
m_cŞÜd•th
<4) {

1314 
št16_t
 
i
, 
j
, 
by‹Num
, 
b™Num
, 
by‹Width
 = 
w
 >> 2;

1315 
i
 = 0; i < 
w
; i++) {

1316 
by‹Num
 = 
i
 / 4;

1317 
b™Num
 = (
i
 % 4)<<1;

1318 
j
 = 0; j < 
h
; j++) {

1319 
ušt8_t
 
sourû
 = *(
b™m­
 + 
j
 * 
by‹Width
 + 
by‹Num
);

1320 
ušt8_t
 
ouut
 = (
sourû
 & (0xC0 >> 
b™Num
));

1321 
ouut
 >>ğ(6-
b™Num
);

1322 ià(
ouut
 !ğ
švisibËcŞÜ
) {

1323 
	`£tCŞÜ
(
ouut
);

1324 
	`d¿wPix–
(
x
 + 
i
, 
y
 + 
j
);

1332 
št16_t
 
süx
,
süy
,
xş
,
xjump
,
süxjump
;

1333 
xş
=
xjump
=
süxjump
=0;

1334 
b™m­
 +ğ(
äamew
*
äame
)>>1;

1336 ià(
y
<0è{ 
h
+=y; 
b™m­
 -ğy*(
w
>>1); y=0;}

1337 ià(
y
+
h
>
height
) { h -=(y-height);}

1339 
xjump
 = (
w
-
äamew
)>>1;

1340 ià(
x
<0è{ 
xş
=(x&1)<<1; 
äamew
+=x; 
xjump
 = ((-x)>>1); 
b™m­
 += xjump; x=0;}

1341 ià(
x
+
äamew
>
width
) {

1342 
xş
 = (
x
&1)<<1;

1343 
süxjump
 = 
x
&1;

1344 
xjump
=((
x
+
äamew
-
width
)>>1)+
süxjump
;

1345 
äamew
 = 
width
-
x
;}

1347 
ušt8_t
* 
sü±r
 = 
m_sübuf
 + (
y
*(
width
>>1è+ (
x
>>1));

1349 
süy
 = 
y
; süy < y+
h
; scry+=1) {

1350 ià(
süy
>=
height
) ;

1351 ià((
x
&1)==0) {

1352 
süx
 = 
x
; süx < 
äamew
+x-
xş
; scrx+=2) {

1353 
ušt8_t
 
sourûpix–
 = *
b™m­
;

1354 ià(
xş
) {

1355 
sourûpix–
 <<=4;

1356 
sourûpix–
 |ğ((*(
b™m­
+1))>>4);

1358 
ušt8_t
 
rg‘pix–
 = *
sü±r
;

1359 ià((
sourûpix–
>>4è!ğ
švisibËcŞÜ
 ) 
rg‘pix–
 = (targetpixel&0x0F) | (sourcepixel & 0xF0);

1360 ià((
sourûpix–
&0x0Fè!ğ
švisibËcŞÜ
è
rg‘pix–
 = (targetpixel & 0xF0) | (sourcepixel & 0x0F);

1361 *
sü±r
 = 
rg‘pix–
;

1362 
b™m­
++;

1363 
sü±r
++;

1365 ià(
xş
){

1366 ià(
äamew
&1) {

1368 
ušt8_t
 
sourûpix–
 = *
b™m­
;

1369 ià((
sourûpix–
&0x0Fè!ğ
švisibËcŞÜ
) {

1370 
sourûpix–
 <<=4;

1371 
ušt8_t
 
rg‘pix–
 = *
sü±r
;

1372 
rg‘pix–
 |ğ
sourûpix–
;

1373 *
sü±r
 = 
rg‘pix–
;

1377 
b™m­
++;

1378 
sü±r
++;

1380 
b™m­
 +ğ
xjump
;

1382 
süx
 = 
x
; süx < 
äamew
+x-
xş
; scrx+=2) {

1383 
ušt8_t
 
sourûpix–
 = *
b™m­
;

1384 
ušt8_t
 
rg‘pix–
 = *
sü±r
;

1386 if((
sourûpix–
>>4)!=
švisibËcŞÜ
è
rg‘pix–
 = (targetpixel & 0xF0) | (sourcepixel >> 4 );

1387 *
sü±r
 = 
rg‘pix–
;

1388 
sü±r
++;

1389 
rg‘pix–
 = *
sü±r
;

1391 if((
sourûpix–
&0x0F)!=
švisibËcŞÜ
è
rg‘pix–
 = (targetpixel & 0x0F) | (sourcepixel << 4);

1392 *
sü±r
 = 
rg‘pix–
;

1393 
b™m­
++;

1395 
b™m­
+=
xjump
;

1398 
sü±r
 = sü±¸+ ((
width
 - 
äamew
)>>1)+
süxjump
;

1400 
	}
}

1403 
	gDi¥Ïy
::
	$d¿wB™m­
(
št16_t
 
x
, iÁ16_ˆ
y
, cÚ¡ 
ušt8_t
* 
b™m­
)

1405 
št16_t
 
w
 = *
b™m­
;

1406 
št16_t
 
h
 = *(
b™m­
 + 1);

1407 
b™m­
 = bitmap + 2;

1408 
	`d¿wB™m­D©a
(
x
, 
y
, 
w
, 
h
, 
b™m­
);

1409 
	}
}

1411 
	gDi¥Ïy
::
	$d¿wB™m­D©a
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
w
, iÁ16_ˆ
h
, cÚ¡ 
ušt8_t
* 
b™m­
) {

1413 ià(
y
<-
h
 || y>
height
) ;

1414 ià(
x
<-
w
 || x>
width
) ;

1416 ià(
m_cŞÜd•th
<2) {

1417 
št16_t
 
i
, 
j
, 
by‹Num
, 
b™Num
, 
by‹Width
 = (
w
 + 7) >> 3;

1418 
i
 = 0; i < 
w
; i++) {

1419 
by‹Num
 = 
i
 / 8;

1420 
b™Num
 = 
i
 % 8;

1421 
j
 = 0; j < 
h
; j++) {

1422 
ušt8_t
 
sourû
 = *(
b™m­
 + 
j
 * 
by‹Width
 + 
by‹Num
);

1423 ià(
sourû
 & (0x80 >> 
b™Num
)) {

1424 
	`d¿wPix–
(
x
 + 
i
, 
y
 + 
j
);

1432 ià(
m_cŞÜd•th
==2) {

1433 if(
şH
 > 0) {

1436 
št16_t
 
x1
 = 
	`max
(
x
, 
şX
);

1437 
št16_t
 
x2
 = 
	`mš
(
x
 + 
w
, 
şX
 + 
şW
);

1438 
št16_t
 
bmupd©eX
 = 
x1
 - 
x
;

1439 
št16_t
 
bmupd©eX2
 = 
x2
 - 
x
;

1440 
št16_t
 
y1
 = 
	`max
(
y
, 
şY
);

1441 
št16_t
 
y2
 = 
	`mš
(
y
 + 
h
, 
şY
 + 
şH
);

1442 
št16_t
 
bmupd©eY
 = 
y1
 - 
y
;

1443 
št16_t
 
bmupd©eY2
 = 
y2
 - 
y
;

1445 
št16_t
 
i
, 
j
, 
by‹Num
, 
b™Num
, 
by‹Width
 = 
w
 >> 2;

1446 
i
 = 
bmupd©eX
; i < 
bmupd©eX2
; i++) {

1447 
by‹Num
 = 
i
 / 4;

1448 
b™Num
 = (
i
 % 4)<<1;

1449 
j
 = 
bmupd©eY
; j < 
bmupd©eY2
; j++) {

1450 
ušt8_t
 
sourû
 = *(
b™m­
 + (
j
 * 
by‹Width
è+ 
by‹Num
);

1451 
ušt8_t
 
ouut
 = (
sourû
 & (0xC0 >> 
b™Num
));

1452 
ouut
 >>ğ(6-
b™Num
);

1453 ià(
ouut
 !ğ
švisibËcŞÜ
) {

1454 
	`£tCŞÜ
(
ouut
);

1455 
	`d¿wPix–
(
x
 + 
i
, 
y
 + 
j
);

1461 
št16_t
 
i
, 
j
, 
by‹Num
, 
b™Num
, 
by‹Width
 = 
w
 >> 2;

1462 
i
 = 0; i < 
w
; i++) {

1463 
by‹Num
 = 
i
 / 4;

1464 
b™Num
 = (
i
 % 4)<<1;

1465 
j
 = 0; j < 
h
; j++) {

1466 
ušt8_t
 
sourû
 = *(
b™m­
 + (
j
 * 
by‹Width
è+ 
by‹Num
);

1467 
ušt8_t
 
ouut
 = (
sourû
 & (0xC0 >> 
b™Num
));

1468 
ouut
 >>ğ(6-
b™Num
);

1469 ià(
ouut
 !ğ
švisibËcŞÜ
) {

1470 
	`£tCŞÜ
(
ouut
);

1471 
	`d¿wPix–
(
x
 + 
i
, 
y
 + 
j
);

1480 ià(
m_cŞÜd•th
==3) {

1481 
št16_t
 
i
, 
j
, 
by‹Num
, 
b™Num
, 
by‹Width
 = (
w
 + 7) >> 3;

1482 
št16_t
 
b™F¿me
 = 
w
 * 
h
 / 8;

1483 
i
 = 0; i < 
w
; i++) {

1484 
by‹Num
 = 
i
 / 8;

1485 
b™Num
 = 
i
 % 8;

1487 
ušt8_t
 
b™couÁ
=0;

1488 
j
 = 0; j <ğ
h
/8; j++) {

1489 
ušt8_t
 
r_v®
 = *(
b™m­
 + 
j
 * 
by‹Width
 + 
by‹Num
);

1490 
ušt8_t
 
g_v®
 = *(
b™m­
 + 
b™F¿me
 + 
j
 * 
by‹Width
 + 
by‹Num
);

1491 
ušt8_t
 
b_v®
 = *(
b™m­
 + (
b™F¿me
<<1è+ 
j
 * 
by‹Width
 + 
by‹Num
);

1492 
b™couÁ
=0; bitcount<8; bitcount++) {

1493 
ušt8_t
 
cŞ
 = (
r_v®
&0x1è| ((
g_v®
&0x1)<<1è| ((
b_v®
&0x1)<<2);

1494 
r_v®
 >>ğ1; 
g_v®
 >>ğ1; 
b_v®
 >>= 1;

1495 
	`d¿wPix–
(
x
 + 
i
, 
y
 + 
j
+
b™couÁ
,
cŞ
);

1505 ià(
m_cŞÜd•th
==4) {

1508 
št16_t
 
süx
,
süy
,
xş
,
xjump
,
süxjump
;

1509 
xş
=
xjump
=
süxjump
=0;

1511 ià(
y
<0è{ 
h
+=y; 
b™m­
 -ğy*(
w
>>1); y=0;}

1512 ià(
y
+
h
>
height
) { h -=(y-height);}

1514 ià(
x
<0è{ 
xş
=(x&1)<<1; 
w
+=x; 
xjump
 = ((-x)>>1); 
b™m­
 += xjump; x=0;}

1515 ià(
x
+
w
>
width
) {

1516 
xş
 = (
x
&1)<<1;

1517 
süxjump
 = 
x
&1;

1518 
xjump
=((
x
+
w
-
width
)>>1)+
süxjump
;

1519 
w
 = 
width
-
x
;}

1521 
ušt8_t
* 
sü±r
 = 
m_sübuf
 + (
y
*(
width
>>1è+ (
x
>>1));

1523 
süy
 = 
y
; süy < y+
h
; scry+=1) {

1524 ià(
süy
>=
height
) ;

1525 ià((
x
&1)==0) {

1526 
süx
 = 
x
; süx < 
w
+x-
xş
; scrx+=2) {

1527 
ušt8_t
 
sourûpix–
 = *
b™m­
;

1528 ià(
xş
) {

1529 
sourûpix–
 <<=4;

1530 
sourûpix–
 |ğ((*(
b™m­
+1))>>4);

1532 
ušt8_t
 
rg‘pix–
 = *
sü±r
;

1533 ià((
sourûpix–
>>4è!ğ
švisibËcŞÜ
 ) 
rg‘pix–
 = (targetpixel&0x0F) | (sourcepixel & 0xF0);

1534 ià((
sourûpix–
&0x0Fè!ğ
švisibËcŞÜ
è
rg‘pix–
 = (targetpixel & 0xF0) | (sourcepixel & 0x0F);

1535 *
sü±r
 = 
rg‘pix–
;

1536 
b™m­
++;

1537 
sü±r
++;

1539 ià(
xş
){

1540 ià(
w
&1) {

1542 
ušt8_t
 
sourûpix–
 = *
b™m­
;

1543 ià((
sourûpix–
&0x0Fè!ğ
švisibËcŞÜ
) {

1544 
sourûpix–
 <<=4;

1545 
ušt8_t
 
rg‘pix–
 = *
sü±r
;

1546 
rg‘pix–
 |ğ
sourûpix–
;

1547 *
sü±r
 = 
rg‘pix–
;

1551 
b™m­
++;

1552 
sü±r
++;

1554 
b™m­
 +ğ
xjump
;

1556 
süx
 = 
x
; süx < 
w
+x-
xş
; scrx+=2) {

1557 
ušt8_t
 
sourûpix–
 = *
b™m­
;

1558 
ušt8_t
 
rg‘pix–
 = *
sü±r
;

1560 if((
sourûpix–
>>4)!=
švisibËcŞÜ
è
rg‘pix–
 = (targetpixel & 0xF0) | (sourcepixel >> 4 );

1561 *
sü±r
 = 
rg‘pix–
;

1562 
sü±r
++;

1563 
rg‘pix–
 = *
sü±r
;

1565 if((
sourûpix–
&0x0F)!=
švisibËcŞÜ
è
rg‘pix–
 = (targetpixel & 0x0F) | (sourcepixel << 4);

1566 *
sü±r
 = 
rg‘pix–
;

1567 
b™m­
++;

1569 
b™m­
+=
xjump
;

1572 
sü±r
 = sü±¸+ ((
width
 - 
w
)>>1)+
süxjump
;

1580 ià(
m_cŞÜd•th
==8) {

1581 
št16_t
 
süx
,
süy
,
xş
,
xjump
,
süxjump
;

1582 
xş
=
xjump
=
süxjump
=0;

1584 ià(
y
<0è{ 
h
+=y; 
b™m­
 -ğy*
w
; y=0;}

1585 ià(
y
+
h
>
height
) { h -=(y-height);}

1587 ià(
x
<0è{ 
xş
=x; 
w
+=x; 
xjump
 = (-x); 
b™m­
 += xjump; x=0;}

1588 ià(
x
+
w
>
width
) {

1589 
xş
 = 
x
;

1590 
süxjump
 = 
x
;

1591 
xjump
=(
x
+
w
-
width
)+
süxjump
;

1592 
w
 = 
width
-
x
;}

1594 
ušt8_t
* 
sü±r
 = 
m_sübuf
 + (
y
*
width
 + 
x
);

1595 
süy
 = 
y
; süy < y+
h
; scry+=1) {

1596 ià(
süy
>=
height
) ;

1597 
süx
 = 
x
; süx < 
w
+x; scrx++) {

1598 
ušt8_t
 
sourûpix–
 = *
b™m­
;

1599 
ušt8_t
 
rg‘pix–
 = *
sü±r
;

1600 ià(
sourûpix–
 !ğ
švisibËcŞÜ
 ) 
rg‘pix–
 = sourcepixel;

1601 *
sü±r
 = 
rg‘pix–
;

1602 
b™m­
++;

1603 
sü±r
++;

1605 
b™m­
 +ğ
xjump
;

1606 
sü±r
 = sü±¸+ (
width
 - 
w
)+
süxjump
;

1612 
	}
}

1614 
	gDi¥Ïy
::
	$d¿wRËB™m­
(
št16_t
 
x
, iÁ16_ˆ
y
, cÚ¡ 
ušt8_t
* 
¾eb™m­
)

1617 #ià(
POK_SCREENMODE
 !ğ
MODE_FAST_16COLOR
)

1621 
št16_t
 
w
 = *
¾eb™m­
;

1622 
št16_t
 
h
 = *(
¾eb™m­
 + 1);

1623 
¾eb™m­
 =„lebitmap + 2;

1626 ià(
y
<-
h
 || y>
height
) ;

1627 ià(
x
<-
w
 || x>
width
) ;

1630 ià((
x
 < 0è|| (x+
w
 > 
width
è|| (
y
 < 0è|| (y+
h
 > 
height
)) ;

1633 ià(
m_cŞÜd•th
 != 4)

1637 
ušt8_t
* 
sü±r
 = 
m_sübuf
 + (
y
*(
width
>>1è+ (
x
>>1));

1638 
boŞ
 
is_’dofb™m­
 = 
çl£
;

1639 
št16_t
 
süy
 = 
y
; süy < y+
h
 && !
is_’dofb™m­
;) {

1642 
št16_t
 
süx
 = 
x
;;) {

1643 
ušt8_t
 
¾e_couÁ
 = *
¾eb™m­
++;

1645 ià(
¾e_couÁ
 == 0) {

1649 
ušt8_t
 
¾e_esÿ³_Ü_runsize
 = *
¾eb™m­
++;

1650 iàĞ
¾e_esÿ³_Ü_runsize
 =ğ
RLE_ESC_EOL
) {

1654 iàĞ
¾e_esÿ³_Ü_runsize
 =ğ
RLE_ESC_EOB
) {

1656 
is_’dofb™m­
 = 
Œue
;

1659 iàĞ
¾e_esÿ³_Ü_runsize
 =ğ
RLE_ESC_OFFSET
) {

1662 
ušt8_t
 
xoff£t
 = *
¾eb™m­
++;

1663 
ušt8_t
 
yoff£t
 = *
¾eb™m­
++;

1664 
sü±r
 +ğ(
xoff£t
>1);

1665 
süx
 +ğ
xoff£t
;

1666 
sü±r
 +ğ
yoff£t
*
width
;

1667 
süy
 +ğ
yoff£t
;

1673 
št16_t
 
runsize
 = 
¾e_esÿ³_Ü_runsize
;

1674 
ušt8_t
 
rg‘pix–
 = *
sü±r
;

1675 
ušt8_t
 
sourûpix–
 = *
¾eb™m­
;

1676  
št16_t
 
runx
 = 0;„unx < 
runsize
; ) {

1677 ià(
süx
&0x1) {

1678 ià(
runx
&0x1) {

1679 ià((
sourûpix–
&0x0Fè!ğ
švisibËcŞÜ
)

1680 
rg‘pix–
 = (rg‘pix–&0xF0è| (
sourûpix–
&0x0F);

1681 
¾eb™m­
++;

1684 ià((
sourûpix–
>>4è!ğ
švisibËcŞÜ
)

1685 
rg‘pix–
 = (rg‘pix–&0xF0è| (
sourûpix–
>>4);

1688 *
sü±r
 = 
rg‘pix–
;

1689 
sü±r
++;

1692 
rg‘pix–
 = *
sü±r
;

1693 
sourûpix–
 = *
¾eb™m­
;

1694 ià(
runx
&0x1) {

1695 ià((
sourûpix–
&0x0Fè!ğ
švisibËcŞÜ
 )

1696 
rg‘pix–
 = (rg‘pix–&0x0Fè| ((
sourûpix–
<<4)&0xF0);

1697 
¾eb™m­
++;

1700 ià((
sourûpix–
>>4è!ğ
švisibËcŞÜ
 )

1701 
rg‘pix–
 = (rg‘pix–&0x0Fè| (
sourûpix–
&0xF0);

1703 
runx
++;

1704 
süx
++;

1708 ià(
süx
&0x1) {

1709 *
sü±r
 = 
rg‘pix–
;

1710 
sü±r
++;

1714 ià(
runsize
%4) {

1715 
št16_t
 
·dpixcouÁ
 = 4 - (
runsize
%4);

1716 
¾eb™m­
 +ğ
·dpixcouÁ
>>1;

1724 
št16_t
 
runsize
 = 
¾e_couÁ
;

1725 
ušt8_t
 
şÚ•ix–·œ
 = *
¾eb™m­
++;

1726 
ušt8_t
 
rg‘pix–
 = *
sü±r
;

1727  
št16_t
 
runx
 = 0;„unx < 
runsize
; ) {

1728 ià(
süx
&0x1) {

1729 ià(
runx
&0x1) {

1730 ià((
şÚ•ix–·œ
&0x0Fè!ğ
švisibËcŞÜ
)

1731 
rg‘pix–
 = (rg‘pix–&0xF0è| (
şÚ•ix–·œ
&0x0F);

1734 ià((
şÚ•ix–·œ
>>4è!ğ
švisibËcŞÜ
)

1735 
rg‘pix–
 = (rg‘pix–&0xF0è| (
şÚ•ix–·œ
>>4);

1738 *
sü±r
 = 
rg‘pix–
;

1739 
sü±r
++;

1742 
rg‘pix–
 = *
sü±r
;

1743 ià(
runx
&0x1) {

1744 ià((
şÚ•ix–·œ
&0x0Fè!ğ
švisibËcŞÜ
 )

1745 
rg‘pix–
 = (rg‘pix–&0x0Fè| ((
şÚ•ix–·œ
<<4)&0xF0);

1748 ià((
şÚ•ix–·œ
>>4è!ğ
švisibËcŞÜ
 )

1749 
rg‘pix–
 = (rg‘pix–&0x0Fè| (
şÚ•ix–·œ
&0xF0);

1751 
runx
++;

1752 
süx
++;

1757 ià(
süx
&0x1) {

1758 *
sü±r
 = 
rg‘pix–
;

1759 
sü±r
++;

1765 
sü±r
 = sü±¸+ ((
width
 - 
w
)>>1);

1766 
süy
++;

1768 
	}
}

1770 
	gDi¥Ïy
::
	$d¿wB™m­XFl³d
(
št16_t
 
x
, iÁ16_ˆ
y
, cÚ¡ 
ušt8_t
* 
b™m­
)

1772 
št16_t
 
w
 = *
b™m­
;

1773 
št16_t
 
h
 = *(
b™m­
 + 1);

1774 
b™m­
 = bitmap + 2;

1776 ià(
y
<-
h
 || y>
height
) ;

1777 ià(
x
<-
w
 || x>
width
) ;

1779 ià(
m_cŞÜd•th
<2) {

1780 
št16_t
 
i
, 
j
, 
by‹Num
, 
b™Num
, 
by‹Width
 = (
w
 + 7) >> 3;

1781 
i
 = 0; i < 
w
; i++) {

1782 
by‹Num
 = 
i
 / 8;

1783 
b™Num
 = 
i
 % 8;

1784 
j
 = 0; j < 
h
; j++) {

1785 
ušt8_t
 
sourû
 = *(
b™m­
 + 
j
 * 
by‹Width
 + 
by‹Num
);

1786 ià(
sourû
 & (0x80 >> 
b™Num
)) {

1787 
	`d¿wPix–
(
x
 + 
w
 - 
i
, 
y
 + 
j
);

1795 ià(
m_cŞÜd•th
<4) {

1796 
št16_t
 
i
, 
j
, 
by‹Num
, 
b™Num
, 
by‹Width
 = 
w
 >> 2;

1797 
i
 = 0; i < 
w
; i++) {

1798 
by‹Num
 = 
i
 / 4;

1799 
b™Num
 = (
i
 % 4)<<1;

1800 
j
 = 0; j < 
h
; j++) {

1801 
ušt8_t
 
sourû
 = *(
b™m­
 + 
j
 * 
by‹Width
 + 
by‹Num
);

1802 
ušt8_t
 
ouut
 = (
sourû
 & (0xC0 >> 
b™Num
));

1803 
ouut
 >>ğ(6-
b™Num
);

1804 ià(
ouut
 !ğ
švisibËcŞÜ
) {

1805 
	`£tCŞÜ
(
ouut
);

1806 
	`d¿wPix–
(
x
 + 
i
, 
y
 + 
j
);

1814 
št16_t
 
süx
,
süy
,
xş
,
xjump
,
süxjump
;

1815 
xş
=
xjump
=
süxjump
=0;

1817 ià(
y
<0è{ 
h
+=y; 
b™m­
 -ğy*(
w
>>1); y=0;}

1818 ià(
y
+
h
>
height
) { h -=(y-height);}

1820 
b™m­
 +ğ((
w
>>1)-1);

1821 ià(
x
<0) {

1822 
xş
=(
x
&1)<<1;

1823 
w
+=
x
;

1824 
xjump
 = ((-
x
)>>1);

1826 
x
=0;

1828 ià(
x
+
w
>
width
) {

1829 
xş
 = (
x
&1)<<1;

1830 
süxjump
 = 
x
&1;

1831 
xjump
=((
x
+
w
-
width
)>>1)+
süxjump
;

1832 
w
 = 
width
-
x
;}

1835 
ušt8_t
* 
sü±r
 = 
m_sübuf
 + (
y
*(
width
>>1è+ (
x
>>1));

1837 
süy
 = 
y
; süy < y+
h
; scry+=1) {

1839 ià(
süy
>=
height
) ;

1840 ià((
x
&1)==0) {

1842 
süx
 = 
x
; süx < 
w
+x-
xş
; scrx+=2) {

1843 
ušt8_t
 
sourûpix–
 = *(
b™m­
);

1844 ià(
xş
) {

1845 
sourûpix–
 <<=4;

1846 
sourûpix–
 |ğ((*(
b™m­
-1))>>4);

1848 
ušt8_t
 
rg‘pix–
 = *
sü±r
;

1850 ià((
sourûpix–
>>4è!ğ
švisibËcŞÜ
 ) 
rg‘pix–
 = (targetpixel&0xF0) | (sourcepixel>>4);

1851 ià((
sourûpix–
&0x0Fè!ğ
švisibËcŞÜ
è
rg‘pix–
 = (targetpixel & 0x0F) | (sourcepixel<<4);

1852 *
sü±r
 = 
rg‘pix–
;

1853 
b™m­
--;

1854 
sü±r
++;

1856 
b™m­
 +ğ
w
;

1857 ià(
xş
){

1858 ià(
w
&1) {

1860 
ušt8_t
 
sourûpix–
 = *
b™m­
;

1861 ià((
sourûpix–
&0x0Fè!ğ
švisibËcŞÜ
) {

1862 
sourûpix–
 <<=4;

1863 
ušt8_t
 
rg‘pix–
 = *
sü±r
;

1864 
rg‘pix–
 |ğ
sourûpix–
;

1865 *
sü±r
 = 
rg‘pix–
;

1869 
b™m­
++;

1870 
sü±r
++;

1872 
b™m­
 +ğ
xjump
;

1874 
süx
 = 
x
; süx < 
w
+x-
xş
; scrx+=2 ) {

1875 
ušt8_t
 
sourûpix–
 = *
b™m­
;

1876 
ušt8_t
 
rg‘pix–
 = *
sü±r
;

1878 if((
sourûpix–
&0x0F)!=
švisibËcŞÜ
è
rg‘pix–
 = (targetpixel & 0xF0) | (sourcepixel & 0x0F );

1879 *
sü±r
 = 
rg‘pix–
;

1880 
sü±r
++;

1881 
rg‘pix–
 = *
sü±r
;

1883 if((
sourûpix–
>>4)!=
švisibËcŞÜ
è
rg‘pix–
 = (targetpixel & 0x0F) | (sourcepixel & 0xF0);

1884 *
sü±r
 = 
rg‘pix–
;

1885 
b™m­
--;

1887 
b™m­
 +ğ
w
;

1888 
b™m­
+=
xjump
;

1891 
sü±r
 = sü±¸+ ((
width
 - 
w
)>>1)+
süxjump
;

1893 
	}
}

1895 
	gDi¥Ïy
::
	$d¿wB™m­
(
št16_t
 
x
, iÁ16_ˆ
y
, cÚ¡ 
ušt8_t
 *
b™m­
, ušt8_ˆ
rÙ©iÚ
, ušt8_ˆ
æ
) {

1896 #ià
PROJ_GAMEBUINO
 == 0

1897 ià(!
æ
è
	`d¿wB™m­
(
x
,
y
,
b™m­
);

1898 
	`d¿wB™m­XFl³d
(
x
,
y
,
b™m­
);

1900 if((
rÙ©iÚ
 =ğ
NOROT
è&& (
æ
 =ğ
NOFLIP
)){

1901 
	`d¿wB™m­
(
x
,
y
,
b™m­
);

1904 
ušt8_t
 
w
 = 
b™m­
[0];

1905 
ušt8_t
 
h
 = 
b™m­
[1];

1906 
b™m­
 = bitmap + 2;

1907 
št8_t
 
i
, 
j
,

1908 
k
, 
l
,

1909 
by‹Num
, 
b™Num
, 
by‹Width
 = (
w
 + 7) >> 3;

1911 
rÙ©iÚ
 %= 4;

1913 
i
 = 0; i < 
w
; i++) {

1914 
by‹Num
 = 
i
 / 8;

1915 
b™Num
 = 
i
 % 8;

1916 
j
 = 0; j < 
h
; j++) {

1917 ià(
b™m­
[
j
 * 
by‹Width
 + 
by‹Num
] & (
B10000000
 >> 
b™Num
)) {

1918 
rÙ©iÚ
) {

1919 
NOROT
:

1920 
k
 = 
i
;

1921 
l
 = 
j
;

1923 
ROTCCW
:

1924 
k
 = 
j
;

1925 
l
 = 
w
 - 
i
 - 1;

1927 
ROT180
:

1928 
k
 = 
w
 - 
i
 - 1;

1929 
l
 = 
h
 - 
j
 - 1;

1931 
ROTCW
:

1932 
k
 = 
h
 - 
j
 - 1;

1933 
l
 = 
i
;

1936 ià(
æ
) {

1937 
æ
 %= 4;

1938 ià(
æ
 & 
B00000001
) {

1939 
k
 = 
w
 - k;

1941 ià(
æ
 & 
B00000010
) {

1942 
l
 = 
h
 -†;

1945 
k
 +ğ
x
;

1946 
l
 +ğ
y
;

1947 
	`d¿wPix–
(
k
, 
l
);

1953 
	}
}

1955 
ušt8_t
* 
	gDi¥Ïy
::
	$g‘Bufãr
() {

1956  
m_sübuf
;

1957 
	}
}

1959 
ušt8_t
 
	gDi¥Ïy
::
	$g‘B™m­Pix–
(cÚ¡ 
ušt8_t
* 
b™m­
, 
ušt16_t
 
x
, ušt16_ˆ
y
) {

1960 
ušt16_t
 
w
 = *
b™m­
;

1961 
ušt8_t
 
sourûby‹
 = 
b™m­
[2+(
y
 * ((
w
+7)>>3))+ (
x
>>3)];

1962  
sourûby‹
 & (0x80>>(
x
&7));

1963 
	}
}

1965 
	gDi¥Ïy
::
	$´št_ch¬
(
ušt8_t
 
x
, ušt8_ˆ
y
, 
c
) {

1966 
c
 -ğ
fÚt
[2];

1967 ià(
m_mode
è 
	`dœeùCh¬
(
x
,
y
,
c
);

1968  
	`bufãrCh¬
(
x
,
y
,
c
);

1969 
	}
}

1971 
	gDi¥Ïy
::
	$d¿wCh¬
(
št8_t
 
x
, iÁ8_ˆ
y
, 
c
, 
ušt8_t
 
size
) {

1972 
	`´št_ch¬
(
x
,
y
,
c
);

1974 
	}
}

1977 
boŞ
 
	gDi¥Ïy
::
	$isDœeùPrštšgEÇbËd
() {

1978  
m_mode
;

1979 
	}
}

1981 
	gDi¥Ïy
::
	$’abËDœeùPrštšg
(
ušt8_t
 
m
) {

1982 ià(
m
) {

1983 
m_mode
=
Œue
;

1984 
m_w
 = 
POK_LCD_W
;

1985 
m_h
 = 
POK_LCD_H
;

1987 
m_mode
=
çl£
;

1988 
m_w
 = 
	`g‘Width
();

1989 
m_h
 = 
	`g‘Height
();

1991 
	}
}

1993 
	gDi¥Ïy
::
	$wr™e
(
ušt8_t
 
c
) {

1994 
ch¬¡•
=0;

1995 if(
fÚt
[3]) {

1997 ià(
c
>=97) c-=32;

1999 
c
) {

2003 
cursÜX
 = 0;

2004 
	`šc_txše
();

2007 
cursÜX
 -ğ
fÚt
[0];

2008 
ch¬¡•
=
	`´št_ch¬
(
cursÜX
,
cursÜY
,' ');

2011 
cursÜX
 = 0;

2017 ià(
cursÜX
 >ğ(
m_w
 - 
fÚt
[0])) {

2018 
cursÜX
 = 0;

2019 ià(
‹xtW¿p
è
	`šc_txše
();

2021 
ch¬¡•
=
	`´št_ch¬
(
cursÜX
,
cursÜY
,
c
);

2024 
ch¬¡•
=
	`´št_ch¬
(
cursÜX
,
cursÜY
,
c
);

2025 ià(
c
==' ' && 
adju¡Ch¬S‹p
è
ch¬¡•
=(charstep>>1)+1;

2026 
cursÜX
 +ğ
ch¬¡•
;

2028 
	}
}

2030 
	gDi¥Ïy
::
	$šc_txše
() {

2031 ià(
cursÜY
 > 
m_h
 - 2*
fÚt
[1])

2032 #ià
SCROLL_TEXT
 > 0

2033 
	`süŞl
(
fÚt
[1] + 
adju¡LšeS‹p
);

2035 
cursÜY
 = 0;

2038 
cursÜY
 +ğ
fÚt
[1] + 
adju¡LšeS‹p
;

2039 
	}
}

2042 
	gDi¥Ïy
::
	$wr™e
(cÚ¡ *
¡r
)

2044 *
¡r
)

2045 
	`wr™e
(*
¡r
++);

2046 
	}
}

2049 
	gDi¥Ïy
::
	$wr™e
(cÚ¡ 
ušt8_t
 *
bufãr
, ušt8_ˆ
size
)

2051 
size
--)

2052 
	`wr™e
(*
bufãr
++);

2053 
	}
}

2055 
	gDi¥Ïy
::
	$´št
(cÚ¡ 
¡r
[])

2057 
	`wr™e
(
¡r
);

2058 
	}
}

2060 
	gDi¥Ïy
::
	$´št
(
c
, 
ba£
)

2062 
	`´št
((è
c
, 
ba£
);

2063 
	}
}

2065 
	gDi¥Ïy
::
	$´št
(
b
, 
ba£
)

2067 
	`´št
((è
b
, 
ba£
);

2068 
	}
}

2070 
	gDi¥Ïy
::
	$´št
(
n
, 
ba£
)

2072 
	`´št
((è
n
, 
ba£
);

2073 
	}
}

2075 
	gDi¥Ïy
::
	$´št
(
n
, 
ba£
)

2077 
	`´št
((è
n
, 
ba£
);

2078 
	}
}

2080 
	gDi¥Ïy
::
	$´št
(
n
, 
ba£
)

2082 ià(
ba£
 == 0) {

2083 
	`wr™e
(
n
);

2084 } ià(
ba£
 == 10) {

2085 ià(
n
 < 0) {

2086 
	`´št
('-');

2087 
n
 = -n;

2089 
	`´štNumb”
(
n
, 10);

2091 
	`´štNumb”
(
n
, 
ba£
);

2093 
	}
}

2095 
	gDi¥Ïy
::
	$´št
(
n
, 
ba£
)

2097 ià(
ba£
 =ğ0è
	`wr™e
(
n
);

2098 
	`´štNumb”
(
n
, 
ba£
);

2099 
	}
}

2101 
	gDi¥Ïy
::
	$´št
(
n
, 
dig™s
)

2103 
	`´štFlßt
(
n
, 
dig™s
);

2104 
	}
}

2106 
	gDi¥Ïy
::
	$´šn
()

2108 
	`´št
('\r');

2109 
	`´št
('\n');

2110 
	}
}

2112 
	gDi¥Ïy
::
	$´šn
(cÚ¡ 
c
[])

2114 
	`´št
(
c
);

2115 
	`´šn
();

2116 
	}
}

2118 
	gDi¥Ïy
::
	$´šn
(
c
, 
ba£
)

2120 
	`´št
(
c
, 
ba£
);

2121 
	`´šn
();

2122 
	}
}

2124 
	gDi¥Ïy
::
	$´šn
(
b
, 
ba£
)

2126 
	`´št
(
b
, 
ba£
);

2127 
	`´šn
();

2128 
	}
}

2130 
	gDi¥Ïy
::
	$´šn
(
n
, 
ba£
)

2132 
	`´št
(
n
, 
ba£
);

2133 
	`´šn
();

2134 
	}
}

2136 
	gDi¥Ïy
::
	$´šn
(
n
, 
ba£
)

2138 
	`´št
(
n
, 
ba£
);

2139 
	`´šn
();

2140 
	}
}

2142 
	gDi¥Ïy
::
	$´šn
(
n
, 
ba£
)

2144 
	`´št
(
n
, 
ba£
);

2145 
	`´šn
();

2146 
	}
}

2148 
	gDi¥Ïy
::
	$´šn
(
n
, 
ba£
)

2150 
	`´št
(
n
, 
ba£
);

2151 
	`´šn
();

2152 
	}
}

2154 
	gDi¥Ïy
::
	$´šn
(
n
, 
dig™s
)

2156 
	`´št
(
n
, 
dig™s
);

2157 
	`´šn
();

2158 
	}
}

2160 
	gDi¥Ïy
::
	$£t_cursÜ
(
ušt8_t
 
x
, ušt8_ˆ
y
) {

2161 
cursÜX
 = 
x
;

2162 
cursÜY
 = 
y
;

2163 
	}
}

2165 
	gDi¥Ïy
::
	$´št
(
ušt8_t
 
x
, ušt8_ˆ
y
, cÚ¡ 
¡r
[]) {

2166 
cursÜX
 = 
x
;

2167 
cursÜY
 = 
y
;

2168 
	`wr™e
(
¡r
);

2170 
	}
}

2171 
	gDi¥Ïy
::
	$´št
(
ušt8_t
 
x
, ušt8_ˆ
y
, 
c
, 
ba£
) {

2172 
cursÜX
 = 
x
;

2173 
cursÜY
 = 
y
;

2174 
	`´št
((è
c
, 
ba£
);

2175 
	}
}

2176 
	gDi¥Ïy
::
	$´št
(
ušt8_t
 
x
, ušt8_ˆ
y
, 
b
, 
ba£
) {

2177 
cursÜX
 = 
x
;

2178 
cursÜY
 = 
y
;

2179 
	`´št
((è
b
, 
ba£
);

2180 
	}
}

2181 
	gDi¥Ïy
::
	$´št
(
ušt8_t
 
x
, ušt8_ˆ
y
, 
n
, 
ba£
) {

2182 
cursÜX
 = 
x
;

2183 
cursÜY
 = 
y
;

2184 
	`´št
((è
n
, 
ba£
);

2185 
	}
}

2186 
	gDi¥Ïy
::
	$´št
(
ušt8_t
 
x
, ušt8_ˆ
y
, 
n
, 
ba£
) {

2187 
cursÜX
 = 
x
;

2188 
cursÜY
 = 
y
;

2189 
	`´št
((è
n
, 
ba£
);

2190 
	}
}

2191 
	gDi¥Ïy
::
	$´št
(
ušt8_t
 
x
, ušt8_ˆ
y
, 
n
, 
ba£
) {

2192 
cursÜX
 = 
x
;

2193 
cursÜY
 = 
y
;

2194 
	`´št
(
n
,
ba£
);

2195 
	}
}

2196 
	gDi¥Ïy
::
	$´št
(
ušt8_t
 
x
, ušt8_ˆ
y
, 
n
, 
ba£
) {

2197 
cursÜX
 = 
x
;

2198 
cursÜY
 = 
y
;

2199 
	`´št
(
n
,
ba£
);

2200 
	}
}

2201 
	gDi¥Ïy
::
	$´št
(
ušt8_t
 
x
, ušt8_ˆ
y
, 
n
, 
dig™s
) {

2202 
cursÜX
 = 
x
;

2203 
cursÜY
 = 
y
;

2204 
	`´št
(
n
,
dig™s
);

2205 
	}
}

2207 
	gDi¥Ïy
::
	$´šn
(
ušt8_t
 
x
, ušt8_ˆ
y
, cÚ¡ 
c
[])

2209 
cursÜX
 = 
x
;

2210 
cursÜY
 = 
y
;

2211 
	`´št
(
c
);

2212 
	`´šn
();

2213 
	}
}

2215 
	gDi¥Ïy
::
	$´šn
(
ušt8_t
 
x
, ušt8_ˆ
y
, 
c
, 
ba£
)

2217 
cursÜX
 = 
x
;

2218 
cursÜY
 = 
y
;

2219 
	`´št
(
c
, 
ba£
);

2220 
	`´šn
();

2221 
	}
}

2223 
	gDi¥Ïy
::
	$´šn
(
ušt8_t
 
x
, ušt8_ˆ
y
, 
b
, 
ba£
)

2225 
cursÜX
 = 
x
;

2226 
cursÜY
 = 
y
;

2227 
	`´št
(
b
, 
ba£
);

2228 
	`´šn
();

2229 
	}
}

2231 
	gDi¥Ïy
::
	$´šn
(
ušt8_t
 
x
, ušt8_ˆ
y
, 
n
, 
ba£
)

2233 
cursÜX
 = 
x
;

2234 
cursÜY
 = 
y
;

2235 
	`´št
(
n
, 
ba£
);

2236 
	`´šn
();

2237 
	}
}

2239 
	gDi¥Ïy
::
	$´šn
(
ušt8_t
 
x
, ušt8_ˆ
y
, 
n
, 
ba£
)

2241 
cursÜX
 = 
x
;

2242 
cursÜY
 = 
y
;

2243 
	`´št
(
n
, 
ba£
);

2244 
	`´šn
();

2245 
	}
}

2247 
	gDi¥Ïy
::
	$´šn
(
ušt8_t
 
x
, ušt8_ˆ
y
, 
n
, 
ba£
)

2249 
cursÜX
 = 
x
;

2250 
cursÜY
 = 
y
;

2251 
	`´št
(
n
, 
ba£
);

2252 
	`´šn
();

2253 
	}
}

2255 
	gDi¥Ïy
::
	$´šn
(
ušt8_t
 
x
, ušt8_ˆ
y
, 
n
, 
ba£
)

2257 
cursÜX
 = 
x
;

2258 
cursÜY
 = 
y
;

2259 
	`´št
(
n
, 
ba£
);

2260 
	`´šn
();

2261 
	}
}

2263 
	gDi¥Ïy
::
	$´šn
(
ušt8_t
 
x
, ušt8_ˆ
y
, 
n
, 
dig™s
)

2265 
cursÜX
 = 
x
;

2266 
cursÜY
 = 
y
;

2267 
	`´št
(
n
, 
dig™s
);

2268 
	`´šn
();

2269 
	}
}

2271 
	gDi¥Ïy
::
	$´štNumb”
(
n
, 
ušt8_t
 
ba£
)

2273 
buf
[8 * ()];

2274 
i
 = 0;

2276 ià(
n
 == 0) {

2277 
	`´št
('0');

2281 
n
 > 0) {

2282 
buf
[
i
++] = 
n
 % 
ba£
;

2283 
n
 /ğ
ba£
;

2286 ; 
i
 > 0; i--)

2287 
	`´št
((è(
buf
[
i
 - 1] < 10 ?

2288 '0' + 
buf
[
i
 - 1] :

2289 'A' + 
buf
[
i
 - 1] - 10));

2290 
	}
}

2292 
	gDi¥Ïy
::
	$´štFlßt
(
numb”
, 
ušt8_t
 
dig™s
)

2295 ià(
numb”
 < 0.0)

2297 
	`´št
('-');

2298 
numb”
 = -number;

2302 
roundšg
 = 0.5;

2303 
ušt8_t
 
i
=0; i<
dig™s
; ++i)

2304 
roundšg
 /= 10.0;

2306 
numb”
 +ğ
roundšg
;

2309 
št_·¹
 = ()
numb”
;

2310 
»mašd”
 = 
numb”
 - ()
št_·¹
;

2311 
	`´št
(
št_·¹
);

2314 ià(
dig™s
 > 0)

2315 
	`´št
(".");

2318 
dig™s
-- > 0)

2320 
»mašd”
 *= 10.0;

2321 
toPršt
 = (
»mašd”
);

2322 
	`´št
(
toPršt
);

2323 
»mašd”
 -ğ
toPršt
;

2325 
	}
}

2327 
	gDi¥Ïy
::
	$d¿w4B™CŞumn
(
št16_t
 
x
, iÁ16_ˆ
y
, 
ušt8_t
 
h
, ušt8_t* 
b™m­
)

2329 
št8_t
 
süy
;

2330 
ušt8_t
* 
sü±r
 = 
m_sübuf
 + (
y
*(
width
>>1è+ (
x
>>1));

2334 ià((
x
&1)==0) {

2335 
süy
 = 
y
; süy < 
h
+y; scry++) {

2336 
ušt8_t
 
sourûpix–
 = *
b™m­
;

2337 
ušt8_t
 
rg‘pix–
 = *
sü±r
;

2338 
rg‘pix–
 = (rg‘pix–&0x0Fè| (
sourûpix–
 << 4);

2339 *
sü±r
 = 
rg‘pix–
;

2340 
b™m­
++;

2341 
sü±r
+=55;

2344 
süy
 = 
y
; süy < 
h
+y; scry++) {

2345 
ušt8_t
 
sourûpix–
 = *
b™m­
;

2346 
ušt8_t
 
rg‘pix–
 = *
sü±r
;

2348 
rg‘pix–
 = (rg‘pix– & 0xF0è| (
sourûpix–
);

2349 *
sü±r
 = 
rg‘pix–
;

2350 
sü±r
+=55;

2351 
b™m­
++;

2354 
	}
}

2368 
	gDi¥Ïy
::
	$£tS´™eB™m­
(
ušt8_t
 
šdex
, cÚ¡ ušt8_t* 
b™m­
, cÚ¡ 
ušt16_t
* 
·Ë‰e4x16b™
, 
št16_t
 
x
, iÁ16_ˆ
y
, 
boŞ
 
doRe£tDœtyReù
 ) {

2370 
	`£tS´™e
(
šdex
, &(
b™m­
[2]), 
·Ë‰e4x16b™
, 
x
, 
y
, b™m­[0], b™m­[1], 
doRe£tDœtyReù
);

2371 
	}
}

2386 
	gDi¥Ïy
::
	$£tS´™e
(
ušt8_t
 
šdex
, cÚ¡ ušt8_t* 
d©a
, cÚ¡ 
ušt16_t
* 
·Ë‰e4x16b™
, 
št16_t
 
x
, iÁ16_ˆ
y
, ušt8_ˆ
w
, ušt8_ˆ
h
, 
boŞ
 
doRe£tDœtyReù
 ) {

2388 if(
šdex
 >ğ
SPRITE_COUNT
) ;

2389 
m_¥r™es
[
šdex
].
b™m­D©a
 = 
d©a
;

2390 
m_¥r™es
[
šdex
].
x
 = x;

2391 
m_¥r™es
[
šdex
].
y
 = y;

2392 ià(
doRe£tDœtyReù
) {

2393 
m_¥r™es
[
šdex
].
Şdx
 = 
x
;

2394 
m_¥r™es
[
šdex
].
Şdy
 = 
y
;

2396 
m_¥r™es
[
šdex
].
w
 = w;

2397 
m_¥r™es
[
šdex
].
h
 = h;

2398 ifĞ
·Ë‰e4x16b™
 ) 
	`memıy
(
m_¥r™es
[
šdex
].
·Ë‰e
,…alette4x16bit, 4*2);

2399 
	}
}

2407 
	gDi¥Ïy
::
	$£tS´™ePos
(
ušt8_t
 
šdex
, 
št16_t
 
x
, iÁ16_ˆ
y
) {

2409 if(
šdex
 >ğ
SPRITE_COUNT
) ;

2410 
m_¥r™es
[
šdex
].
x
 = x;

2411 
m_¥r™es
[
šdex
].
y
 = y;

2412 
	}
}

2414 
	gDi¥Ïy
::
	$lcdReäesh
(* 
sü
, 
boŞ
 
u£DœeùD¿wMode
) {

2416 #ià
POK_SCREENMODE
 =ğ
MODE_HI_4COLOR


2418 ià(
m_¥r™es
[0].
b™m­D©a
 !ğ
NULL
)

2419 
	`lcdReäeshMode1S´
(
sü
, 0, 0, 
LCDWIDTH
, 
LCDHEIGHT
, 
·Ë‰•Œ
, 
m_¥r™es
, 
u£DœeùD¿wMode
);

2420 ià(!
u£DœeùD¿wMode
)

2421 
	`lcdReäeshMode1
(
m_sübuf
, 0, 0, 
LCDWIDTH
, 
LCDHEIGHT
, 
·Ë‰•Œ
);

2425 ià(
u£DœeùD¿wMode
) ;

2426 #ià
POK_SCREENMODE
 =ğ
MODE13


2427 
	`lcdReäeshMode13
(
m_sübuf
, 
·Ë‰•Œ
, 
·lOff£t
);

2430 #ià
POK_SCREENMODE
 =ğ
MODE_GAMEBOY


2431 
	`lcdReäeshModeGBC
(
sü
, 
·Ë‰•Œ
);

2434 #ià
POK_SCREENMODE
 =ğ
MODE_FAST_16COLOR


2435 
	`lcdReäeshMode2
(
sü
, 
·Ë‰•Œ
);

2438 #ià
POK_SCREENMODE
 =ğ
MODE_GAMEBUINO_16COLOR


2439 
	`lcdReäeshGB
(
sü
, 
·Ë‰•Œ
);

2442 #ià
POK_SCREENMODE
 =ğ
MODE_ARDUBOY_16COLOR


2443 
	`lcdReäeshAB
(
sü
, 
·Ë‰•Œ
);

2446 
	}
}

2448 
	gDi¥Ïy
::
	$£tF¿meBufãrTo
(
ušt8_t
* 
sb
) {

2449 
m_sübuf
 = 
sb
;

2450 
	}
};

2452 
	gDi¥Ïy
::
	$£tTeBufãrTo
(
ušt8_t
* 
tb
) {

2453 
m_tebuf
 = 
tb
;

2454 
	}
};

2456 
	gDi¥Ïy
::
	$lßdTe£t
(cÚ¡ 
ušt8_t
* 
ts
) {

2457 
m_te£t
 = (
ušt8_t
*è
ts
;

2458 
	}
};

2460 
	gDi¥Ïy
::
	$£tTe
(
ušt16_t
 
i
, 
ušt8_t
 
t
) {

2461 ià(!
m_tebuf
) ;

2462 
m_tebuf
[
i
]=
t
;

2463 
	}
};

2466 * 
	$™ß_hex
(
num
, * 
de¡
, 
de¡L’
) {

2467 
i
 = 
de¡L’
-1;

2469 
c
 = (
num
 % 16) + '0';

2470 ià(
c
 > '9') c += 7;

2471 
de¡
[
i
--] = 
c
;

2472 
num
 /= 16;

2473 } 
num
 && 
i
 >= 0);

2474  &(
de¡
[
i
+1]);

2475 
	}
}

2478 
	$ShowC¿shSü“nAndWa™
ĞcÚ¡ * 
‹xLše1
, cÚ¡ * 
‹xLše2
, cÚ¡ * 
‹xLše3
, cÚ¡ * 
‹xLše4
, cÚ¡ * 
‹xLše5
 ) {

2481 
	`lcdFlSurçû
(
COLOR_RED
);

2484 
Di¥Ïy
::
dœeùcŞÜ
 = 
COLOR_WHITE
;

2485 
Di¥Ïy
::
švisibËcŞÜ
 = 
COLOR_RED
;

2486 
Di¥Ïy
::
dœeùbgcŞÜ
 = 
COLOR_RED
;

2487 
Di¥Ïy
::
dœeù‹xŒÙ©ed
 = 
çl£
;

2488 
Di¥Ïy
::
adju¡Ch¬S‹p
 = 0;

2489 
Di¥Ïy
::
adju¡LšeS‹p
 = 0;

2490 
Di¥Ïy
::
	`£tFÚt
(
âtC64UIGfx
);

2491 
Di¥Ïy
::
fixedWidthFÚt
 = 
Œue
;

2492 
Di¥Ïy
::
	`’abËDœeùPrštšg
(
Œue
);

2495 
yOff£tInPix–s
 = 5;

2496 
Di¥Ïy
::
	`£t_cursÜ
(0, 9 + 
yOff£tInPix–s
);

2497 
Di¥Ïy
::
	`´št
(" "); Di¥Ïy::
	`´šn
(
‹xLše1
);

2498 
Di¥Ïy
::
	`´št
(" "); Di¥Ïy::
	`´šn
(
‹xLše2
);

2499 
Di¥Ïy
::
	`´št
(" "); Di¥Ïy::
	`´šn
(
‹xLše3
);

2500 
Di¥Ïy
::
	`´šn
();

2501 
Di¥Ïy
::
	`´št
(" *"); Di¥Ïy::
	`´šn
(
‹xLše4
);

2502 
Di¥Ïy
::
	`´št
(" *"); Di¥Ïy::
	`´šn
(
‹xLše5
);

2504 
Di¥Ïy
::
	`£t_cursÜ
(0, 0 + 
yOff£tInPix–s
);

2507 
Di¥Ïy
::
	`´šn
("‡bbbbbbbbbbbbbbbbbbbbbbbbc");

2508 
Di¥Ïy
::
	`´št
 (" |"); Di¥Ïy::
	`´šn
(26*8, Di¥Ïy::
cursÜY
,"|");

2509 
Di¥Ïy
::
	`´št
 (" |"); Di¥Ïy::
	`´šn
(26*8, Di¥Ïy::
cursÜY
,"|");

2510 
Di¥Ïy
::
	`´št
 (" |"); Di¥Ïy::
	`´šn
(26*8, Di¥Ïy::
cursÜY
,"|");

2511 
Di¥Ïy
::
	`´št
 (" |"); Di¥Ïy::
	`´šn
(26*8, Di¥Ïy::
cursÜY
,"|");

2512 
Di¥Ïy
::
	`´št
 (" |"); Di¥Ïy::
	`´šn
(26*8, Di¥Ïy::
cursÜY
,"|");

2513 
Di¥Ïy
::
	`´št
 (" |"); Di¥Ïy::
	`´šn
(26*8, Di¥Ïy::
cursÜY
,"|");

2514 
Di¥Ïy
::
	`´šn
(" dbbbzybbbbbbbbbbbbbbbbbbbe");

2515 
Di¥Ïy
::
	`´šn
(" {e");

2518 
Di¥Ïy
::
	`´šn
 ("");

2519 
Di¥Ïy
::
	`´šn
 (" ijkl");

2520 
Di¥Ïy
::
	`´šn
 (" mnop");

2521 
Di¥Ïy
::
	`´šn
 (" qrst");

2522 
Di¥Ïy
::
	`´šn
 (" uvwx");

2526 
	}
}

2529 
	$CheckSck
() {

2530 #iâdeà
POK_SIM


2531 
cu¼SckTİ
;

2532 cÚ¡ 
ä“SckTh»shŞd
 = 400;

2533 ià(()&
cu¼SckTİ
 - ()
_ebss
 < 
ä“SckTh»shŞd
) {

2536 cÚ¡ 
šfoSŒšgL’
 = 8+1+8;

2537 
šfoSŒšg
[
šfoSŒšgL’
+1];

2538 
	`mem£t
(
šfoSŒšg
,0,
šfoSŒšgL’
+1);

2539 cÚ¡ 
¡ackSize
 = ()
_vSckTİ
 - ()&
cu¼SckTİ
;

2540 cÚ¡ 
tmpSŒL’
 = 8;

2541 
tmpSŒ
[
tmpSŒL’
+1];

2542 
	`mem£t
(
tmpSŒ
,0,
tmpSŒL’
+1);

2543 * 
subSŒ
 = 
	`™ß_hex
(
¡ackSize
, 
tmpSŒ
, 
tmpSŒL’
);

2544 
	`¡rÿt
(
šfoSŒšg
, 
subSŒ
);

2545 
	`¡rÿt
(
šfoSŒšg
, ":");

2546 
subSŒ
 = 
	`™ß_hex
(()&
cu¼SckTİ
, 
tmpSŒ
, 
tmpSŒL’
);

2547 
	`¡rÿt
(
šfoSŒšg
, 
subSŒ
);

2550 cÚ¡ * 
‹xLše1
 = "OOPS! PLEASE, RESTART";

2551 cÚ¡ * 
‹xLše2
 = "POKITTO OR RELOAD";

2552 cÚ¡ * 
‹xLše3
 = "SOFTWARE.";

2553 cÚ¡ * 
‹xLše4
 = "STACK TOO BIG!";

2554 
	`ShowC¿shSü“nAndWa™
(
‹xLše1
, 
‹xLše2
, 
‹xLše3
, 
‹xLše4
, 
šfoSŒšg
);

2557 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoDisplay.h

68 #iâdeà
POKITTODISPLAY_H


69 
	#POKITTODISPLAY_H


	)

71 
	~<¡dšt.h
>

72 
	~"Pok™to_£‰šgs.h
"

73 
	~"Pok™toGlobs.h
"

74 
	~"Pok™toFÚts.h
"

75 
	~"Pok™toP®‘‹s.h
"

78 
	#COLOR_BLACK
 (
ušt16_t
)(0x0000)

	)

79 
	#COLOR_BLUE
 (
ušt16_t
)(0x001F)

	)

80 
	#COLOR_RED
 (
ušt16_t
)(0xF800)

	)

81 
	#COLOR_GREEN
 (
ušt16_t
)(0x07E0)

	)

82 
	#COLOR_CYAN
 (
ušt16_t
)(0x07FF)

	)

83 
	#COLOR_MAGENTA
 (
ušt16_t
)(0xF81F)

	)

84 
	#COLOR_YELLOW
 (
ušt16_t
)(0xFFE0)

	)

85 
	#COLOR_WHITE
 (
ušt16_t
)(0xFFFF)

	)

88 
	#COLOR_GRAY_15
 (
ušt16_t
)(0x0861)

89 
	#COLOR_GRAY_30
 (
ušt16_t
)(0x18E3)

90 
	#COLOR_GRAY_50
 (
ušt16_t
)(0x3186)

91 
	#COLOR_GRAY_80
 (
ušt16_t
)(0x528A)

92 
	#COLOR_GRAY_128
 (
ušt16_t
)(0x8410)

93 
	#COLOR_GRAY_200
 (
ušt16_t
)(0xCE59)

94 
	#COLOR_GRAY_225
 (
ušt16_t
)(0xE71C)

95 

	)

98 
	edefcŞÜs
 {

99 
	mC_BLACK
,

100 
	mC_DARKBLUE
,

101 
	mC_PURPLE
,

102 
	mC_DARKGREEN
,

104 
	mC_BROWN
,

105 
	mC_DARKBROWN
,

106 
	mC_LIGHTGRAY
,

107 
	mC_WHITE
,

109 
	mC_RED
,

110 
	mC_ORANGE
,

111 
	mC_YELLOW
,

112 
	mC_GREEN
,

114 
	mC_BLUE
,

115 
	mC_DARKGRAY
,

116 
	mC_PINK
,

117 
	mC_PEACH


120 cÚ¡ 
ušt16_t
 
	gdef565·Ë‰e
[16] = {

128 
	#PALETTE_SIZE
 256

	)

129 
	~<¡dšt.h
>

130 
	~<¡dlib.h
>

131 
	~<¡ršg.h
>

134 
Çme¥aû
 
	gPok™to
 {

136 şas 
	cDi¥Ïy
 {

137 
	gpublic
:

138 
Di¥Ïy
();

141 
	g´iv©e
:

142 
ušt8_t
* 
ÿnvas
;

143 
ušt8_t
 
	gbµ
;

144 
ušt8_t
 
	gm_cŞÜd•th
;

145 
	gpublic
:

146 
ušt8_t
 
·lOff£t
;

147 
ušt8_t
 
	gwidth
;

148 
ušt8_t
 
	gheight
;

149 
ušt8_t
 
	gsü“nbufãr
[];

152 
£tCŞÜD•th
(
ušt8_t
);

153 
ušt8_t
 
g‘CŞÜD•th
();

154 
ušt8_t
 
g‘B™sP”Pix–
();

155 
ušt16_t
 
g‘Width
();

156 
ušt16_t
 
g‘Height
();

157 
ušt8_t
 
g‘Numb”OfCŞÜs
();

161 cÚ¡ * 
	gfÚt
;

163 
ušt8_t
 
	g³rsi¡’û
;

165 
ušt16_t
 
	gcŞÜ
;

167 
ušt16_t
 
	gbgcŞÜ
;

169 
ušt16_t
 
	gšvisibËcŞÜ
;

171 
ušt16_t
 
	gdœeùcŞÜ
;

173 
ušt16_t
 
	gdœeùbgcŞÜ
;

175 
boŞ
 
	gdœeù‹xŒÙ©ed
;

177 
št16_t
 
	gşX
;

178 
št16_t
 
	gşY
;

179 
št16_t
 
	gşW
;

180 
št16_t
 
	gşH
;

182 
£tCŞÜ
(
ušt8_t
);

184 
£tCŞÜ
(
ušt8_t
,uint8_t);

186 
£tInvisibËCŞÜ
(
ušt16_t
);

188 
ušt8_t
 
g‘CŞÜ
();

190 
ušt8_t
 
g‘BgCŞÜ
();

192 
ušt16_t
 
g‘InvisibËCŞÜ
();

194 
£tClReù
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
w
, iÁ16_ˆ
h
);

197 
begš
();

199 
ş—r
();

201 
süŞl
(
št16_t
);

203 
flSü“n
(
ušt16_t
);

205 
upd©e
(
boŞ
 
u£DœeùMode
=
çl£
, 
ušt8_t
 
updReùX
=0, ušt8_ˆ
updReùY
=0, ušt8_ˆ
updReùW
=
LCDWIDTH
, ušt8_ˆ
updReùH
=
LCDHEIGHT
);

207 
lcdReäesh
(*, 
boŞ
 
u£DœeùMode
=
çl£
);

209 
ş—rLCD
();

211 
flLCD
(
ušt16_t
);

213 
showLogo
();

215 
£tF¿meBufãrTo
(
ušt8_t
*);

218 
	gpublic
:

220 
£tDeçuÉP®‘‹
();

222 
ušt16_t
 
	g·Ë‰e
[
PALETTE_SIZE
];

224 
ušt16_t
 *
	g·Ë‰•Œ
;

226 
ušt16_t
 
RGBto565
(
ušt8_t
,uint8_t,uint8_t);

228 
ušt16_t
 
š‹½Ş©eCŞÜ
(ušt16_t, ušt16_t, 
ušt8_t
);

230 
lßdRGBP®‘‹
(const *);

232 
lßd565P®‘‹
(cÚ¡ 
ušt16_t
*);

234 
rÙ©eP®‘‹
(
št8_t
);

236 
tw“nP®‘‹
(
ušt16_t
*, cÚ¡ ušt16_t*, cÚ¡ ušt16_t*, 
ušt8_t
);

240 
dœeùPix–
(
št16_t
,št16_t,
ušt16_t
);

242 
dœeùTe
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
x2
, iÁ16_ˆ
y2
, 
ušt16_t
* 
gfx
);

244 
dœeùReùªgË
(
št16_t
, iÁ16_t,št16_t, iÁ16_t, 
ušt16_t
);

246 
£tCursÜ
(
št16_t
,int16_t);

248 
dœeùB™m­
(
št16_t
,št16_t,cÚ¡ 
ušt8_t
*, uint8_t,uint8_t);

253 
d¿wPix–
(
št16_t
,int16_t);

255 
d¿wPix–
(
št16_t
 
x
,št16_ˆ
y
, 
ušt8_t
 
cŞ
);

257 
ušt8_t
 
g‘Pix–
(
št16_t
,int16_t);

259 
d¿wLše
(
št16_t
,int16_t,int16_t,int16_t);

261 
ušt8_t
 
şLše
(
št16_t
*, int16_t*, int16_t*, int16_t*);

263 
d¿wCŞumn
(
št16_t
, int16_t, int16_t);

265 
m­1B™CŞumn
(
št16_t
, iÁ16_t, iÁ16_t, cÚ¡ 
ušt8_t
*, 
ušt16_t
);

267 
d¿wRow
(
št16_t
, int16_t, int16_t);

269 
d¿wFa¡VLše
(
št16_t
, int16_t, int16_t);

271 
d¿wFa¡HLše
(
št16_t
, int16_t, int16_t);

273 
d¿wReùªgË
(
št16_t
,int16_t,int16_t,int16_t);

275 
flReùªgË
(
št16_t
,int16_t,int16_t,int16_t);

277 
flReù
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
w
, iÁ16_ˆ
h
);

279 
d¿wReù
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
w
, iÁ16_ˆ
h
);

283 
d¿wCœşe
(
št16_t
 
x0
, iÁ16_ˆ
y0
, iÁ16_ˆ
r
);

285 
d¿wCœşeH–³r
(
št16_t
 
x0
, iÁ16_ˆ
y0
, iÁ16_ˆ
r
, 
ušt16_t
 
cÜÃºame
);

287 
flCœşe
(
št16_t
 
x0
, iÁ16_ˆ
y0
, iÁ16_ˆ
r
);

289 
flCœşeH–³r
(
št16_t
 
x0
, iÁ16_ˆ
y0
, iÁ16_ˆ
r
, 
ušt16_t
 
cÜÃºame
, iÁ16_ˆ
d–
);

291 
d¿wTrŸngË
(
št16_t
 
x0
, iÁ16_ˆ
y0
, iÁ16_ˆ
x1
, iÁ16_ˆ
y1
, iÁ16_ˆ
x2
, iÁ16_ˆ
y2
);

293 
flTrŸngË
(
št16_t
 
x0
, iÁ16_ˆ
y0
, iÁ16_ˆ
x1
, iÁ16_ˆ
y1
, iÁ16_ˆ
x2
, iÁ16_ˆ
y2
);

295 
d¿wRoundReù
(
št16_t
 
x0
, iÁ16_ˆ
y0
, iÁ16_ˆ
w
, iÁ16_ˆ
h
, iÁ16_ˆ
¿dius
);

297 
flRoundReù
(
št16_t
 
x0
, iÁ16_ˆ
y0
, iÁ16_ˆ
w
, iÁ16_ˆ
h
, iÁ16_ˆ
¿dius
);

301 
d¿wMÚoB™m­
(
št16_t
 
x
, iÁ16_ˆ
y
, cÚ¡ 
ušt8_t
* 
b™m­
, ušt8_ˆ
šdex
);

303 
d¿wB™m­D©a
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
w
, iÁ16_ˆ
h
, cÚ¡ 
ušt8_t
* 
b™m­
);

305 
d¿wB™m­
(
št16_t
 
x
, iÁ16_ˆ
y
, cÚ¡ 
ušt8_t
* 
b™m­
);

307 
d¿wRËB™m­
(
št16_t
 
x
, iÁ16_ˆ
y
, cÚ¡ 
ušt8_t
* 
b™m­
);

309 
d¿wB™m­
(
št16_t
 
x
, iÁ16_ˆ
y
, cÚ¡ 
ušt8_t
* 
b™m­
, ušt8_ˆ
äame
);

311 
d¿wB™m­XFl³d
(
št16_t
 
x
, iÁ16_ˆ
y
, cÚ¡ 
ušt8_t
* 
b™m­
);

313 
d¿wB™m­
(
št16_t
 
x
, iÁ16_ˆ
y
, cÚ¡ 
ušt8_t
 *
b™m­
, ušt8_ˆ
rÙ©iÚ
, ušt8_ˆ
æ
);

315 
ušt8_t
* 
g‘Bufãr
();

317 
ušt8_t
 
g‘B™m­Pix–
(cÚ¡ ušt8_t*, 
ušt16_t
, uint16_t);

319 
d¿w4B™CŞumn
(
št16_t
 
x
, iÁ16_ˆ
y
, 
ušt8_t
 
h
, ušt8_t* 
b™m­
);

323 
£tS´™eB™m­
(
ušt8_t
 
šdex
, cÚ¡ ušt8_t* 
b™m­
, cÚ¡ 
ušt16_t
* 
·Ë‰e4x16b™
, 
št16_t
 
x
, iÁ16_ˆ
y
, 
boŞ
 
doRe£tDœtyReù
=
Œue
 );

325 
£tS´™e
(
ušt8_t
 
šdex
, cÚ¡ ušt8_t* 
d©a
, cÚ¡ 
ušt16_t
* 
·Ë‰e4x16b™
, 
št16_t
 
x
, iÁ16_ˆ
y
, ušt8_ˆ
w
, ušt8_ˆ
h
, 
boŞ
 
doRe£tDœtyReù
=
Œue
 );

327 
£tS´™ePos
(
ušt8_t
 
šdex
, 
št16_t
 
x
, iÁ16_ˆ
y
);

331 
dœeùCh¬
(
št16_t
, iÁ16_t, 
ušt16_t
);

333 
bufãrCh¬
(
št16_t
, iÁ16_t, 
ušt16_t
);

335 
£tFÚt
(cÚ¡ * 
f
);

337 
ušt8_t
 
	gfÚtWidth
, 
	gfÚtHeight
;

339 
boŞ
 
	g‹xtW¿p
;

341 
d¿wCh¬
(
št8_t
 
x
, iÁ8_ˆ
y
, 
c
, 
ušt8_t
 
size
);

343 
’abËDœeùPrštšg
(
ušt8_t
 
m
);

344 
boŞ
 
isDœeùPrštšgEÇbËd
();

345 
´št_ch¬
(
ušt8_t
 
x
, ušt8_ˆ
y
, 
c
);

346 
£t_cursÜ
(
ušt8_t
, uint8_t);

347 
wr™e
(
ušt8_t
);

348 
wr™e
(cÚ¡ *
¡r
);

349 
wr™e
(cÚ¡ 
ušt8_t
 *
bufãr
, ušt8_ˆ
size
);

350 
´št
(const []);

351 
´št
(, 
ba£
 = 0);

352 
´št
(, 
ba£
 = 0);

353 
´št
(, 
ba£
 = 10);

354 
´št
(, 
ba£
 = 10);

355 
´št
(, 
ba£
 = 10);

356 
´št
(, 
ba£
 = 10);

357 
´št
(, 
ba£
 = 2);

358 
´št
(
ušt8_t
, uint8_t, const []);

359 
´št
(
ušt8_t
, uint8_t, , = 0);

360 
´št
(
ušt8_t
, uint8_t, , = 0);

361 
´št
(
ušt8_t
, uint8_t, , = 10);

362 
´št
(
ušt8_t
, uint8_t, , = 10);

363 
´št
(
ušt8_t
, uint8_t, , = 10);

364 
´št
(
ušt8_t
, uint8_t, , = 10);

365 
´št
(
ušt8_t
, uint8_t, , = 2);

366 
´šn
(
ušt8_t
, uint8_t, const []);

367 
´šn
(
ušt8_t
, uint8_t, , = 0);

368 
´šn
(
ušt8_t
, uint8_t, , = 0);

369 
´šn
(
ušt8_t
, uint8_t, , = 10);

370 
´šn
(
ušt8_t
, uint8_t, , = 10);

371 
´šn
(
ušt8_t
, uint8_t, , = 10);

372 
´šn
(
ušt8_t
, uint8_t, , = 10);

373 
´šn
(
ušt8_t
, uint8_t, , = 2);

374 
´šn
(
ušt8_t
, uint8_t);

375 
´šn
(const []);

376 
´šn
(, = 0);

377 
´šn
(, = 0);

378 
´šn
(, = 10);

379 
´šn
(, = 10);

380 
´šn
(, = 10 );

381 
´šn
(, = 10);

382 
´šn
(, = 2);

383 
´šn
();

385 
št16_t
 
	gcursÜX
,
	gcursÜY
;

386 
ušt8_t
 
	gfÚtSize
;

387 
št8_t
 
	gadju¡Ch¬S‹p
, 
	gadju¡LšeS‹p
;

388 
boŞ
 
	gfixedWidthFÚt
;

390 
šc_txše
();

391 
´štNumb”
(, 
ušt8_t
);

392 
´štFlßt
(, 
ušt8_t
);

396 
lßdTe£t
(cÚ¡ 
ušt8_t
*);

398 
£tTeBufãrTo
(
ušt8_t
*);

399 
ş—rTeBufãr
();

400 
shiáTeBufãr
(
št8_t
,int8_t);

402 
£tTe
(
ušt16_t
,
ušt8_t
);

403 
ušt8_t
 
g‘Te
(
ušt16_t
);

404 
ušt8_t
 
g‘Te
(uint8_t,uint8_t);

408 
	g´iv©e
:

409 
ušt8_t
 
m_mode
;

410 
ušt16_t
 
	gm_w
,
	gm_h
;

412 
ušt8_t
* 
	gm_sübuf
;

414 
ušt8_t
* 
	gm_te£t
;

416 
ušt8_t
* 
	gm_tebuf
;

418 
ušt8_t
* 
	gm_tecŞÜbuf
;

420 
S´™eInfo
 
	gm_¥r™es
[
SPRITE_COUNT
];

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoFakeavr.h

37 #iâdeà
_POKITTO_FAKEAVR_H_


38 
	#_POKITTO_FAKEAVR_H_


	)

40 
	~"Pok™toItß.h
"

41 
	~"bš¬y.h
"

42 
	~<¡dšt.h
>

43 
	~<¡dlib.h
>

45 #ifdeà
POK_SIM


46 
	~<¡dboŞ.h
>

48 
	~<¡dboŞ.h
>

51 
	#_BV
(
b™
) (1 << (bit))

52 

	)

54 #iâdeà
_RPCNDR_H


55 
boŞ
 
	tboŞ—n
;

57 
ušt8_t
 
	tby‹
;

60 
	#PROGMEM


	)

64 
	#¥rštf_P
 
¥rštf


	)

65 
	#¡r¡r_P
 
¡r¡r


	)

66 
	#¡rıy_P
 
¡rıy


	)

68 
	#utß
 
pokItß


	)

69 
	#uÉß
 
pokItß


	)

72 
	#PROGMEM


	)

73 
	#pgm_»ad_by‹
(
addr
è(*(cÚ¡ *)×ddr))

	)

74 #iâdeà
WIN32


75 
	#pgm_»ad_wÜd
(
addr
è(*×ddr))

	)

77 
	#pgm_»ad_wÜd
(
addr
è(*(cÚ¡ *)×ddr))

	)

83 #iâdeà
DISABLEAVRMIN


84 
	#max
(
a
,
b
è(×)>(b)?×):(b))

	)

85 
	#mš
(
a
,
b
è(×)<(b)?×):(b))

	)

87 
	#__avrmax
(
a
,
b
è(×)>(b)?×):(b))

	)

88 
	#__avrmš
(
a
,
b
è(×)<(b)?×):(b))

	)

89 
	#cÚ¡¿š
(
amt
,
low
,
high
è(×mt)<Öow)?Öow):(×mt)>(high)?(high):×mt)))

	)

90 
	#mš2
(
a
,
b
è((×)<(b))?×):(b))

	)

94 #ifdeà
__ılu¥lus


98 
şi
();

99 
£i
();

101 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoFonts.h

37 #iâdeà
POK_FONTS_H


38 
	#POK_FONTS_H


	)

40 
	~"Pok™to_£‰šgs.h
"

42 cÚ¡ 
fÚtMši
[];

43 cÚ¡ 
fÚtDÚut
[];

44 cÚ¡ 
fÚtD¿gÚ
[];

45 cÚ¡ 
fÚtK¬©eka
[];

46 cÚ¡ 
fÚtKoub™
[];

47 cÚ¡ 
fÚtRuÃs
[];

48 cÚ¡ 
fÚtTight
[];

49 cÚ¡ 
fÚtTšy
[];

50 cÚ¡ 
fÚtAdv’tu»r
[];

51 cÚ¡ 
fÚt5x7
[];

52 cÚ¡ 
fÚt3x5
[];

53 cÚ¡ 
fÚt3x3
[];

54 cÚ¡ 
fÚtC64
[];

55 cÚ¡ 
âtC64UIGfx
[];

56 cÚ¡ 
fÚtZXS³c
[];

57 cÚ¡ 
fÚtTIC806x6
[];

58 cÚ¡ 
fÚtMÚkey
[];

60 #ià
POK_GAMEBUINO_SUPPORT
 > 0

61 
	#DEFAULT_FONT
 
fÚt3x5


	)

63 
	#DEFAULT_FONT
 
fÚt5x7


	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoGlobs.h

37 #iâdeà
POKITTO_GLOBS_H


38 
	#POKITTO_GLOBS_H


	)

40 
	~<¡dšt.h
>

42 #ifdeà
POK_SIM


43 
	~"SimLCD.h
"

44 
	~"SimSound.h
"

45 
	~"Pok™toSimuÏtÜ.h
"

47 
	~"mbed.h
"

48 
	~"HWLCD.h
"

49 
	~"HWSound.h
"

52 
¿ndom
();

53 
¿ndom
(,);

55 
	#HIGH
 1

	)

56 
	#LOW
 0

	)

58 
	#sw­WT
(
ty³
, 
a
, 
b
) \

60 
ty³
 
_t_
; \

61 
_t_
 = 
a
; \

62 
a
 = 
b
; \

63 
b
 = 
_t_
; \

64 }

	)

66 
	#SAMPLE_RATE
 
POK_AUD_FREQ


67 
	#NUMFRAMES
 570

68 

	)

71 
çkeISR
();

72 
audio_IRQ
();

73 
upd©e_SDAudioSŒ—m
();

74 
ušt16_t
 
soundby‹
;

76 #ià
POK_STREAMING_MUSIC


77 
	#SPEAKER
 3

	)

79 
bufãrs
[][
BUFFER_SIZE
];

80 vŞ©
cu¼’tBufãr
, 
ŞdBufãr
;

81 vŞ©
bufšdex
, 
vŞ
;

82 vŞ©* 
cu¼’tPŒ
;

83 vŞ©* 
’dPŒ
;

84 
št8_t
 
¡»amvŞ
;

85 
ušt32_t
 
¡»amcouÁ”
;

86 
ušt8_t
 
¡»am¡•
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoItoa.cpp

37 
	~"Pok™toItß.h
"

38 
	~<¡ršg.h
>

39 
	~<¡dšt.h
>

42 
	$pokItß
(
ušt16_t
 
v®ue
, *
¡r
, 
ba£
)

52 *
p
 = 
¡r
;

53 
ušt8_t
 
v
;

54 ià(
v®ue
 > 499)

56 ià(
v®ue
 > 799)

58 ià(
v®ue
 > 999)

62 *
p
++ = '1';

63 *
p
++ = '0';

64 
ušt8_t
 
v
 = 
v®ue
 - 1000;

66 ià(
v
 > 19è{ *
p
++ = '2'; v -= 20; }

67 ià(
v
 > 9è{ *
p
++ = '1'; v -= 10; }

68 { *
p
++ = '0'; }

70 *
p
++ = 
v
 + '0';

71 *
p
 = 0;

75 ià(
v®ue
 > 899è{ *
p
++ = '9'; 
v
 = value - 900; }

76 { *
p
++ = '8'; 
v
 = 
v®ue
 - 800; }

80 ià(
v®ue
 > 699è{ *
p
++ = '7'; 
v
 = value - 700; }

81 ià(
v®ue
 > 599è{ *
p
++ = '6'; 
v
 = value - 600; }

82 { *
p
++ = '5'; 
v
 = 
v®ue
 - 500; }

87 ià(
v®ue
 > 299)

89 ià(
v®ue
 > 399è{ *
p
++ = '4'; 
v
 = value - 400; }

90 { *
p
++ = '3'; 
v
 = 
v®ue
 - 300; }

94 ià(
v®ue
 > 199è{ *
p
++ = '2'; 
v
 = value - 200; }

95 ià(
v®ue
 > 99è{ *
p
++ = '1'; 
v
 = value - 100; }

96 { 
v
 = 
v®ue
; }

100 ià(
v
 > 49)

102 ià(
v
 > 69)

104 ià(
v
 > 89è{ *
p
++ = '9'; v -= 90; }

105 ià(
v
 > 79è{ *
p
++ = '8'; v -= 80; }

106 { *
p
++ = '7'; 
v
 -= 70; }

110 ià(
v
 > 59è{ *
p
++ = '6'; v -= 60; }

111 { *
p
++ = '5'; 
v
 -= 50; }

116 ià(
v
 > 19)

118 ià(
v
 > 39è{ *
p
++ = '4'; v -= 40; }

119 ià(
v
 > 29è{ *
p
++ = '3'; v -= 30; }

120 { *
p
++ = '2'; 
v
 -= 20; }

124 ià(
v
 > 9è{ *
p
++ = '1'; v -= 10; }

125 ià(
p
 !ğ
¡r
) { *p++ = '0'; }

129 *
p
++ = 
v
 + '0';

130 *
p
 = 0;

131 
	}
}

133 
	$pokUtß
(
ušt16_t
 
v®ue
, *
¡r
, 
ba£
) {

134 
	`pokItß
(
v®ue
,
¡r
,
ba£
);

135 
	}
}

137 
	$pokLtß
(
v®ue
, *
¡r
, 
ba£
) {

138 
	`pokItß
(
v®ue
,
¡r
,
ba£
);

139 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoItoa.h

38 #iâdeà
POKITTO_ITOA_H


39 
	#POKITTO_ITOA_H


	)

41 
	~<¡dšt.h
>

45 
pokItß
(
ušt16_t
, *,);

46 
pokUtß
(
št16_t
, *,);

47 
pokLtß
(, *,);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoLogos.cpp

38 
	~"Pok™toLogos.h
"

40 cÚ¡ 
ušt8_t
 
	gPok™to_¥—k”
[] = {

45 cÚ¡ 
ušt8_t
 
	gPok™to_h—dphÚes
[] = {

50 cÚ¡ 
ušt8_t
 
	gPok™to_vŞumeb¬
[] = {

55 cÚ¡ 
ušt8_t
 
	gPok™to_logo
[] = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoLogos.h

37 #iâdeà
POKITTO_LOGOS_H


38 
	#POKITTO_LOGOS_H


	)

40 
	~<¡dšt.h
>

42 cÚ¡ 
ušt8_t
 
Pok™to_logo
[];

43 cÚ¡ 
ušt8_t
 
Pok™to_h—dphÚes
[];

44 cÚ¡ 
ušt8_t
 
Pok™to_¥—k”
[];

45 cÚ¡ 
ušt8_t
 
Pok™to_vŞumeb¬
[];

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoPalette.cpp

37 
	~"Pok™toDi¥Ïy.h
"

38 
	~"Pok™to_£‰šgs.h
"

39 
	~"GBcom·tib™y.h
"

40 
	~<¡dio.h
>

41 
	~<¡ršg.h
>

43 #iâdeà
POK_SIM


44 
	~"HWLCD.h
"

46 
	~"SimLCD.h
"

49 
usšg
 
Çme¥aû
 
	gPok™to
;

52 
	gDi¥Ïy
::
	$lßdRGBP®‘‹
(cÚ¡ * 
p
) {

53 
i
=0;i<
PALETTE_SIZE
;i++è
·Ë‰e
[i] = 
	`RGBto565
(
p
[i*3],…[i*3+1],p[i*3+2]);

54 
·Ë‰•Œ
 = 
·Ë‰e
;

55 
	}
}

57 
	gDi¥Ïy
::
	$lßd565P®‘‹
(cÚ¡ 
ušt16_t
* 
p
) {

58 
i
=0;i<
PALETTE_SIZE
;i++è
·Ë‰e
[i] = 
p
[i];

59 
·Ë‰•Œ
 = 
·Ë‰e
;

60 
	}
}

62 
	gDi¥Ïy
::
	$rÙ©eP®‘‹
(
št8_t
 
¡•
) {

63 #iâdeà
PROJ_MODE13


64 
	#PALSIZE
 16

	)

66 
	#PALSIZE
 256

	)

68 
ušt16_t
 
®
[
PALSIZE
];

69 ià(
¡•
 == 0) ;

70 
¡•
 = 0-step;

71 ià(
¡•
>0) {

72 
i
=
¡•
;i<
PALSIZE
;i++è
®
[i]=
·Ë‰e
[i-step];

73 
i
=0; i < 
¡•
; i++è
®
[i]=
·Ë‰e
[
PALSIZE
-step+i];

75 
i
=0;i<
PALSIZE
+
¡•
;i++)

77 
®
[
i
]=
·Ë‰e
[i-
¡•
];

79 
i
=0;i<-
¡•
; i++) {

80 
®
[
PALSIZE
+
¡•
+
i
]=
·Ë‰e
[i];

84 
i
=0; i<
PALSIZE
;i++è
·Ë‰e
[i] = 
®
[i];

85 
	}
}

87 
ušt16_t
 
	gDi¥Ïy
::
	$RGBto565
(
ušt8_t
 
R
,ušt8_ˆ
G
,ušt8_ˆ
B
) {

88 
ušt16_t
 
cŞÜ
;

89 
cŞÜ
 = 
B
>>3;

90 
cŞÜ
 |ğ((
G
 >> 2) << 5);

91 
cŞÜ
 |ğ((
R
 >> 3) << 11);

92  
cŞÜ
;

93 
	}
}

95 
ušt16_t
 
	gDi¥Ïy
::
	$š‹½Ş©eCŞÜ
(
ušt16_t
 
c1
, ušt16_ˆ
c2
, 
ušt8_t
 
çùÜ
) {

96 
št16_t
 
R
,
G
,
B
;

97 
št16_t
 
dR
,
dG
,
dB
;

98 
ušt16_t
 
cŞÜ
;

100 
B
 = (
c1
 & 0x1F);

101 
dB
 = (
c2
 & 0x1F)-
B
;

102 
dB
 = (dB*
çùÜ
)>>8;

103 
B
 +ğ
dB
;

104 ià(
B
<0) B = 0;

106 
G
 = ((
c1
>>5) & 0x3F);

107 
dG
 = ((
c2
>>5è& 0x3F)-
G
;

108 
dG
 = (dG*
çùÜ
)>>8;

109 
G
 +ğ
dG
;

110 ià(
G
<0) G=0;

112 
R
 = (
c1
>>11);

113 
dR
 = (
c2
>>11)-
R
;

114 
dR
 = (dR*
çùÜ
)>>8;

115 
R
 +ğ
dR
;

116 ià(
R
<0) R=0;

118 
cŞÜ
 = 
B
;

119 
cŞÜ
 |ğ(
G
 << 5);

120 
cŞÜ
 |ğ(
R
 << 11);

121  
cŞÜ
;

122 
	}
}

124 
	gDi¥Ïy
::
	$tw“nP®‘‹
(
ušt16_t
* 
¿m_·l
, cÚ¡ ušt16_t* 
·l_1
, cÚ¡ ušt16_t* 
·l_2
, 
ušt8_t
 
çùÜ
) {

125 
ušt8_t
 
i
 = 0; i<16 ; i++) {

126 
¿m_·l
[
i
] = 
	`š‹½Ş©eCŞÜ
(
·l_1
[i],
·l_2
[i],
çùÜ
);

128 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoPalettes.h

1 #iâdeà
POK_PALETTES_H


2 
	#POK_PALETTES_H


	)

4 
	~"Pok™to_£‰šgs.h
"

6 cÚ¡ 
·Ë‰eDeçuÉ
[];

7 cÚ¡ 
·Ë‰eCGA
[];

8 cÚ¡ 
·Ë‰eNeÚ
[];

9 cÚ¡ 
·Ë‰ePico
[];

10 cÚ¡ 
·Ë‰eCİ³r
[];

11 cÚ¡ 
·Ë‰eAùiÚ
[];

12 cÚ¡ 
·Ë‰eMagma
[];

13 cÚ¡ 
·Ë‰eRašbow
[];

14 cÚ¡ 
·Ë‰eMÚo
[];

15 cÚ¡ 
·Ë‰eGameboy
[];

16 cÚ¡ 
·Ë‰eZXS³c
[];

17 cÚ¡ 
·Ë‰eDB16
[];

20 
	#POK_DEFAULT_PALETTE
 
·Ë‰eCGA


	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoSound.cpp

64 
	~"Pok™toSound.h
"

65 
	~"Pok™to_£‰šgs.h
"

66 
	~"Pok™toCÜe.h
"

67 
	~"SyÁh.h
"

69 #iâdeà
POK_SIM


70 
	~"HWSound.h
"

72 
	~"SimSound.h
"

73 
	~"Pok™toSimuÏtÜ.h
"

76 
ušt8_t
 
	tby‹
;

78 
usšg
 
Çme¥aû
 
	gPok™to
;

82 
ušt8_t
 
	gPok™to
::
disü‘e_vŞ
 = 0;

83 
ušt8_t
 cÚ¡ 
	gPok™to
::
disü‘e_vŞ_Ëv–s
[8] {0,32,64,96,128,160,192,224};

84 
ušt8_t
 cÚ¡ 
	gPok™to
::
disü‘e_vŞ_hw_Ëv–s
[8] {0,27,64,96,36,117,127,127};

85 
ušt8_t
 cÚ¡ 
	gPok™to
::
disü‘e_vŞ_muÉl›rs
[8] {0,127,127,127,192,192,255,255};

87 
	gPok™to
::
CÜe
 
_soundc
;

89 
ušt8_t
 
	gSound
::
´esÿËr
;

90 
ušt16_t
 
	gSound
::
glob®VŞume
;

91 
ušt16_t
 
	gSound
::
vŞumeMax
 = 
VOLUME_HEADPHONE_MAX
;

92 
ušt8_t
 
	gSound
::
h—dPhÚeLev–
=1;

94 
boŞ
 
	gSound
::
ŒackIsPÏyšg
[
NUM_CHANNELS
];

95 
boŞ
 
	gSound
::
·‰”nIsPÏyšg
[
NUM_CHANNELS
];

96 
ušt8_t
 
	gSound
::
ouutP™ch
[
NUM_CHANNELS
];

97 
št8_t
 
	gSound
::
ouutVŞume
[
NUM_CHANNELS
];

99 
ušt16_t
 *
	gSound
::
ŒackD©a
[
NUM_CHANNELS
];

100 
ušt8_t
 
	gSound
::
ŒackCursÜ
[
NUM_CHANNELS
];

101 
ušt16_t
 **
	gSound
::
·‰”nS‘
[
NUM_CHANNELS
];

102 
št8_t
 
	gSound
::
·‰”nP™ch
[
NUM_CHANNELS
];

105 
ušt16_t
 *
	gSound
::
·‰”nD©a
[
NUM_CHANNELS
];

106 
ušt16_t
 **
	gSound
::
š¡rum’tS‘
[
NUM_CHANNELS
];

107 
boŞ
 
	gSound
::
·‰”nLoİšg
[
NUM_CHANNELS
];

108 
ušt16_t
 
	gSound
::
·‰”nCursÜ
[
NUM_CHANNELS
];

111 
ušt8_t
 
	gSound
::
nÙeP™ch
[
NUM_CHANNELS
];

112 
ušt8_t
 
	gSound
::
nÙeDu¿tiÚ
[
NUM_CHANNELS
];

113 
št8_t
 
	gSound
::
nÙeVŞume
[
NUM_CHANNELS
];

114 
boŞ
 
	gSound
::
nÙePÏyšg
[
NUM_CHANNELS
];

117 
št8_t
 
	gSound
::
commªdsCouÁ”
[
NUM_CHANNELS
];

118 
št8_t
 
	gSound
::
vŞumeSlideS‹pDu¿tiÚ
[
NUM_CHANNELS
];

119 
št8_t
 
	gSound
::
vŞumeSlideS‹pSize
[
NUM_CHANNELS
];

120 
ušt8_t
 
	gSound
::
¬³ggioS‹pDu¿tiÚ
[
NUM_CHANNELS
];

121 
št8_t
 
	gSound
::
¬³ggioS‹pSize
[
NUM_CHANNELS
];

122 
ušt8_t
 
	gSound
::
ŒemŞoS‹pDu¿tiÚ
[
NUM_CHANNELS
];

123 
št8_t
 
	gSound
::
ŒemŞoS‹pSize
[
NUM_CHANNELS
];

126 
ušt16_t
 *
	gSound
::
š¡rum’tD©a
[
NUM_CHANNELS
];

127 
ušt8_t
 
	gSound
::
š¡rum’tL’gth
[
NUM_CHANNELS
];

128 
ušt8_t
 
	gSound
::
š¡rum’tLoİšg
[
NUM_CHANNELS
];

129 
ušt16_t
 
	gSound
::
š¡rum’tCursÜ
[
NUM_CHANNELS
];

130 
ušt8_t
 
	gSound
::
š¡rum’tNextChªge
[
NUM_CHANNELS
];

133 
št8_t
 
	gSound
::
¡•VŞume
[
NUM_CHANNELS
];

134 
ušt8_t
 
	gSound
::
¡•P™ch
[
NUM_CHANNELS
];

135 
ušt8_t
 
	gSound
::
chªVŞumes
[
NUM_CHANNELS
];

137 #ià(
POK_ENABLE_SOUND
 < 1)

138 
	#NUM_CHANNELS
 0

	)

141 #if(
NUM_CHANNELS
 > 0)

142 #iâdeà
POK_SIM


143 
ušt32_t
 
	gsby‹
;

145 
ušt32_t
 
	gsby‹
;

146 
	gpwm1
;

150 
ušt8_t
 
	g_¿nd
 = 1;

151 
ušt8_t
 
	g_chªCouÁ
[
NUM_CHANNELS
];

152 
boŞ
 
	g_chªS‹
[
NUM_CHANNELS
];

153 
ušt8_t
 
	g_chªH®fP”iod
[
NUM_CHANNELS
];

154 
ušt8_t
 
	g_chªOuutVŞume
[
NUM_CHANNELS
];

155 
ušt8_t
 
	g_chªOuut
[
NUM_CHANNELS
];

156 
boŞ
 
	g_chªNoi£
[
NUM_CHANNELS
];

158 #ià
POK_GBSOUND
 > 0

159 cÚ¡ 
ušt16_t
 
	gsqu¬eWaveIn¡rum’t
[] = {0x0101, 0x03F7};

160 cÚ¡ 
ušt16_t
 
	gnoi£In¡rum’t
[] = {0x0101, 0x03FF};

161 cÚ¡ 
ušt16_t
* cÚ¡ 
	gdeçuÉIn¡rum’ts
[] = {
squ¬eWaveIn¡rum’t
,
noi£In¡rum’t
};

163 cÚ¡ 
ušt16_t
 
	g¶ayOKP©‹º
[] = {0x0005,0x138,0x168,0x0000};

164 cÚ¡ 
ušt16_t
 
	g¶ayCªûlP©‹º
[] = {0x0005,0x168,0x138,0x0000};

165 cÚ¡ 
ušt16_t
 
	g¶ayTickP
[] = {0x0045,0x168,0x0000};

167 #if(
EXTENDED_NOTE_RANGE
 > 0)

169 
	#NUM_PITCH
 59

	)

170 cÚ¡ 
ušt8_t
 
	g_h®fP”iods
[
NUM_PITCH
] = {246,232,219,207,195,184,174,164,155,146,138,130,123,116,110,104,98,92,87,82,78,73,69,65,62,58,55,52,49,46,44,41,39,37,35,33,31,29,28,26,25,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6};

173 
	#NUM_PITCH
 36

	)

174 cÚ¡ 
ušt8_t
 
	g_h®fP”iods
[
NUM_PITCH
] = {246,232,219,207,195,184,174,164,155,146,138,130,123,116,110,104,98,92,87,82,78,73,69,65,62,58,55,52,49,46,44,41,39,37,35,33};

179 
	gPok™to
::
	$audio_IRQ
() {

180 #ià
POK_STREAMING_MUSIC
 > 0

181 #ià
POK_STREAMFREQ_HALVE
 > 0

182 
¡»am¡•
 = 1-streamstep;

184 
¡»am¡•
=1;

187 
¡»am¡•
 &ğ
¡»amÚ
;

189 if(
¡»amvŞ
 && 
¡»am¡•
) {

190 
ušt8_t
 
ouut
 = (*
cu¼’tPŒ
++);

191 
sby‹
 = 
ouut
;

193 
sby‹
 = 0;

196 ià(
cu¼’tPŒ
 >ğ
’dPŒ
)

198 
cu¼’tBufãr
++;

199 ià(
cu¼’tBufãr
==4) currentBuffer=0;

200 
cu¼’tPŒ
 = 
bufãrs
[
cu¼’tBufãr
];

201 
’dPŒ
 = 
cu¼’tPŒ
 + 
BUFFER_SIZE
;

205 #ià(
NUM_CHANNELS
 > 0)

206 
Sound
::
	`g’”©eOuut
();

208 
	}
}

210 
	gSound
::
	$vŞumeUp
() {

211 
Pok™to
::
disü‘e_vŞ
++;

212 ià(
disü‘e_vŞ
>7) discrete_vol=7;

213 
glob®VŞume
 = 
disü‘e_vŞ_Ëv–s
[
disü‘e_vŞ
];

214 
	`£tVŞume
(
glob®VŞume
);

217 
	}
}

219 
	gSound
::
	$vŞumeDown
() {

220 ià(
disü‘e_vŞ
è
Pok™to
::discrete_vol--;

221 
glob®VŞume
 = 
disü‘e_vŞ_Ëv–s
[
disü‘e_vŞ
];

222 
	`£tVŞume
(
glob®VŞume
);

225 
	}
}

228 
	gSound
::
	$£tMaxVŞ
(
št16_t
 
v
) {

229 ià(
v
 < 0) v = 0;

230 ià(
v
 > 
VOLUME_SPEAKER_MAX
) {

231 
v
 = 
VOLUME_SPEAKER_MAX
;

233 
vŞumeMax
 = 
v
;

234 
	`£tVŞume
(
glob®VŞume
);

235 
	}
}

237 
ušt16_t
 
	gSound
::
	$g‘MaxVŞ
() {

238  
vŞumeMax
;

239 
	}
}

241 
	gSound
::
	$upd©eSŒ—m
() {

242 #iâdeà
NOPETITFATFS


243 #ià
POK_STREAMING_MUSIC


244 ià(
ŞdBufãr
 !ğ
cu¼’tBufãr
) {

245 ià(
cu¼’tBufãr
==0è
	`feR—dBy‹s
(&
bufãrs
[3][0],
BUFFER_SIZE
);

246 ià(
cu¼’tBufãr
==1è
	`feR—dBy‹s
(&
bufãrs
[0][0],
BUFFER_SIZE
);

247 ià(
cu¼’tBufãr
==2è
	`feR—dBy‹s
(&
bufãrs
[1][0],
BUFFER_SIZE
);

248 
	`feR—dBy‹s
(&
bufãrs
[2][0],
BUFFER_SIZE
);

249 
ŞdBufãr
 = 
cu¼’tBufãr
;

250 
¡»amcouÁ”
 +ğ
BUFFER_SIZE
;

253 #iâdeà
POK_SIM


254 iàĞ
¡»amcouÁ”
 > 
fs
.
fsize
 - (
BUFFER_SIZE
)) {

256 iàĞ
¡»amcouÁ”
 > 
	`g‘FeL’gth
(è- (
BUFFER_SIZE
)) {

258 
¡»amcouÁ”
=0;

259 #ià
POK_STREAM_LOOP
 > 0

260 
	`feRewšd
();

262 #iâdeà
POK_SIM


263 
¡»amÚ
=0;

269 
	}
}

271 
	gSound
::
	$begš
() {

272 #ià
POK_ENABLE_SOUND
 > 0

273 
	`soundIn™
();

274 
	`ampEÇbË
(
Œue
);

276 #ià(
NUM_CHANNELS
 > 0)

277 #ià
POK_ENABLE_SOUND
 > 0

278 #ià
POK_GBSOUND
 > 0

279 
´esÿËr
 = 1;

280 
by‹
 
i
=0; i<
NUM_CHANNELS
; i++){

281 
chªVŞumes
[
i
] = 
VOLUME_CHANNEL_MAX
;

282 
	`chªgeIn¡rum’tS‘
(
deçuÉIn¡rum’ts
, 
i
);

283 
	`commªd
(
CMD_INSTRUMENT
, 0, 0, 
i
);

288 
	}
}

290 
	gSound
::
	$¶ayT¿ck
(cÚ¡ 
ušt16_t
* 
Œack
, 
ušt8_t
 
chªÃl
){

291 #if(
NUM_CHANNELS
 > 0)

292 if(
chªÃl
>=
NUM_CHANNELS
)

294 
	`¡İT¿ck
(
chªÃl
);

295 
ŒackCursÜ
[
chªÃl
] = 0;

296 
ŒackD©a
[
chªÃl
] = (
ušt16_t
*)
Œack
;

297 
ŒackIsPÏyšg
[
chªÃl
] = 
Œue
;

299 
	}
}

301 
	gSound
::
	$¡İT¿ck
(
ušt8_t
 
chªÃl
){

302 #if(
NUM_CHANNELS
 > 0)

303 if(
chªÃl
>=
NUM_CHANNELS
)

305 
ŒackIsPÏyšg
[
chªÃl
] = 
çl£
;

306 
	`¡İP©‹º
(
chªÃl
);

308 
	}
}

310 
	gSound
::
	$¡İT¿ck
(){

311 #if(
NUM_CHANNELS
 > 0)

312 
ušt8_t
 
i
=0; i<
NUM_CHANNELS
; i++){

313 
	`¡İT¿ck
(
i
);

316 
	}
}

318 
	gSound
::
	$upd©eT¿ck
(
ušt8_t
 
chªÃl
){

319 #if(
NUM_CHANNELS
 > 0)

320 if(
chªÃl
>=
NUM_CHANNELS
)

322 if(
ŒackIsPÏyšg
[
chªÃl
] && !
·‰”nIsPÏyšg
[channel]){

323 
ušt16_t
 
d©a
 = 
	`pgm_»ad_wÜd
(
ŒackD©a
[
chªÃl
] + 
ŒackCursÜ
[channel]);

324 if(
d©a
 == 0xFFFF){

325 
ŒackIsPÏyšg
[
chªÃl
] = 
çl£
;

328 
ušt8_t
 
·‰”nID
 = 
d©a
 & 0xFF;

329 
d©a
 >>= 8;

330 
·‰”nP™ch
[
chªÃl
] = 
d©a
;

331 
	`¶ayP©‹º
((cÚ¡ 
ušt16_t
*)
	`pgm_»ad_wÜd
(&(
·‰”nS‘
[
chªÃl
][
·‰”nID
])), channel);

332 
ŒackCursÜ
[
chªÃl
] ++;

335 
	}
}

337 
	gSound
::
	$upd©eT¿ck
(){

338 #if(
NUM_CHANNELS
 > 0)

339 
ušt8_t
 
i
=0; i<
NUM_CHANNELS
; i++){

340 
	`upd©eT¿ck
(
i
);

343 
	}
}

345 
	gSound
::
	$chªgeP©‹ºS‘
(cÚ¡ 
ušt16_t
* cÚ¡* 
·‰”ns
, 
ušt8_t
 
chªÃl
){

346 #if(
NUM_CHANNELS
 > 0)

347 if(
chªÃl
>=
NUM_CHANNELS
)

349 
·‰”nS‘
[
chªÃl
] = (
ušt16_t
**)
·‰”ns
;

351 
	}
}

353 
	gSound
::
	$¶ayP©‹º
(cÚ¡ 
ušt16_t
* 
·‰”n
, 
ušt8_t
 
chªÃl
){

354 #if(
NUM_CHANNELS
 > 0)

355 if(
chªÃl
>=
NUM_CHANNELS
)

357 
	`¡İP©‹º
(
chªÃl
);

358 
·‰”nD©a
[
chªÃl
] = (
ušt16_t
*)
·‰”n
;

359 
·‰”nCursÜ
[
chªÃl
] = 0;

360 
·‰”nIsPÏyšg
[
chªÃl
] = 
Œue
;

361 
nÙeVŞume
[
chªÃl
] = 9;

363 
vŞumeSlideS‹pDu¿tiÚ
[
chªÃl
] = 0;

364 
¬³ggioS‹pDu¿tiÚ
[
chªÃl
] = 0;

365 
ŒemŞoS‹pDu¿tiÚ
[
chªÃl
] = 0;

367 
	}
}

369 
	gSound
::
	$upd©eP©‹º
(){

370 #if(
NUM_CHANNELS
 > 0)

371 
ušt8_t
 
i
=0; i<
NUM_CHANNELS
; i++){

372 
	`upd©eP©‹º
(
i
);

375 
	}
}

377 
	gSound
::
	$chªgeIn¡rum’tS‘
(cÚ¡ 
ušt16_t
* cÚ¡* 
š¡rum’ts
, 
ušt8_t
 
chªÃl
){

378 #if(
NUM_CHANNELS
 > 0)

379 if(
chªÃl
>=
NUM_CHANNELS
)

381 
š¡rum’tS‘
[
chªÃl
] = (
ušt16_t
**)
š¡rum’ts
;

383 
	}
}

385 
	gSound
::
	$upd©eP©‹º
(
ušt8_t
 
i
){

386 #if(
NUM_CHANNELS
 > 0)

387 if(
i
>=
NUM_CHANNELS
)

389 if(
·‰”nIsPÏyšg
[
i
]){

390 if(
nÙeDu¿tiÚ
[
i
]==0){

392 
ušt16_t
 
d©a
 = 
	`pgm_»ad_wÜd
(
·‰”nCursÜ
[
i
] + 
·‰”nD©a
[i]);

394 if(
d©a
 == 0){

395 if(
·‰”nLoİšg
[
i
] =ğ
Œue
){

396 
·‰”nCursÜ
[
i
] = 0;

397 
d©a
 = 
	`pgm_»ad_wÜd
(
·‰”nCursÜ
[
i
] + 
·‰”nD©a
[i]);

400 
·‰”nIsPÏyšg
[
i
] = 
çl£
;

401 if(
ŒackIsPÏyšg
[
i
]){

402 
	`upd©eT¿ck
(
i
);

403 
d©a
 = 
	`pgm_»ad_wÜd
(
·‰”nCursÜ
[
i
] + 
·‰”nD©a
[i]);

405 
	`¡İNÙe
(
i
);

412 
d©a
 & 0x0001){

413 
d©a
 >>= 2;

415 
ušt8_t
 
cmd
 = 
d©a
 & 0x0F;

416 
d©a
 >>= 4;

417 
ušt8_t
 
X
 = 
d©a
 & 0x1F;

418 
d©a
 >>= 5;

419 
št8_t
 
Y
 = 
d©a
 - 16;

420 
	`commªd
(
cmd
,
X
,
Y
,
i
);

421 
·‰”nCursÜ
[
i
]++;

422 
d©a
 = 
	`pgm_»ad_wÜd
(
·‰”nCursÜ
[
i
] + 
·‰”nD©a
[i]);

424 
d©a
 >>= 2;

426 
ušt8_t
 
p™ch
 = 
d©a
 & 0x003F;

427 
d©a
 >>= 6;

429 
ušt8_t
 
du¿tiÚ
 = 
d©a
;

430 if(
p™ch
 != 63){

433 
	`¶ayNÙe
(
p™ch
, 
du¿tiÚ
, 
i
);

435 
·‰”nCursÜ
[
i
]++;

439 
	}
}

441 
	gSound
::
	$¡İP©‹º
(
ušt8_t
 
chªÃl
){

442 #if(
NUM_CHANNELS
 > 0)

443 if(
chªÃl
>=
NUM_CHANNELS
)

445 
	`¡İNÙe
(
chªÃl
);

446 
·‰”nIsPÏyšg
[
chªÃl
] = 
çl£
;

448 
	}
}

450 
	gSound
::
	$¡İP©‹º
(){

451 #if(
NUM_CHANNELS
 > 0)

452 
ušt8_t
 
i
=0; i<
NUM_CHANNELS
; i++){

453 
	`¡İP©‹º
(
i
);

456 
	}
}

458 
	gSound
::
	$commªd
(
ušt8_t
 
cmd
, ušt8_ˆ
X
, 
št8_t
 
Y
, ušt8_ˆ
i
){

459 #if(
NUM_CHANNELS
 > 0)

460 if(
i
>=
NUM_CHANNELS
)

462 
cmd
){

463 
CMD_VOLUME
:

464 
X
 = 
	`cÚ¡¿š
((
št8_t
)X, 0, 10);

465 
nÙeVŞume
[
i
] = 
X
;

467 
CMD_INSTRUMENT
:

468 
š¡rum’tD©a
[
i
] = (
ušt16_t
*)
	`pgm_»ad_wÜd
(&(
š¡rum’tS‘
[i][
X
]));

469 
š¡rum’tL’gth
[
i
] = 
	`pgm_»ad_wÜd
(&(
š¡rum’tD©a
[i][0])) & 0x00FF;

470 
š¡rum’tL’gth
[
i
] *ğ
´esÿËr
;

471 
š¡rum’tLoİšg
[
i
] = 
	`mš2
((
	`pgm_»ad_wÜd
(&(
š¡rum’tD©a
[i][0])è>> 8), 
š¡rum’tL’gth
[i]);

472 
š¡rum’tLoİšg
[
i
] *ğ
´esÿËr
;

474 
CMD_SLIDE
:

475 
vŞumeSlideS‹pDu¿tiÚ
[
i
] = 
X
 * 
´esÿËr
;

476 
vŞumeSlideS‹pSize
[
i
] = 
Y
;

478 
CMD_ARPEGGIO
:

479 
¬³ggioS‹pDu¿tiÚ
[
i
] = 
X
 * 
´esÿËr
;

480 
¬³ggioS‹pSize
[
i
] = 
Y
;

482 
CMD_TREMOLO
:

483 
ŒemŞoS‹pDu¿tiÚ
[
i
] = 
X
 * 
´esÿËr
;

484 
ŒemŞoS‹pSize
[
i
] = 
Y
;

490 
	}
}

492 
	gSound
::
	$¶ayNÙe
(
ušt8_t
 
p™ch
, ušt8_ˆ
du¿tiÚ
, ušt8_ˆ
chªÃl
){

493 #if(
NUM_CHANNELS
 > 0)

494 if(
chªÃl
>=
NUM_CHANNELS
)

497 
nÙeP™ch
[
chªÃl
] = 
p™ch
;

498 
nÙeDu¿tiÚ
[
chªÃl
] = 
du¿tiÚ
 * 
´esÿËr
;

500 
š¡rum’tNextChªge
[
chªÃl
] = 0;

501 
š¡rum’tCursÜ
[
chªÃl
] = 0;

502 
nÙePÏyšg
[
chªÃl
] = 
Œue
;

503 
_chªS‹
[
chªÃl
] = 
Œue
;

504 
commªdsCouÁ”
[
chªÃl
] = 0;

506 
	}
}

508 
	gSound
::
	$¡İNÙe
(
ušt8_t
 
chªÃl
) {

509 #if(
NUM_CHANNELS
 > 0)

510 if(
chªÃl
>=
NUM_CHANNELS
)

512 
nÙePÏyšg
[
chªÃl
] = 
çl£
;

514 
nÙeDu¿tiÚ
[
chªÃl
] = 0;

515 
š¡rum’tCursÜ
[
chªÃl
] = 0;

516 
commªdsCouÁ”
[
chªÃl
] = 0;

518 
_chªOuut
[
chªÃl
] = 0;

519 
_chªOuutVŞume
[
chªÃl
] = 0;

520 
_chªS‹
[
chªÃl
] = 
çl£
;

521 
	`upd©eOuut
();

523 
	}
}

525 
	gSound
::
	$¡İNÙe
() {

526 #if(
NUM_CHANNELS
 > 0)

527 
ušt8_t
 
chªÃl
 = 0; chªÃÈ< 
NUM_CHANNELS
; channel++) {

528 
	`¡İNÙe
(
chªÃl
);

531 
	}
}

533 
	gSound
::
	$upd©eNÙe
() {

534 #if(
NUM_CHANNELS
 > 0)

535 
ušt8_t
 
i
 = 0; i < 
NUM_CHANNELS
; i++) {

536 
	`upd©eNÙe
(
i
);

539 
	}
}

541 
	gSound
::
	$upd©eNÙe
(
ušt8_t
 
i
) {

542 #if(
NUM_CHANNELS
 > 0)

543 if(
i
>=
NUM_CHANNELS
)

545 ià(
nÙePÏyšg
[
i
]) {

547 if(
nÙeDu¿tiÚ
[
i
] == 0){

548 
	`¡İNÙe
(
i
);

552 
nÙeDu¿tiÚ
[
i
]--;

555 ià(
š¡rum’tNextChªge
[
i
] == 0) {

558 
ušt16_t
 
thisS‹p
 = 
	`pgm_»ad_wÜd
(&(
š¡rum’tD©a
[
i
][1 + 
š¡rum’tCursÜ
[i]]));

560 
¡•VŞume
[
i
] = 
thisS‹p
 & 0x0007;

561 
thisS‹p
 >>= 3;

563 
ušt8_t
 
¡•Noi£
 = 
thisS‹p
 & 0x0001;

564 
thisS‹p
 >>= 1;

566 
ušt8_t
 
¡•Du¿tiÚ
 = 
thisS‹p
 & 0x003F;

567 
thisS‹p
 >>= 6;

569 
¡•P™ch
[
i
] = 
thisS‹p
;

572 
š¡rum’tNextChªge
[
i
] = 
¡•Du¿tiÚ
 * 
´esÿËr
;

574 
_chªNoi£
[
i
] = 
¡•Noi£
;

577 
š¡rum’tCursÜ
[
i
]++;

579 ià(
š¡rum’tCursÜ
[
i
] >ğ
š¡rum’tL’gth
[i]) {

580 ià(
š¡rum’tLoİšg
[
i
]) {

581 
š¡rum’tCursÜ
[
i
] = 
š¡rum’tL’gth
[i] - 
š¡rum’tLoİšg
[i];

583 
	`¡İNÙe
(
i
);

587 
š¡rum’tNextChªge
[
i
]--;

589 
commªdsCouÁ”
[
i
]++;

593 
ouutP™ch
[
i
] = 
nÙeP™ch
[i] + 
¡•P™ch
[i] + 
·‰”nP™ch
[i];

594 if(
¬³ggioS‹pDu¿tiÚ
[
i
]){

595 
ouutP™ch
[
i
] +ğ
commªdsCouÁ”
[i] / 
¬³ggioS‹pDu¿tiÚ
[i] * 
¬³ggioS‹pSize
[i];

597 
ouutP™ch
[
i
] = (ouutP™ch[i] + 
NUM_PITCH
) % NUM_PITCH;

599 
ouutVŞume
[
i
] = 
nÙeVŞume
[i];

600 if(
vŞumeSlideS‹pDu¿tiÚ
[
i
]){

601 
ouutVŞume
[
i
] +ğ
commªdsCouÁ”
[i] / 
vŞumeSlideS‹pDu¿tiÚ
[i] * 
vŞumeSlideS‹pSize
[i];

603 if(
ŒemŞoS‹pDu¿tiÚ
[
i
]){

604 
ouutVŞume
[
i
] +ğ((
commªdsCouÁ”
[i]/
ŒemŞoS‹pDu¿tiÚ
[i]è% 2è* 
ŒemŞoS‹pSize
[i];

606 
ouutVŞume
[
i
] = 
	`cÚ¡¿š
(outputVolume[i], 0, 9);

607 if(
nÙeP™ch
[
i
] == 63){

608 
ouutVŞume
[
i
] = 0;

611 
_chªH®fP”iod
[
i
] = 
	`pgm_»ad_by‹
(
_h®fP”iods
 + 
ouutP™ch
[i]);

612 
_chªOuut
[
i
] = 
_chªOuutVŞume
[i] = 
ouutVŞume
[i] * (
glob®VŞume
>>
GLOBVOL_SHIFT
è* 
chªVŞumes
[i] * 
¡•VŞume
[i];

617 
	}
}

619 
	gSound
::
	$£tChªÃlH®fP”iod
(
ušt8_t
 
chªÃl
, ušt8_ˆ
h®fP”iod
) {

620 #if(
NUM_CHANNELS
 > 0)

621 if(
chªÃl
>=
NUM_CHANNELS
)

623 
_chªH®fP”iod
[
chªÃl
] = 
h®fP”iod
;

624 
_chªS‹
[
chªÃl
] = 
çl£
;

625 
_chªCouÁ
[
chªÃl
] = 0;

626 
	`upd©eOuut
();

628 
	}
}

631 
	gSound
::
	$g’”©eOuut
() {

632 #if(
NUM_CHANNELS
 > 0)

633 
boŞ
 
ouutChªged
 = 
çl£
;

636 ià(
_chªOuutVŞume
[0]) {

637 
_chªCouÁ
[0]++;

638 ià(
_chªCouÁ
[0] >ğ
_chªH®fP”iod
[0]) {

639 
ouutChªged
 = 
Œue
;

640 
_chªS‹
[0] = !_chanState[0];

641 
_chªCouÁ
[0] = 0;

642 ià(
_chªNoi£
[0]) {

643 
_¿nd
 = 67 * _rand + 71;

644 
_chªOuut
[0] = 
_¿nd
 % 
_chªOuutVŞume
[0];

651 #ià(
NUM_CHANNELS
 > 1)

652 ià(
_chªOuutVŞume
[1]) {

653 
_chªCouÁ
[1]++;

654 ià(
_chªCouÁ
[1] >ğ
_chªH®fP”iod
[1]) {

655 
ouutChªged
 = 
Œue
;

656 
_chªS‹
[1] = !_chanState[1];

657 
_chªCouÁ
[1] = 0;

658 ià(
_chªNoi£
[1]) {

659 
_¿nd
 = 67 * _rand + 71;

660 
_chªOuut
[1] = 
_¿nd
 % 
_chªOuutVŞume
[1];

667 #ià(
NUM_CHANNELS
 > 2)

668 ià(
_chªOuutVŞume
[2]) {

669 
_chªCouÁ
[2]++;

670 ià(
_chªCouÁ
[2] >ğ
_chªH®fP”iod
[2]) {

671 
ouutChªged
 = 
Œue
;

672 
_chªS‹
[2] = !_chanState[2];

673 
_chªCouÁ
[2] = 0;

674 ià(
_chªNoi£
[2]) {

675 
_¿nd
 = 67 * _rand + 71;

676 
_chªOuut
[2] = 
_¿nd
 % 
_chªOuutVŞume
[2];

683 #ià(
NUM_CHANNELS
 > 3)

684 ià(
_chªOuutVŞume
[3]) {

685 
_chªCouÁ
[3]++;

686 ià(
_chªCouÁ
[3] >ğ
_chªH®fP”iod
[3]) {

687 
ouutChªged
 = 
Œue
;

688 
_chªS‹
[3] = !_chanState[3];

689 
_chªCouÁ
[3] = 0;

690 ià(
_chªNoi£
[3]) {

691 
_¿nd
 = 67 * _rand + 71;

692 
_chªOuut
[3] = 
_¿nd
 % 
_chªOuutVŞume
[3];

698 #ià
POK_STREAMING_MUSIC


699 ià(
¡»am¡•
) {

700 
ouutChªged
=
Œue
;

704 ià(
ouutChªged
) {

705 
	`upd©eOuut
();

708 
	}
}

710 
	gSound
::
	$upd©eOuut
() {

711 #if(
NUM_CHANNELS
 > 0)

712 
ušt32_t
 
ouut
 = 0;

715 ià(
_chªS‹
[0]) {

716 
ouut
 +ğ
_chªOuut
[0];

720 #ià(
NUM_CHANNELS
 > 1)

721 ià(
_chªS‹
[1]) {

722 
ouut
 +ğ
_chªOuut
[1];

727 #ià(
NUM_CHANNELS
 > 2)

728 ià(
_chªS‹
[2]) {

729 
ouut
 +ğ
_chªOuut
[2];

734 #ià(
NUM_CHANNELS
 > 3)

735 ià(
_chªS‹
[3]) {

736 
ouut
 +ğ
_chªOuut
[3];

740 #iâdeà
POK_SIM


741 #ià
POK_ENABLE_SOUND


744 #ià
POK_STREAMING_MUSIC


745 ià(
¡»am¡•
) {

747 
sby‹
 *ğ
disü‘e_vŞ_muÉl›rs
[
disü‘e_vŞ
];

748 
sby‹
 >>= 8;

749 
	`pwmout_wr™e
(&
audiİwm
,()(
sby‹
)/()255);

752 
ouut
 *ğ
disü‘e_vŞ_muÉl›rs
[
disü‘e_vŞ
];

753 
ouut
 >>= 8;

754 
	`dac_wr™e
((
ušt8_t
)
ouut
);

755 
soundby‹
 = 
ouut
;

759 #ià
POK_STREAMING_MUSIC


760 ià(
¡»am¡•
) {

761 
ušt16_t
 
o
 = 
ouut
 + 
sby‹
;

762 
ouut
 = (
o
/2);

765 
soundby‹
 = 
ouut
;

768 
	}
}

770 
	gSound
::
	$£tP©‹ºLoİšg
(
boŞ
 
loİ
, 
ušt8_t
 
chªÃl
) {

771 #if(
NUM_CHANNELS
 > 0)

772 if(
chªÃl
>=
NUM_CHANNELS
)

774 
·‰”nLoİšg
[
chªÃl
] = 
loİ
;

776 
	}
}

778 
	gSound
::
	$¶ayOK
(){

779 #ià
POK_GBSOUND


780 #if(
NUM_CHANNELS
 > 0)

781 
	`¶ayP©‹º
(
¶ayOKP©‹º
,0);

784 
	}
}

786 
	gSound
::
	$¶ayCªûl
(){

787 #ià
POK_GBSOUND


788 #if(
NUM_CHANNELS
 > 0)

789 
	`¶ayP©‹º
(
¶ayCªûlP©‹º
,0);

792 
	}
}

794 
	gSound
::
	$¶ayTick
(){

795 #ià
POK_GBSOUND


796 #if(
NUM_CHANNELS
 > 0)

797 
	`¶ayP©‹º
(
¶ayTickP
,0);

800 
	}
}

802 
	gSound
::
	$£tVŞume
(
št16_t
 
vŞume
) {

804 ià(
vŞume
<0) volume = 0;

806 
glob®VŞume
 = 
vŞume
;

807 #ià
POK_ENABLE_SOUND
 > 0

808 
disü‘e_vŞ
 = (
vŞume
>>5);

809 #iâdeà
POK_SIM


810 
	`£tHWvŞume
(
disü‘e_vŞ_hw_Ëv–s
[
disü‘e_vŞ
]);

813 #ià
POK_SHOW_VOLUME
 > 0

814 
_soundc
.
vŞb¬_visibË
 = 
VOLUMEBAR_TIMEOUT
;

817 
	}
}

819 
ušt16_t
 
	gSound
::
	$g‘VŞume
() {

821  
glob®VŞume
;

825 
	}
}

827 
	gSound
::
	$£tVŞume
(
št8_t
 
vŞume
, 
ušt8_t
 
chªÃl
) {

828 #if(
NUM_CHANNELS
 > 0)

829 if(
chªÃl
>=
NUM_CHANNELS
)

831 
vŞume
 = (vŞum> 
VOLUME_CHANNEL_MAX
) ? VOLUME_CHANNEL_MAX : volume;

832 
vŞume
 = (volume < 0) ? 0 : volume;

833 
chªVŞumes
[
chªÃl
] = 
vŞume
;

835 
	}
}

837 
ušt8_t
 
	gSound
::
	$g‘VŞume
(
ušt8_t
 
chªÃl
) {

838 #if(
NUM_CHANNELS
 > 0)

839 if(
chªÃl
>=
NUM_CHANNELS
)

841  (
chªVŞumes
[
chªÃl
]);

845 
	}
}

847 
	gSound
::
	$¶ayTÚe
(
ušt8_t
 
os
, 
äq
, ušt8_ˆ
amp
, ušt8_ˆ
wav
,ušt8_ˆ
¬pmode
)

849 ià(
wav
>5) wav=0;

850 ià(
¬pmode
>
MAX_ARPMODE
)‡rpmode=MAX_ARPMODE;

851 ià(
os
==1è
	`£tOSC
(&
osc1
,1,
wav
,1,0,0,
äq
,
amp
,0,0,0,0,0,0,
¬pmode
,0,0);

852 ià(
os
==2è
	`£tOSC
(&
osc2
,1,
wav
,1,0,0,
äq
,
amp
,0,0,0,0,0,0,
¬pmode
,0,0);

853 ià(
os
==3è
	`£tOSC
(&
osc3
,1,
wav
,1,0,0,
äq
,
amp
,0,0,0,0,0,0,
¬pmode
,0,0);

854 
	}
}

856 
	gSound
::
	$¶ayTÚe
(
ušt8_t
 
os
, 
ušt16_t
 
äq
, ušt8_ˆ
vŞume
, 
ušt32_t
 
du¿tiÚ
)

858 ià(
os
==1è
	`£tOSC
(&
osc1
,1,
WSQUARE
,
äq
,
vŞume
,
du¿tiÚ
);

859 ià(
os
==2è
	`£tOSC
(&
osc2
,1,
WTRI
,
äq
,
vŞume
,
du¿tiÚ
);

860 ià(
os
==3è
	`£tOSC
(&
osc3
,1,
WTRI
,
äq
,
vŞume
,
du¿tiÚ
);

861 
	}
}

863 
ušt8_t
 
	gSound
::
	$ampIsOn
()

865 #ifdeà
POK_SIM


866  
cÜe
.
	`ampIsOn
();

868 #ià
POK_ENABLE_SOUND
 > 0

869  
Pok™to
::
	`ampIsOn
();

873 
	}
}

875 
	gSound
::
	$ampEÇbË
(
ušt8_t
 
v
) {

876 #ifdeà
POK_SIM


877 
cÜe
.
	`ampEÇbË
(
v
);

879 #ià
POK_ENABLE_SOUND
 > 0

880 
Pok™to
::
	`ampEÇbË
(
v
);

884 
	}
}

886 
	gSound
::
	$¶ayMusicSŒ—m
(* 
f’ame
)

888  
	`¶ayMusicSŒ—m
(
f’ame
,0);

889 
	}
}

891 
	gSound
::
	$¶ayMusicSŒ—m
()

893 #ià
POK_STREAMING_MUSIC
 >0

894 ià(
cu¼’tPŒ
) {

895 
	`pokPÏySŒ—m
();

899 
	}
}

901 
	gSound
::
	$·u£MusicSŒ—m
() {

902 #ià
POK_ENABLE_SOUND
 > 0

903 
	`pokPau£SŒ—m
();

905 
	}
}

907 
	gSound
::
	$¶ayMusicSŒ—m
(* 
f’ame
, 
ušt8_t
 
İtiÚs
)

909 #ià
POK_STREAMING_MUSIC


910 
ušt8_t
 
»suÉ
;

911 
»suÉ
 = 
	`pokIn™SD
();

912 ià(!
	`isThisFeO³n
(
f’ame
)) {

913 
	`feClo£
();

914 
»suÉ
 = 
	`feO³n
(
f’ame
,
FILE_MODE_OVERWRITE
 | 
FILE_MODE_BINARY
);

917 ià(
»suÉ
) {

918 
cu¼’tPŒ
 = 0;

922 
	`feR—dBy‹s
(&
bufãrs
[0][0],
BUFFER_SIZE
);

923 
	`feR—dBy‹s
(&
bufãrs
[1][0],
BUFFER_SIZE
);

924 
	`feR—dBy‹s
(&
bufãrs
[2][0],
BUFFER_SIZE
);

925 
	`feR—dBy‹s
(&
bufãrs
[3][0],
BUFFER_SIZE
);

926 
cu¼’tBufãr
 = 0;

927 
cu¼’tPŒ
 = 
bufãrs
[
cu¼’tBufãr
];

928 
’dPŒ
 = 
cu¼’tPŒ
 + 
BUFFER_SIZE
;

932 ià(!
İtiÚs
è
	`pokPÏySŒ—m
();

935 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoSound.h

38 #iâdeà
POKITTOSOUND_H


39 
	#POKITTOSOUND_H


	)

41 
	~<¡dšt.h
>

42 
	~"Pok™to_£‰šgs.h
"

43 
	~"GBcom·tib™y.h
"

44 
	~"Pok™toFak—vr.h
"

45 
	~"Pok™toGlobs.h
"

47 
pokPau£SŒ—m
();

48 
pokPÏySŒ—m
();

49 
ušt8_t
 
pokSŒ—mPau£d
();

52 
	#GLOBVOL_SHIFT
 5

53 

	)

55 #iâdeà
MAX_VOL_TEST


56 
	#VOLUME_SPEAKER_MAX
 255

57 
	#VOLUME_HEADPHONE_MAX
 127

	)

58 
	#VOLUME_STARTUP
 
VOLUME_HEADPHONE_MAX


	)

60 
	#VOLUME_SPEAKER_MAX
 255

	)

61 
	#VOLUME_HEADPHONE_MAX
 
VOLUME_SPEAKER_MAX


	)

62 
	#VOLUME_STARTUP
 
VOLUME_SPEAKER_MAX


	)

65 #ifdeà
POK_SIM


66 
	#VOLUME_STEP
 1

	)

68 
	#VOLUME_STEP
 8

	)

73 
	#CMD_VOLUME
 0

	)

74 
	#CMD_INSTRUMENT
 1

	)

75 
	#CMD_SLIDE
 2

	)

76 
	#CMD_ARPEGGIO
 3

	)

77 
	#CMD_TREMOLO
 4

	)

79 
	#STR_PLAYING
 0x1

	)

80 
	#STR_VISUALIZER
 0x2

	)

81 
	#STR_LOOP
 0x4

	)

82 
	#STR_PAUSED
 0x8

	)

84 
Çme¥aû
 
	gPok™to
 {

95 
ušt8_t
 
disü‘e_vŞ
;

96 cÚ¡ 
ušt8_t
 
disü‘e_vŞ_Ëv–s
[];

97 cÚ¡ 
ušt8_t
 
disü‘e_vŞ_hw_Ëv–s
[];

98 cÚ¡ 
ušt8_t
 
disü‘e_vŞ_muÉl›rs
[];

100 
audio_IRQ
();

102 şas 
	cSound
 {

103 
	g´iv©e
:

104 
ušt16_t
 
vŞumeMax
;

105 
	gpublic
:

106 
begš
();

109 
ušt8_t
 
	gh—dPhÚeLev–
;

110 
£tMaxVŞ
(
št16_t
);

111 
ušt16_t
 
g‘MaxVŞ
();

112 
vŞumeUp
();

113 
vŞumeDown
();

116 
upd©eSŒ—m
();

117 
¶ayTÚe
(
ušt8_t
 
os
, 
äq
, ušt8_ˆ
amp
, ušt8_ˆ
wav
,ušt8_ˆ
¬pmode
);

118 
¶ayTÚe
(
ušt8_t
 
os
, 
ušt16_t
 
äeq
, ušt8_ˆ
vŞume
, 
ušt32_t
 
du¿tiÚ
);

119 
ušt8_t
 
ampIsOn
();

120 
ampEÇbË
(
ušt8_t
);

121 
¶ayMusicSŒ—m
(* 
f’ame
, 
ušt8_t
 
İtiÚs
);

122 
¶ayMusicSŒ—m
(* 
f’ame
);

123 
¶ayMusicSŒ—m
();

124 
·u£MusicSŒ—m
();

127 
¶ayT¿ck
(cÚ¡ 
ušt16_t
* 
Œack
, 
ušt8_t
 
chªÃl
);

128 
upd©eT¿ck
(
ušt8_t
 
chªÃl
);

129 
upd©eT¿ck
();

130 
¡İT¿ck
(
ušt8_t
 
chªÃl
);

131 
¡İT¿ck
();

132 
chªgeP©‹ºS‘
(cÚ¡ 
ušt16_t
* cÚ¡* 
·‰”ns
, 
ušt8_t
 
chªÃl
);

133 
boŞ
 
	gŒackIsPÏyšg
[
NUM_CHANNELS
];

135 
¶ayP©‹º
(cÚ¡ 
ušt16_t
* 
·‰”n
, 
ušt8_t
 
chªÃl
);

136 
chªgeIn¡rum’tS‘
(cÚ¡ 
ušt16_t
* cÚ¡* 
š¡rum’ts
, 
ušt8_t
 
chªÃl
);

137 
upd©eP©‹º
(
ušt8_t
 
i
);

138 
upd©eP©‹º
();

139 
£tP©‹ºLoİšg
(
boŞ
 
loİ
, 
ušt8_t
 
chªÃl
);

140 
¡İP©‹º
(
ušt8_t
 
chªÃl
);

141 
¡İP©‹º
();

142 
boŞ
 
	g·‰”nIsPÏyšg
[
NUM_CHANNELS
];

144 
commªd
(
ušt8_t
 
cmd
, ušt8_ˆ
X
, 
št8_t
 
Y
, ušt8_ˆ
i
);

145 
¶ayNÙe
(
ušt8_t
 
p™ch
, ušt8_ˆ
du¿tiÚ
, ušt8_ˆ
chªÃl
);

146 
upd©eNÙe
();

147 
upd©eNÙe
(
ušt8_t
 
i
);

148 
¡İNÙe
(
ušt8_t
 
chªÃl
);

149 
¡İNÙe
();

151 
ušt8_t
 
	gouutP™ch
[
NUM_CHANNELS
];

152 
št8_t
 
	gouutVŞume
[
NUM_CHANNELS
];

154 
£tMa¡”VŞume
(
ušt8_t
);

155 
ušt8_t
 
G‘Ma¡”VŞume
();

156 
£tVŞume
(
št16_t
 
vŞume
);

157 
ušt16_t
 
g‘VŞume
();

158 
£tVŞume
(
št8_t
 
vŞume
, 
ušt8_t
 
chªÃl
);

159 
ušt8_t
 
g‘VŞume
(ušt8_ˆ
chªÃl
);

161 
¶ayOK
();

162 
¶ayCªûl
();

163 
¶ayTick
();

165 
ušt8_t
 
	g´esÿËr
;

167 
£tChªÃlH®fP”iod
(
ušt8_t
 
chªÃl
, ušt8_ˆ
h®fP”iod
);

169 
g’”©eOuut
();

170 
ušt16_t
 
	gglob®VŞume
;

173 #ià(
NUM_CHANNELS
 > 0)

175 
ušt16_t
 *
	gŒackD©a
[
NUM_CHANNELS
];

176 
ušt8_t
 
	gŒackCursÜ
[
NUM_CHANNELS
];

177 
ušt16_t
 **
	g·‰”nS‘
[
NUM_CHANNELS
];

178 
št8_t
 
	g·‰”nP™ch
[
NUM_CHANNELS
];

181 
ušt16_t
 *
	g·‰”nD©a
[
NUM_CHANNELS
];

182 
ušt16_t
 **
	gš¡rum’tS‘
[
NUM_CHANNELS
];

183 
boŞ
 
	g·‰”nLoİšg
[
NUM_CHANNELS
];

184 
ušt16_t
 
	g·‰”nCursÜ
[
NUM_CHANNELS
];

187 
ušt8_t
 
	gnÙeP™ch
[
NUM_CHANNELS
];

188 
ušt8_t
 
	gnÙeDu¿tiÚ
[
NUM_CHANNELS
];

189 
št8_t
 
	gnÙeVŞume
[
NUM_CHANNELS
];

190 
boŞ
 
	gnÙePÏyšg
[
NUM_CHANNELS
];

193 
št8_t
 
	gcommªdsCouÁ”
[
NUM_CHANNELS
];

194 
št8_t
 
	gvŞumeSlideS‹pDu¿tiÚ
[
NUM_CHANNELS
];

195 
št8_t
 
	gvŞumeSlideS‹pSize
[
NUM_CHANNELS
];

196 
ušt8_t
 
	g¬³ggioS‹pDu¿tiÚ
[
NUM_CHANNELS
];

197 
št8_t
 
	g¬³ggioS‹pSize
[
NUM_CHANNELS
];

198 
ušt8_t
 
	gŒemŞoS‹pDu¿tiÚ
[
NUM_CHANNELS
];

199 
št8_t
 
	gŒemŞoS‹pSize
[
NUM_CHANNELS
];

203 
ušt16_t
 *
	gš¡rum’tD©a
[
NUM_CHANNELS
];

204 
ušt8_t
 
	gš¡rum’tL’gth
[
NUM_CHANNELS
];

205 
ušt8_t
 
	gš¡rum’tLoİšg
[
NUM_CHANNELS
];

206 
ušt16_t
 
	gš¡rum’tCursÜ
[
NUM_CHANNELS
];

207 
ušt8_t
 
	gš¡rum’tNextChªge
[
NUM_CHANNELS
];

210 
št8_t
 
	g¡•VŞume
[
NUM_CHANNELS
];

211 
ušt8_t
 
	g¡•P™ch
[
NUM_CHANNELS
];

213 
ušt8_t
 
	gchªVŞumes
[
NUM_CHANNELS
];

215 
upd©eOuut
();

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoTimer.h

37 #iâdeà
POKITTO_TIMER_H


38 
	#POKITTO_TIMER_H


	)

40 
pokIn™Tim”
();

41 
pokG‘Time
();

42 
pokWa™ms
(
ušt16_t
);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\binary.h

1 #iâdeà
Bš¬y_h


2 
	#Bš¬y_h


	)

5 
	#B00
 0

	)

6 
	#B000
 0

	)

7 
	#B0000
 0

	)

8 
	#B00000
 0

	)

9 
	#B000000
 0

	)

10 
	#B0000000
 0

	)

11 
	#B00000000
 0

	)

13 
	#B01
 1

	)

14 
	#B001
 1

	)

15 
	#B0001
 1

	)

16 
	#B00001
 1

	)

17 
	#B000001
 1

	)

18 
	#B0000001
 1

	)

19 
	#B00000001
 1

	)

20 
	#B10
 2

	)

21 
	#B010
 2

	)

22 
	#B0010
 2

	)

23 
	#B00010
 2

	)

24 
	#B000010
 2

	)

25 
	#B0000010
 2

	)

26 
	#B00000010
 2

	)

27 
	#B11
 3

	)

28 
	#B011
 3

	)

29 
	#B0011
 3

	)

30 
	#B00011
 3

	)

31 
	#B000011
 3

	)

32 
	#B0000011
 3

	)

33 
	#B00000011
 3

	)

34 
	#B100
 4

	)

35 
	#B0100
 4

	)

36 
	#B00100
 4

	)

37 
	#B000100
 4

	)

38 
	#B0000100
 4

	)

39 
	#B00000100
 4

	)

40 
	#B101
 5

	)

41 
	#B0101
 5

	)

42 
	#B00101
 5

	)

43 
	#B000101
 5

	)

44 
	#B0000101
 5

	)

45 
	#B00000101
 5

	)

46 
	#B110
 6

	)

47 
	#B0110
 6

	)

48 
	#B00110
 6

	)

49 
	#B000110
 6

	)

50 
	#B0000110
 6

	)

51 
	#B00000110
 6

	)

52 
	#B111
 7

	)

53 
	#B0111
 7

	)

54 
	#B00111
 7

	)

55 
	#B000111
 7

	)

56 
	#B0000111
 7

	)

57 
	#B00000111
 7

	)

58 
	#B1000
 8

	)

59 
	#B01000
 8

	)

60 
	#B001000
 8

	)

61 
	#B0001000
 8

	)

62 
	#B00001000
 8

	)

63 
	#B1001
 9

	)

64 
	#B01001
 9

	)

65 
	#B001001
 9

	)

66 
	#B0001001
 9

	)

67 
	#B00001001
 9

	)

68 
	#B1010
 10

	)

69 
	#B01010
 10

	)

70 
	#B001010
 10

	)

71 
	#B0001010
 10

	)

72 
	#B00001010
 10

	)

73 
	#B1011
 11

	)

74 
	#B01011
 11

	)

75 
	#B001011
 11

	)

76 
	#B0001011
 11

	)

77 
	#B00001011
 11

	)

78 
	#B1100
 12

	)

79 
	#B01100
 12

	)

80 
	#B001100
 12

	)

81 
	#B0001100
 12

	)

82 
	#B00001100
 12

	)

83 
	#B1101
 13

	)

84 
	#B01101
 13

	)

85 
	#B001101
 13

	)

86 
	#B0001101
 13

	)

87 
	#B00001101
 13

	)

88 
	#B1110
 14

	)

89 
	#B01110
 14

	)

90 
	#B001110
 14

	)

91 
	#B0001110
 14

	)

92 
	#B00001110
 14

	)

93 
	#B1111
 15

	)

94 
	#B01111
 15

	)

95 
	#B001111
 15

	)

96 
	#B0001111
 15

	)

97 
	#B00001111
 15

	)

98 
	#B10000
 16

	)

99 
	#B010000
 16

	)

100 
	#B0010000
 16

	)

101 
	#B00010000
 16

	)

102 
	#B10001
 17

	)

103 
	#B010001
 17

	)

104 
	#B0010001
 17

	)

105 
	#B00010001
 17

	)

106 
	#B10010
 18

	)

107 
	#B010010
 18

	)

108 
	#B0010010
 18

	)

109 
	#B00010010
 18

	)

110 
	#B10011
 19

	)

111 
	#B010011
 19

	)

112 
	#B0010011
 19

	)

113 
	#B00010011
 19

	)

114 
	#B10100
 20

	)

115 
	#B010100
 20

	)

116 
	#B0010100
 20

	)

117 
	#B00010100
 20

	)

118 
	#B10101
 21

	)

119 
	#B010101
 21

	)

120 
	#B0010101
 21

	)

121 
	#B00010101
 21

	)

122 
	#B10110
 22

	)

123 
	#B010110
 22

	)

124 
	#B0010110
 22

	)

125 
	#B00010110
 22

	)

126 
	#B10111
 23

	)

127 
	#B010111
 23

	)

128 
	#B0010111
 23

	)

129 
	#B00010111
 23

	)

130 
	#B11000
 24

	)

131 
	#B011000
 24

	)

132 
	#B0011000
 24

	)

133 
	#B00011000
 24

	)

134 
	#B11001
 25

	)

135 
	#B011001
 25

	)

136 
	#B0011001
 25

	)

137 
	#B00011001
 25

	)

138 
	#B11010
 26

	)

139 
	#B011010
 26

	)

140 
	#B0011010
 26

	)

141 
	#B00011010
 26

	)

142 
	#B11011
 27

	)

143 
	#B011011
 27

	)

144 
	#B0011011
 27

	)

145 
	#B00011011
 27

	)

146 
	#B11100
 28

	)

147 
	#B011100
 28

	)

148 
	#B0011100
 28

	)

149 
	#B00011100
 28

	)

150 
	#B11101
 29

	)

151 
	#B011101
 29

	)

152 
	#B0011101
 29

	)

153 
	#B00011101
 29

	)

154 
	#B11110
 30

	)

155 
	#B011110
 30

	)

156 
	#B0011110
 30

	)

157 
	#B00011110
 30

	)

158 
	#B11111
 31

	)

159 
	#B011111
 31

	)

160 
	#B0011111
 31

	)

161 
	#B00011111
 31

	)

162 
	#B100000
 32

	)

163 
	#B0100000
 32

	)

164 
	#B00100000
 32

	)

165 
	#B100001
 33

	)

166 
	#B0100001
 33

	)

167 
	#B00100001
 33

	)

168 
	#B100010
 34

	)

169 
	#B0100010
 34

	)

170 
	#B00100010
 34

	)

171 
	#B100011
 35

	)

172 
	#B0100011
 35

	)

173 
	#B00100011
 35

	)

174 
	#B100100
 36

	)

175 
	#B0100100
 36

	)

176 
	#B00100100
 36

	)

177 
	#B100101
 37

	)

178 
	#B0100101
 37

	)

179 
	#B00100101
 37

	)

180 
	#B100110
 38

	)

181 
	#B0100110
 38

	)

182 
	#B00100110
 38

	)

183 
	#B100111
 39

	)

184 
	#B0100111
 39

	)

185 
	#B00100111
 39

	)

186 
	#B101000
 40

	)

187 
	#B0101000
 40

	)

188 
	#B00101000
 40

	)

189 
	#B101001
 41

	)

190 
	#B0101001
 41

	)

191 
	#B00101001
 41

	)

192 
	#B101010
 42

	)

193 
	#B0101010
 42

	)

194 
	#B00101010
 42

	)

195 
	#B101011
 43

	)

196 
	#B0101011
 43

	)

197 
	#B00101011
 43

	)

198 
	#B101100
 44

	)

199 
	#B0101100
 44

	)

200 
	#B00101100
 44

	)

201 
	#B101101
 45

	)

202 
	#B0101101
 45

	)

203 
	#B00101101
 45

	)

204 
	#B101110
 46

	)

205 
	#B0101110
 46

	)

206 
	#B00101110
 46

	)

207 
	#B101111
 47

	)

208 
	#B0101111
 47

	)

209 
	#B00101111
 47

	)

210 
	#B110000
 48

	)

211 
	#B0110000
 48

	)

212 
	#B00110000
 48

	)

213 
	#B110001
 49

	)

214 
	#B0110001
 49

	)

215 
	#B00110001
 49

	)

216 
	#B110010
 50

	)

217 
	#B0110010
 50

	)

218 
	#B00110010
 50

	)

219 
	#B110011
 51

	)

220 
	#B0110011
 51

	)

221 
	#B00110011
 51

	)

222 
	#B110100
 52

	)

223 
	#B0110100
 52

	)

224 
	#B00110100
 52

	)

225 
	#B110101
 53

	)

226 
	#B0110101
 53

	)

227 
	#B00110101
 53

	)

228 
	#B110110
 54

	)

229 
	#B0110110
 54

	)

230 
	#B00110110
 54

	)

231 
	#B110111
 55

	)

232 
	#B0110111
 55

	)

233 
	#B00110111
 55

	)

234 
	#B111000
 56

	)

235 
	#B0111000
 56

	)

236 
	#B00111000
 56

	)

237 
	#B111001
 57

	)

238 
	#B0111001
 57

	)

239 
	#B00111001
 57

	)

240 
	#B111010
 58

	)

241 
	#B0111010
 58

	)

242 
	#B00111010
 58

	)

243 
	#B111011
 59

	)

244 
	#B0111011
 59

	)

245 
	#B00111011
 59

	)

246 
	#B111100
 60

	)

247 
	#B0111100
 60

	)

248 
	#B00111100
 60

	)

249 
	#B111101
 61

	)

250 
	#B0111101
 61

	)

251 
	#B00111101
 61

	)

252 
	#B111110
 62

	)

253 
	#B0111110
 62

	)

254 
	#B00111110
 62

	)

255 
	#B111111
 63

	)

256 
	#B0111111
 63

	)

257 
	#B00111111
 63

	)

258 
	#B1000000
 64

	)

259 
	#B01000000
 64

	)

260 
	#B1000001
 65

	)

261 
	#B01000001
 65

	)

262 
	#B1000010
 66

	)

263 
	#B01000010
 66

	)

264 
	#B1000011
 67

	)

265 
	#B01000011
 67

	)

266 
	#B1000100
 68

	)

267 
	#B01000100
 68

	)

268 
	#B1000101
 69

	)

269 
	#B01000101
 69

	)

270 
	#B1000110
 70

	)

271 
	#B01000110
 70

	)

272 
	#B1000111
 71

	)

273 
	#B01000111
 71

	)

274 
	#B1001000
 72

	)

275 
	#B01001000
 72

	)

276 
	#B1001001
 73

	)

277 
	#B01001001
 73

	)

278 
	#B1001010
 74

	)

279 
	#B01001010
 74

	)

280 
	#B1001011
 75

	)

281 
	#B01001011
 75

	)

282 
	#B1001100
 76

	)

283 
	#B01001100
 76

	)

284 
	#B1001101
 77

	)

285 
	#B01001101
 77

	)

286 
	#B1001110
 78

	)

287 
	#B01001110
 78

	)

288 
	#B1001111
 79

	)

289 
	#B01001111
 79

	)

290 
	#B1010000
 80

	)

291 
	#B01010000
 80

	)

292 
	#B1010001
 81

	)

293 
	#B01010001
 81

	)

294 
	#B1010010
 82

	)

295 
	#B01010010
 82

	)

296 
	#B1010011
 83

	)

297 
	#B01010011
 83

	)

298 
	#B1010100
 84

	)

299 
	#B01010100
 84

	)

300 
	#B1010101
 85

	)

301 
	#B01010101
 85

	)

302 
	#B1010110
 86

	)

303 
	#B01010110
 86

	)

304 
	#B1010111
 87

	)

305 
	#B01010111
 87

	)

306 
	#B1011000
 88

	)

307 
	#B01011000
 88

	)

308 
	#B1011001
 89

	)

309 
	#B01011001
 89

	)

310 
	#B1011010
 90

	)

311 
	#B01011010
 90

	)

312 
	#B1011011
 91

	)

313 
	#B01011011
 91

	)

314 
	#B1011100
 92

	)

315 
	#B01011100
 92

	)

316 
	#B1011101
 93

	)

317 
	#B01011101
 93

	)

318 
	#B1011110
 94

	)

319 
	#B01011110
 94

	)

320 
	#B1011111
 95

	)

321 
	#B01011111
 95

	)

322 
	#B1100000
 96

	)

323 
	#B01100000
 96

	)

324 
	#B1100001
 97

	)

325 
	#B01100001
 97

	)

326 
	#B1100010
 98

	)

327 
	#B01100010
 98

	)

328 
	#B1100011
 99

	)

329 
	#B01100011
 99

	)

330 
	#B1100100
 100

	)

331 
	#B01100100
 100

	)

332 
	#B1100101
 101

	)

333 
	#B01100101
 101

	)

334 
	#B1100110
 102

	)

335 
	#B01100110
 102

	)

336 
	#B1100111
 103

	)

337 
	#B01100111
 103

	)

338 
	#B1101000
 104

	)

339 
	#B01101000
 104

	)

340 
	#B1101001
 105

	)

341 
	#B01101001
 105

	)

342 
	#B1101010
 106

	)

343 
	#B01101010
 106

	)

344 
	#B1101011
 107

	)

345 
	#B01101011
 107

	)

346 
	#B1101100
 108

	)

347 
	#B01101100
 108

	)

348 
	#B1101101
 109

	)

349 
	#B01101101
 109

	)

350 
	#B1101110
 110

	)

351 
	#B01101110
 110

	)

352 
	#B1101111
 111

	)

353 
	#B01101111
 111

	)

354 
	#B1110000
 112

	)

355 
	#B01110000
 112

	)

356 
	#B1110001
 113

	)

357 
	#B01110001
 113

	)

358 
	#B1110010
 114

	)

359 
	#B01110010
 114

	)

360 
	#B1110011
 115

	)

361 
	#B01110011
 115

	)

362 
	#B1110100
 116

	)

363 
	#B01110100
 116

	)

364 
	#B1110101
 117

	)

365 
	#B01110101
 117

	)

366 
	#B1110110
 118

	)

367 
	#B01110110
 118

	)

368 
	#B1110111
 119

	)

369 
	#B01110111
 119

	)

370 
	#B1111000
 120

	)

371 
	#B01111000
 120

	)

372 
	#B1111001
 121

	)

373 
	#B01111001
 121

	)

374 
	#B1111010
 122

	)

375 
	#B01111010
 122

	)

376 
	#B1111011
 123

	)

377 
	#B01111011
 123

	)

378 
	#B1111100
 124

	)

379 
	#B01111100
 124

	)

380 
	#B1111101
 125

	)

381 
	#B01111101
 125

	)

382 
	#B1111110
 126

	)

383 
	#B01111110
 126

	)

384 
	#B1111111
 127

	)

385 
	#B01111111
 127

	)

386 
	#B10000000
 128

	)

387 
	#B10000001
 129

	)

388 
	#B10000010
 130

	)

389 
	#B10000011
 131

	)

390 
	#B10000100
 132

	)

391 
	#B10000101
 133

	)

392 
	#B10000110
 134

	)

393 
	#B10000111
 135

	)

394 
	#B10001000
 136

	)

395 
	#B10001001
 137

	)

396 
	#B10001010
 138

	)

397 
	#B10001011
 139

	)

398 
	#B10001100
 140

	)

399 
	#B10001101
 141

	)

400 
	#B10001110
 142

	)

401 
	#B10001111
 143

	)

402 
	#B10010000
 144

	)

403 
	#B10010001
 145

	)

404 
	#B10010010
 146

	)

405 
	#B10010011
 147

	)

406 
	#B10010100
 148

	)

407 
	#B10010101
 149

	)

408 
	#B10010110
 150

	)

409 
	#B10010111
 151

	)

410 
	#B10011000
 152

	)

411 
	#B10011001
 153

	)

412 
	#B10011010
 154

	)

413 
	#B10011011
 155

	)

414 
	#B10011100
 156

	)

415 
	#B10011101
 157

	)

416 
	#B10011110
 158

	)

417 
	#B10011111
 159

	)

418 
	#B10100000
 160

	)

419 
	#B10100001
 161

	)

420 
	#B10100010
 162

	)

421 
	#B10100011
 163

	)

422 
	#B10100100
 164

	)

423 
	#B10100101
 165

	)

424 
	#B10100110
 166

	)

425 
	#B10100111
 167

	)

426 
	#B10101000
 168

	)

427 
	#B10101001
 169

	)

428 
	#B10101010
 170

	)

429 
	#B10101011
 171

	)

430 
	#B10101100
 172

	)

431 
	#B10101101
 173

	)

432 
	#B10101110
 174

	)

433 
	#B10101111
 175

	)

434 
	#B10110000
 176

	)

435 
	#B10110001
 177

	)

436 
	#B10110010
 178

	)

437 
	#B10110011
 179

	)

438 
	#B10110100
 180

	)

439 
	#B10110101
 181

	)

440 
	#B10110110
 182

	)

441 
	#B10110111
 183

	)

442 
	#B10111000
 184

	)

443 
	#B10111001
 185

	)

444 
	#B10111010
 186

	)

445 
	#B10111011
 187

	)

446 
	#B10111100
 188

	)

447 
	#B10111101
 189

	)

448 
	#B10111110
 190

	)

449 
	#B10111111
 191

	)

450 
	#B11000000
 192

	)

451 
	#B11000001
 193

	)

452 
	#B11000010
 194

	)

453 
	#B11000011
 195

	)

454 
	#B11000100
 196

	)

455 
	#B11000101
 197

	)

456 
	#B11000110
 198

	)

457 
	#B11000111
 199

	)

458 
	#B11001000
 200

	)

459 
	#B11001001
 201

	)

460 
	#B11001010
 202

	)

461 
	#B11001011
 203

	)

462 
	#B11001100
 204

	)

463 
	#B11001101
 205

	)

464 
	#B11001110
 206

	)

465 
	#B11001111
 207

	)

466 
	#B11010000
 208

	)

467 
	#B11010001
 209

	)

468 
	#B11010010
 210

	)

469 
	#B11010011
 211

	)

470 
	#B11010100
 212

	)

471 
	#B11010101
 213

	)

472 
	#B11010110
 214

	)

473 
	#B11010111
 215

	)

474 
	#B11011000
 216

	)

475 
	#B11011001
 217

	)

476 
	#B11011010
 218

	)

477 
	#B11011011
 219

	)

478 
	#B11011100
 220

	)

479 
	#B11011101
 221

	)

480 
	#B11011110
 222

	)

481 
	#B11011111
 223

	)

482 
	#B11100000
 224

	)

483 
	#B11100001
 225

	)

484 
	#B11100010
 226

	)

485 
	#B11100011
 227

	)

486 
	#B11100100
 228

	)

487 
	#B11100101
 229

	)

488 
	#B11100110
 230

	)

489 
	#B11100111
 231

	)

490 
	#B11101000
 232

	)

491 
	#B11101001
 233

	)

492 
	#B11101010
 234

	)

493 
	#B11101011
 235

	)

494 
	#B11101100
 236

	)

495 
	#B11101101
 237

	)

496 
	#B11101110
 238

	)

497 
	#B11101111
 239

	)

498 
	#B11110000
 240

	)

499 
	#B11110001
 241

	)

500 
	#B11110010
 242

	)

501 
	#B11110011
 243

	)

502 
	#B11110100
 244

	)

503 
	#B11110101
 245

	)

504 
	#B11110110
 246

	)

505 
	#B11110111
 247

	)

506 
	#B11111000
 248

	)

507 
	#B11111001
 249

	)

508 
	#B11111010
 250

	)

509 
	#B11111011
 251

	)

510 
	#B11111100
 252

	)

511 
	#B11111101
 253

	)

512 
	#B11111110
 254

	)

513 
	#B11111111
 255

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\HWButtons.cpp

37 
	~"HWBu‰Ús.h
"

38 
	~"Pok™toCÜe.h
"

39 
	~"Pok™toSound.h
"

40 
	~"Pok™toDi¥Ïy.h
"

42 
	gPok™to
::
Sound
 
_s
;

43 
	gPok™to
::
Di¥Ïy
 
_bd
;

45 
usšg
 
Çme¥aû
 
	gmbed
;

47 
IÁ”ru±In
 
ABŠ
(
POK_BTN_A_PIN
);

48 
IÁ”ru±In
 
BBŠ
(
POK_BTN_B_PIN
);

49 
IÁ”ru±In
 
CBŠ
(
POK_BTN_C_PIN
);

50 
IÁ”ru±In
 
UBŠ
(
POK_BTN_UP_PIN
);

51 
IÁ”ru±In
 
DBŠ
(
POK_BTN_DOWN_PIN
);

52 
IÁ”ru±In
 
LBŠ
(
POK_BTN_LEFT_PIN
);

53 
IÁ”ru±In
 
RBŠ
(
POK_BTN_RIGHT_PIN
);

55 
	#BS_IDLE
 0

	)

56 
	#BS_DOWN
 1

	)

57 
	#BS_UP
 2

	)

59 
ušt8_t
 
	gPok™to
::
h–dS‹s
[
NUM_BTN
];

60 
boŞ
 
	gvŞ_cÚŒŞ_şicked
=
çl£
;

62 
	$AP»s£d
() {

63 
Pok™to
::
h–dS‹s
[
BTN_A
] = 1;

64 
	}
}

65 
	$AR–—£d
() {

66 
Pok™to
::
h–dS‹s
[
BTN_A
] = 0;

67 
	}
}

68 
	$BP»s£d
(è{ 
Pok™to
::
h–dS‹s
[
BTN_B
] = 1; 
	}
}

69 
	$BR–—£d
(è{ 
Pok™to
::
h–dS‹s
[
BTN_B
] = 0; 
	}
}

70 
	$CP»s£d
() {

71 
Pok™to
::
h–dS‹s
[
BTN_C
] = 1;

72 
	}
}

73 
	$CR–—£d
(è{ 
Pok™to
::
h–dS‹s
[
BTN_C
] = 0; 
	}
}

74 
	$UP»s£d
(è{ 
Pok™to
::
h–dS‹s
[
BTN_UP
] = 1; 
	}
}

75 
	$UR–—£d
(è{ 
Pok™to
::
h–dS‹s
[
BTN_UP
] = 0; 
	}
}

76 
	$DP»s£d
(è{ 
Pok™to
::
h–dS‹s
[
BTN_DOWN
] = 1; 
	}
}

77 
	$DR–—£d
(è{ 
Pok™to
::
h–dS‹s
[
BTN_DOWN
] = 0; 
	}
}

78 
	$RP»s£d
() {

80 ià(
Pok™to
::
h–dS‹s
[
BTN_C
]è
_s
.
	`vŞumeUp
();

81 
Pok™to
::
h–dS‹s
[
BTN_RIGHT
] = 1;

82 
	}
}

83 
	$RR–—£d
(è{ 
Pok™to
::
h–dS‹s
[
BTN_RIGHT
] = 0; 
	}
}

84 
	$LP»s£d
() {

86 ià(
Pok™to
::
h–dS‹s
[
BTN_C
]è
_s
.
	`vŞumeDown
();

87 
Pok™to
::
h–dS‹s
[
BTN_LEFT
] = 1;

88 
	}
}

89 
	$LR–—£d
(è{ 
Pok™to
::
h–dS‹s
[
BTN_LEFT
] = 0; 
	}
}

91 
šlše
 
	$CË¬PšIÁ
(
LPC_PIN_INT_T
 *
pPININT
, 
ušt32_t
 
pšs
)

93 
pPININT
->
IST
 = 
pšs
;

94 
	}
}

96 
	$PIN_INT0_IRQHªdËr
()

102 
Pok™to
::
h–dS‹s
[
BTN_A
]=
ABŠ
.
	`»ad
();

103 
	`CË¬PšIÁ
((
LPC_PIN_INT_T
 *)
LPC_PININT
, 
	`PININTCH
(0));

104 
	}
}

106 
	$PIN_INT1_IRQHªdËr
()

110 
Pok™to
::
h–dS‹s
[
BTN_B
]=
BBŠ
.
	`»ad
();

111 
	`CË¬PšIÁ
((
LPC_PIN_INT_T
 *)
LPC_PININT
, 
	`PININTCH
(1));

112 
	}
}

114 
	$PIN_INT2_IRQHªdËr
()

118 
Pok™to
::
h–dS‹s
[
BTN_C
]=
CBŠ
.
	`»ad
();

119 
	`CË¬PšIÁ
((
LPC_PIN_INT_T
 *)
LPC_PININT
, 
	`PININTCH
(2));

120 
	}
}

122 
	$PIN_INT3_IRQHªdËr
()

126 
Pok™to
::
h–dS‹s
[
BTN_UP
]=
UBŠ
.
	`»ad
();

127 
	`CË¬PšIÁ
((
LPC_PIN_INT_T
 *)
LPC_PININT
, 
	`PININTCH
(3));

128 
	}
}

130 
	$PIN_INT4_IRQHªdËr
()

134 
Pok™to
::
h–dS‹s
[
BTN_DOWN
]=
DBŠ
.
	`»ad
();

135 
	`CË¬PšIÁ
((
LPC_PIN_INT_T
 *)
LPC_PININT
, 
	`PININTCH
(4));

136 
	}
}

138 
	$PIN_INT5_IRQHªdËr
()

143 
Pok™to
::
h–dS‹s
[
BTN_C
]=
CBŠ
.
	`»ad
();

144 
Pok™to
::
h–dS‹s
[
BTN_LEFT
]=
LBŠ
.
	`»ad
();

145 ià(
Pok™to
::
h–dS‹s
[
BTN_C
] && Pok™to::h–dS‹s[
BTN_LEFT
])

147 ià(!
vŞ_cÚŒŞ_şicked
è
_s
.
	`vŞumeDown
();

148 
Pok™to
::
h–dS‹s
[
BTN_LEFT
]=0;

149 
vŞ_cÚŒŞ_şicked
=
Œue
;

150 } 
vŞ_cÚŒŞ_şicked
=
çl£
;

152 
	`CË¬PšIÁ
((
LPC_PIN_INT_T
 *)
LPC_PININT
, 
	`PININTCH
(5));

153 
	}
}

155 
	$PIN_INT6_IRQHªdËr
()

160 
Pok™to
::
h–dS‹s
[
BTN_C
]=
CBŠ
.
	`»ad
();

161 
Pok™to
::
h–dS‹s
[
BTN_RIGHT
]=
RBŠ
.
	`»ad
();

162 ià(
Pok™to
::
h–dS‹s
[
BTN_C
] && Pok™to::h–dS‹s[
BTN_RIGHT
])

164 ià(!
vŞ_cÚŒŞ_şicked
è
_s
.
	`vŞumeUp
();

165 
Pok™to
::
h–dS‹s
[
BTN_RIGHT
]=0;

166 
vŞ_cÚŒŞ_şicked
=
Œue
;

167 } 
vŞ_cÚŒŞ_şicked
=
çl£
;

169 
	`CË¬PšIÁ
((
LPC_PIN_INT_T
 *)
LPC_PININT
, 
	`PININTCH
(6));

170 
	}
}

173 
	gPok™to
::
	$š™Bu‰Ús
() {

174 
ABŠ
.
	`çÎ
(&
AR–—£d
);

175 
ABŠ
.
	`ri£
(&
AP»s£d
);

176 
BBŠ
.
	`çÎ
(&
BR–—£d
);

177 
BBŠ
.
	`ri£
(&
BP»s£d
);

178 
CBŠ
.
	`çÎ
(&
CR–—£d
);

179 
CBŠ
.
	`ri£
(&
CP»s£d
);

180 
UBŠ
.
	`çÎ
(&
UR–—£d
);

181 
UBŠ
.
	`ri£
(&
UP»s£d
);

182 
DBŠ
.
	`çÎ
(&
DR–—£d
);

183 
DBŠ
.
	`ri£
(&
DP»s£d
);

184 
LBŠ
.
	`çÎ
(&
LR–—£d
);

185 
LBŠ
.
	`ri£
(&
LP»s£d
);

186 
RBŠ
.
	`çÎ
(&
RR–—£d
);

187 
RBŠ
.
	`ri£
(&
RP»s£d
);

188 
	`NVIC_S‘VeùÜ
((
IRQn_Ty³
)(
PIN_INT0_IRQn
), (
ušt32_t
)&
PIN_INT0_IRQHªdËr
);

189 
	`NVIC_S‘VeùÜ
((
IRQn_Ty³
)(
PIN_INT1_IRQn
), (
ušt32_t
)&
PIN_INT1_IRQHªdËr
);

190 
	`NVIC_S‘VeùÜ
((
IRQn_Ty³
)(
PIN_INT2_IRQn
), (
ušt32_t
)&
PIN_INT2_IRQHªdËr
);

191 
	`NVIC_S‘VeùÜ
((
IRQn_Ty³
)(
PIN_INT3_IRQn
), (
ušt32_t
)&
PIN_INT3_IRQHªdËr
);

192 
	`NVIC_S‘VeùÜ
((
IRQn_Ty³
)(
PIN_INT4_IRQn
), (
ušt32_t
)&
PIN_INT4_IRQHªdËr
);

193 
	`NVIC_S‘VeùÜ
((
IRQn_Ty³
)(
PIN_INT5_IRQn
), (
ušt32_t
)&
PIN_INT5_IRQHªdËr
);

194 
	`NVIC_S‘VeùÜ
((
IRQn_Ty³
)(
PIN_INT6_IRQn
), (
ušt32_t
)&
PIN_INT6_IRQHªdËr
);

195 
	}
}

197 
ušt8_t
 
	gPok™to
::
CÜe
::
	$aBŠ
() {

198  
Pok™to
::
h–dS‹s
[
BTN_A
];

199 
	}
}

201 
ušt8_t
 
	gPok™to
::
CÜe
::
	$bBŠ
() {

202  
Pok™to
::
h–dS‹s
[
BTN_B
];

203 
	}
}

205 
ušt8_t
 
	gPok™to
::
CÜe
::
	$cBŠ
() {

206  
Pok™to
::
h–dS‹s
[
BTN_C
];

207 
	}
}

209 
ušt8_t
 
	gPok™to
::
CÜe
::
	$upBŠ
() {

210  
Pok™to
::
h–dS‹s
[
BTN_UP
];

211 
	}
}

212 
ušt8_t
 
	gPok™to
::
CÜe
::
	$downBŠ
() {

213  
Pok™to
::
h–dS‹s
[
BTN_DOWN
];

214 
	}
}

216 
ušt8_t
 
	gPok™to
::
CÜe
::
	$ËáBŠ
() {

217  
Pok™to
::
h–dS‹s
[
BTN_LEFT
];

218 
	}
}

219 
ušt8_t
 
	gPok™to
::
CÜe
::
	$rightBŠ
() {

220  
Pok™to
::
h–dS‹s
[
BTN_RIGHT
];

221 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\HWButtons.h

36 #iâdeà
HWBUTTONS_H


37 
	#HWBUTTONS_H


	)

39 
	~"mbed.h
"

40 
	~"Pok™to_£‰šgs.h
"

42 
	#BTN_UP
 1

	)

43 
	#BTN_RIGHT
 2

	)

44 
	#BTN_DOWN
 3

	)

45 
	#BTN_LEFT
 0

	)

46 
	#BTN_A
 4

	)

47 
	#BTN_B
 5

	)

48 
	#BTN_C
 6

	)

49 
	#NUM_BTN
 7

	)

52 
__IO
 
ušt32_t
 
	mISEL
;

53 
__IO
 
ušt32_t
 
	mIENR
;

54 
__IO
 
ušt32_t
 
	mSIENR
;

55 
__IO
 
ušt32_t
 
	mCIENR
;

56 
__IO
 
ušt32_t
 
	mIENF
;

57 
__IO
 
ušt32_t
 
	mSIENF
;

58 
__IO
 
ušt32_t
 
	mCIENF
;

59 
__IO
 
ušt32_t
 
	mRISE
;

60 
__IO
 
ušt32_t
 
	mFALL
;

61 
__IO
 
ušt32_t
 
	mIST
;

62 
__IO
 
ušt32_t
 
	mPMCTRL
;

63 
__IO
 
ušt32_t
 
	mPMSRC
;

64 
__IO
 
ušt32_t
 
	mPMCFG
;

65 } 
	tLPC_PIN_INT_T
;

67 
	#LPC_PININT
 0xA0004000

	)

68 
	#PININTCH
(
ch
è(1 << (ch))

	)

70 
Çme¥aû
 
	gPok™to
 {

72 
ušt8_t
 
h–dS‹s
[];

73 
š™Bu‰Ús
();

74 
pŞlBu‰Ús
();

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\HWLCD.cpp

37 
	~"HWLCD.h
"

38 
	~"Pok™to_£‰šgs.h
"

40 #iâdeà
DISABLEAVRMIN


41 
	#max
(
a
,
b
è(×)>(b)?×):(b))

	)

42 
	#mš
(
a
,
b
è(×)<(b)?×):(b))

	)

45 
	#AB_JUMP
 1024

46 
	#GB_JUMP
 504

47 

	)

48 
usšg
 
Çme¥aû
 
	gPok™to
;

50 
ušt16_t
 
	g´evd©a
=0;

52 #ià
POK_BOARDREV
 == 2

53 
pwmout_t
 
	gbacklighwm
;

63 
šlše
 
	$£tup_d©a_16
(
ušt16_t
 
d©a
)

75 
SET_MASK_P2
;

76 
LPC_GPIO_PORT
->
MPIN
[2] = (
d©a
<<3);

77 
CLR_MASK_P2
;

80 
	}
}

88 
šlše
 
	$wr™e_commªd_16
(
ušt16_t
 
d©a
)

90 
CLR_CS
;

91 
CLR_CD
;

92 
SET_RD
;

93 
	`£tup_d©a_16
(
d©a
);

94 
CLR_WR_SLOW
;

95 
SET_WR
;

96 
SET_CS
;

97 
	}
}

104 
šlše
 
	$wr™e_d©a_16
(
ušt16_t
 
d©a
)

106 
CLR_CS
;

107 
SET_CD
;

108 
SET_RD
;

109 
	`£tup_d©a_16
(
d©a
);

110 
CLR_WR
;

111 
SET_WR
;

112 
SET_CS
;

113 
	}
}

120 
	gPok™to
::
	$pumpDRAMd©a
(
ušt16_t
* 
d©a
,ušt16_ˆ
couÁ”
)

122 
couÁ”
--) {

123 
CLR_CS
;

124 
SET_CD
;

125 
SET_RD
;

126 
	`£tup_d©a_16
(*
d©a
++);

127 
CLR_WR
;

128 
SET_WR
;

129 
SET_CS
;

131 
	}
}

139 
šlše
 
	$£tDRAM±r
(
ušt8_t
 
x±r
, ušt8_ˆ
yoff£t
)

141 
	`wr™e_commªd
(0x20);

142 
	`wr™e_d©a
(
yoff£t
);

143 
	`wr™e_commªd
(0x21);

144 
	`wr™e_d©a
(
x±r
);

145 
	`wr™e_commªd
(0x22);

146 
CLR_CS_SET_CD_RD_WR
;

147 
	}
}

154 
	gPok™to
::
	$£tDRAMpošt
(
ušt8_t
 
x±r
, ušt8_ˆ
yoff£t
)

156 
	`wr™e_commªd
(0x20);

157 
	`wr™e_d©a
(
yoff£t
);

158 
	`wr™e_commªd
(0x21);

159 
	`wr™e_d©a
(
x±r
);

160 
	`wr™e_commªd
(0x22);

161 
CLR_CS_SET_CD_RD_WR
;

162 
	}
}

164 
	gPok™to
::
	$š™Backlight
() {

165 #ià
POK_BOARDREV
 == 2

166 
	`pwmout_š™
(&
backlighwm
,
POK_BACKLIGHT_PIN
);

167 
	`pwmout_³riod_us
(&
backlighwm
,5);

168 
	`pwmout_wr™e
(&
backlighwm
,
POK_BACKLIGHT_INITIALVALUE
);

170 
	}
}

172 
	gPok™to
::
	$£tBacklight
(
v®ue
) {

173 ià(
v®ue
>0.999f) value = 0.999f;

174 
	`pwmout_wr™e
(&
backlighwm
,
v®ue
);

175 
	}
}

177 
	gPok™to
::
	$lcdIn™
() {

178 
	`š™Backlight
();

180 
SET_RESET
;

181 
	`wa™_ms
(10);

182 
CLR_RESET
;

183 
	`wa™_ms
(10);

184 
SET_RESET
;

185 
	`wa™_ms
(10);

187 
	`wr™e_commªd
(0x01);

188 
	`wr™e_d©a
(0x11C);

198 
	`wr™e_commªd
(0x02);

199 
	`wr™e_d©a
(0x0100);

201 
	`wr™e_commªd
(0x03);

202 
	`wr™e_d©a
(0x1030);

209 
	`wr™e_commªd
(0x08);

210 
	`wr™e_d©a
(0x0808);

212 
	`wr™e_commªd
(0x0C);

213 
	`wr™e_d©a
(0x0000);

215 
	`wr™e_commªd
(0x0F);

216 
	`wr™e_d©a
(0x0001);

218 
	`wr™e_commªd
(0x20);

219 
	`wr™e_d©a
(0x0000);

221 
	`wr™e_commªd
(0x21);

222 
	`wr™e_d©a
(0x0000);

225 
	`wr™e_commªd
(0x10);

226 
	`wr™e_d©a
(0x0000);

228 
	`wr™e_commªd
(0x11);

229 
	`wr™e_d©a
(0x1000);

230 
	`wa™_ms
(10);

232 
	`wr™e_commªd
(0x30);

233 
	`wr™e_d©a
(0x0000);

235 
	`wr™e_commªd
(0x31);

236 
	`wr™e_d©a
(0x00DB);

238 
	`wr™e_commªd
(0x32);

239 
	`wr™e_d©a
(0x0000);

241 
	`wr™e_commªd
(0x33);

242 
	`wr™e_d©a
(0x0000);

244 
	`wr™e_commªd
(0x34);

245 
	`wr™e_d©a
(0x00DB);

247 
	`wr™e_commªd
(0x35);

248 
	`wr™e_d©a
(0x0000);

250 
	`wr™e_commªd
(0x36);

251 
	`wr™e_d©a
(0x00AF);

253 
	`wr™e_commªd
(0x37);

254 
	`wr™e_d©a
(0x0000);

256 
	`wr™e_commªd
(0x38);

257 
	`wr™e_d©a
(0x00DB);

259 
	`wr™e_commªd
(0x39);

260 
	`wr™e_d©a
(0x0000);

261 
	`wa™_ms
(10);

262 
	`wr™e_commªd
(0xff);

263 
	`wr™e_d©a
(0x0003);

266 
	`wr™e_commªd
(0x50);

267 
	`wr™e_d©a
(0x0203);

269 
	`wr™e_commªd
(0x051);

270 
	`wr™e_d©a
(0x0A09);

272 
	`wr™e_commªd
(0x52);

273 
	`wr™e_d©a
(0x0005);

275 
	`wr™e_commªd
(0x53);

276 
	`wr™e_d©a
(0x1021);

278 
	`wr™e_commªd
(0x54);

279 
	`wr™e_d©a
(0x0602);

281 
	`wr™e_commªd
(0x55);

282 
	`wr™e_d©a
(0x0003);

284 
	`wr™e_commªd
(0x56);

285 
	`wr™e_d©a
(0x0703);

287 
	`wr™e_commªd
(0x57);

288 
	`wr™e_d©a
(0x0507);

290 
	`wr™e_commªd
(0x58);

291 
	`wr™e_d©a
(0x1021);

293 
	`wr™e_commªd
(0x59);

294 
	`wr™e_d©a
(0x0703);

296 
	`wr™e_commªd
(0xB0);

297 
	`wr™e_d©a
(0x2501);

299 
	`wr™e_commªd
(0xFF);

300 
	`wr™e_d©a
(0x0000);

302 
	`wr™e_commªd
(0x07);

303 
	`wr™e_d©a
(0x1017);

304 
	`wa™_ms
(200);

305 
	`wr™e_commªd
(0x22);

307 
	`lcdCË¬
();

308 
	}
}

310 
	gPok™to
::
	$lcdSË•
(){

311 
	`wr™e_commªd
(0xFF);

312 
	`wr™e_d©a
(0x0000);

314 
	`wr™e_commªd
(0x07);

315 
	`wr™e_d©a
(0x0000);

316 
	`wa™_ms
(50);

317 
	`wr™e_commªd
(0x10);

318 
	`wr™e_d©a
(0x0003);

319 
	`wa™_ms
(200);

321 
	}
}

323 
	gPok™to
::
	$lcdWakeUp
 (){

325 
	`wa™_ms
(200);

326 
	`wr™e_commªd
(0xFF);

327 
	`wr™e_d©a
(0x0000);

329 
	`wr™e_commªd
(0x10);

330 
	`wr™e_d©a
(0x0000);

331 
	`wa™_ms
(50);

332 
	`wr™e_commªd
(0x07);

333 
	`wr™e_d©a
(0x0117);

334 
	`wa™_ms
(200);

335 
	}
}

337 
	gPok™to
::
	$lcdFlSurçû
(
ušt16_t
 
c
) {

338 
ušt32_t
 
i
;

339 
	`wr™e_commªd
(0x20);

340 
	`wr™e_d©a
(0x0000);

341 
	`wr™e_commªd
(0x21);

342 
	`wr™e_d©a
(0);

343 
	`wr™e_commªd
(0x22);

344 
	`£tup_d©a_16
(
c
);

345 
CLR_CS_SET_CD_RD_WR
;

346 
i
=0;i<220*176;i++)

348 
CLR_WR
;

349 
SET_WR
;

351 
	}
}

353 
	gPok™to
::
	$lcdCË¬
() {

354 
ušt32_t
 
i
;

355 
	`wr™e_commªd
(0x20);

356 
	`wr™e_d©a
(0x0000);

357 
	`wr™e_commªd
(0x21);

358 
	`wr™e_d©a
(0);

359 
	`wr™e_commªd
(0x22);

360 
	`£tup_d©a_16
(0x0000);

361 
CLR_CS_SET_CD_RD_WR
;

362 
i
=0;i<220*176;i++)

364 
CLR_WR
;

365 
SET_WR
;

367 
	}
}

369 
	gPok™to
::
	$lcdPix–
(
št16_t
 
x
, iÁ16_ˆ
y
, 
ušt16_t
 
cŞÜ
) {

370 ià((
x
 < 0è|| (x >ğ
POK_LCD_W
è|| (
y
 < 0è|| (y >ğ
POK_LCD_H
))

372 
	`wr™e_commªd
(0x20);

373 
	`wr™e_d©a
(
y
);

374 
	`wr™e_commªd
(0x21);

375 
	`wr™e_d©a
(
x
);

376 
	`wr™e_commªd
(0x22);

377 
CLR_CS_SET_CD_RD_WR
;

378 
	`£tup_d©a_16
(
cŞÜ
);

379 
CLR_WR
;
SET_WR
;

380 
	}
}

382 
	gPok™to
::
	$£tWšdow
(
ušt8_t
 
x1
, ušt8_ˆ
y1
, ušt8_ˆ
x2
, ušt8_ˆ
y2
) {

383 
	`wr™e_commªd
(0x37); 
	`wr™e_d©a
(
x1
);

384 
	`wr™e_commªd
(0x36); 
	`wr™e_d©a
(
x2
);

385 
	`wr™e_commªd
(0x39); 
	`wr™e_d©a
(
y1
);

386 
	`wr™e_commªd
(0x38); 
	`wr™e_d©a
(
y2
);

387 
	`wr™e_commªd
(0x20); 
	`wr™e_d©a
(
x1
);

388 
	`wr™e_commªd
(0x21); 
	`wr™e_d©a
(
y1
);

389 
	}
}

391 
	gPok™to
::
	$lcdTe
(
št16_t
 
x0
, iÁ16_ˆ
y0
, iÁ16_ˆ
x1
, iÁ16_ˆ
y1
, 
ušt16_t
* 
gfx
){

392 
width
=
x1
-
x0
;

393 
height
=
y1
-
y0
;

394 ià(
x0
 > 
POK_LCD_W
) ;

395 ià(
y0
 > 
POK_LCD_H
) ;

396 ià(
x0
 < 0) x0=0;

397 ià(
y0
 < 0) y0=0;

399 
	`£tWšdow
(
y0
, 
x0
, 
y1
-1, 
x1
-1);

400 
	`wr™e_commªd
(0x22);

402 
x
=0; x<=
width
*
height
-1;x++) {

403 
	`wr™e_d©a
(
gfx
[
x
]);

405 
	`£tWšdow
(0, 0, 175, 219);

406 
	}
}

409 
	gPok™to
::
	$lcdReùªgË
(
št16_t
 
x0
, iÁ16_ˆ
y0
, iÁ16_ˆ
x1
, iÁ16_ˆ
y1
, 
ušt16_t
 
cŞÜ
) {

410 
št16_t
 
‹mp
;

411 ià(
x0
>
x1
è{
‹mp
=x0;x0=x1;x1=temp;}

412 ià(
y0
>
y1
è{
‹mp
=y0;y0=y1;y1=temp;}

413 ià(
x0
 > 
POK_LCD_W
) ;

414 ià(
y0
 > 
POK_LCD_H
) ;

415 ià(
x1
 > 
POK_LCD_W
) x1=POK_LCD_W;

416 ià(
y1
 > 
POK_LCD_H
) y1=POK_LCD_H;

417 ià(
x0
 < 0) x0=0;

418 ià(
y0
 < 0) y0=0;

420 
št16_t
 
x
,
y
;

421 
x
=
x0
; x<=
x1
;x++) {

422 
	`wr™e_commªd
(0x20);

423 
	`wr™e_d©a
(
y0
);

424 
	`wr™e_commªd
(0x21);

425 
	`wr™e_d©a
(
x
);

426 
	`wr™e_commªd
(0x22);

428 
CLR_CS_SET_CD_RD_WR
;

431 
y
=
y0
; y<
y1
;y++) {

432 
	`£tup_d©a_16
(
cŞÜ
);

433 
CLR_WR
;
SET_WR
;

436 
	}
}

451 
	gPok™to
::
	$lcdReäeshMode1
(
ušt8_t
 * 
sübuf
, ušt8_ˆ
updReùX
, ušt8_ˆ
updReùY
, ušt8_ˆ
updReùW
, ušt8_ˆ
updReùH
, 
ušt16_t
* 
·Ë‰•Œ
) {

453 
ušt16_t
 
x
,
y
,
x±r
;

454 
ušt16_t
 
sÿÆše
[4][176];

455 
ušt8_t
 *
d
, 
yoff£t
=0;

458 iàĞ
updReùX
 !ğ0 || 
updReùY
 !ğ0 ||
updReùW
 !ğ
LCDWIDTH
 ||
updReùH
 !ğ
LCDHEIGHT
 ) {

459 
ušt8_t
 
Üg_sü“nx
 = 
updReùX
;

460 
updReùX
 &= 0xfc;

461 
updReùW
 +ğ
Üg_sü“nx
 - 
updReùX
;

462 
updReùW
 = (updRectW + 3) & 0xfc;

464 
ušt8_t
 
Üg_sü“ny
 = 
updReùY
;

465 
updReùY
 &= 0xfc;

466 
updReùH
 +ğ
Üg_sü“ny
 - 
updReùY
;

467 
updReùH
 = (updRectH + 7) & 0xf8;

471 #ifdeà
PROJ_SHOW_FPS_COUNTER


472 
x±r
 = 8;

473 
	`£tDRAM±r
(8, 0);

475 
x±r
 = 0;

476 
	`£tDRAM±r
(0, 0);

479 
x
=
updReùX
; x<updReùX+
updReùW
; x+=4) {

480 
d
 = 
sübuf
+(
x
>>2);

483 
ušt8_t
 
s
=0;

484 
d
 +ğ(
updReùY
 * 220/4);

485 
y
=
updReùY
; y<updReùY+
updReùH
; y++) {

486 
ušt8_t
 
td©a
 = *
d
;

487 
ušt8_t
 
t4
 = 
td©a
 & 0x03;data >>= 2;

488 
ušt8_t
 
t3
 = 
td©a
 & 0x03;data >>= 2;

489 
ušt8_t
 
t2
 = 
td©a
 & 0x03;data >>= 2;

490 
ušt8_t
 
t
 = 
td©a
 & 0x03;

493 
sÿÆše
[0][
y
] = 
·Ë‰•Œ
[
t
];

494 
sÿÆše
[1][
y
] = 
·Ë‰•Œ
[
t2
];

495 
sÿÆše
[2][
y
] = 
·Ë‰•Œ
[
t3
];

496 
sÿÆše
[3][
y
] = 
·Ë‰•Œ
[
t4
];

498 
d
 += 220/4;

501 #ifdeà
PROJ_SHOW_FPS_COUNTER


502 ià(
x
>=8 ) {

509 
	`£tDRAM±r
(
x
, 
updReùY
);

510 
ušt8_t
 
s
=
updReùY
; s<updReùY+
updReùH
;) {

511 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

512 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

513 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

514 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

515 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

516 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

517 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

518 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

520 
	`£tDRAM±r
(
x
+1, 
updReùY
);

521 
ušt8_t
 
s
=
updReùY
; s<updReùY+
updReùH
;) {

522 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

523 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

524 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

525 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

526 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

527 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

528 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

529 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

531 
	`£tDRAM±r
(
x
+2, 
updReùY
);

532 
ušt8_t
 
s
=
updReùY
; s<updReùY+
updReùH
;) {

533 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

534 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

535 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

536 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

537 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

538 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

539 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

540 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

542 
	`£tDRAM±r
(
x
+3, 
updReùY
);

543 
ušt8_t
 
s
=
updReùY
; s<updReùY+
updReùH
;) {

544 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

545 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

546 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

547 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

548 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

549 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

550 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

551 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

556 #ifdeà
POK_SIM


557 
simuÏtÜ
.
	`»äeshDi¥Ïy
();

559 
	}
}

562 
	#SPRITE_2BPP_INNER_LOOP
(
n
)\

565 ià(
¥rSÿÆšeAddr
[(
n
)] &&\

566 
y
 >ğ
¥r™es
[(
n
)].y && y < s´™es[Ò)].y + s´™es[Ò)].
h
 ) {\

568 
št16_t
 
¥rx
 = 
¥r™es
[(
n
)].
x
;\

569 
ušt16_t
 
s_d©a16b
 = 0; \

573 ià(
¥rSÿÆšeB™shiáMode
[(
n
)] =ğ
BITSHIFT_MODE_MIDDLE_BYTE
) {\

574 
s_d©a16b
 = *(
¥rSÿÆšeAddr
[(
n
)]);\

575 
ušt16_t
 
ËáBy‹
 = *(
¥rSÿÆšeAddr
[(
n
)]-1);\

576 
s_d©a16b
 = (
ËáBy‹
 << 8) | s_data16b;\

578 ià(
¥rSÿÆšeB™shiáMode
[(
n
)] =ğ
BITSHIFT_MODE_FIRST_BYTE
) {\

579 
s_d©a16b
 = *(
¥rSÿÆšeAddr
[(
n
)]);\

582 
ušt16_t
 
ËáBy‹
 = *(
¥rSÿÆšeAddr
[(
n
)]-1);\

583 
s_d©a16b
 = (
ËáBy‹
 << 8) | s_data16b;\

587 
ušt8_t
 
shiáRight
 = (
¥rx
&0x3) << 1;\

588 
s_d©a16b
 = (s_d©a16b >> 
shiáRight
);\

591 
ušt8_t
 
s_t4
 = 
s_d©a16b
 & 0x03; s_data16b >>= 2; \

592 
ušt8_t
 
s_t3
 = 
s_d©a16b
 & 0x03; s_data16b >>= 2; \

593 
ušt8_t
 
s_t2
 = 
s_d©a16b
 & 0x03; s_data16b >>= 2; \

594 
ušt8_t
 
s_t1
 = 
s_d©a16b
 & 0x03; \

597 ià(
s_t4
 !ğ
Œª¥¬’tCŞÜ
è
p4
 = 
¥r™es
[(
n
)].
·Ë‰e
[s_t4];\

598 ià(
s_t3
 !ğ
Œª¥¬’tCŞÜ
è
p3
 = 
¥r™es
[(
n
)].
·Ë‰e
[s_t3];\

599 ià(
s_t2
 !ğ
Œª¥¬’tCŞÜ
è
p2
 = 
¥r™es
[(
n
)].
·Ë‰e
[s_t2];\

600 ià(
s_t1
 !ğ
Œª¥¬’tCŞÜ
è
p
 = 
¥r™es
[(
n
)].
·Ë‰e
[s_t1];\

603 
¥rSÿÆšeAddr
[(
n
)] +ğ(
¥r™es
[Ò)].
w
 >> 2);\

604 }

	)

607 
	#UNROLLED_LOOP_1
(è
	`SPRITE_2BPP_INNER_LOOP
(0)

	)

608 
	#UNROLLED_LOOP_2
(è
	`UNROLLED_LOOP_1
(è
	`SPRITE_2BPP_INNER_LOOP
(1)

	)

609 
	#UNROLLED_LOOP_3
(è
	`UNROLLED_LOOP_2
(è
	`SPRITE_2BPP_INNER_LOOP
(2)

	)

610 
	#UNROLLED_LOOP_4
(è
	`UNROLLED_LOOP_3
(è
	`SPRITE_2BPP_INNER_LOOP
(3)

	)

611 
	#UNROLLED_LOOP_5
(è
	`UNROLLED_LOOP_4
(è
	`SPRITE_2BPP_INNER_LOOP
(4)

	)

612 
	#UNROLLED_LOOP_6
(è
	`UNROLLED_LOOP_5
(è
	`SPRITE_2BPP_INNER_LOOP
(5)

	)

613 
	#UNROLLED_LOOP_7
(è
	`UNROLLED_LOOP_6
(è
	`SPRITE_2BPP_INNER_LOOP
(6)

	)

614 
	#UNROLLED_LOOP_8
(è
	`UNROLLED_LOOP_7
(è
	`SPRITE_2BPP_INNER_LOOP
(7)

	)

615 
	#UNROLLED_LOOP_9
(è
	`UNROLLED_LOOP_8
(è
	`SPRITE_2BPP_INNER_LOOP
(8)

	)

616 
	#UNROLLED_LOOP_10
(è
	`UNROLLED_LOOP_9
(è
	`SPRITE_2BPP_INNER_LOOP
(9)

	)

617 
	#UNROLLED_LOOP_11
(è
	`UNROLLED_LOOP_10
(è
	`SPRITE_2BPP_INNER_LOOP
(10)

	)

618 
	#UNROLLED_LOOP_12
(è
	`UNROLLED_LOOP_11
(è
	`SPRITE_2BPP_INNER_LOOP
(11)

	)

619 
	#UNROLLED_LOOP_13
(è
	`UNROLLED_LOOP_12
(è
	`SPRITE_2BPP_INNER_LOOP
(12)

	)

620 
	#UNROLLED_LOOP_14
(è
	`UNROLLED_LOOP_13
(è
	`SPRITE_2BPP_INNER_LOOP
(13)

	)

621 
	#UNROLLED_LOOP_15
(è
	`UNROLLED_LOOP_14
(è
	`SPRITE_2BPP_INNER_LOOP
(14)

	)

622 
	#UNROLLED_LOOP_16
(è
	`UNROLLED_LOOP_15
(è
	`SPRITE_2BPP_INNER_LOOP
(15)

	)

623 
	#UNROLLED_LOOP_N_
(
n
è
UNROLLED_LOOP_
##
	`n
()

	)

624 
	#UNROLLED_LOOP_N
(
n
è
	`UNROLLED_LOOP_N_
Ò)

	)

645 
	gPok™to
::
	$lcdReäeshMode1S´
(

646 
ušt8_t
 * 
sübuf
, ušt8_ˆ
updReùX
, ušt8_ˆ
updReùY
, ušt8_ˆ
updReùW
, ušt8_ˆ
updReùH
, 
ušt16_t
* 
·Ë‰•Œ
,

647 
S´™eInfo
* 
¥r™es
, 
boŞ
 
d¿wS´™esOÆy
) {

650 ià(
d¿wS´™esOÆy
 && (
¥r™es
 =ğ
NULL
 || s´™es[0].
b™m­D©a
 == NULL))

653 
ušt16_t
 
x
,
y
;

654 
ušt16_t
 
sÿÆše
[4][176];

655 cÚ¡ 
ušt8_t
 
Œª¥¬’tCŞÜ
 = 0;

658 iàĞ
updReùX
 !ğ0 || 
updReùY
 !ğ0 ||
updReùW
 !ğ
LCDWIDTH
 ||
updReùH
 !ğ
LCDHEIGHT
 ) {

659 
ušt8_t
 
Üg_sü“nx
 = 
updReùX
;

660 
updReùX
 &= 0xfc;

661 
updReùW
 +ğ
Üg_sü“nx
 - 
updReùX
;

662 
updReùW
 = (updRectW + 3) & 0xfc;

664 
ušt8_t
 
Üg_sü“ny
 = 
updReùY
;

665 
updReùY
 &= 0xfc;

666 
updReùH
 +ğ
Üg_sü“ny
 - 
updReùY
;

667 
updReùH
 = (updRectH + 7) & 0xf8;

672 
ušt8_t
 
¥r™eCouÁ
 = 0;

673 ià(
¥r™es
 !ğ
NULL
)

674 ;
¥r™es
[
¥r™eCouÁ
].
b™m­D©a
 !ğ
NULL
 && s´™eCouÁ < 
SPRITE_COUNT
; spriteCount++);

677 #ifdeà
PROJ_SHOW_FPS_COUNTER


678 ià(!
d¿wS´™esOÆy
è
	`£tDRAM±r
(8, 0);

680 ià(!
d¿wS´™esOÆy
è
	`£tDRAM±r
(0, 0);

685 
x
=0; x<
LCDWIDTH
; x+=4) {

687 
ušt8_t
 *
sü“nBufSÿÆšeAddr
 = 
sübuf
 + (
x
>>2);

690 
ušt8_t
 *
¥rSÿÆšeAddr
[
SPRITE_COUNT
];

691 
ušt8_t
 
¥rSÿÆšeB™shiáMode
[
SPRITE_COUNT
];

692 cÚ¡ 
ušt8_t
 
BITSHIFT_MODE_MIDDLE_BYTE
 = 0;

693 cÚ¡ 
ušt8_t
 
BITSHIFT_MODE_FIRST_BYTE
 = 1;

694 cÚ¡ 
ušt8_t
 
BITSHIFT_MODE_LAST_BYTE
 = 2;

695 
ušt8_t
 
sÿÆšeMšY
 = 255;

696 
ušt8_t
 
sÿÆšeMaxY
 = 0;

700 ià(
¥r™es
 !ğ
NULL
) {

705 
¥ršdex
 = 0; s´šdex <ğ
¥r™eCouÁ
; sprindex++) {

707 
št16_t
 
¥rx
, 
¥ry
, 
¥rOldX
, 
¥rOldY
;

708 
ušt8_t
 
¥rw
, 
¥rh
;

709 
boŞ
 
isCu¼’tS´™eOutOfSü“n
 = 
çl£
;

710 
boŞ
 
isOldS´™eOutOfSü“n
 = 
çl£
;

712 ià(
¥ršdex
 < 
¥r™eCouÁ
) {

714 
¥rx
 = 
¥r™es
[
¥ršdex
].
x
;

715 
¥ry
 = 
¥r™es
[
¥ršdex
].
y
;

716 
¥rw
 = 
¥r™es
[
¥ršdex
].
w
;

717 
¥rh
 = 
¥r™es
[
¥ršdex
].
h
;

718 
¥rOldX
 = 
¥r™es
[
¥ršdex
].
Şdx
;

719 
¥rOldY
 = 
¥r™es
[
¥ršdex
].
Şdy
;

723 if(!
d¿wS´™esOÆy
){

725 
¥rx
 = 
updReùX
;

726 
¥ry
 = 
updReùY
;

727 
¥rw
 = 
updReùW
;

728 
¥rh
 = 
updReùH
;

729 
¥rOldX
 = 
updReùX
;

730 
¥rOldY
 = 
updReùY
;

731 
isCu¼’tS´™eOutOfSü“n
 = 
çl£
;

732 
isOldS´™eOutOfSü“n
 = 
çl£
;

736 ià(
¥rx
 >ğ
LCDWIDTH
 || 
¥ry
 >ğ
LCDHEIGHT
)

737 
isCu¼’tS´™eOutOfSü“n
 = 
Œue
;

738 ià(
¥rOldX
 >ğ
LCDWIDTH
 || 
¥rOldY
 >ğ
LCDHEIGHT
)

739 
isOldS´™eOutOfSü“n
 = 
Œue
;

742 ià(
isCu¼’tS´™eOutOfSü“n
 && 
isOldS´™eOutOfSü“n
)

746 
št16_t
 
¥rDœtyXMš
 = 
	`mš
(
¥rx
, 
¥rOldX
);

747 
št16_t
 
¥rDœtyXMax
 = 
	`max
(
¥rx
, 
¥rOldX
);

748 ià(
isCu¼’tS´™eOutOfSü“n
)

749 
¥rDœtyXMax
 = 
¥rOldX
;

750 ià(
isOldS´™eOutOfSü“n
)

751 
¥rDœtyXMax
 = 
¥rx
;

754 
št16_t
 
¥rDœtyXMaxEnd
 = 
¥rDœtyXMax
 + 
¥rw
 - 1 + 4;

755 ià(
¥rDœtyXMš
 <ğ
x
+3 && x <ğ
¥rDœtyXMaxEnd
) {

760 
št16_t
 
¥rDœtyYMš
 = 
	`mš
(
¥ry
, 
¥rOldY
);

761 
¥rDœtyYMš
 = 
	`max
(sprDirtyYMin, 0);

762 
št16_t
 
¥rDœtyYMax
 = 
	`max
(
¥ry
, 
¥rOldY
);

763 ià(
isCu¼’tS´™eOutOfSü“n
)

764 
¥rDœtyYMax
 = 
¥rOldY
;

765 ià(
isOldS´™eOutOfSü“n
)

766 
¥rDœtyYMax
 = 
¥ry
;

767 
št16_t
 
¥rDœtyYMaxEnd
 = 
¥rDœtyYMax
 + 
¥rh
 - 1;

768 
¥rDœtyYMaxEnd
 = 
	`mš
(¥rDœtyYMaxEnd, 
LCDHEIGHT
 - 1);

771 ià(
¥rDœtyYMš
 < 
sÿÆšeMšY
)

772 
sÿÆšeMšY
 = 
¥rDœtyYMš
;

773 ià(
¥rDœtyYMaxEnd
 > 
sÿÆšeMaxY
)

774 
sÿÆšeMaxY
 = 
¥rDœtyYMaxEnd
;

779 ià(
¥ršdex
 < 
¥r™eCouÁ
 &&

780 !
isCu¼’tS´™eOutOfSü“n
 &&

781 
¥rx
 <ğ
x
+3 && x < s´x + 
¥rw
) {

784 
št16_t
 
by‹Num
 = ((
x
+3è- 
¥rx
)>>2;

787 
¥rSÿÆšeAddr
[
¥ršdex
] = 
cÚ¡_ÿ¡
<
ušt8_t
*>(
¥r™es
[¥ršdex].
b™m­D©a
 + 
by‹Num
);

790 if(
¥ry
 < 0)

791 
¥rSÿÆšeAddr
[
¥ršdex
] +ğ(-
¥ry
è* (
¥rw
 >> 2);

794 ià(
by‹Num
 == 0)

795 
¥rSÿÆšeB™shiáMode
[
¥ršdex
] = 
BITSHIFT_MODE_FIRST_BYTE
;

796 ià(
by‹Num
 >ğ(
¥rw
 >> 2))

797 
¥rSÿÆšeB™shiáMode
[
¥ršdex
] = 
BITSHIFT_MODE_LAST_BYTE
;

799 
¥rSÿÆšeB™shiáMode
[
¥ršdex
] = 
BITSHIFT_MODE_MIDDLE_BYTE
;

802 
¥rSÿÆšeAddr
[
¥ršdex
] = 
NULL
;

805 
¥rSÿÆšeAddr
[
¥ršdex
] = 
NULL
;

812 ià(
sÿÆšeMaxY
 - 
sÿÆšeMšY
 + 1 > 0) {

813 
ušt8_t
 
sÿÆšeH
 = 
sÿÆšeMaxY
 - 
sÿÆšeMšY
 + 1;

814 
ušt8_t
 
addW
 = 8 - (
sÿÆšeH
 & 0x7);

817 ià(
addW
 != 0) {

818 ià(
sÿÆšeMšY
 > 
addW
 )

819 
sÿÆšeMšY
 -ğ
addW
;

820 ifĞ
sÿÆšeMaxY
 + 
addW
 < 
updReùY
+
updReùH
)

821 
sÿÆšeMaxY
 +ğ
addW
;

824 
sÿÆšeMšY
 = 
updReùY
;

825 
sÿÆšeMaxY
 = 
updReùY
+
updReùH
-1;

833 
sü“nBufSÿÆšeAddr
 +ğ(
sÿÆšeMšY
 * 220/4);

834 
y
=
sÿÆšeMšY
; y<=
sÿÆšeMaxY
; y++)

837 
ušt8_t
 
td©a
 = *
sü“nBufSÿÆšeAddr
;

838 
ušt8_t
 
t4
 = 
td©a
 & 0x03;data >>= 2;

839 
ušt8_t
 
t3
 = 
td©a
 & 0x03;data >>= 2;

840 
ušt8_t
 
t2
 = 
td©a
 & 0x03;data >>= 2;

841 
ušt8_t
 
t
 = 
td©a
 & 0x03;

844 
ušt16_t
 
p
 = 
·Ë‰•Œ
[
t
];

845 
ušt16_t
 
p2
 = 
·Ë‰•Œ
[
t2
];

846 
ušt16_t
 
p3
 = 
·Ë‰•Œ
[
t3
];

847 
ušt16_t
 
p4
 = 
·Ë‰•Œ
[
t4
];

851 
p
 = 
COLOR_BLUE
 >> (
CÜe
::
äameCouÁ
 % 5);

852 
p2
 = 
COLOR_BLUE
 >> (
CÜe
::
äameCouÁ
 % 5);

853 
p3
 = 
COLOR_BLUE
 >> (
CÜe
::
äameCouÁ
 % 5);

854 
p4
 = 
COLOR_BLUE
 >> (
CÜe
::
äameCouÁ
 % 5);

858 ià(
¥r™es
 !ğ
NULL
) {

861 
	`UNROLLED_LOOP_N
(
SPRITE_COUNT
)

865 
sÿÆše
[0][
y
] = 
p
;

866 
sÿÆše
[1][
y
] = 
p2
;

867 
sÿÆše
[2][
y
] = 
p3
;

868 
sÿÆše
[3][
y
] = 
p4
;

870 
sü“nBufSÿÆšeAddr
 += 220>>2;

875 #ifdeà
PROJ_SHOW_FPS_COUNTER


876 ià(
x
>=8 && 
sÿÆšeMaxY
 - 
sÿÆšeMšY
 +1 > 0) {

878 ià(
sÿÆšeMaxY
 - 
sÿÆšeMšY
 +1 > 0) {

882 
	`£tDRAM±r
(
x
, 
sÿÆšeMšY
);

883 
ušt8_t
 
s
=
sÿÆšeMšY
;s<=
sÿÆšeMaxY
;) {

884 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

885 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

886 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

887 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

888 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

889 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

890 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

891 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

894 
	`£tDRAM±r
(
x
+1, 
sÿÆšeMšY
);

895 
ušt8_t
 
s
=
sÿÆšeMšY
;s<=
sÿÆšeMaxY
;) {

896 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

897 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

898 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

899 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

900 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

901 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

902 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

903 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

906 
	`£tDRAM±r
(
x
+2, 
sÿÆšeMšY
);

907 
ušt8_t
 
s
=
sÿÆšeMšY
;s<=
sÿÆšeMaxY
;) {

908 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

909 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

910 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

911 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

912 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

913 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

914 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

915 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

918 
	`£tDRAM±r
(
x
+3, 
sÿÆšeMšY
);

919 
ušt8_t
 
s
=
sÿÆšeMšY
;s<=
sÿÆšeMaxY
;) {

920 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

921 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

922 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

923 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

924 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

925 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

926 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

927 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

933 ià(
¥r™es
 !ğ
NULL
) {

934 
¥ršdex
 = 0; s´šdex < 
¥r™eCouÁ
; sprindex++) {

935 
¥r™es
[
¥ršdex
].
Şdx
 = s´™es[¥ršdex].
x
;

936 
¥r™es
[
¥ršdex
].
Şdy
 = s´™es[¥ršdex].
y
;

940 #ifdeà
POK_SIM


941 
simuÏtÜ
.
	`»äeshDi¥Ïy
();

943 
	}
}

945 
	gPok™to
::
	$lcdReäeshMode2
(
ušt8_t
 * 
sübuf
, 
ušt16_t
* 
·Ë‰•Œ
) {

946 
ušt16_t
 
x
,
y
;

947 
ušt16_t
 
sÿÆše
[2][88];

948 
ušt8_t
 *
d
;

950 
	`wr™e_commªd
(0x20);

951 
	`wr™e_d©a
(0);

952 
	`wr™e_commªd
(0x21);

953 
	`wr™e_d©a
(0);

954 
	`wr™e_commªd
(0x22);

955 
CLR_CS_SET_CD_RD_WR
;

957 
x
=0;x<110;x+=2)

959 
d
 = 
sübuf
+(
x
>>1);

961 
ušt8_t
 
s
=0;

962 
y
=0;y<88;y++)

964 
ušt8_t
 
t
 = *
d
 >> 4;

965 
ušt8_t
 
t2
 = *
d
 & 0xF;

967 
sÿÆše
[0][
s
] = 
·Ë‰•Œ
[
t
];

968 
sÿÆše
[1][
s
++] = 
·Ë‰•Œ
[
t2
];

974 
d
+=110/2;

976 
s
=0;

980 #ifdeà
PROJ_SHOW_FPS_COUNTER


981 ià(
x
<4) ;

982 
	`£tDRAM±r
(
x
<<1, 0);

985 
s
=0;s<88;) {

986 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

987 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

988 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

989 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

990 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

991 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

992 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

993 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

996 
s
=0;s<88;) {

997 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

998 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

999 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1000 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1001 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1002 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1003 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1004 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1008 
s
=0;s<88;) {

1009 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1010 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1011 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1012 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1013 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1014 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1015 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1016 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1019 
s
=0;s<88;) {

1020 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1021 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1022 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1023 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1024 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1025 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1026 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1027 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1030 
	}
}

1032 
	gPok™to
::
	$lcdReäeshMode3
(
ušt8_t
 * 
sübuf
, 
ušt16_t
* 
·Ë‰•Œ
) {

1033 
ušt16_t
 
x
,
y
;

1034 
ušt16_t
 
sÿÆše
[2][176];

1035 
ušt8_t
 *
d
;

1037 
	`wr™e_commªd
(0x20);

1038 
	`wr™e_d©a
(0);

1039 
	`wr™e_commªd
(0x21);

1040 
	`wr™e_d©a
(0);

1041 
	`wr™e_commªd
(0x22);

1042 
CLR_CS_SET_CD_RD_WR
;

1044 
x
=0;x<220;x+=2)

1046 
d
 = 
sübuf
+(
x
>>1);

1048 
ušt8_t
 
s
=0;

1049 
y
=0;y<176;y++)

1051 
ušt8_t
 
t
 = *
d
 >> 4;

1052 
ušt8_t
 
t2
 = *
d
 & 0xF;

1054 
sÿÆše
[0][
s
] = 
·Ë‰•Œ
[
t
];

1055 
sÿÆše
[1][
s
++] = 
·Ë‰•Œ
[
t2
];

1061 
d
+=220/2;

1063 
s
=0;

1067 #ifdeà
PROJ_SHOW_FPS_COUNTER


1068 ià(
x
<8) ;

1069 
	`£tDRAM±r
(
x
, 0);

1072 
s
=0;s<176;) {

1073 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1074 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1075 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1076 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1077 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1078 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1079 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1080 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1085 
s
=0;s<176;) {

1086 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1087 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1088 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1089 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1090 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1091 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1092 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1093 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1096 
	}
}

1098 
	gPok™to
::
	$lcdReäeshGB
(
ušt8_t
 * 
sübuf
, 
ušt16_t
* 
·Ë‰•Œ
) {

1099 
ušt16_t
 
x
,
y
;

1100 
ušt16_t
 
sÿÆše
[48];

1101 
ušt8_t
 * 
d
;

1103 #ià
POK_STRETCH


1109 
	`wr™e_commªd
(0x20);

1110 
	`wr™e_d©a
(0);

1111 
	`wr™e_commªd
(0x21);

1112 
	`wr™e_d©a
(0);

1113 
	`wr™e_commªd
(0x22);

1114 
CLR_CS_SET_CD_RD_WR
;

1117 
s
=0;s<5*176;) {

1118 
	`£tup_d©a_16
(
COLOR_BLACK
);
CLR_WR
;
SET_WR
;
s
++;

1121 
x
=0;x<84;x++)

1124 
d
 = 
sübuf
 + 
x
;

1127 
ušt8_t
 
s
=0;

1128 
y
=0;y<6;y++)

1130 
ušt8_t
 
t
 = *
d
;

1131 #ià
POK_COLORDEPTH
 > 1

1132 
ušt8_t
 
t2
 = *(
d
+504);

1134 #ià
POK_COLORDEPTH
 > 2

1135 
ušt8_t
 
t3
 = *(
d
+504+504);

1137 #ià
POK_COLORDEPTH
 > 3

1138 
ušt8_t
 
t4
 = *(
d
+504+504+504);

1140 
ušt8_t
 
·Ë‰ešdex
 = 0;

1143 #ià
POK_COLORDEPTH
 == 1

1144 
·Ë‰ešdex
 = (
t
 & 0x1);

1145 #–ià
POK_COLORDEPTH
 == 2

1146 
·Ë‰ešdex
 = ((
t
 & 0x1)è| ((
t2
 & 0x01)<<1);

1147 #–ià
POK_COLORDEPTH
 == 3

1148 
·Ë‰ešdex
 = (
t
 & 0x1è| ((
t2
 & 0x1)<<1è| ((
t3
 & 0x1)<<2);

1149 #–ià
POK_COLORDEPTH
 == 4

1150 
·Ë‰ešdex
 = (
t
 & 0x1è| ((
t2
 & 0x1)<<1è| ((
t3
 & 0x1)<<2è| ((
t4
 & 0x1)<<3);

1152 
sÿÆše
[
s
++] = 
·Ë‰•Œ
[
·Ë‰ešdex
];

1155 #ià
POK_COLORDEPTH
 == 1

1156 
·Ë‰ešdex
 = (
t
 & 0x2)>>1;

1157 #–ià
POK_COLORDEPTH
 == 2

1158 
·Ë‰ešdex
 = ((
t
 & 0x2)>>1è| ((
t2
 & 0x02));

1159 #–ià
POK_COLORDEPTH
 == 3

1160 
·Ë‰ešdex
 = ((
t
 & 0x2)>>1è| ((
t2
 & 0x2)è| ((
t3
 & 0x2)<<1);

1161 #–ià
POK_COLORDEPTH
 == 4

1162 
·Ë‰ešdex
 = ((
t
 & 0x2)>>1è| ((
t2
 & 0x2)è| ((
t3
 & 0x2)<<1è| ((
t4
 & 0x2)<<2);

1164 
sÿÆše
[
s
++] = 
·Ë‰•Œ
[
·Ë‰ešdex
];

1167 #ià
POK_COLORDEPTH
 == 1

1168 
·Ë‰ešdex
 = (
t
 & 0x4)>>2;

1169 #–ià
POK_COLORDEPTH
 == 2

1170 
·Ë‰ešdex
 = ((
t
 & 4)>>2è| ((
t2
 & 0x04)>>1);

1171 #–ià
POK_COLORDEPTH
 == 3

1172 
·Ë‰ešdex
 = ((
t
 & 0x4)>>2è| ((
t2
 & 0x4)>>1è| (
t3
 & 0x4);

1173 #–ià
POK_COLORDEPTH
 == 4

1174 
·Ë‰ešdex
 = ((
t
 & 0x4)>>2è| ((
t2
 & 0x4)>>1è| (
t3
 & 0x4è| ((
t4
 & 0x4)<<1);

1176 
sÿÆše
[
s
++] = 
·Ë‰•Œ
[
·Ë‰ešdex
];

1179 #ià
POK_COLORDEPTH
 == 1

1180 
·Ë‰ešdex
 = (
t
 & 0x8)>>3;

1181 #–ià
POK_COLORDEPTH
 == 2

1182 
·Ë‰ešdex
 = ((
t
 & 0x8)>>3è| ((
t2
 & 0x08)>>2);

1183 #–ià
POK_COLORDEPTH
 == 3

1184 
·Ë‰ešdex
 = ((
t
 & 0x8)>>3è| ((
t2
 & 0x8)>>2è| ((
t3
 & 0x8)>>1);

1185 #–ià
POK_COLORDEPTH
 == 4

1186 
·Ë‰ešdex
 = ((
t
 & 0x8)>>3è| ((
t2
 & 0x8)>>2è| ((
t3
 & 0x8)>>1è| (
t4
 & 0x8);

1188 
sÿÆše
[
s
++] = 
·Ë‰•Œ
[
·Ë‰ešdex
];

1191 #ià
POK_COLORDEPTH
 == 1

1192 
·Ë‰ešdex
 = (
t
 & 0x10)>>4;

1193 #–ià
POK_COLORDEPTH
 == 2

1194 
·Ë‰ešdex
 = ((
t
 & 0x10)>>4è| ((
t2
 & 0x10)>>3);

1195 #–ià
POK_COLORDEPTH
 == 3

1196 
·Ë‰ešdex
 = ((
t
 & 0x10)>>4è| ((
t2
 & 0x10)>>3è| ((
t3
 & 0x10)>>2);

1197 #–ià
POK_COLORDEPTH
 == 4

1198 
·Ë‰ešdex
 = ((
t
 & 0x10)>>4è| ((
t2
 & 0x10)>>3è| ((
t3
 & 0x10)>>2è| ((
t4
 & 0x10)>>1);

1200 
sÿÆše
[
s
++] = 
·Ë‰•Œ
[
·Ë‰ešdex
];

1203 #ià
POK_COLORDEPTH
 == 1

1204 
·Ë‰ešdex
 = (
t
 & 0x20)>>5;

1205 #–ià
POK_COLORDEPTH
 == 2

1206 
·Ë‰ešdex
 = ((
t
 & 0x20)>>5è| ((
t2
 & 0x20)>>4);

1207 #–ià
POK_COLORDEPTH
 == 3

1208 
·Ë‰ešdex
 = ((
t
 & 0x20)>>5è| ((
t2
 & 0x20)>>4è| ((
t3
 & 0x20)>>3);

1209 #–ià
POK_COLORDEPTH
 == 4

1210 
·Ë‰ešdex
 = ((
t
 & 0x20)>>5è| ((
t2
 & 0x20)>>4è| ((
t3
 & 0x20)>>3è| ((
t4
 & 0x20)>>2);

1212 
sÿÆše
[
s
++] = 
·Ë‰•Œ
[
·Ë‰ešdex
];

1215 #ià
POK_COLORDEPTH
 == 1

1216 
·Ë‰ešdex
 = (
t
 & 0x40)>>6;

1217 #–ià
POK_COLORDEPTH
 == 2

1218 
·Ë‰ešdex
 = ((
t
 & 0x40)>>6è| ((
t2
 & 0x40)>>5);

1219 #–ià
POK_COLORDEPTH
 == 3

1220 
·Ë‰ešdex
 = ((
t
 & 0x40)>>6è| ((
t2
 & 0x40)>>5è| ((
t3
 & 0x40)>>4) ;

1221 #–ià
POK_COLORDEPTH
 == 4

1222 
·Ë‰ešdex
 = ((
t
 & 0x40)>>6è| ((
t2
 & 0x40)>>5è| ((
t3
 & 0x40)>>4è| ((
t4
 & 0x40)>>3);

1224 
sÿÆše
[
s
++] = 
·Ë‰•Œ
[
·Ë‰ešdex
];

1227 #ià
POK_COLORDEPTH
 == 1

1228 
·Ë‰ešdex
 = (
t
 & 0x80)>>7;

1229 #–ià
POK_COLORDEPTH
 == 2

1230 
·Ë‰ešdex
 = ((
t
 & 0x80)>>7è| ((
t2
 & 0x80)>>6);

1231 #–ià
POK_COLORDEPTH
 == 3

1232 
·Ë‰ešdex
 = ((
t
 & 0x80)>>7è| ((
t2
 & 0x80)>>6è| ((
t3
 & 0x80)>>5);

1233 #–ià
POK_COLORDEPTH
 == 4

1234 
·Ë‰ešdex
 = ((
t
 & 0x80)>>7è| ((
t2
 & 0x80)>>6è| ((
t3
 & 0x80)>>5è| ((
t4
 & 0x80)>>4);

1236 
sÿÆše
[
s
++] = 
·Ë‰•Œ
[
·Ë‰ešdex
];

1238 
d
+=84;

1249 
	`£tup_d©a_16
(
COLOR_BLACK
);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR; CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;

1251 
s
=0;

1254 
s
=0;s<48;) {

1255 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1256 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1257 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1258 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1259 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1260 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1261 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1262 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1265 
	`£tup_d©a_16
(
COLOR_BLACK
);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR; CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;

1275 
	`£tup_d©a_16
(
COLOR_BLACK
);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR; CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;

1277 
s
=0;s<48;) {

1278 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1279 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1280 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1281 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1282 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1283 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1284 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1285 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1289 
	`£tup_d©a_16
(
COLOR_BLACK
);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR; CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;

1292 #ià
POK_STRETCH


1294 ià(
x
&2)

1303 
	`£tup_d©a_16
(
COLOR_BLACK
);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR; CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;

1306 
s
=0;s<48;) {

1307 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1308 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1309 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1310 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1311 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1312 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1313 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1314 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;

1318 
	`£tup_d©a_16
(
COLOR_BLACK
);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR; CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;CLR_WR;SET_WR;

1324 
s
=0;s<5*176;) {

1325 
	`£tup_d©a_16
(
COLOR_BLACK
);
CLR_WR
;
SET_WR
;
s
++;

1327 
	}
}

1330 
	gPok™to
::
	$lcdReäeshAB
(
ušt8_t
 * 
sübuf
, 
ušt16_t
* 
·Ë‰•Œ
) {

1331 
ušt16_t
 
x
,
y
;

1332 
ušt16_t
 
sÿÆše
[64];

1333 
ušt8_t
 *
d
;

1335 #ià
POK_STRETCH


1336 
ušt16_t
 
x±r
 = 14;

1337 
ušt8_t
 
yoff£t
 = 24;

1339 
ušt16_t
 
x±r
 = 0;

1340 
ušt8_t
 
yoff£t
 = 0;

1343 
x
=0;x<128;x++)

1345 
	`wr™e_commªd
(0x20);

1346 
	`wr™e_d©a
(
yoff£t
);

1347 
	`wr™e_commªd
(0x21);

1348 
	`wr™e_d©a
(
x±r
++);

1349 
	`wr™e_commªd
(0x22);

1350 
CLR_CS_SET_CD_RD_WR
;

1353 
d
 = 
sübuf
 + 
x
;

1356 
ušt8_t
 
s
=0;

1357 
y
=0;y<8;y++)

1359 
ušt8_t
 
t
 = *
d
;

1360 #ià
POK_COLORDEPTH
 > 1

1361 
ušt8_t
 
t2
 = *(
d
+
AB_JUMP
);

1363 #ià
POK_COLORDEPTH
 > 2

1364 
ušt8_t
 
t3
 = *(
d
+
AB_JUMP
+AB_JUMP);

1366 #ià
POK_COLORDEPTH
 > 3

1367 
ušt8_t
 
t4
 = *(
d
+
AB_JUMP
+AB_JUMP+AB_JUMP);

1369 
ušt8_t
 
·Ë‰ešdex
 = 0;

1372 #ià
POK_COLORDEPTH
 == 1

1373 
·Ë‰ešdex
 = (
t
 & 0x1);

1374 #–ià
POK_COLORDEPTH
 == 2

1375 
·Ë‰ešdex
 = ((
t
 & 0x1)è| ((
t2
 & 0x01)<<1);

1376 #–ià
POK_COLORDEPTH
 == 3

1377 
·Ë‰ešdex
 = (
t
 & 0x1è| ((
t2
 & 0x1)<<1è| ((
t3
 & 0x1)<<2);

1378 #–ià
POK_COLORDEPTH
 == 4

1379 
·Ë‰ešdex
 = (
t
 & 0x1è| ((
t2
 & 0x1)<<1è| ((
t3
 & 0x1)<<2è| ((
t4
 & 0x1)<<3);

1381 
sÿÆše
[
s
++] = 
·Ë‰•Œ
[
·Ë‰ešdex
];

1384 #ià
POK_COLORDEPTH
 == 1

1385 
·Ë‰ešdex
 = (
t
 & 0x2)>>1;

1386 #–ià
POK_COLORDEPTH
 == 2

1387 
·Ë‰ešdex
 = ((
t
 & 0x2)>>1è| ((
t2
 & 0x02));

1388 #–ià
POK_COLORDEPTH
 == 3

1389 
·Ë‰ešdex
 = ((
t
 & 0x2)>>1è| ((
t2
 & 0x2)è| ((
t3
 & 0x2)<<1);

1390 #–ià
POK_COLORDEPTH
 == 4

1391 
·Ë‰ešdex
 = ((
t
 & 0x2)>>1è| ((
t2
 & 0x2)è| ((
t3
 & 0x2)<<1è| ((
t4
 & 0x2)<<2);

1393 
sÿÆše
[
s
++] = 
·Ë‰•Œ
[
·Ë‰ešdex
];

1396 #ià
POK_COLORDEPTH
 == 1

1397 
·Ë‰ešdex
 = (
t
 & 0x4)>>2;

1398 #–ià
POK_COLORDEPTH
 == 2

1399 
·Ë‰ešdex
 = ((
t
 & 4)>>2è| ((
t2
 & 0x04)>>1);

1400 #–ià
POK_COLORDEPTH
 == 3

1401 
·Ë‰ešdex
 = ((
t
 & 0x4)>>2è| ((
t2
 & 0x4)>>1è| (
t3
 & 0x4);

1402 #–ià
POK_COLORDEPTH
 == 4

1403 
·Ë‰ešdex
 = ((
t
 & 0x4)>>2è| ((
t2
 & 0x4)>>1è| (
t3
 & 0x4è| ((
t4
 & 0x4)<<1);

1405 
sÿÆše
[
s
++] = 
·Ë‰•Œ
[
·Ë‰ešdex
];

1408 #ià
POK_COLORDEPTH
 == 1

1409 
·Ë‰ešdex
 = (
t
 & 0x8)>>3;

1410 #–ià
POK_COLORDEPTH
 == 2

1411 
·Ë‰ešdex
 = ((
t
 & 0x8)>>3è| ((
t2
 & 0x08)>>2);

1412 #–ià
POK_COLORDEPTH
 == 3

1413 
·Ë‰ešdex
 = ((
t
 & 0x8)>>3è| ((
t2
 & 0x8)>>2è| ((
t3
 & 0x8)>>1);

1414 #–ià
POK_COLORDEPTH
 == 4

1415 
·Ë‰ešdex
 = ((
t
 & 0x8)>>3è| ((
t2
 & 0x8)>>2è| ((
t3
 & 0x8)>>1è| (
t4
 & 0x8);

1417 
sÿÆše
[
s
++] = 
·Ë‰•Œ
[
·Ë‰ešdex
];

1420 #ià
POK_COLORDEPTH
 == 1

1421 
·Ë‰ešdex
 = (
t
 & 0x10)>>4;

1422 #–ià
POK_COLORDEPTH
 == 2

1423 
·Ë‰ešdex
 = ((
t
 & 0x10)>>4è| ((
t2
 & 0x10)>>3);

1424 #–ià
POK_COLORDEPTH
 == 3

1425 
·Ë‰ešdex
 = ((
t
 & 0x10)>>4è| ((
t2
 & 0x10)>>3è| ((
t3
 & 0x10)>>2);

1426 #–ià
POK_COLORDEPTH
 == 4

1427 
·Ë‰ešdex
 = ((
t
 & 0x10)>>4è| ((
t2
 & 0x10)>>3è| ((
t3
 & 0x10)>>2è| ((
t4
 & 0x10)>>1);

1429 
sÿÆše
[
s
++] = 
·Ë‰•Œ
[
·Ë‰ešdex
];

1432 #ià
POK_COLORDEPTH
 == 1

1433 
·Ë‰ešdex
 = (
t
 & 0x20)>>5;

1434 #–ià
POK_COLORDEPTH
 == 2

1435 
·Ë‰ešdex
 = ((
t
 & 0x20)>>5è| ((
t2
 & 0x20)>>4);

1436 #–ià
POK_COLORDEPTH
 == 3

1437 
·Ë‰ešdex
 = ((
t
 & 0x20)>>5è| ((
t2
 & 0x20)>>4è| ((
t3
 & 0x20)>>3);

1438 #–ià
POK_COLORDEPTH
 == 4

1439 
·Ë‰ešdex
 = ((
t
 & 0x20)>>5è| ((
t2
 & 0x20)>>4è| ((
t3
 & 0x20)>>3è| ((
t4
 & 0x20)>>2);

1441 
sÿÆše
[
s
++] = 
·Ë‰•Œ
[
·Ë‰ešdex
];

1444 #ià
POK_COLORDEPTH
 == 1

1445 
·Ë‰ešdex
 = (
t
 & 0x40)>>6;

1446 #–ià
POK_COLORDEPTH
 == 2

1447 
·Ë‰ešdex
 = ((
t
 & 0x40)>>6è| ((
t2
 & 0x40)>>5);

1448 #–ià
POK_COLORDEPTH
 == 3

1449 
·Ë‰ešdex
 = ((
t
 & 0x40)>>6è| ((
t2
 & 0x40)>>5è| ((
t3
 & 0x40)>>4) ;

1450 #–ià
POK_COLORDEPTH
 == 4

1451 
·Ë‰ešdex
 = ((
t
 & 0x40)>>6è| ((
t2
 & 0x40)>>5è| ((
t3
 & 0x40)>>4è| ((
t4
 & 0x40)>>3);

1453 
sÿÆše
[
s
++] = 
·Ë‰•Œ
[
·Ë‰ešdex
];

1456 #ià
POK_COLORDEPTH
 == 1

1457 
·Ë‰ešdex
 = (
t
 & 0x80)>>7;

1458 #–ià
POK_COLORDEPTH
 == 2

1459 
·Ë‰ešdex
 = ((
t
 & 0x80)>>7è| ((
t2
 & 0x80)>>6);

1460 #–ià
POK_COLORDEPTH
 == 3

1461 
·Ë‰ešdex
 = ((
t
 & 0x80)>>7è| ((
t2
 & 0x80)>>6è| ((
t3
 & 0x80)>>5);

1462 #–ià
POK_COLORDEPTH
 == 4

1463 
·Ë‰ešdex
 = ((
t
 & 0x80)>>7è| ((
t2
 & 0x80)>>6è| ((
t3
 & 0x80)>>5è| ((
t4
 & 0x80)>>4);

1465 
sÿÆše
[
s
++] = 
·Ë‰•Œ
[
·Ë‰ešdex
];

1467 
d
+=128;

1470 
s
=0;

1473 
s
=0;s<64;) {

1474 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1475 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1476 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1477 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1478 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1479 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1480 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1481 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1484 #ià
POK_STRETCH


1485 ià(
x
&1) {

1486 
	`wr™e_commªd
(0x20);

1487 
	`wr™e_d©a
(
yoff£t
);

1488 
	`wr™e_commªd
(0x21);

1489 
	`wr™e_d©a
(
x±r
++);

1490 
	`wr™e_commªd
(0x22);

1491 
CLR_CS_SET_CD_RD_WR
;

1494 
s
=0;s<64;) {

1495 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1496 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1497 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1498 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1499 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1500 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1501 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1502 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1507 
	}
}

1509 
	gPok™to
::
	$lcdReäeshModeGBC
(
ušt8_t
 * 
sübuf
, 
ušt16_t
* 
·Ë‰•Œ
) {

1510 
ušt16_t
 
x
,
y
,
x±r
;

1511 
ušt16_t
 
sÿÆše
[4][144];

1512 
ušt8_t
 *
d
, 
yoff£t
=0;

1514 
x±r
 = 0;

1515 
	`£tDRAM±r
(
x±r
,
yoff£t
);

1518 
x
=0;x<160;x+=4)

1520 
d
 = 
sübuf
+(
x
>>2);

1522 
ušt8_t
 
s
=0;

1523 
y
=0;y<144;y++)

1525 
ušt8_t
 
td©a
 = *
d
;

1526 
ušt8_t
 
t4
 = 
td©a
 & 0x03;data >>= 2;

1527 
ušt8_t
 
t3
 = 
td©a
 & 0x03;data >>= 2;

1528 
ušt8_t
 
t2
 = 
td©a
 & 0x03;data >>= 2;

1529 
ušt8_t
 
t
 = 
td©a
 & 0x03;

1533 
sÿÆše
[0][
s
] = 
·Ë‰•Œ
[
t
];

1534 
sÿÆše
[1][
s
] = 
·Ë‰•Œ
[
t2
];

1535 
sÿÆše
[2][
s
] = 
·Ë‰•Œ
[
t3
];

1536 
sÿÆše
[3][
s
++] = 
·Ë‰•Œ
[
t4
];

1538 
d
+=160/4;

1541 
s
=0;

1543 
s
=0;s<144;) {

1544 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1545 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1546 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1547 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1548 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1549 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1551 
	`£tDRAM±r
(++
x±r
,
yoff£t
);

1552 
s
=0;s<144;) {

1553 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1554 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1555 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1556 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1557 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1558 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1560 
	`£tDRAM±r
(++
x±r
,
yoff£t
);

1561 
s
=0;s<144;) {

1562 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

1563 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

1564 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

1565 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

1566 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

1567 
	`£tup_d©a_16
(
sÿÆše
[2][
s
++]);
CLR_WR
;
SET_WR
;

1569 
	`£tDRAM±r
(++
x±r
,
yoff£t
);

1570 
s
=0;s<144;) {

1571 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

1572 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

1573 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

1574 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

1575 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

1576 
	`£tup_d©a_16
(
sÿÆše
[3][
s
++]);
CLR_WR
;
SET_WR
;

1578 
	`£tDRAM±r
(++
x±r
,
yoff£t
);

1580 
	}
}

1583 
	gPok™to
::
	$lcdReäeshT1
(
ušt8_t
* 
tebuf
, ušt8_t* 
tecŞÜbuf
, ušt8_t* 
te£t
, 
ušt16_t
* 
·Ë‰•Œ
) {

1584 #ifdeà
POK_TILEMODE


1585 
ušt16_t
 
x
,
y
,
d©a
,
x±r
;

1586 
ušt16_t
 
sÿÆše
[176];

1587 
ušt8_t
 
yoff£t
=0, 
teby‹
, 
tešdex
, 
tex
=0, 
tey
=0,
xcouÁ
;

1590 ià(!
te£t
) ;

1592 #ià
LCDWIDTH
 < 
POK_LCD_W


1593 
x±r
 = (
POK_LCD_W
-
LCDWIDTH
)/2;

1595 
x±r
 = 0;

1597 #ià
LCDHEIGHT
 < 
POK_LCD_H


1598 
yoff£t
 = (
POK_LCD_H
-
LCDHEIGHT
)/2;

1600 
yoff£t
 = 0;

1603 
x
=0, 
xcouÁ
=0 ;x<
LCDWIDTH
;x++,xcount++)

1605 
	`£tDRAM±r
(
x±r
++,
yoff£t
);

1608 
ušt8_t
 
s
=0, 
tey
=0;

1610 ià(
xcouÁ
==
POK_TILE_W
) {

1611 
tex
++;

1612 
xcouÁ
=0;

1615 
y
=0;y<
LCDHEIGHT
;)

1617 
ušt8_t
 
tev®
 = 
tebuf
[
tex
+
tey
*
POK_TILES_X
];

1618 
ušt16_t
 
šdex
 = 
tev®
*
POK_TILE_W
+
xcouÁ
;

1619 
ušt8_t
 
teby‹
 = 
te£t
[
šdex
];

1620 
ušt8_t
 
ycouÁ
=0, 
b™couÁ
=0; ycouÁ<
POK_TILE_H
; ycouÁ++, 
y
++, bitcount++) {

1621 ià(
b™couÁ
==8) {

1622 
b™couÁ
=0;

1623 
šdex
 += 176;

1624 
teby‹
 = 
te£t
[
šdex
];

1628 ià(!
tev®
è
sÿÆše
[
s
++] = 
COLOR_MAGENTA
*((
teby‹
>>
b™couÁ
)&0x1);

1629 
sÿÆše
[
s
++] = 
·Ë‰•Œ
[((
teby‹
>>
b™couÁ
)&0x1)*
tev®
];

1631 
tey
++;

1633 
s
=0;

1636 
s
=0;s<
LCDHEIGHT
;) {

1637 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;

1641 
	}
}

1644 
	gPok™to
::
	$lcdReäeshMode13
(
ušt8_t
 * 
sübuf
, 
ušt16_t
* 
·Ë‰•Œ
, ušt8_ˆ
off£t
){

1645 
ušt16_t
 
x
,
y
;

1646 
ušt16_t
 
sÿÆše
[2][110];

1647 
ušt8_t
 *
d
;

1649 
	`wr™e_commªd
(0x20); 
	`wr™e_d©a
(0);

1650 
	`wr™e_commªd
(0x21); 
	`wr™e_d©a
(0);

1651 
	`wr™e_commªd
(0x22);

1652 
CLR_CS_SET_CD_RD_WR
;

1654 
x
=0;x<110;x+=2)

1656 
d
 = 
sübuf
+
x
;

1657 
ušt8_t
 
s
=0;

1658 
y
=0;y<88;y++)

1660 
ušt8_t
 
t
 = *
d
;

1661 
ušt8_t
 
t1
 = *(
d
+1);

1662 
sÿÆše
[0][
s
] = 
·Ë‰•Œ
[(
t
+
off£t
)&255];

1663 
sÿÆše
[1][
s
++] = 
·Ë‰•Œ
[(
t1
+
off£t
)&255];

1664 
d
+=110;

1666 
s
=0;

1667 
s
=0;s<88;) {

1668 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1669 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1670 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1671 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1672 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1673 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1674 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1675 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1677 
s
=0;s<88;) {

1678 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1679 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1680 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1681 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1682 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1683 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1684 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1685 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1687 
s
=0;s<88;) {

1688 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1689 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1690 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1691 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1692 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1693 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1694 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1695 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1697 
s
=0;s<88;) {

1698 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1699 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1700 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1701 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1702 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1703 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1704 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1705 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;CLR_WR;SET_WR;

1709 
	}
}

1713 
	gPok™to
::
	$lcdReäeshMode14
(
ušt8_t
 * 
sübuf
, 
ušt16_t
* 
·Ë‰•Œ
) {

1714 
ušt16_t
 
x
,
y
,
d©a
,
x±r
;

1715 
ušt16_t
 
sÿÆše
[176]; ušt16_t* 
sıŒ
;

1716 
ušt8_t
 *
d
;

1718 
	`wr™e_commªd
(0x20); 
	`wr™e_d©a
(0);

1719 
	`wr™e_commªd
(0x21); 
	`wr™e_d©a
(0);

1720 
	`wr™e_commªd
(0x22);

1721 
CLR_CS_SET_CD_RD_WR
;

1723 
x
=0;x<220;x++)

1725 
d
 = 
sübuf
+
x
;

1726 
sıŒ
 = &
sÿÆše
[0];

1751 
sıŒ
 = &
sÿÆše
[0];

1752 
y
=0;y<22;y++, 
d
 +=220)

1754 
ušt16_t
 
t
 = *
d
 & 0xFF;

1756 *
sıŒ
++ = 
R_MASK
 * (
t
&0x1); >>= 1;

1757 *
sıŒ
++ = 
R_MASK
 * (
t
&0x1); >>= 1;

1758 *
sıŒ
++ = 
R_MASK
 * (
t
&0x1); >>= 1;

1759 *
sıŒ
++ = 
R_MASK
 * (
t
&0x1); >>= 1;

1760 *
sıŒ
++ = 
R_MASK
 * (
t
&0x1); >>= 1;

1761 *
sıŒ
++ = 
R_MASK
 * (
t
&0x1); >>= 1;

1762 *
sıŒ
++ = 
R_MASK
 * (
t
&0x1); >>= 1;

1763 *
sıŒ
++ = 
R_MASK
 * (
t
&0x1);

1765 
sıŒ
 = &
sÿÆše
[0];

1766 
d
 = 
sübuf
+
x
+
POK_BITFRAME
;

1767 
y
=0;y<22;y++, 
d
 +=220)

1769 
ušt16_t
 
t
 = *
d
 & 0xFF;

1771 *
sıŒ
++ |ğ
G_MASK
 * (
t
&0x1); >>= 1;

1772 *
sıŒ
++ |ğ
G_MASK
 * (
t
&0x1); >>= 1;

1773 *
sıŒ
++ |ğ
G_MASK
 * (
t
&0x1); >>= 1;

1774 *
sıŒ
++ |ğ
G_MASK
 * (
t
&0x1); >>= 1;

1775 *
sıŒ
++ |ğ
G_MASK
 * (
t
&0x1); >>= 1;

1776 *
sıŒ
++ |ğ
G_MASK
 * (
t
&0x1); >>= 1;

1777 *
sıŒ
++ |ğ
G_MASK
 * (
t
&0x1); >>= 1;

1778 *
sıŒ
++ |ğ
G_MASK
 * (
t
&0x1);

1780 
sıŒ
 = &
sÿÆše
[0];

1781 
d
 = 
sübuf
+
x
+
POK_BITFRAME
*2;

1782 
y
=0;y<22;y++, 
d
 +=220)

1784 
ušt16_t
 
t
 = *
d
 & 0xFF;

1786 *
sıŒ
++ |ğ
B_MASK
 * (
t
&0x1); >>= 1;

1787 *
sıŒ
++ |ğ
B_MASK
 * (
t
&0x1); >>= 1;

1788 *
sıŒ
++ |ğ
B_MASK
 * (
t
&0x1); >>= 1;

1789 *
sıŒ
++ |ğ
B_MASK
 * (
t
&0x1); >>= 1;

1790 *
sıŒ
++ |ğ
B_MASK
 * (
t
&0x1); >>= 1;

1791 *
sıŒ
++ |ğ
B_MASK
 * (
t
&0x1); >>= 1;

1792 *
sıŒ
++ |ğ
B_MASK
 * (
t
&0x1); >>= 1;

1793 *
sıŒ
++ |ğ
B_MASK
 * (
t
&0x1);

1797 #ifdeà
PROJ_SHOW_FPS_COUNTER


1798 ià(
x
<8) ;

1799 
	`£tDRAM±r
(
x
, 0);

1803 
s
=0;s<176;) {

1804 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;

1805 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;

1806 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;

1807 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;

1808 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;

1809 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;

1810 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;

1811 
	`£tup_d©a_16
(
sÿÆše
[
s
++]);
CLR_WR
;
SET_WR
;

1816 
	}
}

1820 #ifdeà
ADEKTOSMODE15


1821 
	gPok™to
::
	$lcdReäeshMode15
(
ušt16_t
* 
·l
, 
ušt8_t
* 
sübuf
){

1822 
	`wr™e_commªd
(0x03); 
	`wr™e_d©a
(0x1038);

1823 
	`wr™e_commªd
(0x20); 
	`wr™e_d©a
(0);

1824 
	`wr™e_commªd
(0x21); 
	`wr™e_d©a
(0);

1826 
	`wr™e_commªd
(0x22);

1828 #ifdeà
PROJ_SHOW_FPS_COUNTER


1829 
x
=0,
xt
=0; x<0x4BA0;x++,xt++) {

1830 ià(
xt
==110) xt=0;

1831 ià(
xt
<8) {

1832 
	`wr™e_d©a
(0);

1833 
	`wr™e_d©a
(0);

1835 
	`wr™e_d©a
(
·l
[(((
sübuf
[
x
]) & 0xf0) >> 4)]);

1836 
	`wr™e_d©a
(
·l
[Ğ(
sübuf
[
x
]) & 0x0f)]);

1841 
x
=0; x<0x4BA0;x++) {

1842 
	`wr™e_d©a
(
·l
[(((
sübuf
[
x
]) & 0xf0) >> 4)]);

1843 
	`wr™e_d©a
(
·l
[Ğ(
sübuf
[
x
]) & 0x0f)]);

1846 
	}
}

1850 
	gPok™to
::
	$lcdReäeshMode15
(
ušt16_t
* 
·Ë‰•Œ
, 
ušt8_t
* 
sübuf
){

1851 
ušt16_t
 
x
,
y
,
x±r
;

1852 
ušt16_t
 
sÿÆše
[2][176];

1853 
ušt8_t
 *
d
, 
yoff£t
=0;

1855 
x±r
 = 0;

1858 
	`wr™e_commªd
(0x20); 
	`wr™e_d©a
(0);

1859 
	`wr™e_commªd
(0x21); 
	`wr™e_d©a
(0);

1860 
	`wr™e_commªd
(0x22);

1861 
CLR_CS_SET_CD_RD_WR
;

1863 
x
=0;x<220;x+=2)

1865 
d
 = 
sübuf
+(
x
>>1);

1867 
ušt8_t
 
s
=0;

1868 
y
=0;y<176;y++)

1870 
ušt8_t
 
t
 = *
d
 >> 4;

1871 
ušt8_t
 
t2
 = *
d
 & 0xF;

1873 
sÿÆše
[0][
s
] = 
·Ë‰•Œ
[
t
];

1874 
sÿÆše
[1][
s
++] = 
·Ë‰•Œ
[
t2
];

1876 
d
+=220/2;

1878 
s
=0;

1881 #ifdeà
PROJ_SHOW_FPS_COUNTER


1882 ià(
x
<8) ;

1883 
	`£tDRAM±r
(
x
, 0);

1886 
s
=0;s<176;) {

1887 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1888 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1889 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1890 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1891 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1892 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1893 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1894 
	`£tup_d©a_16
(
sÿÆše
[0][
s
++]);
CLR_WR
;
SET_WR
;

1897 
s
=0;s<176;) {

1898 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1899 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1900 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1901 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1902 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1903 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1904 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1905 
	`£tup_d©a_16
(
sÿÆše
[1][
s
++]);
CLR_WR
;
SET_WR
;

1908 
	}
}

1911 
	gPok™to
::
	$bl™WÜd
(
ušt16_t
 
c
) {

1912 
	`£tup_d©a_16
(
c
);
CLR_WR
;
SET_WR
;

1913 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\HWLCD.h

37 #iâdeà
__HWLCD_H__


38 
	#__HWLCD_H__


	)

40 
	~"mbed.h
"

41 
	~"gpio_­i.h
"

42 
	~"pšm­.h
"

44 
	#wr™e_commªd
 
wr™e_commªd_16


	)

45 
	#wr™e_d©a
 
wr™e_d©a_16


	)

47 
Çme¥aû
 
	gPok™to
 {

49 
	sS´™eInfo
 {

50 cÚ¡ 
ušt8_t
* 
	gb™m­D©a
;

51 
št16_t
 
	gx
;

52 
št16_t
 
	gy
;

53 
št16_t
 
	gŞdx
;

54 
št16_t
 
	gŞdy
;

55 
ušt8_t
 
	gw
;

56 
ušt8_t
 
	gh
;

57 
ušt16_t
 
	g·Ë‰e
[4];

60 
£tDRAMpošt
(
ušt8_t
, uint8_t);

61 
pumpDRAMd©a
(
ušt16_t
*, uint16_t);

62 
š™Backlight
();

63 
£tBacklight
();

64 
lcdFlSurçû
(
ušt16_t
);

65 
lcdPix–
(
št16_t
 
x
, iÁ16_ˆ
y
, 
ušt16_t
 
c
);

66 
£tWšdow
(
ušt8_t
 
x1
, ušt8_ˆ
y1
, ušt8_ˆ
x2
, ušt8_ˆ
y2
);

67 
lcdTe
(
št16_t
 
x0
, iÁ16_ˆ
y0
, iÁ16_ˆ
width
, iÁ16_ˆ
height
, 
ušt16_t
* 
gfx
);

68 
lcdReùªgË
(
št16_t
 
x
, iÁ16_ˆ
y
,št16_ˆ
x2
, iÁ16_ˆ
y2
, 
ušt16_t
 
cŞÜ
);

69 
lcdIn™
();

70 
lcdSË•
();

71 
lcdWakeUp
();

72 
lcdReäesh
(
ušt8_t
 *, 
ušt16_t
*);

73 
lcdReäeshAB
(
ušt8_t
 *, 
ušt16_t
*);

74 
lcdReäeshMode14
(
ušt8_t
 *, 
ušt16_t
*);

75 
lcdReäeshGB
(
ušt8_t
 *, 
ušt16_t
*);

76 
lcdReäeshMode1
(
ušt8_t
* 
sübuf
, ušt8_ˆ
updReùX
, ušt8_ˆ
updReùY
, ušt8_ˆ
updReùW
, ušt8_ˆ
updReùH
, 
ušt16_t
* 
·Ë‰•Œ
);

77 
lcdReäeshMode1S´
(
ušt8_t
 * 
sübuf
, ušt8_ˆ
sü“nx
, ušt8_ˆ
sü“ny
, ušt8_ˆ
sü“nw
, ušt8_ˆ
sü“nh
, 
ušt16_t
* 
·Ë‰•Œ
, 
Pok™to
::
S´™eInfo
* 
¥r™es
, 
boŞ
 
d¿wS´™esOÆy
);

78 
lcdReäeshMode2
(
ušt8_t
 *, 
ušt16_t
*);

79 
lcdReäeshMode3
(
ušt8_t
 *, 
ušt16_t
*);

80 
lcdReäeshModeGBC
(
ušt8_t
 *, 
ušt16_t
*);

81 
lcdReäeshMode13
(
ušt8_t
 *, 
ušt16_t
*, uint8_t);

83 
lcdReäeshMode15
(
ušt16_t
*, 
ušt8_t
*);

87 
lcdReäeshT1
(
ušt8_t
*, ušt8_t*, ušt8_t*, 
ušt16_t
*);

88 
lcdCË¬
();

89 
lcdFl
(
ušt16_t
);

91 
bl™WÜd
(
ušt16_t
);

97 #ià
POK_BOARDREV
 == 1

99 
	#LCD_CD_PORT
 0

	)

100 
	#LCD_CD_PIN
 2

	)

101 
	#LCD_WR_PORT
 1

	)

102 
	#LCD_WR_PIN
 23

	)

103 
	#LCD_RD_PORT
 1

	)

104 
	#LCD_RD_PIN
 24

	)

105 
	#LCD_RES_PORT
 1

	)

106 
	#LCD_RES_PIN
 28

	)

109 
	#LCD_CD_PORT
 0

	)

110 
	#LCD_CD_PIN
 2

	)

111 
	#LCD_WR_PORT
 1

	)

112 
	#LCD_WR_PIN
 12

	)

113 
	#LCD_RD_PORT
 1

	)

114 
	#LCD_RD_PIN
 24

	)

115 
	#LCD_RES_PORT
 1

	)

116 
	#LCD_RES_PIN
 0

	)

123 
	#CLR_RESET
 
LPC_GPIO_PORT
->
CLR
[
LCD_RES_PORT
] = 1 << 
LCD_RES_PIN
;

124 
	#SET_RESET
 
LPC_GPIO_PORT
->
SET
[
LCD_RES_PORT
] = 1 << 
LCD_RES_PIN
;

125 

	)

126 
	#CLR_CD
 { 
LPC_GPIO_PORT
->
CLR
[
LCD_CD_PORT
] = 1 << 
LCD_CD_PIN
; }

127 
	#SET_CD
 { 
LPC_GPIO_PORT
->
SET
[
LCD_CD_PORT
] = 1 << 
LCD_CD_PIN
; }

128 

	)

129 
	#CLR_WR
 { 
LPC_GPIO_PORT
->
CLR
[
LCD_WR_PORT
] = 1 << 
LCD_WR_PIN
;
	`__asm
("nop");}

130 
	#CLR_WR_SLOW
 { 
LPC_GPIO_PORT
->
CLR
[
LCD_WR_PORT
] = 1 << 
LCD_WR_PIN
;
	`__asm
("nop");__asm("nop");}

131 
	#SET_WR
 
LPC_GPIO_PORT
->
SET
[
LCD_WR_PORT
] = 1 << 
LCD_WR_PIN
;

132 

	)

133 
	#CLR_RD
 
LPC_GPIO_PORT
->
CLR
[
LCD_RD_PORT
] = 1 << 
LCD_RD_PIN
;

134 
	#SET_RD
 
LPC_GPIO_PORT
->
SET
[
LCD_RD_PORT
] = 1 << 
LCD_RD_PIN
;

135 

	)

136 
	#SET_CS


137 
	#CLR_CS


	)

139 
	#CLR_CS_CD_SET_RD_WR
 {
CLR_CD
; 
SET_RD
; 
SET_WR
;}

	)

140 
	#CLR_CS_SET_CD_RD_WR
 {
SET_CD
; 
SET_RD
; 
SET_WR
;}

	)

141 
	#SET_CD_RD_WR
 {
SET_CD
; 
SET_RD
; 
SET_WR
;}

	)

142 
	#SET_WR_CS
 
SET_WR
;

	)

144 
	#SET_MASK_P2
 
LPC_GPIO_PORT
->
MASK
[2] = ~(0x7FFF8);

145 
	#CLR_MASK_P2
 
LPC_GPIO_PORT
->
MASK
[2] = 0;

146 

	)

153 
£tup_gpio
()

156 
	gLPC_GPIO_PORT
->
	gDIR
[
LCD_CD_PORT
] |ğ(1 << 
LCD_CD_PIN
 );

157 
	gLPC_GPIO_PORT
->
	gDIR
[
LCD_WR_PORT
] |ğ(1 << 
LCD_WR_PIN
 );

158 
	gLPC_GPIO_PORT
->
	gDIR
[
LCD_RD_PORT
] |ğ(1 << 
LCD_RD_PIN
 );

159 
	gLPC_GPIO_PORT
->
	gDIR
[
LCD_RES_PORT
] |ğ(1 << 
LCD_RES_PIN
 );

161 
	gLPC_GPIO_PORT
->
	gDIR
[2] |= (0xFFFF << 3);

163 
pš_mode
(
P2_3
,
PuÎNÚe
);

164 
pš_mode
(
P2_4
,
PuÎNÚe
);

165 
pš_mode
(
P2_5
,
PuÎNÚe
);

166 
pš_mode
(
P2_6
,
PuÎNÚe
);

168 
pš_mode
(
P2_7
,
PuÎNÚe
);

169 
pš_mode
(
P2_8
,
PuÎNÚe
);

170 
pš_mode
(
P2_9
,
PuÎNÚe
);

171 
pš_mode
(
P2_10
,
PuÎNÚe
);

173 
pš_mode
(
P2_11
,
PuÎNÚe
);

174 
pš_mode
(
P2_12
,
PuÎNÚe
);

175 
pš_mode
(
P2_13
,
PuÎNÚe
);

176 
pš_mode
(
P2_14
,
PuÎNÚe
);

178 
pš_mode
(
P2_15
,
PuÎNÚe
);

179 
pš_mode
(
P2_16
,
PuÎNÚe
);

180 
pš_mode
(
P2_17
,
PuÎNÚe
);

181 
pš_mode
(
P2_18
,
PuÎNÚe
);

187 
	#HI_BYTE
(
d
è(
LPC_GPIO
->
MPIN
[1]= (d<<13))

188 
	#LO_BYTE
(
d
è(
LPC_GPIO
->
MPIN
[1]= (d<<21))

189 

	)

191 
	#LCD_GPIO2DATA_SETINPUT
 
GPIO_GPIO2DIR
 &ğ~
LCD_DATA_MASK


	)

192 
	#LCD_GPIO2DATA_SETOUTPUT
 
GPIO_GPIO2DIR
 |ğ
LCD_DATA_MASK


	)

196 
	#COLOR_BLACK
 (
ušt16_t
)(0x0000)

	)

197 
	#COLOR_BLUE
 (
ušt16_t
)(0x001F)

	)

198 
	#COLOR_RED
 (
ušt16_t
)(0xF800)

	)

199 
	#COLOR_GREEN
 (
ušt16_t
)(0x07E0)

	)

200 
	#COLOR_CYAN
 (
ušt16_t
)(0x07FF)

	)

201 
	#COLOR_MAGENTA
 (
ušt16_t
)(0xF81F)

	)

202 
	#COLOR_YELLOW
 (
ušt16_t
)(0xFFE0)

	)

203 
	#COLOR_WHITE
 (
ušt16_t
)(0xFFFF)

	)

206 
	#COLOR_GRAY_15
 (
ušt16_t
)(0x0861)

207 
	#COLOR_GRAY_30
 (
ušt16_t
)(0x18E3)

208 
	#COLOR_GRAY_50
 (
ušt16_t
)(0x3186)

209 
	#COLOR_GRAY_80
 (
ušt16_t
)(0x528A)

210 
	#COLOR_GRAY_128
 (
ušt16_t
)(0x8410)

211 
	#COLOR_GRAY_200
 (
ušt16_t
)(0xCE59)

212 
	#COLOR_GRAY_225
 (
ušt16_t
)(0xE71C)

213 

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\HWSound.cpp

37 
	~"mbed.h
"

38 
	~"HWSound.h
"

40 
	~"Soáw¬eI2C.h
"

41 
	~"Pok™to_£‰šgs.h
"

42 
	~"Pok™toDisk.h
"

43 
	~"Pok™toGlobs.h
"

44 
	~"SyÁh.h
"

45 
	~"tim”_11u6x.h
"

46 
	~"şock_11u6x.h
"

47 
	~"HWLCD.h
"

51 
	gPok™to
::
Sound
 
__shw
;

53 
usšg
 
Çme¥aû
 
	gPok™to
;

55 #iâdeà
POK_SIM


56 #ià
POK_ENABLE_SOUND


57 
pwmout_t
* 
	gobj
 = &
audiİwm
;

62 #ià(
POK_STREAMING_MUSIC
 > 0)

63 
	gbufãrs
[4][
BUFFER_SIZE
];

64 vŞ©
	gcu¼’tBufãr
 = 0, 
	gŞdBufãr
 = 0;

65 vŞ©
	gbufšdex
 = 0, 
	gvŞ
=1;

66 vŞ©* 
	gcu¼’tPŒ
;

67 vŞ©* 
	g’dPŒ
;

68 
št8_t
 
	g¡»amvŞ
=3;

69 
ušt32_t
 
	g¡»amcouÁ”
=0;

70 
ušt8_t
 
	g¡»am¡•
=0;

73 #ià
POK_ENABLE_SOUND
 > 0

74 
pwmout_t
 
	gPok™to
::
audiİwm
;

77 
usšg
 
Çme¥aû
 
	gPok™to
;

81 
ušt8_t
 
	gPok™to
::
¡»amby‹
,Pok™to::
¡»amÚ
;

83 
ušt8_t
 
	gsoundbuf
[
SBUFSIZE
];

84 
ušt8_t
 
	gPok™to
::
HWvŞume
=0;

85 
ušt16_t
 
	gsoundbufšdex
;

86 
ušt8_t
* 
	gsoundbuåŒ
;

88 
boŞ
 
	gvŞpÙE¼Ü
=
çl£
;

90 
ušt16_t
 
	gsoundby‹
;

93 #ià
POK_USE_DAC
 > 0

94 #ià
POK_BOARDREV
 == 1

96 
Dig™®Out
 
dac0
(
P1_6
);

97 
Dig™®Out
 
dac1
(
P1_0
);

98 
Dig™®Out
 
dac2
(
P1_16
);

99 
Dig™®Out
 
dac3
(
P0_19
);

100 
Dig™®Out
 
dac4
(
P0_17
);

101 
Dig™®Out
 
dac5
(
P1_12
);

102 
Dig™®Out
 
dac6
(
P1_15
);

103 
Dig™®Out
 
dac7
(
P1_8
);

106 
Dig™®Out
 
dac0
(
P1_28
);

107 
Dig™®Out
 
dac1
(
P1_29
);

108 
Dig™®Out
 
dac2
(
P1_30
);

109 
Dig™®Out
 
dac3
(
P1_31
);

111 
Dig™®Out
 
dac4
(
P2_20
);

112 
Dig™®Out
 
dac5
(
P2_21
);

113 
Dig™®Out
 
dac6
(
P2_22
);

114 
Dig™®Out
 
dac7
(
P2_23
);

116 
Dig™®Out
 
amp
(
P1_17
);

121 #ià
POK_BOARDREV
 == 2

129 
ušt32_t
 
	gp
=0;

130 
ušt8_t
 
	gpixx
=0, 
	gpixy
=0;

132 "C" 
	$TIMER32_0_IRQHªdËr
()

134 ià(
	`Ch_TIMER_M©chP’dšg
(
LPC_TIMER32_0
, 1)) {

135 
	`Ch_TIMER_CË¬M©ch
(
LPC_TIMER32_0
, 1);

137 #ià
POK_GBSOUND
 > 0

139 
Pok™to
::
	`audio_IRQ
();

142 #ià
POK_SOUND_BUFFERED


143 
	`pokSoundBufã»dIRQ
();

145 
	`pokSoundIRQ
();

149 
	}
}

152 
	$š™HWvŞumecÚŒŞ
() {

153 
HWvŞume
=0;

154 
vŞpÙE¼Ü
=
Œue
;

156 
	`£tHWvŞume
(
disü‘e_vŞ_hw_Ëv–s
[
VOLUME_STARTUP
>>5]);

157 
	}
}

159 
Pok™to
::
	$£tHWvŞume
(
ušt8_t
 
v
) {

160 
HWvŞume
=
v
;

161 ià(
HWvŞume
>127) HWvolume=127;

165 
Soáw¬eI2C
 
	`swvŞpÙ
(
P0_4
, 
P0_5
);

166 
swvŞpÙ
.
	`wr™e
(0x5e,
HWvŞume
);

167  
HWvŞume
;

168 
	}
}

170 
ušt8_t
 
Pok™to
::
	$g‘HWvŞume
() {

171  
HWvŞume
;

172 
	}
}

174 
Pok™to
::
	$chªgeHWvŞume
(
št8_t
 
v
) {

175 
‹mp
 = 
HWvŞume
 + 
v
;

176 ià(
‹mp
 < 0)emp = 0;

177 ià(
‹mp
 > 127)emp = 127;

178 
	`£tHWvŞume
(
‹mp
);

179 
	}
}

181 
ušt8_t
 
Pok™to
::
	$ampIsOn
() {

182  
amp
;

183 
	}
}

185 
Pok™to
::
	$ampEÇbË
(
ušt8_t
 
v
) {

186 ià(
v
>1) v=1;

187 
amp
=
v
;

188 
	}
}

191 
Pok™to
::
	$dac_wr™e
(
ušt8_t
 
v®ue
) {

192 #ià
POK_USE_DAC
 > 0

193 #ià
POK_BOARDREV
 == 1

194 ià(
v®ue
 & 1è
SET_DAC0
 
CLR_DAC0
;

195 
v®ue
 >>= 1;

196 ià(
v®ue
 & 1è
SET_DAC1
 
CLR_DAC1
;

197 
v®ue
 >>= 1;

198 ià(
v®ue
 & 1è
SET_DAC2
 
CLR_DAC2
;

199 
v®ue
 >>= 1;

200 ià(
v®ue
 & 1è
SET_DAC3
 
CLR_DAC3
;

201 
v®ue
 >>= 1;

202 ià(
v®ue
 & 1è
SET_DAC4
 
CLR_DAC4
;

203 
v®ue
 >>= 1;

204 ià(
v®ue
 & 1è
SET_DAC5
 
CLR_DAC5
;

205 
v®ue
 >>= 1;

206 ià(
v®ue
 & 1è
SET_DAC6
 
CLR_DAC6
;

207 
v®ue
 >>= 1;

208 ià(
v®ue
 & 1è
SET_DAC7
 
CLR_DAC7
;

220 
	#MASKED_DAC
 0

	)

221 #ià
MASKED_DAC


222 
ušt32_t
 
v®
;

223 
v®
=
v®ue
;

224 
SET_MASK_DAC_LO
;

225 
LPC_GPIO_PORT
->
MPIN
[1] = 
v®
<<28;

226 
CLR_MASK_DAC_LO
;

227 
SET_MASK_DAC_HI
;

228 
LPC_GPIO_PORT
->
MPIN
[2] = 
v®
<<(20-4);

229 
CLR_MASK_DAC_HI
;

231 ià(
v®ue
 & 1è
SET_DAC0
 
CLR_DAC0
;

232 
v®ue
 >>= 1;

233 ià(
v®ue
 & 1è
SET_DAC1
 
CLR_DAC1
;

234 
v®ue
 >>= 1;

235 ià(
v®ue
 & 1è
SET_DAC2
 
CLR_DAC2
;

236 
v®ue
 >>= 1;

237 ià(
v®ue
 & 1è
SET_DAC3
 
CLR_DAC3
;

238 
v®ue
 >>= 1;

239 ià(
v®ue
 & 1è
SET_DAC4
 
CLR_DAC4
;

240 
v®ue
 >>= 1;

241 ià(
v®ue
 & 1è
SET_DAC5
 
CLR_DAC5
;

242 
v®ue
 >>= 1;

243 ià(
v®ue
 & 1è
SET_DAC6
 
CLR_DAC6
;

244 
v®ue
 >>= 1;

245 ià(
v®ue
 & 1è
SET_DAC7
 
CLR_DAC7
;

250 
	}
}

253 
Pok™to
::
	$soundIn™
() {

254 #ià
POK_ENABLE_SOUND
 > 0

255 
ušt32_t
 
tim”F»q
;

256 #ià
POK_USE_PWM


258 
	`pwmout_š™
(&
audiİwm
,
POK_AUD_PIN
);

259 
	`pwmout_³riod_us
(&
audiİwm
,
POK_AUD_PWM_US
);

260 
	`pwmout_wr™e
(&
audiİwm
,0.1f);

270 
	`Ch_TIMER_In™
(
LPC_TIMER32_0
);

273 
tim”F»q
 = 
	`Ch_Clock_G‘Sy¡emClockR©e
();

276 
	`Ch_TIMER_Re£t
(
LPC_TIMER32_0
);

279 
	`Ch_TIMER_M©chEÇbËIÁ
(
LPC_TIMER32_0
, 1);

282 
	`Ch_TIMER_S‘M©ch
(
LPC_TIMER32_0
, 1, (
tim”F»q
 / 
POK_AUD_FREQ
));

285 
	`Ch_TIMER_Re£tOnM©chEÇbË
(
LPC_TIMER32_0
, 1);

288 
	`Ch_TIMER_EÇbË
(
LPC_TIMER32_0
);

291 
	#TIMER_32_0_IRQn
 18

	)

292 
	`NVIC_CË¬P’dšgIRQ
((
IRQn_Ty³
)
TIMER_32_0_IRQn
);

295 
	`NVIC_S‘VeùÜ
((
IRQn_Ty³
)
TIMER_32_0_IRQn
, (
ušt32_t
)&
TIMER32_0_IRQHªdËr
);

298 
	`NVIC_EÇbËIRQ
((
IRQn_Ty³
)
TIMER_32_0_IRQn
);

305 #ifdeà
TEST_SOUND


306 
	`‹¡Osc
();

308 #ià
POK_BOARDREV
 == 2

312 #ià
POK_ENABLE_SYNTH


313 
	`em±yOscÏtÜs
();

319 
	}
}

322 
ušt8_t
 
Pok™to
::
	$¡»amPau£d
() {

323  !
¡»amÚ
;

324 
	}
}

326 
Pok™to
::
	$·u£SŒ—m
() {

327 
¡»amÚ
=0;

328 
	}
}

330 
Pok™to
::
	$¶aySŒ—m
() {

331 
¡»amÚ
=1;

332 
	}
}

335 
	$pokPau£SŒ—m
() {

336 
¡»amÚ
=0;

337 
	}
}

339 
	$pokPÏySŒ—m
() {

340 
¡»amÚ
=1;

341 
	}
}

345 
šlše
 
	$pokSoundBufã»dIRQ
() {

346 
ušt32_t
 
ouut
 = 
soundbuf
[
soundbufšdex
+=
Pok™to
::
¡»amÚ
];

347 ià(
soundbufšdex
==
SBUFSIZE
) soundbufindex=0;

352 
ouut
 *ğ
disü‘e_vŞ_muÉl›rs
[
disü‘e_vŞ
];

353 
ouut
 >>= 8;

354 
	`dac_wr™e
(
ouut
);

357 
	}
}

359 
šlše
 
	$pokSoundIRQ
() {

360 #ià
POK_ENABLE_SOUND
 > 0

363 
ušt32_t
 
ouut
=0;ušt32_ˆ
İ
;

364 
¡»amÚ
=1;

370 #iâdeà
POK_SIM


371 #ià
POK_USE_PWM


372 
pwmout_t
* 
obj
 = &
audiİwm
;

375 #ià
POK_STREAMING_MUSIC
 > 0

376 #ià
POK_STREAMFREQ_HALVE


377 
¡»am¡•
 = 1-streamstep;

379 
¡»am¡•
 = 1;

381 
¡»am¡•
 &ğ
¡»amÚ
;

382 ià(
¡»am¡•
) {

383 
ouut
 = (*
cu¼’tPŒ
++);

384 if(
¡»amvŞ
 && 
¡»amÚ
) {

385 
ouut
 >>ğ3-
¡»amvŞ
;

386 
¡»amby‹
 = 
ouut
;

388 
¡»amby‹
 = 0;

389 
ouut
 = 0;

391 ià(
cu¼’tPŒ
 >ğ
’dPŒ
)

393 
cu¼’tBufãr
++;

394 ià(
cu¼’tBufãr
==4) currentBuffer=0;

395 
cu¼’tPŒ
 = 
bufãrs
[
cu¼’tBufãr
];

396 
’dPŒ
 = 
cu¼’tPŒ
 + 
BUFFER_SIZE
;

403 #ià
POK_ENABLE_SYNTH


405 ià(
¶ayšg
) {

406 
nÙ‘ick
++;

407 
	`upd©ePÏyback
();

410 
osc1
.
couÁ
 +ğosc1.
cšc
 + (osc1.
p™chb’d
 >> 4);

411 
osc2
.
couÁ
 +ğosc2.
cšc
 + (osc2.
p™chb’d
 >> 4);

412 
osc3
.
couÁ
 +ğosc3.
cšc
 + (osc3.
p™chb’d
 >> 4);

413 
M¬r
[
tick
]();

414 --
tick
;

418 
İ
 = (
ušt32_t
è((
osc1
.
ouut
)*(osc1.
vŞ
>>8))>>9;

419 
İ
 +ğ(
ušt32_t
è((
osc2
.
ouut
)*(osc2.
vŞ
>>8))>>9;

420 
İ
 +ğ(
ušt32_t
è((
osc3
.
ouut
)*(osc3.
vŞ
>>8))>>9;

421 
İ
 *ğ
disü‘e_vŞ_muÉl›rs
[
disü‘e_vŞ
];

422 
İ
 >>= 8;

423 
ouut
 = 
İ
 & 0xFF;

427 #iâdeà
POK_SIM


429 #ià
POK_ENABLE_SOUND
 > 0

430 #ià
POK_STREAMING_MUSIC
 > 0

432 #ià
POK_STREAM_TO_DAC
 > 0

434 #ià
POK_USE_DAC
 > 0

435 
ušt32_t
 
sby‹
 = 
¡»amby‹
;

436 
sby‹
 *ğ
disü‘e_vŞ_muÉl›rs
[
disü‘e_vŞ
];

437 
sby‹
 >>= 8;

438 
	`dac_wr™e
((
ušt8_t
)
sby‹
);

442 ià(
¡»am¡•
) {

444 #ià
POK_USE_PWM


445 
ušt32_t
 
sby‹
 = 
¡»amby‹
;

446 
sby‹
 *ğ
disü‘e_vŞ_muÉl›rs
[
disü‘e_vŞ
];

447 
sby‹
 >>= 8;

448 
ušt32_t
 
t_Ú
 = (ušt32_t)((((
obj
->
pwm
->
MATCHREL0
)*
sby‹
)>>8));

449 
obj
->
pwm
->
MATCHREL1
 = 
t_Ú
;

455 #ià
POK_STREAM_TO_DAC
 > 0

458 #ià
POK_USE_PWM


459 
İ
 = 
ouut
;

460 
İ
 *ğ
disü‘e_vŞ_muÉl›rs
[
disü‘e_vŞ
];

461 
İ
 >>= 8;

462 
ušt32_t
 
t_Ú
 = (ušt32_t)((((
obj
->
pwm
->
MATCHREL0
)*
İ
)>>8));

463 
obj
->
pwm
->
MATCHREL1
 = 
t_Ú
;

466 
İ
 = 
ouut
;

467 
İ
 *ğ
disü‘e_vŞ_muÉl›rs
[
disü‘e_vŞ
];

468 
İ
 >>= 8;

469 
	`dac_wr™e
((
ušt8_t
)
İ
);

471 
soundby‹
 = (
ouut
+
¡»amby‹
)>>1;

472 
soundbuf
[
soundbufšdex
++]=
soundby‹
;

473 ià(
soundbufšdex
==256) soundbufindex=0;

477 
	}
}

480 
Pok™to
::
	$upd©eSDAudioSŒ—m
() {

481 #iâdeà
NOPETITFATFS


482 ià(
	`¡»amPau£d
()) ;

484 #ià
POK_STREAMING_MUSIC
 > 0

485 ià(
ŞdBufãr
 !ğ
cu¼’tBufãr
) {

486 ià(
cu¼’tBufãr
==0è
	`feR—dBy‹s
(&
bufãrs
[3][0],
BUFFER_SIZE
);

487 ià(
cu¼’tBufãr
==1è
	`feR—dBy‹s
(&
bufãrs
[0][0],
BUFFER_SIZE
);

488 ià(
cu¼’tBufãr
==2è
	`feR—dBy‹s
(&
bufãrs
[1][0],
BUFFER_SIZE
);

489 
	`feR—dBy‹s
(&
bufãrs
[2][0],
BUFFER_SIZE
);

490 
ŞdBufãr
 = 
cu¼’tBufãr
;

491 
¡»amcouÁ”
 +ğ
BUFFER_SIZE
;

494 #iâdeà
POK_SIM


495 iàĞ
¡»amcouÁ”
 > 
fs
.
fsize
 - (
BUFFER_SIZE
*6)) {

497 iàĞ
¡»amcouÁ”
 > 
	`g‘FeL’gth
(è- (
BUFFER_SIZE
*6)) {

499 
¡»amcouÁ”
=0;

500 #ià
POK_STREAM_LOOP


501 
	`feRewšd
();

503 
	`pokPau£SŒ—m
();

508 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\HWSound.h

36 #iâdeà
HWSOUND_H


37 
	#HWSOUND_H


	)

39 
	~"mbed.h
"

40 
	~"Pok™to_£‰šgs.h
"

42 
	#SPEAKER
 3

	)

43 
	#BUFFER_SIZE
 512*4

44 

	)

45 
	#SBUFSIZE
 512*4

	)

47 #ià
POK_BOARDREV
 == 1

49 
	#DAC0_PORT
 1

	)

50 
	#DAC0_PIN
 6

	)

51 
	#DAC1_PORT
 1

	)

52 
	#DAC1_PIN
 0

	)

53 
	#DAC2_PORT
 1

	)

54 
	#DAC2_PIN
 16

	)

55 
	#DAC3_PORT
 0

	)

56 
	#DAC3_PIN
 19

	)

57 
	#DAC4_PORT
 0

	)

58 
	#DAC4_PIN
 17

	)

59 
	#DAC5_PORT
 1

	)

60 
	#DAC5_PIN
 12

	)

61 
	#DAC6_PORT
 1

	)

62 
	#DAC6_PIN
 15

	)

63 
	#DAC7_PORT
 1

	)

64 
	#DAC7_PIN
 8

	)

67 
	#DAC0_PORT
 1

	)

68 
	#DAC0_PIN
 28

	)

69 
	#DAC1_PORT
 1

	)

70 
	#DAC1_PIN
 29

	)

71 
	#DAC2_PORT
 1

	)

72 
	#DAC2_PIN
 30

	)

73 
	#DAC3_PORT
 1

	)

74 
	#DAC3_PIN
 31

	)

76 
	#DAC4_PORT
 2

	)

77 
	#DAC4_PIN
 20

	)

78 
	#DAC5_PORT
 2

	)

79 
	#DAC5_PIN
 21

	)

80 
	#DAC6_PORT
 2

	)

81 
	#DAC6_PIN
 22

	)

82 
	#DAC7_PORT
 2

	)

83 
	#DAC7_PIN
 23

	)

86 
	#SET_MASK_DAC
 
LPC_GPIO_PORT
->
MASK
[1] = ~(0xF0078000);

87 
	#CLR_MASK_DAC
 
LPC_GPIO_PORT
->
MASK
[1] = 0;

88 

	)

90 
	#SET_MASK_DAC_LO
 
LPC_GPIO_PORT
->
MASK
[1] = ~(0xF0000000);

91 
	#CLR_MASK_DAC_LO
 
LPC_GPIO_PORT
->
MASK
[1] = 0;

92 
	#SET_MASK_DAC_HI
 
LPC_GPIO_PORT
->
MASK
[2] = ~(0xF00000);

93 
	#CLR_MASK_DAC_HI
 
LPC_GPIO_PORT
->
MASK
[2] = 0;

94 

	)

97 
	#CLR_DAC0
 
LPC_GPIO_PORT
->
CLR
[
DAC0_PORT
] = 1UL << 
DAC0_PIN
;

	)

98 
	#SET_DAC0
 
LPC_GPIO_PORT
->
SET
[
DAC0_PORT
] = 1UL << 
DAC0_PIN
;

	)

99 
	#CLR_DAC1
 
LPC_GPIO_PORT
->
CLR
[
DAC1_PORT
] = 1UL << 
DAC1_PIN
;

	)

100 
	#SET_DAC1
 
LPC_GPIO_PORT
->
SET
[
DAC1_PORT
] = 1UL << 
DAC1_PIN
;

	)

101 
	#CLR_DAC2
 
LPC_GPIO_PORT
->
CLR
[
DAC2_PORT
] = 1UL << 
DAC2_PIN
;

	)

102 
	#SET_DAC2
 
LPC_GPIO_PORT
->
SET
[
DAC2_PORT
] = 1UL << 
DAC2_PIN
;

	)

103 
	#CLR_DAC3
 
LPC_GPIO_PORT
->
CLR
[
DAC3_PORT
] = 1UL << 
DAC3_PIN
;

	)

104 
	#SET_DAC3
 
LPC_GPIO_PORT
->
SET
[
DAC3_PORT
] = 1UL << 
DAC3_PIN
;

	)

105 
	#CLR_DAC4
 
LPC_GPIO_PORT
->
CLR
[
DAC4_PORT
] = 1UL << 
DAC4_PIN
;

	)

106 
	#SET_DAC4
 
LPC_GPIO_PORT
->
SET
[
DAC4_PORT
] = 1UL << 
DAC4_PIN
;

	)

107 
	#CLR_DAC5
 
LPC_GPIO_PORT
->
CLR
[
DAC5_PORT
] = 1UL << 
DAC5_PIN
;

	)

108 
	#SET_DAC5
 
LPC_GPIO_PORT
->
SET
[
DAC5_PORT
] = 1UL << 
DAC5_PIN
;

	)

109 
	#CLR_DAC6
 
LPC_GPIO_PORT
->
CLR
[
DAC6_PORT
] = 1UL << 
DAC6_PIN
;

	)

110 
	#SET_DAC6
 
LPC_GPIO_PORT
->
SET
[
DAC6_PORT
] = 1UL << 
DAC6_PIN
;

	)

111 
	#CLR_DAC7
 
LPC_GPIO_PORT
->
CLR
[
DAC7_PORT
] = 1UL << 
DAC7_PIN
;

	)

112 
	#SET_DAC7
 
LPC_GPIO_PORT
->
SET
[
DAC7_PORT
] = 1UL << 
DAC7_PIN
;

	)

115 
ušt16_t
 
soundby‹
;

118 
Çme¥aû
 
	gPok™to
 {

121 
ušt8_t
 
¡»amby‹
, 
¡»amÚ
, 
HWvŞume
;

123 
pwm2
;

125 
soundIn™
();

126 
dac_wr™e
(
ušt8_t
 
v®ue
);

127 
ušt8_t
 
ampIsOn
();

128 
ampEÇbË
(
ušt8_t
 
v
);

129 
audio_IRQ
();

130 
upd©eSDAudioSŒ—m
();

131 
ušt8_t
 
¡»amPau£d
();

132 
·u£SŒ—m
();

133 
¶aySŒ—m
();

134 
£tHWvŞume
(
ušt8_t
);

135 
ušt8_t
 
g‘HWvŞume
();

136 
chªgeHWvŞume
(
št8_t
);

138 
pwmout_t
 
audiİwm
;

139 
ušt8_t
 
pokAmpIsOn
();

140 
pokAmpEÇbË
(
ušt8_t
);

142 
Tick”
 
audio
;

144 
upd©e_SDAudioSŒ—m
();

148 
pokSoundIRQ
();

149 
pokSoundBufã»dIRQ
();

151 #ià
POK_STREAMING_MUSIC
 > 0

152 
bufãrs
[][
BUFFER_SIZE
];

153 vŞ©
cu¼’tBufãr
, 
ŞdBufãr
;

154 vŞ©
bufšdex
, 
vŞ
;

155 vŞ©* 
cu¼’tPŒ
;

156 vŞ©* 
’dPŒ
;

157 
št8_t
 
¡»amvŞ
;

158 
ušt32_t
 
¡»amcouÁ”
;

159 
ušt8_t
 
¡»am¡•
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\PokittoClock.cpp

37 
	~"Pok™toCÜe.h
"

38 
	~"pšm­.h
"

39 
	~"HWLCD.h
"

40 
	~"Pok™to_£‰šgs.h
"

41 
	~"wa™_­i.h
"

43 
ušt32_t
 
	g±_couÁ
=0;

44 
ušt32_t
* 
	g±im”
;

47 
SysTick_HªdËr
() {

49 #ià
PROJ_GAMEBOY
 > 0

50 
ušt32_t
 
a
;

51 
a
 = *
±im”
;

52 *
±im”
 = 
a
 + 1;

54 
±_couÁ
+=10;

57 
usšg
 
Çme¥aû
 
Pok™to
;

59 
ušt32_t
 
	gCÜe
::
»äeshtime
;

61 
	gCÜe
::
	$š™Clock
() {

63 #ià
PROJ_GAMEBOY
 > 0

64 
±im”
 = &
±_couÁ
;

65 
SysTick
->
LOAD
 = 480000-1;

67 #ifdeà
_OSCT


68 
SysTick
->
LOAD
 = (480000*3/
_OSCT
)-1;

70 
SysTick
->
LOAD
 = 480000-1;

73 
SysTick
->
VAL
 = 0;

74 
SysTick
->
CTRL
 = 4 | 2 | 1;

75 
±_couÁ
 = 0;

76 
	}
}

78 
ušt32_t
 
	gCÜe
::
	$g‘Time
() {

79  
±_couÁ
;

80 
	}
}

82 
	gCÜe
::
	$wa™
(
ušt16_t
 
ms
) {

83 
	`wa™_ms
(
ms
);

84 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\PokittoEEPROM.h

21 #iâdeà
EEPROM_h


22 
	#EEPROM_h


	)

24 
	~<¡dšt.h
>

25 
	~"Ÿp.h
"

35 
	sEERef
{

37 
EERef
ĞcÚ¡ 
šdex
 )

38 : 
šdex
( index ) {}

41 
ušt8_t
 
İ”©Ü
*(ècÚ¡ {  
“´om_»ad_by‹
Ğ(
ušt16_t
*è
šdex
 ); }

42 
İ”©Ü
 cÚ¡ 
ušt8_t
(ècÚ¡ {  **
	mthis
; }

45 
	mEERef
 &
	mİ”©Ü
=ĞcÚ¡ 
EERef
 &
»f
 ) {  *
this
 = *ref; }

46 
	mEERef
 &
	mİ”©Ü
=Ğ
ušt8_t
 
š
 ) {  
“´om_wr™e_by‹
Ğ(
ušt16_t
*è
šdex
, iÀ), *
this
; }

47 
	mEERef
 &
	mİ”©Ü
 +=Ğ
ušt8_t
 
š
 ) {  *
this
 = **this + in; }

48 
	mEERef
 &
	mİ”©Ü
 -=Ğ
ušt8_t
 
š
 ) {  *
this
 = **this - in; }

49 
	mEERef
 &
	mİ”©Ü
 *=Ğ
ušt8_t
 
š
 ) {  *
this
 = **this * in; }

50 
	mEERef
 &
	mİ”©Ü
 /=Ğ
ušt8_t
 
š
 ) {  *
this
 = **this / in; }

51 
	mEERef
 &
	mİ”©Ü
 ^=Ğ
ušt8_t
 
š
 ) {  *
this
 = **this ^ in; }

52 
	mEERef
 &
	mİ”©Ü
 %=Ğ
ušt8_t
 
š
 ) {  *
this
 = **this % in; }

53 
	mEERef
 &
	mİ”©Ü
 &=Ğ
ušt8_t
 
š
 ) {  *
this
 = **this & in; }

54 
	mEERef
 &
	mİ”©Ü
 |=Ğ
ušt8_t
 
š
 ) {  *
this
 = **this | in; }

55 
	mEERef
 &
	mİ”©Ü
 <<=Ğ
ušt8_t
 
š
 ) {  *
this
 = **this << in; }

56 
	mEERef
 &
	mİ”©Ü
 >>=Ğ
ušt8_t
 
š
 ) {  *
this
 = **this >> in; }

58 
	mEERef
 &
upd©e
Ğ
ušt8_t
 
š
 ) {  
	mš
 !ğ*
this
 ? *this = in : *this; }

61 
	mEERef
& 
	mİ”©Ü
++(è{  *
	mthis
 += 1; }

62 
	mEERef
& 
	mİ”©Ü
--(è{  *
	mthis
 -= 1; }

65 
ušt8_t
 
	mİ”©Ü
++ (){

66 
ušt8_t
 
	m»t
 = **
this
;

67  ++(*
	mthis
), 
	m»t
;

70 
ušt8_t
 
	mİ”©Ü
-- (){

71 
ušt8_t
 
	m»t
 = **
this
;

72  --(*
	mthis
), 
	m»t
;

75 
	mšdex
;

86 
	sEEPŒ
{

88 
EEPŒ
ĞcÚ¡ 
šdex
 )

89 : 
šdex
( index ) {}

91 
İ”©Ü
 cÚ¡ (ècÚ¡ {  
šdex
; }

92 
	mEEPŒ
 &
	mİ”©Ü
=Ğ
š
 ) {  
šdex
 = in, *
	mthis
; }

95 
boŞ
 
	mİ”©Ü
!=ĞcÚ¡ 
EEPŒ
 &
±r
 ) {  
šdex
 !=…tr.index; }

96 
EERef
 
	mİ”©Ü
*(è{  
	mšdex
; }

99 
	mEEPŒ
& 
	mİ”©Ü
++(è{  ++
	mšdex
, *
	mthis
; }

100 
	mEEPŒ
& 
	mİ”©Ü
--(è{  --
	mšdex
, *
	mthis
; }

101 
EEPŒ
 
	mİ”©Ü
++ (è{  
	mšdex
++; }

102 
EEPŒ
 
	mİ”©Ü
-- (è{  
	mšdex
--; }

104 
	mšdex
;

115 
	sEEPROMCÏss
{

118 
EERef
 
	mİ”©Ü
[]ĞcÚ¡ 
	midx
 ) {  idx; }

119 
ušt8_t
 
»ad
Ğ
idx
 ) {  
EERef
( idx ); }

120 
wr™e
Ğ
idx
, 
ušt8_t
 
v®
 ) { (
EERef
( idx )) = val; }

121 
upd©e
Ğ
idx
, 
ušt8_t
 
v®
 ) { 
EERef
( idx ).update( val ); }

124 
EEPŒ
 
begš
() {  0x00; }

125 
EEPŒ
 
’d
(è{  
Ëngth
(); }

126 
ušt16_t
 
Ëngth
(è{  
	mEESETTINGS_VOL
; }

129 
	m‹m¶©e
< 
ty³Çme
 
	mT
 > T &
g‘
Ğ
idx
, 
T
 &
t
 ){

130 
EEPŒ
 
	me
 = 
idx
;

131 
ušt8_t
 *
	m±r
 = (ušt8_t*è&
t
;

132  
	mcouÁ
 = (
T
è; couÁ ; --couÁ, ++
	me
 ) *
	m±r
++ = *
e
;

133  
	mt
;

136 
	m‹m¶©e
< 
ty³Çme
 
	mT
 > cÚ¡ T &
put
Ğ
idx
, cÚ¡ 
T
 &
t
 ){

137 
EEPŒ
 
	me
 = 
idx
;

138 cÚ¡ 
ušt8_t
 *
	m±r
 = (cÚ¡ ušt8_t*è&
t
;

139  
	mcouÁ
 = (
T
è; couÁ ; --couÁ, ++
	me
 ) (*e).
upd©e
Ğ*
±r
++ );

140  
	mt
;

144 
EEPROMCÏss
 
	gEEPROM
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\PokittoHW.cpp

37 
	~"Pok™toCÜe.h
"

38 
	~"pšm­.h
"

39 
	~"HWLCD.h
"

42 
usšg
 
Çme¥aû
 
	gPok™to
;

45 
	gCÜe
::
	$qu™
() {

46 
run_¡©e
 = 
çl£
;

47 
	}
}

49 
	gCÜe
::
	$š™Rªdom
() {

50 
time_t
 
£cÚds
 = 
	`time
(
NULL
);

51 
Pok™to
::
B©‹ry
::
	`upd©e
();

52 
	`¤ªd
((è(
Pok™to
::
B©‹ry
::
Ëv–
 + (
£cÚds
)));

53 
	}
}

55 
	gCÜe
::
	$š™GPIO
() {

57 
LPC_GPIO_PORT
->
DIR
[
LCD_CD_PORT
] |ğ(1 << 
LCD_CD_PIN
 );

58 
LPC_GPIO_PORT
->
DIR
[
LCD_WR_PORT
] |ğ(1 << 
LCD_WR_PIN
 );

59 
LPC_GPIO_PORT
->
DIR
[
LCD_RD_PORT
] |ğ(1 << 
LCD_RD_PIN
 );

60 
LPC_GPIO_PORT
->
DIR
[
LCD_RES_PORT
] |ğ(1 << 
LCD_RES_PIN
 );

62 
LPC_GPIO_PORT
->
DIR
[2] |= (0xFFFF << 3);

64 
	`pš_mode
(
P2_3
,
PuÎNÚe
);

65 
	`pš_mode
(
P2_4
,
PuÎNÚe
);

66 
	`pš_mode
(
P2_5
,
PuÎNÚe
);

67 
	`pš_mode
(
P2_6
,
PuÎNÚe
);

69 
	`pš_mode
(
P2_7
,
PuÎNÚe
);

70 
	`pš_mode
(
P2_8
,
PuÎNÚe
);

71 
	`pš_mode
(
P2_9
,
PuÎNÚe
);

72 
	`pš_mode
(
P2_10
,
PuÎNÚe
);

74 
	`pš_mode
(
P2_11
,
PuÎNÚe
);

75 
	`pš_mode
(
P2_12
,
PuÎNÚe
);

76 
	`pš_mode
(
P2_13
,
PuÎNÚe
);

77 
	`pš_mode
(
P2_14
,
PuÎNÚe
);

79 
	`pš_mode
(
P2_15
,
PuÎNÚe
);

80 
	`pš_mode
(
P2_16
,
PuÎNÚe
);

81 
	`pš_mode
(
P2_17
,
PuÎNÚe
);

82 
	`pš_mode
(
P2_18
,
PuÎNÚe
);

83 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\Pokitto_extport.cpp

21 
	~"Pok™to.h
"

23 
usšg
 
Çme¥aû
 
	gmbed
;

25 #ià
POK_USE_EXT
 > 0

31 
AÇlogIn
 
ext0
(
P1_19
);

32 
Dig™®In
 
ext1
(
P0_11
, 
PuÎUp
);

35 
Dig™®Out
 
ext2
(
P0_12
);

36 
Dig™®Out
 
ext3
(
P0_13
);

37 
Dig™®Out
 
ext4
(
P0_14
);

38 
Dig™®Out
 
ext5
(
P0_17
);

39 
Dig™®Out
 
ext6
(
P0_18
);

40 
Dig™®Out
 
ext7
(
P0_19
);

41 
Dig™®Out
 
ext8
(
P1_20
);

42 
Dig™®Out
 
ext9
(
P1_21
);

43 
Dig™®Out
 
ext10
(
P1_22
);

44 
Dig™®Out
 
ext11
(
P1_23
);

45 
Dig™®Out
 
ext12
(
P1_5
);

46 
Dig™®Out
 
ext13
(
P1_6
);

47 
Dig™®Out
 
ext14
(
P1_8
);

48 
Dig™®Out
 
ext15
(
P1_26
);

49 
Dig™®Out
 
ext16
(
P1_27
);

50 
Dig™®Out
 
ext17
(
P0_16
);

56 
	$ext_wr™e
(
ušt32_t
 
v®ue
) {

57 #ià
POK_USE_EXT
 > 0

58 ià(
v®ue
 & 1è
SET_EXT0
 
CLR_EXT0
;

59 
v®ue
 >>= 1;

60 ià(
v®ue
 & 1è
SET_EXT1
 
CLR_EXT1
;

61 
v®ue
 >>= 1;

62 ià(
v®ue
 & 1è
SET_EXT2
 
CLR_EXT2
;

63 
v®ue
 >>= 1;

64 ià(
v®ue
 & 1è
SET_EXT3
 
CLR_EXT3
;

65 
v®ue
 >>= 1;

66 ià(
v®ue
 & 1è
SET_EXT4
 
CLR_EXT4
;

67 
v®ue
 >>= 1;

68 ià(
v®ue
 & 1è
SET_EXT5
 
CLR_EXT5
;

69 
v®ue
 >>= 1;

70 ià(
v®ue
 & 1è
SET_EXT6
 
CLR_EXT6
;

71 
v®ue
 >>= 1;

72 ià(
v®ue
 & 1è
SET_EXT7
 
CLR_EXT7
;

73 
v®ue
 >>= 1;

74 ià(
v®ue
 & 1è
SET_EXT8
 
CLR_EXT8
;

75 
v®ue
 >>= 1;

76 ià(
v®ue
 & 1è
SET_EXT9
 
CLR_EXT9
;

77 
v®ue
 >>= 1;

78 ià(
v®ue
 & 1è
SET_EXT10
 
CLR_EXT10
;

79 
v®ue
 >>= 1;

80 ià(
v®ue
 & 1è
SET_EXT11
 
CLR_EXT11
;

81 
v®ue
 >>= 1;

82 ià(
v®ue
 & 1è
SET_EXT12
 
CLR_EXT12
;

83 
v®ue
 >>= 1;

84 ià(
v®ue
 & 1è
SET_EXT13
 
CLR_EXT13
;

85 
v®ue
 >>= 1;

86 ià(
v®ue
 & 1è
SET_EXT14
 
CLR_EXT14
;

87 
v®ue
 >>= 1;

88 ià(
v®ue
 & 1è
SET_EXT15
 
CLR_EXT15
;

89 
v®ue
 >>= 1;

90 ià(
v®ue
 & 1è
SET_EXT16
 
CLR_EXT16
;

91 
v®ue
 >>= 1;

92 ià(
v®ue
 & 1è
SET_EXT17
 
CLR_EXT17
;

94 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\Pokitto_extport.h

21 #iâdeà
POKITTO_EXTPORT_H


22 
	#POKITTO_EXTPORT_H


	)

24 
	~"mbed.h
"

26 
usšg
 
Çme¥aû
 
	gmbed
;

28 #ià
POK_BOARDREV
 == 1

30 
	#EXT0_PORT
 1

	)

31 
	#EXT0_PIN
 19

	)

32 
	#EXT1_PORT
 0

	)

33 
	#EXT1_PIN
 11

	)

34 
	#EXT2_PORT
 0

	)

35 
	#EXT2_PIN
 12

	)

36 
	#EXT3_PORT
 0

	)

37 
	#EXT3_PIN
 13

	)

38 
	#EXT4_PORT
 0

	)

39 
	#EXT4_PIN
 14

	)

40 
	#EXT5_PORT
 0

	)

41 
	#EXT5_PIN
 17

	)

42 
	#EXT6_PORT
 0

	)

43 
	#EXT6_PIN
 18

	)

44 
	#EXT7_PORT
 0

	)

45 
	#EXT7_PIN
 19

	)

46 
	#EXT8_PORT
 1

	)

47 
	#EXT8_PIN
 20

	)

48 
	#EXT9_PORT
 1

	)

49 
	#EXT9_PIN
 21

	)

50 
	#EXT10_PORT
 1

	)

51 
	#EXT10_PIN
 22

	)

52 
	#EXT11_PORT
 1

	)

53 
	#EXT11_PIN
 23

	)

54 
	#EXT12_PORT
 1

	)

55 
	#EXT12_PIN
 5

	)

56 
	#EXT13_PORT
 1

	)

57 
	#EXT13_PIN
 6

	)

58 
	#EXT14_PORT
 1

	)

59 
	#EXT14_PIN
 8

	)

60 
	#EXT15_PORT
 0

	)

61 
	#EXT15_PIN
 19

	)

62 
	#EXT16_PORT
 0

	)

63 
	#EXT16_PIN
 13

	)

64 
	#EXT17_PORT
 0

	)

65 
	#EXT17_PIN
 16

	)

68 
	#EXT0_PORT
 1

	)

69 
	#EXT0_PIN
 19

	)

70 
	#EXT1_PORT
 0

	)

71 
	#EXT1_PIN
 11

	)

72 
	#EXT2_PORT
 0

	)

73 
	#EXT2_PIN
 12

	)

74 
	#EXT3_PORT
 0

	)

75 
	#EXT3_PIN
 13

	)

76 
	#EXT4_PORT
 0

	)

77 
	#EXT4_PIN
 14

	)

78 
	#EXT5_PORT
 0

	)

79 
	#EXT5_PIN
 17

	)

80 
	#EXT6_PORT
 0

	)

81 
	#EXT6_PIN
 18

	)

82 
	#EXT7_PORT
 0

	)

83 
	#EXT7_PIN
 19

	)

84 
	#EXT8_PORT
 1

	)

85 
	#EXT8_PIN
 20

	)

86 
	#EXT9_PORT
 1

	)

87 
	#EXT9_PIN
 21

	)

88 
	#EXT10_PORT
 1

	)

89 
	#EXT10_PIN
 22

	)

90 
	#EXT11_PORT
 1

	)

91 
	#EXT11_PIN
 23

	)

92 
	#EXT12_PORT
 1

	)

93 
	#EXT12_PIN
 5

	)

94 
	#EXT13_PORT
 1

	)

95 
	#EXT13_PIN
 6

	)

96 
	#EXT14_PORT
 1

	)

97 
	#EXT14_PIN
 8

	)

98 
	#EXT15_PORT
 0

	)

99 
	#EXT15_PIN
 19

	)

100 
	#EXT16_PORT
 0

	)

101 
	#EXT16_PIN
 13

	)

102 
	#EXT17_PORT
 0

	)

103 
	#EXT17_PIN
 16

	)

105 
	#EXT0
 
P1_19


	)

106 
	#EXT1
 
P0_11


	)

107 
	#EXT2
 
P0_12


	)

108 
	#EXT3
 
P0_13


	)

109 
	#EXT4
 
P0_14


	)

110 
	#EXT5
 
P0_17


	)

111 
	#EXT6
 
P0_18


	)

112 
	#EXT7
 
P0_19


	)

113 
	#EXT8
 
P1_20


	)

114 
	#EXT9
 
P1_21


	)

115 
	#EXT10
 
P1_22


	)

116 
	#EXT11
 
P1_23


	)

117 
	#EXT12
 
P1_5


	)

118 
	#EXT13
 
P1_6


	)

119 
	#EXT14
 
P1_8


	)

120 
	#EXT15
 
P1_26


	)

121 
	#EXT16
 
P1_27


	)

122 
	#EXT17
 
P0_16


	)

126 
	#CLR_EXT0
 
LPC_GPIO_PORT
->
CLR
[
EXT0_PORT
] = 1 << 
EXT0_PIN
;

	)

127 
	#SET_EXT0
 
LPC_GPIO_PORT
->
SET
[
EXT0_PORT
] = 1 << 
EXT0_PIN
;

	)

128 
	#CLR_EXT1
 
LPC_GPIO_PORT
->
CLR
[
EXT1_PORT
] = 1 << 
EXT1_PIN
;

	)

129 
	#SET_EXT1
 
LPC_GPIO_PORT
->
SET
[
EXT1_PORT
] = 1 << 
EXT1_PIN
;

	)

130 
	#CLR_EXT2
 
LPC_GPIO_PORT
->
CLR
[
EXT2_PORT
] = 1 << 
EXT2_PIN
;

	)

131 
	#SET_EXT2
 
LPC_GPIO_PORT
->
SET
[
EXT2_PORT
] = 1 << 
EXT2_PIN
;

	)

132 
	#CLR_EXT3
 
LPC_GPIO_PORT
->
CLR
[
EXT3_PORT
] = 1 << 
EXT3_PIN
;

	)

133 
	#SET_EXT3
 
LPC_GPIO_PORT
->
SET
[
EXT3_PORT
] = 1 << 
EXT3_PIN
;

	)

134 
	#CLR_EXT4
 
LPC_GPIO_PORT
->
CLR
[
EXT4_PORT
] = 1 << 
EXT4_PIN
;

	)

135 
	#SET_EXT4
 
LPC_GPIO_PORT
->
SET
[
EXT4_PORT
] = 1 << 
EXT4_PIN
;

	)

136 
	#CLR_EXT5
 
LPC_GPIO_PORT
->
CLR
[
EXT5_PORT
] = 1 << 
EXT5_PIN
;

	)

137 
	#SET_EXT5
 
LPC_GPIO_PORT
->
SET
[
EXT5_PORT
] = 1 << 
EXT5_PIN
;

	)

138 
	#CLR_EXT6
 
LPC_GPIO_PORT
->
CLR
[
EXT6_PORT
] = 1 << 
EXT6_PIN
;

	)

139 
	#SET_EXT6
 
LPC_GPIO_PORT
->
SET
[
EXT6_PORT
] = 1 << 
EXT6_PIN
;

	)

140 
	#CLR_EXT7
 
LPC_GPIO_PORT
->
CLR
[
EXT7_PORT
] = 1 << 
EXT7_PIN
;

	)

141 
	#SET_EXT7
 
LPC_GPIO_PORT
->
SET
[
EXT7_PORT
] = 1 << 
EXT7_PIN
;

	)

142 
	#CLR_EXT8
 
LPC_GPIO_PORT
->
CLR
[
EXT8_PORT
] = 1 << 
EXT8_PIN
;

	)

143 
	#SET_EXT8
 
LPC_GPIO_PORT
->
SET
[
EXT8_PORT
] = 1 << 
EXT8_PIN
;

	)

144 
	#CLR_EXT9
 
LPC_GPIO_PORT
->
CLR
[
EXT9_PORT
] = 1 << 
EXT9_PIN
;

	)

145 
	#SET_EXT9
 
LPC_GPIO_PORT
->
SET
[
EXT9_PORT
] = 1 << 
EXT9_PIN
;

	)

146 
	#CLR_EXT10
 
LPC_GPIO_PORT
->
CLR
[
EXT10_PORT
] = 1 << 
EXT10_PIN
;

	)

147 
	#SET_EXT10
 
LPC_GPIO_PORT
->
SET
[
EXT10_PORT
] = 1 << 
EXT10_PIN
;

	)

148 
	#CLR_EXT11
 
LPC_GPIO_PORT
->
CLR
[
EXT11_PORT
] = 1 << 
EXT11_PIN
;

	)

149 
	#SET_EXT11
 
LPC_GPIO_PORT
->
SET
[
EXT11_PORT
] = 1 << 
EXT11_PIN
;

	)

150 
	#CLR_EXT12
 
LPC_GPIO_PORT
->
CLR
[
EXT12_PORT
] = 1 << 
EXT12_PIN
;

	)

151 
	#SET_EXT12
 
LPC_GPIO_PORT
->
SET
[
EXT12_PORT
] = 1 << 
EXT12_PIN
;

	)

152 
	#CLR_EXT13
 
LPC_GPIO_PORT
->
CLR
[
EXT13_PORT
] = 1 << 
EXT13_PIN
;

	)

153 
	#SET_EXT13
 
LPC_GPIO_PORT
->
SET
[
EXT13_PORT
] = 1 << 
EXT13_PIN
;

	)

154 
	#CLR_EXT14
 
LPC_GPIO_PORT
->
CLR
[
EXT14_PORT
] = 1 << 
EXT14_PIN
;

	)

155 
	#SET_EXT14
 
LPC_GPIO_PORT
->
SET
[
EXT14_PORT
] = 1 << 
EXT14_PIN
;

	)

156 
	#CLR_EXT15
 
LPC_GPIO_PORT
->
CLR
[
EXT15_PORT
] = 1 << 
EXT15_PIN
;

	)

157 
	#SET_EXT15
 
LPC_GPIO_PORT
->
SET
[
EXT15_PORT
] = 1 << 
EXT15_PIN
;

	)

158 
	#CLR_EXT16
 
LPC_GPIO_PORT
->
CLR
[
EXT16_PORT
] = 1 << 
EXT16_PIN
;

	)

159 
	#SET_EXT16
 
LPC_GPIO_PORT
->
SET
[
EXT16_PORT
] = 1 << 
EXT16_PIN
;

	)

160 
	#CLR_EXT17
 
LPC_GPIO_PORT
->
CLR
[
EXT17_PORT
] = 1 << 
EXT17_PIN
;

	)

161 
	#SET_EXT17
 
LPC_GPIO_PORT
->
SET
[
EXT17_PORT
] = 1 << 
EXT17_PIN
;

	)

163 #ià
POK_USE_EXT
 > 0

169 
AÇlogIn
 
ext0
;

170 
Dig™®In
 
ext1
;

173 
Dig™®Out
 
ext2
;

174 
Dig™®Out
 
ext3
;

175 
Dig™®Out
 
ext4
;

176 
Dig™®Out
 
ext5
;

177 
Dig™®Out
 
ext6
;

178 
Dig™®Out
 
ext7
;

179 
Dig™®Out
 
ext8
;

180 
Dig™®Out
 
ext9
;

181 
Dig™®Out
 
ext10
;

182 
Dig™®Out
 
ext11
;

183 
Dig™®Out
 
ext12
;

184 
Dig™®Out
 
ext13
;

185 
Dig™®Out
 
ext14
;

186 
Dig™®Out
 
ext15
;

187 
Dig™®Out
 
ext16
;

188 
Dig™®Out
 
ext17
;

192 
tuº
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\SoftwareI2C.cpp

7 
	~"Soáw¬eI2C.h
"

15 
	gSoáw¬eI2C
::
	$Soáw¬eI2C
(
PšName
 
sda
, PšNam
sş
è: 
	`_sda
(sdaè, 
	$_sş
(
sş
) {

16 
_sş
.
	`ouut
();

17 
_sş
.
	`mode
(
O³nD¿š
);

18 
_sda
.
	`ouut
();

19 
_sda
.
	`mode
(
O³nD¿š
);

21 
_deviû_add»ss
 = 0;

22 
_äequ’cy_d–ay
 = 1;

24 
	`š™Ÿli£
();

25 
	}
}

27 
	gSoáw¬eI2C
::~
	$Soáw¬eI2C
() {

29 
	}
}

37 
Soáw¬eI2C
::
	$»ad
(
ušt8_t
 
deviû_add»ss
, ušt8_t* 
d©a
, ušt8_ˆ
d©a_by‹s
) {

38 ià(
d©a
 =ğ0 || 
d©a_by‹s
 == 0) ;

40 
deviû_add»ss
 = device_address | 0x01;

41 
	`¡¬t
();

42 
	`putBy‹
(
deviû_add»ss
);

43 
	`g‘Ack
();

44 
x
 = 0; x < 
d©a_by‹s
; ++x) {

45 
d©a
[
x
] = 
	`g‘By‹
();

46 iàĞ
x
 < (
d©a_by‹s
 -1)) {

47 
	`giveAck
();

50 
	`¡İ
();

51 
	}
}

59 
	gSoáw¬eI2C
::
	$wr™e
(
ušt8_t
 
deviû_add»ss
, ušt8_t* 
d©a
, ušt8_ˆ
d©a_by‹s
) {

60 ià(
d©a
 =ğ0 || 
d©a_by‹s
 == 0) ;

62 
deviû_add»ss
 = device_address & 0xFE;

63 
	`¡¬t
();

64 
	`putBy‹
(
deviû_add»ss
);

65 
	`g‘Ack
();

66  
x
 = 0; x < 
d©a_by‹s
; ++x ) {

67 
	`putBy‹
(
d©a
[
x
]);

68 
	`g‘Ack
();

70 
	`¡İ
();

71 
	}
}

78 
	gSoáw¬eI2C
::
	$wr™e
(
ušt8_t
 
deviû_add»ss
, ušt8_ˆ
by‹
) {

79 
deviû_add»ss
 = device_address & 0xFE;

80 
	`¡¬t
();

81 
	`putBy‹
(
deviû_add»ss
);

82 
	`g‘Ack
();

83 
	`putBy‹
(
by‹
);

84 
	`g‘Ack
();

85 
	`¡İ
();

86 
	}
}

95 
	gSoáw¬eI2C
::
	$¿ndomR—d
(
ušt8_t
 
deviû_add»ss
, ušt8_ˆ
¡¬t_add»ss
, ušt8_t* 
d©a
, ušt8_ˆ
d©a_by‹s
) {

96 ià(
d©a
 =ğ0 || 
d©a_by‹s
 == 0) ;

98 
deviû_add»ss
 = device_address & 0xFE;

99 
	`¡¬t
();

100 
	`putBy‹
(
deviû_add»ss
);

101 ià(!
	`g‘Ack
()) {

104 
	`putBy‹
(
¡¬t_add»ss
);

105 ià(!
	`g‘Ack
()) {

109 
deviû_add»ss
=device_address | 0x01;

110 
	`¡¬t
();

111 
	`putBy‹
(
deviû_add»ss
);

112 ià(!
	`g‘Ack
()) {

115  
x
 = 0; x < 
d©a_by‹s
; ++x) {

116 
d©a
[
x
] = 
	`g‘By‹
();

117 ià(
x
 !ğ(
d©a_by‹s
 - 1)è
	`giveAck
();

119 
	`¡İ
();

120 
	}
}

128 
	gSoáw¬eI2C
::
	$¿ndomWr™e
(
ušt8_t
 
deviû_add»ss
, ušt8_ˆ
¡¬t_add»ss
, ušt8_ˆ
by‹
) {

129 
deviû_add»ss
 = device_address & 0xFE;

130 
	`¡¬t
();

131 
	`putBy‹
(
deviû_add»ss
);

132 
	`g‘Ack
();

133 
	`putBy‹
(
¡¬t_add»ss
);

134 
	`g‘Ack
();

135 
	`putBy‹
(
by‹
);

136 
	`g‘Ack
();

137 
	`¡İ
();

138 
	}
}

147 
	gSoáw¬eI2C
::
	$¿ndomWr™e
(
ušt8_t
 
deviû_add»ss
, ušt8_ˆ
¡¬t_add»ss
, ušt8_t* 
d©a
, ušt8_ˆ
d©a_by‹s
) {

148 ià(
d©a
 =ğ0 || 
d©a_by‹s
 == 0) ;

150 
deviû_add»ss
 = device_address & 0xFE;

151 
	`¡¬t
();

152 
	`putBy‹
(
deviû_add»ss
);

153 
	`g‘Ack
();

154 
	`putBy‹
(
¡¬t_add»ss
);

155 
	`g‘Ack
();

156  
x
 = 0; x <ğ
d©a_by‹s
; ++x ) {

157 
	`putBy‹
(
d©a
[
x
]);

158 
	`g‘Ack
();

160 
	`¡İ
();

161 
	}
}

169 
ušt16_t
 
	gSoáw¬eI2C
::
	$»ad16
(
ušt8_t
 
deviû_add»ss
, ušt8_ˆ
¡¬t_add»ss
) {

170 
ušt8_t
 
shÜt_¬¿y
[2] = {0, 0};

171 
	`¿ndomR—d
(
deviû_add»ss
, 
¡¬t_add»ss
, 
shÜt_¬¿y
, 2 );

172 
ušt16_t
 
v®ue
 = 0;

173 
v®ue
 = 
shÜt_¬¿y
[0] << 8;

174 
v®ue
 |ğ
shÜt_¬¿y
[1];

176  
v®ue
;

177 
	}
}

185 
ušt32_t
 
	gSoáw¬eI2C
::
	$»ad24
(
ušt8_t
 
deviû_add»ss
, ušt8_ˆ
¡¬t_add»ss
) {

186 
ušt8_t
 
v®ue_¬¿y
[4] = {0, 0, 0};

187 
	`¿ndomR—d
(
deviû_add»ss
, 
¡¬t_add»ss
, 
v®ue_¬¿y
, 3 );

188 
ušt32_t
 
v®ue
 = 0;

189 
v®ue
 = 
v®ue_¬¿y
[0] << 16;

190 
v®ue
 |ğ
v®ue_¬¿y
[1] << 8;

191 
v®ue
 |ğ
v®ue_¬¿y
[2];

193  
v®ue
;

194 
	}
}

202 
ušt32_t
 
	gSoáw¬eI2C
::
	$»ad32
(
ušt8_t
 
deviû_add»ss
, ušt8_ˆ
¡¬t_add»ss
) {

203 
ušt8_t
 
v®ue_¬¿y
[4] = {0, 0, 0, 0};

204 
	`¿ndomR—d
(
deviû_add»ss
, 
¡¬t_add»ss
, 
v®ue_¬¿y
, 4 );

205 
ušt32_t
 
v®ue
 = 0;

206 
v®ue
 = 
v®ue_¬¿y
[0] << 24;

207 
v®ue
 |ğ
v®ue_¬¿y
[1] << 16;

208 
v®ue
 |ğ
v®ue_¬¿y
[2] << 8;

209 
v®ue
 |ğ
v®ue_¬¿y
[3];

211  
v®ue
;

212 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\SoftwareI2C.h

7 #iâdeà
_SOFTWARE_I2C_H_


8 
	#_SOFTWARE_I2C_H_


	)

10 
	~"mbed.h
"

16 şas 
	cSoáw¬eI2C
 {

17 
	mpublic
:

18 
Soáw¬eI2C
(
PšName
 
sda
, PšNam
sş
);

19 ~
Soáw¬eI2C
();

21 
»ad
(
ušt8_t
 
deviû_add»ss
, ušt8_t* 
d©a
, ušt8_ˆ
d©a_by‹s
);

22 
wr™e
(
ušt8_t
 
deviû_add»ss
, ušt8_t* 
d©a
, ušt8_ˆ
d©a_by‹s
);

23 
wr™e
(
ušt8_t
 
deviû_add»ss
, ušt8_ˆ
by‹
);

24 
¿ndomR—d
(
ušt8_t
 
deviû_add»ss
, ušt8_ˆ
¡¬t_add»ss
, ušt8_t* 
d©a
, ušt8_ˆ
d©a_by‹s
);

25 
¿ndomWr™e
(
ušt8_t
 
deviû_add»ss
, ušt8_ˆ
¡¬t_add»ss
, ušt8_t* 
d©a
, ušt8_ˆ
d©a_by‹s
);

26 
¿ndomWr™e
(
ušt8_t
 
deviû_add»ss
, ušt8_ˆ
¡¬t_add»ss
, ušt8_ˆ
by‹
);

28 
ušt8_t
 
»ad8
(ušt8_ˆ
deviû_add»ss
, ušt8_ˆ
¡¬t_add»ss
);

29 
ušt16_t
 
»ad16
(
ušt8_t
 
deviû_add»ss
, ušt8_ˆ
¡¬t_add»ss
);

30 
ušt32_t
 
»ad24
(
ušt8_t
 
deviû_add»ss
, ušt8_ˆ
¡¬t_add»ss
);

31 
ušt32_t
 
»ad32
(
ušt8_t
 
deviû_add»ss
, ušt8_ˆ
¡¬t_add»ss
);

33 
	$£tDeviûAdd»ss
(
ušt8_t
 
add»ss
){

34 
_deviû_add»ss
 = 
add»ss
;

37 
	$£tF»qu’cy
(
ušt32_t
 
äequ’cy
){

38 
_äequ’cy_d–ay
 = 1000000 / 
äequ’cy
;

39 
	}
}

41 
šlše
 
	$š™Ÿli£
() {

42 
_sş
.
	`ouut
();

43 
_sda
.
	`ouut
();

45 
_sda
 = 1;

46 
_sş
 = 0;

47 
	`wa™_us
(
_äequ’cy_d–ay
);

49  
n
 = 0;‚ <= 3; ++n ) {

50 
	`¡İ
();

52 
	}
}

54 
	g´iv©e
:

55 
šlše
 
	$¡¬t
() {

56 
_sda
.
	`ouut
();

57 
	`wa™_us
(
_äequ’cy_d–ay
);

58 
_sş
 = 1;

59 
_sda
 = 1;

60 
	`wa™_us
(
_äequ’cy_d–ay
);

61 
_sda
 = 0;

62 
	`wa™_us
(
_äequ’cy_d–ay
);

63 
_sş
 = 0;

64 
	`wa™_us
(
_äequ’cy_d–ay
);

65 
	}
}

67 
šlše
 
	$¡İ
() {

68 
_sda
.
	`ouut
();

69 
	`wa™_us
(
_äequ’cy_d–ay
);

70 
_sda
 = 0;

71 
	`wa™_us
(
_äequ’cy_d–ay
);

72 
_sş
 = 1;

73 
	`wa™_us
(
_äequ’cy_d–ay
);

74 
_sda
 = 1;

75 
	}
}

77 
šlše
 
	$putBy‹
(
ušt8_t
 
by‹
) {

78 
_sda
.
	`ouut
();

79  
n
 = 8;‚ > 0; --n) {

80 
	`wa™_us
(
_äequ’cy_d–ay
);

81 
_sda
 = 
by‹
 & (1 << (
n
-1));

82 
_sş
 = 1;

83 
	`wa™_us
(
_äequ’cy_d–ay
);

84 
_sş
 = 0;

86 
_sda
 = 1;

87 
	}
}

89 
šlše
 
ušt8_t
 
	$g‘By‹
() {

90 
ušt8_t
 
by‹
 = 0;

92 
_sda
.
	`šput
();

93 
_sda
.
	`mode
(
O³nD¿š
);

95 
	`wa™_us
(
_äequ’cy_d–ay
);

97  
n
 = 8;‚ > 0; --n ) {

98 
_sş
=1;

99 
	`wa™_us
(
_äequ’cy_d–ay
);

100 
by‹
 |ğ
_sda
 << (
n
-1);

101 
	`wa™_us
(
_äequ’cy_d–ay
);

102 
_sş
=0;

103 
	`wa™_us
(
_äequ’cy_d–ay
);

106 
_sda
.
	`ouut
();

108  
by‹
;

109 
	}
}

111 
šlše
 
	$giveAck
() {

112 
_sda
.
	`ouut
();

113 
	`wa™_us
(
_äequ’cy_d–ay
);

114 
_sda
 = 0;

115 
_sş
 = 1;

116 
	`wa™_us
(
_äequ’cy_d–ay
);

117 
_sş
 = 0;

118 
_sda
 = 1;

120 
	}
}

122 
šlše
 
boŞ
 
	$g‘Ack
() {

123 
_sda
.
	`ouut
();

124 
_sda
 = 1;

125 
_sş
 = 1;

126 
_sda
.
	`šput
();

127 
_sda
.
	`mode
(
O³nD¿š
);

128 
	`wa™_us
(
_äequ’cy_d–ay
);

129 
_sş
 = 0;

131 if(
_sda
 !ğ0){ 
çl£
;}

133 
	`wa™_us
(
_äequ’cy_d–ay
);

134  
Œue
;

135 
	}
}

137 
Dig™®InOut
 
	g_sda
;

138 
Dig™®InOut
 
	g_sş
;

140 
ušt8_t
 
	g_deviû_add»ss
;

141 
ušt32_t
 
	g_äequ’cy_d–ay
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\clock_11u6x.c

1 
	~"şock_11u6x.h
"

5 
STATIC
 cÚ¡ 
ušt32_t
 
	gwdtOSCR©e
[
WDTLFO_OSC_4_60
 + 1] = {

25 
STATIC
 
ušt32_t
 
	$Ch_Clock_G‘PLLF»q
(
ušt32_t
 
PLLReg
, ušt32_ˆ
šputR©e
)

27 
ušt32_t
 
m£l
 = ((
PLLReg
 & 0x1F) + 1);

29  
šputR©e
 * 
m£l
;

30 
	}
}

33 
ušt32_t
 
	$Ch_Clock_G‘Sy¡emPLLOutClockR©e
()

35  
	`Ch_Clock_G‘PLLF»q
(
LPC_SYSCTL
->
SYSPLLCTRL
,

36 
	`Ch_Clock_G‘Sy¡emPLLInClockR©e
());

37 
	}
}

41 
STATIC
 
ušt32_t
 
	$Ch_Clock_G‘WDTR©e
(
ušt32_t
 
»g
)

43 
ušt32_t
 
div
;

44 
CHIP_WDTLFO_OSC_T
 
şk
;

47 
şk
 = (
CHIP_WDTLFO_OSC_T
è((
»g
 >> 5) & 0xF);

48 
div
 = 
»g
 & 0x1F;

51  
wdtOSCR©e
[
şk
] / ((
div
 + 1) << 1);

52 
	}
}

55 
ušt32_t
 
	$Ch_Clock_G‘WDTOSCR©e
()

57  
	`Ch_Clock_G‘WDTR©e
(
LPC_SYSCTL
->
WDTOSCCTRL
);

58 
	}
}

62 
ušt32_t
 
	$Ch_Clock_G‘Sy¡emPLLInClockR©e
()

64 
ušt32_t
 
şkR©e
;

66 (
CHIP_SYSCTL_PLLCLKSRC_T
è(
LPC_SYSCTL
->
SYSPLLCLKSEL
 & 0x3)) {

67 
SYSCTL_PLLCLKSRC_IRC
:

68 
şkR©e
 = 
	`Ch_Clock_G‘IÁOscR©e
();

71 
SYSCTL_PLLCLKSRC_MAINOSC
:

72 
şkR©e
 = 
	`Ch_Clock_G‘MašOscR©e
();

75 
SYSCTL_PLLCLKSRC_RTC32K
:

76 
şkR©e
 = 
	`Ch_Clock_G‘RTCOscR©e
();

80 
şkR©e
 = 0;

83  
şkR©e
;

84 
	}
}

88 
ušt32_t
 
	$Ch_Clock_G‘MašClockR©e
()

90 
ušt32_t
 
şkR©e
 = 0;

92 (
CHIP_SYSCTL_MAINCLKSRC_T
è(
LPC_SYSCTL
->
MAINCLKSEL
 & 0x3)) {

93 
SYSCTL_MAINCLKSRC_IRC
:

94 
şkR©e
 = 
	`Ch_Clock_G‘IÁOscR©e
();

97 
SYSCTL_MAINCLKSRC_PLLIN
:

98 
şkR©e
 = 
	`Ch_Clock_G‘Sy¡emPLLInClockR©e
();

101 
SYSCTL_MAINCLKSRC_WDTOSC
:

102 
şkR©e
 = 
	`Ch_Clock_G‘WDTOSCR©e
();

105 
SYSCTL_MAINCLKSRC_PLLOUT
:

106 
şkR©e
 = 
	`Ch_Clock_G‘Sy¡emPLLOutClockR©e
();

110  
şkR©e
;

111 
	}
}

114 
ušt32_t
 
	$Ch_Clock_G‘Sy¡emClockR©e
()

117  
	`Ch_Clock_G‘MašClockR©e
(è/ 
LPC_SYSCTL
->
SYSAHBCLKDIV
;

118 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\dma_11u6x.c

33 
	~"dma_11u6x.h
"

35 
	#çl£
 0

	)

36 
	#Œue
 1

	)

46 #ifdeà
__ılu¥lus


53 #ià
defšed
(
__CC_ARM
)

55 
	$__®ign
(256è
DMA_CHDESC_T
 
Ch_DMA_TabË
[
MAX_DMA_CHANNEL
];

59 #ià
	`defšed
(
__ICCARM__
)

61 #´agm¨
d©a_®ignm’t
=256

62 
DMA_CHDESC_T
 
Ch_DMA_TabË
[
MAX_DMA_CHANNEL
];

65 #ià
	`defšed
Ğ
__GNUC__
 )

67 
DMA_CHDESC_T
 
Ch_DMA_TabË
[
MAX_DMA_CHANNEL
] 
	`__©Œibu‹__
 ((
	`®igÃd
(256)));

70 #ifdeà
__ılu¥lus


71 
	}
}

83 
Ch_DMA_S‘T¿nB™s
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
, 
ušt32_t
 
mask
)

85 
ušt32_t
 
	g‹mp
;

89 
	g‹mp
 = 
pDMA
->
DMACH
[
ch
].
XFERCFG
 & ~0xFC000CC0;

91 
	gpDMA
->
	gDMACH
[
ch
].
	gXFERCFG
 = 
‹mp
 | 
mask
;

95 
Ch_DMA_CË¬T¿nB™s
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
, 
ušt32_t
 
mask
)

97 
ušt32_t
 
	g‹mp
;

101 
	g‹mp
 = 
pDMA
->
DMACH
[
ch
].
XFERCFG
 & ~0xFC000CC0;

103 
	gpDMA
->
	gDMACH
[
ch
].
	gXFERCFG
 = 
‹mp
 & ~
mask
;

107 
Ch_DMA_S‘upChªÃlT¿nsãrSize
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
, 
ušt32_t
 
Œªs
)

109 
Ch_DMA_CË¬T¿nB™s
(
pDMA
, 
ch
, (0x3FF << 16));

110 
Ch_DMA_S‘T¿nB™s
(
pDMA
, 
ch
, 
DMA_XFERCFG_XFERCOUNT
(
Œªs
));

114 
boŞ
 
Ch_DMA_S‘upT¿nChªÃl
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
, 
DMA_CHDESC_T
 *
desc
)

116 
boŞ
 
	ggood
 = 
çl£
;

117 
DMA_CHDESC_T
 *
	gpDesc
 = (DMA_CHDESC_T *è
pDMA
->
SRAMBASE
;

119 ià((
Ch_DMA_G‘AùiveChªÃls
(
pDMA
è& (1 << 
	gch
)) == 0) {

121 
pDesc
[
ch
] = *
desc
;

123 
	ggood
 = 
Œue
;

126  
	ggood
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\dma_11u6x.h

32 #iâdeà
__DMA_11U6X_H_


33 
	#__DMA_11U6X_H_


	)

35 
	~"Íc_ty³s.h
"

36 
	~"şock_11u6x.h
"

38 #ifdeà
__ılu¥lus


51 
__IO
 
ušt32_t
 
ENABLESET
;

52 
__I
 
ušt32_t
 
RESERVED0
;

53 
__O
 
ušt32_t
 
ENABLECLR
;

54 
__I
 
ušt32_t
 
RESERVED1
;

55 
__I
 
ušt32_t
 
ACTIVE
;

56 
__I
 
ušt32_t
 
RESERVED2
;

57 
__I
 
ušt32_t
 
BUSY
;

58 
__I
 
ušt32_t
 
RESERVED3
;

59 
__IO
 
ušt32_t
 
ERRINT
;

60 
__I
 
ušt32_t
 
RESERVED4
;

61 
__IO
 
ušt32_t
 
INTENSET
;

62 
__I
 
ušt32_t
 
RESERVED5
;

63 
__O
 
ušt32_t
 
INTENCLR
;

64 
__I
 
ušt32_t
 
RESERVED6
;

65 
__IO
 
ušt32_t
 
INTA
;

66 
__I
 
ušt32_t
 
RESERVED7
;

67 
__IO
 
ušt32_t
 
INTB
;

68 
__I
 
ušt32_t
 
RESERVED8
;

69 
__O
 
ušt32_t
 
SETVALID
;

70 
__I
 
ušt32_t
 
RESERVED9
;

71 
__O
 
ušt32_t
 
SETTRIG
;

72 
__I
 
ušt32_t
 
RESERVED10
;

73 
__O
 
ušt32_t
 
ABORT
;

74 } 
	tLPC_DMA_COMMON_T
;

80 
__IO
 
ušt32_t
 
CFG
;

81 
__I
 
ušt32_t
 
CTLSTAT
;

82 
__IO
 
ušt32_t
 
XFERCFG
;

83 
__I
 
ušt32_t
 
RESERVED
;

84 } 
	tLPC_DMA_CHANNEL_T
;

87 
	#DMA_CH15
 15

	)

90 
	#MAX_DMA_CHANNEL
 (
DMA_CH15
 + 1)

	)

96 
__IO
 
ušt32_t
 
CTRL
;

97 
__I
 
ušt32_t
 
INTSTAT
;

98 
__IO
 
ušt32_t
 
SRAMBASE
;

99 
__I
 
ušt32_t
 
RESERVED2
[5];

100 
LPC_DMA_COMMON_T
 
DMACOMMON
[1];

101 
__I
 
ušt32_t
 
RESERVED0
[225];

102 
LPC_DMA_CHANNEL_T
 
DMACH
[
MAX_DMA_CHANNEL
];

103 } 
	tLPC_DMA_T
;

114 
STATIC
 
INLINE
 
Ch_DMA_In™
(
LPC_DMA_T
 *
pDMA
)

116 (è
pDMA
;

117 
Ch_Clock_EÇbËP”hClock
(
SYSCTL_CLOCK_DMA
);

125 
STATIC
 
INLINE
 
Ch_DMA_DeIn™
(
LPC_DMA_T
 *
pDMA
)

127 (è
pDMA
;

128 
Ch_Clock_Di§bËP”hClock
(
SYSCTL_CLOCK_DMA
);

136 
STATIC
 
INLINE
 
Ch_DMA_EÇbË
(
LPC_DMA_T
 *
pDMA
)

138 
pDMA
->
CTRL
 = 1;

146 
STATIC
 
INLINE
 
Ch_DMA_Di§bË
(
LPC_DMA_T
 *
pDMA
)

148 
pDMA
->
CTRL
 = 0;

152 
	#DMA_INTSTAT_ACTIVEINT
 0x2

	)

153 
	#DMA_INTSTAT_ACTIVEERRINT
 0x4

	)

163 
STATIC
 
INLINE
 
ušt32_t
 
Ch_DMA_G‘IÁStus
(
LPC_DMA_T
 *
pDMA
)

165  
pDMA
->
INTSTAT
;

172 
DMA_CHDESC_T
 
Ch_DMA_TabË
[
MAX_DMA_CHANNEL
];

186 
STATIC
 
INLINE
 
Ch_DMA_S‘SRAMBa£
(
LPC_DMA_T
 *
pDMA
, 
ušt32_t
 
ba£
)

188 
	gpDMA
->
	gSRAMBASE
 = 
ba£
;

196 
STATIC
 
INLINE
 
ušt32_t
 
Ch_DMA_G‘SRAMBa£
(
LPC_DMA_T
 *
pDMA
)

198  
	gpDMA
->
	gSRAMBASE
;

215 
STATIC
 
INLINE
 
Ch_DMA_EÇbËChªÃl
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
)

217 
	gpDMA
->
	gDMACOMMON
[0].
	gENABLESET
 = (1 << 
ch
);

226 
STATIC
 
INLINE
 
Ch_DMA_Di§bËChªÃl
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
)

228 
	gpDMA
->
	gDMACOMMON
[0].
	gENABLECLR
 = (1 << 
ch
);

239 
STATIC
 
INLINE
 
ušt32_t
 
Ch_DMA_G‘EÇbËdChªÃls
(
LPC_DMA_T
 *
pDMA
)

241  
	gpDMA
->
	gDMACOMMON
[0].
	gENABLESET
;

254 
STATIC
 
INLINE
 
ušt32_t
 
Ch_DMA_G‘AùiveChªÃls
(
LPC_DMA_T
 *
pDMA
)

256  
	gpDMA
->
	gDMACOMMON
[0].
	gACTIVE
;

270 
STATIC
 
INLINE
 
ušt32_t
 
Ch_DMA_G‘BusyChªÃls
(
LPC_DMA_T
 *
pDMA
)

272  
	gpDMA
->
	gDMACOMMON
[0].
	gBUSY
;

284 
STATIC
 
INLINE
 
ušt32_t
 
Ch_DMA_G‘E¼ÜIÁChªÃls
(
LPC_DMA_T
 *
pDMA
)

286  
	gpDMA
->
	gDMACOMMON
[0].
	gERRINT
;

295 
STATIC
 
INLINE
 
Ch_DMA_CË¬E¼ÜIÁChªÃl
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
)

297 
	gpDMA
->
	gDMACOMMON
[0].
	gERRINT
 = (1 << 
ch
);

306 
STATIC
 
INLINE
 
Ch_DMA_EÇbËIÁChªÃl
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
)

308 
	gpDMA
->
	gDMACOMMON
[0].
	gINTENSET
 = (1 << 
ch
);

317 
STATIC
 
INLINE
 
Ch_DMA_Di§bËIÁChªÃl
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
)

319 
	gpDMA
->
	gDMACOMMON
[0].
	gINTENCLR
 = (1 << 
ch
);

332 
STATIC
 
INLINE
 
ušt32_t
 
Ch_DMA_G‘EÇbËIÁChªÃls
(
LPC_DMA_T
 *
pDMA
)

334  
	gpDMA
->
	gDMACOMMON
[0].
	gINTENSET
;

346 
STATIC
 
INLINE
 
ušt32_t
 
Ch_DMA_G‘AùiveIÁAChªÃls
(
LPC_DMA_T
 *
pDMA
)

348  
	gpDMA
->
	gDMACOMMON
[0].
	gINTA
;

357 
STATIC
 
INLINE
 
Ch_DMA_CË¬AùiveIÁAChªÃl
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
)

359 
	gpDMA
->
	gDMACOMMON
[0].
	gINTA
 = (1 << 
ch
);

371 
STATIC
 
INLINE
 
ušt32_t
 
Ch_DMA_G‘AùiveIÁBChªÃls
(
LPC_DMA_T
 *
pDMA
)

373  
	gpDMA
->
	gDMACOMMON
[0].
	gINTB
;

382 
STATIC
 
INLINE
 
Ch_DMA_CË¬AùiveIÁBChªÃl
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
)

384 
	gpDMA
->
	gDMACOMMON
[0].
	gINTB
 = (1 << 
ch
);

395 
STATIC
 
INLINE
 
Ch_DMA_S‘V®idChªÃl
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
)

397 
	gpDMA
->
	gDMACOMMON
[0].
	gSETVALID
 = (1 << 
ch
);

407 
STATIC
 
INLINE
 
Ch_DMA_S‘TrigChªÃl
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
)

409 
	gpDMA
->
	gDMACOMMON
[0].
	gSETTRIG
 = (1 << 
ch
);

423 
STATIC
 
INLINE
 
Ch_DMA_AbÜtChªÃl
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
)

425 
	gpDMA
->
	gDMACOMMON
[0].
	gABORT
 = (1 << 
ch
);

441 
__IO
 
ušt32_t
 
	gDMA_ITRIG_INMUX
[
MAX_DMA_CHANNEL
];

442 } 
	tLPC_DMATRIGMUX_T
;

446 
	gDMATRIG_ADC0_SEQA_IRQ
 = 0,

447 
	gDMATRIG_ADC0_SEQB_IRQ
,

448 
	gDMATRIG_CT16B0_MAT0
,

449 
	gDMATRIG_CT16B1_MAT0
,

450 
	gDMATRIG_CT32B0_MAT0
,

451 
	gDMATRIG_CT32B1_MAT0
,

452 
	gDMATRIG_PINT0
,

453 
	gDMATRIG_PINT1
,

454 
	gDMATRIG_SCT0_DMA0
,

455 
	gDMATRIG_SCT0_DMA1
,

456 
	gDMATRIG_SCT1_DMA0
,

457 
	gDMATRIG_SCT1_DMA1


458 } 
	tDMA_TRIGSRC_T
;

470 
STATIC
 
INLINE
 
Ch_DMA_S‘HWTrigg”
(
LPC_DMATRIGMUX_T
 *
pDMATRIG
, 
DMA_CHID_T
 
ch
, 
DMA_TRIGSRC_T
 
Œig
)

472 
	gpDMATRIG
->
	gDMA_ITRIG_INMUX
[
ch
] = (
ušt32_t
è
Œig
;

484 
	#DMA_ADDR
(
addr
è((
ušt32_t
è×ddr))

	)

488 
	#DMA_CFG_PERIPHREQEN
 (1 << 0è

	)

489 
	#DMA_CFG_HWTRIGEN
 (1 << 1è

	)

490 
	#DMA_CFG_TRIGPOL_LOW
 (0 << 4è

	)

491 
	#DMA_CFG_TRIGPOL_HIGH
 (1 << 4è

	)

492 
	#DMA_CFG_TRIGTYPE_EDGE
 (0 << 5è

	)

493 
	#DMA_CFG_TRIGTYPE_LEVEL
 (1 << 5è

	)

494 
	#DMA_CFG_TRIGBURST_SNGL
 (0 << 6è

	)

495 
	#DMA_CFG_TRIGBURST_BURST
 (1 << 6è

	)

496 
	#DMA_CFG_BURSTPOWER_1
 (0 << 8è

	)

497 
	#DMA_CFG_BURSTPOWER_2
 (1 << 8è

	)

498 
	#DMA_CFG_BURSTPOWER_4
 (2 << 8è

	)

499 
	#DMA_CFG_BURSTPOWER_8
 (3 << 8è

	)

500 
	#DMA_CFG_BURSTPOWER_16
 (4 << 8è

	)

501 
	#DMA_CFG_BURSTPOWER_32
 (5 << 8è

	)

502 
	#DMA_CFG_BURSTPOWER_64
 (6 << 8è

	)

503 
	#DMA_CFG_BURSTPOWER_128
 (7 << 8è

	)

504 
	#DMA_CFG_BURSTPOWER_256
 (8 << 8è

	)

505 
	#DMA_CFG_BURSTPOWER_512
 (9 << 8è

	)

506 
	#DMA_CFG_BURSTPOWER_1024
 (10 << 8è

	)

507 
	#DMA_CFG_BURSTPOWER
(
n
è(Òè<< 8è

	)

508 
	#DMA_CFG_SRCBURSTWRAP
 (1 << 14è

	)

509 
	#DMA_CFG_DSTBURSTWRAP
 (1 << 15è

	)

510 
	#DMA_CFG_CHPRIORITY
(
p
è(Õè<< 16è

	)

541 
STATIC
 
INLINE
 
Ch_DMA_S‘upChªÃlCÚfig
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
, 
ušt32_t
 
cfg
)

543 
	gpDMA
->
	gDMACH
[
ch
].
	gCFG
 = 
cfg
;

547 
	#DMA_CTLSTAT_VALIDPENDING
 (1 << 0è

	)

548 
	#DMA_CTLSTAT_TRIG
 (1 << 2è

	)

556 
STATIC
 
INLINE
 
ušt32_t
 
Ch_DMA_G‘ChªÃlStus
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
)

558  
	gpDMA
->
	gDMACH
[
ch
].
	gXFERCFG
;

562 
	#DMA_XFERCFG_CFGVALID
 (1 << 0è

	)

563 
	#DMA_XFERCFG_RELOAD
 (1 << 1è

	)

564 
	#DMA_XFERCFG_SWTRIG
 (1 << 2è

	)

565 
	#DMA_XFERCFG_CLRTRIG
 (1 << 3è

	)

566 
	#DMA_XFERCFG_SETINTA
 (1 << 4è

	)

567 
	#DMA_XFERCFG_SETINTB
 (1 << 5è

	)

568 
	#DMA_XFERCFG_WIDTH_8
 (0 << 8è

	)

569 
	#DMA_XFERCFG_WIDTH_16
 (1 << 8è

	)

570 
	#DMA_XFERCFG_WIDTH_32
 (2 << 8è

	)

571 
	#DMA_XFERCFG_SRCINC_0
 (0 << 12è

	)

572 
	#DMA_XFERCFG_SRCINC_1
 (1 << 12è

	)

573 
	#DMA_XFERCFG_SRCINC_2
 (2 << 12è

	)

574 
	#DMA_XFERCFG_SRCINC_4
 (3 << 12è

	)

575 
	#DMA_XFERCFG_DSTINC_0
 (0 << 14è

	)

576 
	#DMA_XFERCFG_DSTINC_1
 (1 << 14è

	)

577 
	#DMA_XFERCFG_DSTINC_2
 (2 << 14è

	)

578 
	#DMA_XFERCFG_DSTINC_4
 (3 << 14è

	)

579 
	#DMA_XFERCFG_XFERCOUNT
(
n
è(Ò - 1è<< 16è

	)

598 
STATIC
 
INLINE
 
Ch_DMA_S‘upChªÃlT¿nsãr
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
, 
ušt32_t
 
cfg
)

600 
	gpDMA
->
	gDMACH
[
ch
].
	gXFERCFG
 = 
cfg
;

612 
Ch_DMA_S‘T¿nB™s
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
, 
ušt32_t
 
mask
);

623 
Ch_DMA_CË¬T¿nB™s
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
, 
ušt32_t
 
mask
);

632 
Ch_DMA_S‘upChªÃlT¿nsãrSize
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
, 
ušt32_t
 
Œªs
);

640 
STATIC
 
INLINE
 
Ch_DMA_S‘ChªÃlV®id
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
)

642 
Ch_DMA_S‘T¿nB™s
(
pDMA
, 
ch
, 
DMA_XFERCFG_CFGVALID
);

651 
STATIC
 
INLINE
 
Ch_DMA_S‘ChªÃlInV®id
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
)

653 
Ch_DMA_CË¬T¿nB™s
(
pDMA
, 
ch
, 
DMA_XFERCFG_CFGVALID
);

662 
STATIC
 
INLINE
 
Ch_DMA_SWTrigg”ChªÃl
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
)

664 
Ch_DMA_S‘T¿nB™s
(
pDMA
, 
ch
, 
DMA_XFERCFG_SWTRIG
);

683 
boŞ
 
Ch_DMA_S‘upT¿nChªÃl
(
LPC_DMA_T
 *
pDMA
, 
DMA_CHID_T
 
ch
, 
DMA_CHDESC_T
 *
desc
);

693 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\iap.cpp

1 
	~<¡dio.h
>

2 
	~<¡dšt.h
>

3 
	~<Ÿp.h
>

4 
	~"LPC11U6x.h
"

5 
	~"Pok™toDisk.h
"

7 
	#TICKRATE_HZ
 (10è

	)

9 vŞ©
ušt32_t
 
	gsysTick
;

12 
	#IAP_LOCATION
 0x1fff1ff1

	)

14 
	#Ï¡_£ùÜ_æash
 0x00038000

15 
	#IAP_LAST_SECTOR
 28

	)

16 
	#IAP_NUM_BYTES_TO_WRITE
 256

	)

17 
	#WRITECOUNT
 (
IAP_NUM_BYTES_TO_WRITE
 / 4è

	)

19 
	#IAP_PREWRRITE_CMD
 50

	)

20 
	#IAP_WRISECTOR_CMD
 51

	)

21 
	#IAP_ERSSECTOR_CMD
 52

	)

22 
	#IAP_REPID_CMD
 54

	)

25 
	gcommªd
[5], 
	g»suÉ
[4];

28 (*
	tIAP
)([], []);

29 
IAP
 
Ÿp_’Œy
 = (IAPè
IAP_LOCATION
;

31 
	$CİyPageToFÏsh
 (
ušt32_t
 
add»ss
, 
ušt8_t
* 
d©a
) {

32 
IAP
 
Ÿp_ÿÎ
 = (IAPè
IAP_LOCATION
;

33 
ušt32_t
 
wr™ecouÁ
=0;

34 
	`__di§bË_œq
();

36 
£ùÜ
, 
·ge
;

37 
boŞ
 
fœ¡·ge
=
çl£
, 
”a£·ge
=false;

43 ià(
add»ss
 < 0x18000è
£ùÜ
 =‡ddress/0x1000;

44 ià(
add»ss
 >ğ0x38000è
£ùÜ
 = 28;

45 ià(
add»ss
 >ğ0x30000è
£ùÜ
 = 27;

46 ià(
add»ss
 >ğ0x28000è
£ùÜ
 = 26;

47 ià(
add»ss
 >ğ0x20000è
£ùÜ
 = 25;

48 
£ùÜ
 = 24;

51 ià(
£ùÜ
 < 24) {

53 
fœ¡·ge
 = ((
add»ss
 & 0x0FFF) == 0);

56 
fœ¡·ge
 = ((
add»ss
 & 0x7FFF) == 0);

60 
commªd
[0] = 
IAP_PREWRRITE_CMD
;

61 
commªd
[1] = 
£ùÜ
;

62 
commªd
[2] = 
£ùÜ
;

63 
	`Ÿp_ÿÎ
(
commªd
, 
»suÉ
);

64 ià(
»suÉ
[0])  1;

67 ià(
add»ss
==0x39000) {

68 
”a£·ge
=
Œue
;

72 ià(
fœ¡·ge
) {

74 
commªd
[0] = 
IAP_ERSSECTOR_CMD
;

75 
commªd
[1] = 
£ùÜ
;

76 
commªd
[2] = 
£ùÜ
;

77 
commªd
[3] = 
Sy¡emCÜeClock
 / 1000UL;

78 
	`Ÿp_ÿÎ
(
commªd
, 
»suÉ
);

79 ià(
»suÉ
[0])  1;

81 
commªd
[0] = 
IAP_PREWRRITE_CMD
;

82 
commªd
[1] = 
£ùÜ
;

83 
commªd
[2] = 
£ùÜ
;

84 
	`Ÿp_ÿÎ
(
commªd
, 
»suÉ
);

85 ià(
»suÉ
[0])  1;

89 ià(
”a£·ge
) {

90 
commªd
[0] = 59;

91 
commªd
[1] = 896;

92 
commªd
[2] = 1023;

93 
commªd
[3] = 
Sy¡emCÜeClock
 / 1000UL;

94 
	`Ÿp_ÿÎ
(
commªd
, 
»suÉ
);

95 ià(
»suÉ
[0])  1;

97 
commªd
[0] = 
IAP_PREWRRITE_CMD
;

98 
commªd
[1] = 
£ùÜ
;

99 
commªd
[2] = 
£ùÜ
;

100 
	`Ÿp_ÿÎ
(
commªd
, 
»suÉ
);

101 ià(
»suÉ
[0])  1;

105 
commªd
[0] = 
IAP_WRISECTOR_CMD
;

106 
commªd
[1] = (
ušt32_t
è(ušt32_t*è
add»ss
;

107 
commªd
[2] = (
ušt32_t
è
d©a
;

108 
commªd
[3] = 0x100;

109 
commªd
[4] = 
Sy¡emCÜeClock
 / 1000;

110 
	`Ÿp_ÿÎ
(
commªd
, 
»suÉ
);

111 ià(
»suÉ
[0])  1;

114 
	`__’abË_œq
();

118 
	}
}

120 
__©Œibu‹__
((
£ùiÚ
(".IAP_Code"))è
	$H–loFromIAP
() {

121 #iâdeà
NOPETITFATFS


122 
ušt32_t
 
¬¿y_d©a
[
WRITECOUNT
];

123 
i
;

125 
i
 = 0; i < 
WRITECOUNT
; i++) {

126 
¬¿y_d©a
[
i
] = 0xB007AB1E;

129 
IAP
 
Ÿp_ÿÎ
 = (IAPè
IAP_LOCATION
;

130 
ušt8_t
 
‹ahupoo
;

132 
‹ahupoo
++;

136 
	`pokIn™SD
();

137 
â
[20];

138 * 
now
;

139 
now
 = (*)
Ï¡_£ùÜ_æash
;

140 
now
[0]) {

142 
â
[0]='B';fn[1]='B';fn[2]='.';fn[3]='B';fn[4]='I';fn[5]='N';fn[6]='\0';;

144 
â
[0]='C';fn[1]='C';fn[2]='.';fn[3]='B';fn[4]='I';fn[5]='N';fn[6]='\0';;

146 
â
[0]='A';fn[1]='A';fn[2]='.';fn[3]='B';fn[4]='I';fn[5]='N';fn[6]='\0';

148 if(
	`feO³n
(
â
,
FILE_MODE_BINARY
)) {

151 
i
 = 0; i < 
WRITECOUNT
; i++) {

152 
	`feR—dBy‹s
((
ušt8_t
*)&
¬¿y_d©a
[
i
],4);

159 
commªd
[0] = 
IAP_REPID_CMD
;

160 
	`Ÿp_ÿÎ
(
commªd
, 
»suÉ
);

162 
	`__di§bË_œq
();

165 
commªd
[0] = 
IAP_PREWRRITE_CMD
;

166 
commªd
[1] = 
IAP_LAST_SECTOR
;

167 
commªd
[2] = 
IAP_LAST_SECTOR
;

168 
	`Ÿp_ÿÎ
(
commªd
, 
»suÉ
);

170 
commªd
[0] = 
IAP_ERSSECTOR_CMD
;

171 
commªd
[1] = 
IAP_LAST_SECTOR
;

172 
commªd
[2] = 
IAP_LAST_SECTOR
;

173 
commªd
[3] = 
Sy¡emCÜeClock
 / 1000UL;

174 
	`Ÿp_ÿÎ
(
commªd
, 
»suÉ
);

176 
commªd
[0] = 
IAP_PREWRRITE_CMD
;

177 
commªd
[1] = 
IAP_LAST_SECTOR
;

178 
commªd
[2] = 
IAP_LAST_SECTOR
;

179 
	`Ÿp_ÿÎ
(
commªd
, 
»suÉ
);

181 
commªd
[0] = 
IAP_WRISECTOR_CMD
;

182 
commªd
[1] = (
ušt32_t
è
Ï¡_£ùÜ_æash
;

183 
commªd
[2] = (
ušt32_t
è&
¬¿y_d©a
;

184 
commªd
[3] = 
IAP_NUM_BYTES_TO_WRITE
;

185 
commªd
[4] = 
Sy¡emCÜeClock
 / 1000;

186 
	`Ÿp_ÿÎ
(
commªd
, 
»suÉ
);

189 
	`__’abË_œq
();

192 
SCB
->
AIRCR
 = 0x05FA0004;

194  
‹ahupoo
;

196 
	}
}

201 
	$IAP¡ack§ve
()

204 
	#RAM1_0
 (*((vŞ©*è0x20000000))

	)

205 
	#RAM1_1
 (*((vŞ©*è0x20000004))

	)

206 
	#RAM1_2
 (*((vŞ©*è0x20000008))

	)

207 
	#RAM1_3
 (*((vŞ©*è0x2000000C))

	)

208 
	#RAM1_4
 (*((vŞ©*è0x20000010))

	)

209 
	#RAM1_5
 (*((vŞ©*è0x20000014))

	)

210 
	#RAM1_6
 (*((vŞ©*è0x20000018))

	)

211 
	#RAM1_7
 (*((vŞ©*è0x2000001C))

	)

213 
ušt32_t
 *
§v–oc
 = (uint32_t*)(0x10002000-0x20);

214 
RAM1_0
 = *
§v–oc
++;

215 
RAM1_1
 = *
§v–oc
++;

216 
RAM1_2
 = *
§v–oc
++;

217 
RAM1_3
 = *
§v–oc
++;

218 
RAM1_4
 = *
§v–oc
++;

219 
RAM1_5
 = *
§v–oc
++;

220 
RAM1_6
 = *
§v–oc
++;

221 
RAM1_7
 = *
§v–oc
;

222 
	}
}

225 
	$Ÿ±e¡
() {

226 
ušt32_t
 
¬¿y_d©a
[
WRITECOUNT
];

227 
i
;

229 
i
 = 0; i < 
WRITECOUNT
; i++) {

230 
¬¿y_d©a
[
i
] = 0x11223340 + i;

234 
commªd
[0] = 
IAP_REPID_CMD
;

235 
	`Ÿp_’Œy
(
commªd
, 
»suÉ
);

238 
	`__di§bË_œq
();

240 
commªd
[0] = 
IAP_REPID_CMD
;

241 
	`Ÿp_’Œy
(
commªd
, 
»suÉ
);

244 
commªd
[0] = 
IAP_PREWRRITE_CMD
;

245 
commªd
[1] = 
IAP_LAST_SECTOR
;

246 
commªd
[2] = 
IAP_LAST_SECTOR
;

247 
	`Ÿp_’Œy
(
commªd
, 
»suÉ
);

250 
commªd
[0] = 
IAP_ERSSECTOR_CMD
;

251 
commªd
[1] = 
IAP_LAST_SECTOR
;

252 
commªd
[2] = 
IAP_LAST_SECTOR
;

253 
	`Ÿp_’Œy
(
commªd
, 
»suÉ
);

256 
commªd
[0] = 
IAP_PREWRRITE_CMD
;

257 
commªd
[1] = 
IAP_LAST_SECTOR
;

258 
commªd
[2] = 
IAP_LAST_SECTOR
;

259 
	`Ÿp_’Œy
(
commªd
, 
»suÉ
);

262 
commªd
[0] = 
IAP_WRISECTOR_CMD
;

263 
commªd
[1] = (
ušt32_t
è
Ï¡_£ùÜ_æash
;

264 
commªd
[2] = (
ušt32_t
è&
¬¿y_d©a
;

265 
commªd
[3] = 
IAP_NUM_BYTES_TO_WRITE
;

266 
commªd
[4] = 
Sy¡emCÜeClock
 / 1000;

267 
	`Ÿp_’Œy
(
commªd
, 
»suÉ
);

270 
	`__’abË_œq
();

278 
	}
}

290 
__©Œibu‹__
((
£ùiÚ
(".IAP_Code"))è
	$wr™eEEPROM
Ğ
ušt16_t
* 
“Add»ss
, 
ušt8_t
* 
buffAdd»ss
, 
ušt32_t
 
by‹CouÁ
 )

292 
commªd
[5], 
»suÉ
[4];

294 
commªd
[0] = 61;

295 
commªd
[1] = (
ušt32_t
è
“Add»ss
;

296 
commªd
[2] = (
ušt32_t
è
buffAdd»ss
;

297 
commªd
[3] = 
by‹CouÁ
;

298 
commªd
[4] = 
Sy¡emCÜeClock
/1000;

301 #ià(
EEPROM_PROFILE
!=0)

302 
LPC_CT32B0
->
TCR
 = 1;

303 
	`__di§bË_œq
();

304 
	`Ÿp_’Œy
(
commªd
, 
»suÉ
);

305 
	`__’abË_œq
();

306 
LPC_CT32B0
->
TCR
 = 0;

308 
	`__di§bË_œq
();

309 
	`Ÿp_’Œy
(
commªd
, 
»suÉ
);

310 
	`__’abË_œq
();

312 ià(0 !ğ
»suÉ
[0])

318 
	}
}

328 
__©Œibu‹__
((
£ùiÚ
(".IAP_Code"))è
	$»adEEPROM
Ğ
ušt16_t
* 
“Add»ss
, 
ušt8_t
* 
buffAdd»ss
, 
ušt32_t
 
by‹CouÁ
 )

330 
commªd
[5], 
»suÉ
[4];

332 
commªd
[0] = 62;

333 
commªd
[1] = (
ušt32_t
è
“Add»ss
;

334 
commªd
[2] = (
ušt32_t
è
buffAdd»ss
;

335 
commªd
[3] = 
by‹CouÁ
;

336 
commªd
[4] = 
Sy¡emCÜeClock
/1000;

339 
	`__di§bË_œq
();

340 
	`Ÿp_’Œy
Ğ
commªd
, 
»suÉ
);

341 
	`__’abË_œq
();

342 ià(0 !ğ
»suÉ
[0])

348 
	}
}

350 
__©Œibu‹__
((
£ùiÚ
(".IAP_Code"))è
	$IAP»adP¬tId
Ğ
ušt8_t
* 
“Add»ss
, ušt8_t* 
buffAdd»ss
, 
ušt32_t
 
by‹CouÁ
 )

352 
commªd
[5], 
»suÉ
[4];

354 
commªd
[0] = 62;

355 
commªd
[1] = (
ušt32_t
è
“Add»ss
;

356 
commªd
[2] = (
ušt32_t
è
buffAdd»ss
;

357 
commªd
[3] = 
by‹CouÁ
;

358 
commªd
[4] = 
Sy¡emCÜeClock
/1000;

361 
	`__di§bË_œq
();

362 
	`Ÿp_’Œy
Ğ
commªd
, 
»suÉ
);

363 
	`__’abË_œq
();

364 ià(0 !ğ
»suÉ
[0])

370 
	}
}

372 
ušt8_t
 
	$“´om_»ad_by‹
(
ušt16_t
* 
šdex
) {

373 
ušt8_t
 
v®
;

374 
	`»adEEPROM
(
šdex
,&
v®
,1);

375  
v®
;

376 
	}
}

378 
	$“´om_wr™e_by‹
(
ušt16_t
* 
šdex
 , 
ušt8_t
 
v®
) {

379 
	`wr™eEEPROM
(
šdex
,&
v®
,1);

380 
	}
}

407 
	#IAP_CMD_PREPARE_SECTORS
 50

	)

408 
	#IAP_CMD_COPY_RAM_TO_FLASH
 51

	)

409 
	#IAP_CMD_ERASE_SECTORS
 52

	)

410 
	#IAP_CMD_BLANK_CHECK_SECTORS
 53

	)

411 
	#IAP_CMD_READ_PART_ID
 54

	)

412 
	#IAP_CMD_READ_BOOT_ROM_VERSION
 55

	)

413 
	#IAP_CMD_COMPARE
 56

	)

414 
	#IAP_CMD_REINVOKE_ISP
 57

	)

415 
	#IAP_CMD_READ_UID
 58

	)

417 
	#IAP_CMD_ERASE_PAGE
 59

418 

	)

420 
	#IAP_ROM_LOCATION
 0x1FFF1FF1UL

	)

423 
__©Œibu‹__
((
£ùiÚ
(".IAP_Code"))è
	$IAP_EXECUTE_CMD
(
ušt32_t
* 
a
, ušt32_t* 
b
) {

424 (*
u£r_code_’Œy
)(
ušt32_t
*,uint32_t*);

425 
ušt32_t
 *
p
;

426 
p
 = (
ušt32_t
 *)
IAP_ROM_LOCATION
;

427 
u£r_code_’Œy
 = ((*)(
ušt32_t
*,ušt32_t*))(*
p
);

428 
	`u£r_code_’Œy
(
a
, 
b
);

429 
	}
}

445 
__©Œibu‹__
((
£ùiÚ
(".IAP_Code"))è
ušt32_t
 
	$u32IAP_P»·»SeùÜs
(
ušt32_t
 
u32S¹SeùÜ
, ušt32_ˆ
u32EndSeùÜ
)

447 
ušt32_t
 
u32Stus
;

448 
ušt32_t
 
au32ResuÉ
[3];

449 
ušt32_t
 
au32Commªd
[5];

451 ià(
u32EndSeùÜ
 < 
u32S¹SeùÜ
)

453 
u32Stus
 = 
IAP_STA_INVALD_PARAM
;

457 
au32Commªd
[0] = 
IAP_CMD_PREPARE_SECTORS
;

458 
au32Commªd
[1] = 
u32S¹SeùÜ
;

459 
au32Commªd
[2] = 
u32EndSeùÜ
;

460 
	`__di§bË_œq
();

461 
	`IAP_EXECUTE_CMD
(
au32Commªd
, 
au32ResuÉ
);

462 
	`__’abË_œq
();

463 
u32Stus
 = 
au32ResuÉ
[0];

465  
u32Stus
;

466 
	}
}

482 
__©Œibu‹__
((
£ùiÚ
(".IAP_Code"))è
ušt32_t
 
	$u32IAP_CİyRAMToFÏsh
(
ušt32_t
 
u32D¡Addr
, ušt32_ˆ
u32SrcAddr
, ušt32_ˆ
u32L’
)

484 
ušt32_t
 
au32ResuÉ
[3];

485 
ušt32_t
 
au32Commªd
[5];

487 
au32Commªd
[0] = 
IAP_CMD_COPY_RAM_TO_FLASH
;

488 
au32Commªd
[1] = 
u32D¡Addr
;

489 
au32Commªd
[2] = 
u32SrcAddr
;

490 
au32Commªd
[3] = 
u32L’
;

491 
au32Commªd
[4] = 
Sy¡emCÜeClock
 / 1000UL;

493 
	`IAP_EXECUTE_CMD
(
au32Commªd
, 
au32ResuÉ
);

495  
au32ResuÉ
[0];

496 
	}
}

509 
__©Œibu‹__
((
£ùiÚ
(".IAP_Code"))è
ušt32_t
 
	$u32IAP_E¿£SeùÜs
(
ušt32_t
 
u32S¹SeùÜ
, ušt32_ˆ
u32EndSeùÜ
)

511 
ušt32_t
 
u32Stus
;

512 
ušt32_t
 
au32ResuÉ
[3];

513 
ušt32_t
 
au32Commªd
[5];

515 ià(
u32EndSeùÜ
 < 
u32S¹SeùÜ
)

517 
u32Stus
 = 
IAP_STA_INVALD_PARAM
;

521 
au32Commªd
[0] = 
IAP_CMD_ERASE_SECTORS
;

522 
au32Commªd
[1] = 
u32S¹SeùÜ
;

523 
au32Commªd
[2] = 
u32EndSeùÜ
;

524 
au32Commªd
[3] = 
Sy¡emCÜeClock
 / 1000UL;

526 
	`IAP_EXECUTE_CMD
(
au32Commªd
, 
au32ResuÉ
);

528 
u32Stus
 = 
au32ResuÉ
[0];

530  
u32Stus
;

531 
	}
}

548 
__©Œibu‹__
((
£ùiÚ
(".IAP_Code"))è
ušt32_t
 
	$u32IAP_BÏnkCheckSeùÜs
(
ušt32_t
 
u32S¹SeùÜ
, ušt32_ˆ
u32EndSeùÜ
, ušt32_ˆ*
pu32ResuÉ
)

550 
ušt32_t
 
u32Stus
;

551 
ušt32_t
 
au32ResuÉ
[3];

552 
ušt32_t
 
au32Commªd
[5];

554 ià(
u32EndSeùÜ
 < 
u32S¹SeùÜ
)

556 
u32Stus
 = 
IAP_STA_INVALD_PARAM
;

560 
au32Commªd
[0] = 
IAP_CMD_BLANK_CHECK_SECTORS
;

561 
au32Commªd
[1] = 
u32S¹SeùÜ
;

562 
au32Commªd
[2] = 
u32EndSeùÜ
;

564 
	`IAP_EXECUTE_CMD
(
au32Commªd
, 
au32ResuÉ
);

566 ià(
au32ResuÉ
[0] =ğ
IAP_STA_SECTOR_NOT_BLANK
)

568 *
pu32ResuÉ
 = 
au32ResuÉ
[0];

569 *(
pu32ResuÉ
 + 1èğ
au32ResuÉ
[1];

571 
u32Stus
 = 
au32ResuÉ
[0];

573  
u32Stus
;

574 
	}
}

586 
__©Œibu‹__
((
£ùiÚ
(".IAP_Code"))è
ušt32_t
 
	$u32IAP_R—dP¬tID
(
ušt32_t
 *
pu32P¬tID
)

588 
ušt32_t
 
au32ResuÉ
[3];

589 
ušt32_t
 
au32Commªd
[5];

591 
au32Commªd
[0] = 
IAP_CMD_READ_PART_ID
;

592 
	`__di§bË_œq
();

593 
	`IAP_EXECUTE_CMD
(
au32Commªd
, 
au32ResuÉ
);

594 
	`__’abË_œq
();

595 *
pu32P¬tID
 = 
au32ResuÉ
[1];

597  
au32ResuÉ
[0];

598 
	}
}

611 
__©Œibu‹__
((
£ùiÚ
(".IAP_Code"))è
ušt32_t
 
	$u32IAP_R—dBoÙV”siÚ
(
ušt32_t
 *
pu32MajÜ
, ušt32_ˆ*
pu32MšÜ
)

614 
ušt32_t
 
au32ResuÉ
[3];

615 
ušt32_t
 
au32Commªd
[5];

617 
au32Commªd
[0] = 
IAP_CMD_READ_BOOT_ROM_VERSION
;

619 
	`IAP_EXECUTE_CMD
(
au32Commªd
, 
au32ResuÉ
);

622 *
pu32MajÜ
 = (
au32ResuÉ
[1] & 0x0000FF00UL) >> 8;

623 *
pu32MšÜ
 = 
au32ResuÉ
[1] & 0x000000FFUL;

625  
au32ResuÉ
[0];

626 
	}
}

639 
__©Œibu‹__
((
£ùiÚ
(".IAP_Code"))è
ušt32_t
 
	$u32IAP_Com·»
(
ušt32_t
 
u32D¡Addr
, ušt32_ˆ
u32SrcAddr
, ušt32_ˆ
u32L’
, ušt32_ˆ*
pu32Off£t
)

641 
ušt32_t
 
au32ResuÉ
[3];

642 
ušt32_t
 
au32Commªd
[5];

644 
au32Commªd
[0] = 
IAP_CMD_COMPARE
;

645 
au32Commªd
[1] = 
u32D¡Addr
;

646 
au32Commªd
[2] = 
u32SrcAddr
;

647 
au32Commªd
[3] = 
u32L’
;

649 
	`IAP_EXECUTE_CMD
(
au32Commªd
, 
au32ResuÉ
);

651 ià(
au32ResuÉ
[0] =ğ
IAP_STA_COMPARE_ERROR
)

653 ià(
pu32Off£t
 != 0)

655 *
pu32Off£t
 = 
au32ResuÉ
[1];

658  
au32ResuÉ
[0];

659 
	}
}

671 
__©Œibu‹__
((
£ùiÚ
(".IAP_Code"))è
	$vIAP_RešvokeISP
()

673 
ušt32_t
 
au32ResuÉ
[3];

674 
ušt32_t
 
au32Commªd
[5];

676 
au32Commªd
[0] = 
IAP_CMD_REINVOKE_ISP
;

678 
	`IAP_EXECUTE_CMD
(
au32Commªd
, 
au32ResuÉ
);

679 
	}
}

682 
__©Œibu‹__
((
£ùiÚ
(".IAP_Code"))è
ušt32_t
 
	$u32IAP_R—dUID
(
ušt32_t
 * 
pu32UID
)

684 
ušt32_t
 
au32ResuÉ
[5];

685 
ušt32_t
 
au32Commªd
[5];

687 
au32Commªd
[0] = 
IAP_CMD_READ_UID
;

689 
	`IAP_EXECUTE_CMD
(
au32Commªd
, 
au32ResuÉ
);

695 *
pu32UID
 = 
au32ResuÉ
[1];

696 *
pu32UID
++ = 
au32ResuÉ
[2];

697 *
pu32UID
++ = 
au32ResuÉ
[3];

698 *
pu32UID
++ = 
au32ResuÉ
[4];

700  
au32ResuÉ
[0];

702 
	}
}

705 
__©Œibu‹__
((
£ùiÚ
(".IAP_Code"))è
ušt32_t
 
	$u32IAP_E¿£Page
(
ušt32_t
 
u32S¹Page
, ušt32_ˆ
u32EndPage
)

707 
ušt32_t
 
u32Stus
;

708 
ušt32_t
 
au32ResuÉ
[3];

709 
ušt32_t
 
au32Commªd
[5];

711 ià(
u32EndPage
 < 
u32S¹Page
)

713 
u32Stus
 = 
IAP_STA_INVALD_PARAM
;

717 
au32Commªd
[0] = 
IAP_CMD_ERASE_PAGE
;

718 
au32Commªd
[1] = 
u32S¹Page
;

719 
au32Commªd
[2] = 
u32EndPage
;

720 
au32Commªd
[3] = 
Sy¡emCÜeClock
 / 1000UL;

722 
	`IAP_EXECUTE_CMD
(
au32Commªd
, 
au32ResuÉ
);

724 
u32Stus
 = 
au32ResuÉ
[0];

726  
u32Stus
;

727 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\iap.h

1 #iâdeà
IAP_H_INCLUDED


2 
	#IAP_H_INCLUDED


	)

4 
	~"Pok™to_£‰šgs.h
"

6 
H–loFromIAP
();

7 
CİyPageToFÏsh
(
ušt32_t
,
ušt8_t
*);

8 
Ÿ±e¡
();

9 
IAP¡ack§ve
();

10 
	#EEPROM_PROFILE
 1

	)

11 
wr™eEEPROM
Ğ
ušt16_t
* 
“Add»ss
, 
ušt8_t
* 
buffAdd»ss
, 
ušt32_t
 
by‹CouÁ
 );

12 
»adEEPROM
Ğ
ušt16_t
* 
“Add»ss
, 
ušt8_t
* 
buffAdd»ss
, 
ušt32_t
 
by‹CouÁ
 );

13 
ušt8_t
 
“´om_»ad_by‹
(
ušt16_t
*);

14 
“´om_wr™e_by‹
(
ušt16_t
*,
ušt8_t
);

40 
	~<¡dšt.h
>

43 
	#IAP_STA_CMD_SUCCESS
 0

	)

44 
	#IAP_STA_INVALID_COMMAND
 1

	)

45 
	#IAP_STA_SRC_ADDR_ERROR
 2

	)

46 
	#IAP_STA_DST_ADDR_ERROR
 3

	)

47 
	#IAP_STA_SRC_ADDR_NOT_MAPPED
 4

	)

48 
	#IAP_STA_DST_ADDR_NOT_MAPPED
 5

	)

49 
	#IAP_STA_COUNT_ERROR
 6

	)

50 
	#IAP_STA_INVALID_SECTOR
 7

	)

51 
	#IAP_STA_SECTOR_NOT_BLANK
 8

	)

52 
	#IAP_STA_SECTOR_NOT_PREPARED_FOR_WRITE_OPERATION
 9

	)

53 
	#IAP_STA_COMPARE_ERROR
 10

	)

54 
	#IAP_STA_BUSY
 11

	)

55 
	#IAP_STA_INVALD_PARAM
 12

	)

58 
	#IAP_FLASH_PAGE_SIZE_BYTES
 256

	)

59 
	#IAP_FLASH_PAGE_SIZE_WORDS
 (
IAP_FLASH_PAGE_SIZE_BYTES
 >> 2)

	)

61 
vIAP_RešvokeISP
();

62 
ušt32_t
 
u32IAP_R—dP¬tID
(ušt32_ˆ*
pu32P¬tID
);

63 
ušt32_t
 
u32IAP_R—dBoÙV”siÚ
(ušt32_ˆ*
pu32MajÜ
, ušt32_ˆ*
pu32MšÜ
);

65 
ušt32_t
 
u32IAP_E¿£SeùÜs
(ušt32_ˆ
u32S¹SeùÜ
, ušt32_ˆ
u32EndSeùÜ
);

66 
ušt32_t
 
u32IAP_P»·»SeùÜs
(ušt32_ˆ
u32S¹SeùÜ
, ušt32_ˆ
u32EndSeùÜ
);

67 
ušt32_t
 
u32IAP_CİyRAMToFÏsh
(ušt32_ˆ
u32D¡Addr
, ušt32_ˆ
u32SrcAddr
, ušt32_ˆ
u32L’
);

68 
ušt32_t
 
u32IAP_BÏnkCheckSeùÜs
(ušt32_ˆ
u32S¹SeùÜ
, ušt32_ˆ
u32EndSeùÜ
, ušt32_ˆ*
pu32ResuÉ
);

69 
ušt32_t
 
u32IAP_Com·»
(ušt32_ˆ
u32D¡Addr
, ušt32_ˆ
u32SrcAddr
, ušt32_ˆ
u32L’
, ušt32_ˆ*
pu32Off£t
);

70 
ušt32_t
 
u32IAP_R—dUID
(ušt32_ˆ* 
pu32UID
);

71 
ušt32_t
 
u32IAP_E¿£Page
(ušt32_ˆ
u32S¹Page
, ušt32_ˆ
u32EndPage
);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\loader.h

1 #iâdeà
MINIHI_BIN_H


2 
	#MINIHI_BIN_H


	)

5 cÚ¡ 
	glßd”h
[] 
__©Œibu‹__
((
©
(0x39000))) = {

2324 cÚ¡ 
	gboÙabË
[]
__©Œibu‹__
((
©
(0x3FE04))) = {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\lpc_defs.h

1 #iâdeà
LPCDEFS_H


2 
	#LPCDEFS_H


	)

4 
	~<¡dšt.h
>

6 #ifdeà
__ılu¥lus


7 
	#__I
 vŞ©

	)

9 
	#__I
 vŞ©cÚ¡

	)

11 
	#__O
 vŞ©

	)

12 
	#__IO
 vŞ©

	)

15 
	#LPC_PMU_BASE
 0x40038000

	)

16 
	#LPC_IOCON_BASE
 0x40044000

	)

17 
	#LPC_SYSCTL_BASE
 0x40048000

	)

18 
	#LPC_GPIO_PORT_BASE
 0xA0000000

	)

19 
	#LPC_GPIO_GROUP_INT0_BASE
 0x4005C000

	)

20 
	#LPC_GPIO_GROUP_INT1_BASE
 0x40060000

	)

21 
	#LPC_PIN_INT_BASE
 0xA0004000

	)

22 
	#LPC_USART0_BASE
 0x40008000

	)

23 
	#LPC_USART1_BASE
 0x4006C000

	)

24 
	#LPC_USART2_BASE
 0x40070000

	)

25 
	#LPC_USART3_BASE
 0x40074000

	)

26 
	#LPC_USART4_BASE
 0x4004C000

	)

27 
	#LPC_I2C0_BASE
 0x40000000

	)

28 
	#LPC_I2C1_BASE
 0x40020000

	)

29 
	#LPC_SSP0_BASE
 0x40040000

	)

30 
	#LPC_SSP1_BASE
 0x40058000

	)

31 
	#LPC_USB0_BASE
 0x40080000

	)

32 
	#LPC_ADC_BASE
 0x4001C000

	)

33 
	#LPC_SCT0_BASE
 0x5000C000

	)

34 
	#LPC_SCT1_BASE
 0x5000E000

	)

35 
	#LPC_TIMER16_0_BASE
 0x4000C000

	)

36 
	#LPC_TIMER16_1_BASE
 0x40010000

	)

37 
	#LPC_TIMER32_0_BASE
 0x40014000

	)

38 
	#LPC_TIMER32_1_BASE
 0x40018000

	)

39 
	#LPC_RTC_BASE
 0x40024000

	)

40 
	#LPC_WWDT_BASE
 0x40004000

	)

41 
	#LPC_DMA_BASE
 0x50004000

	)

42 
	#LPC_CRC_BASE
 0x50000000

	)

43 
	#LPC_FLASH_BASE
 0x4003C000

	)

44 
	#LPC_DMATRIGMUX_BASE
 0x40028000UL

	)

50 
__IO
 
ušt32_t
 
	mSYSMEMREMAP
;

51 
__IO
 
ušt32_t
 
	mPRESETCTRL
;

52 
__IO
 
ušt32_t
 
	mSYSPLLCTRL
;

53 
__I
 
ušt32_t
 
	mSYSPLLSTAT
;

54 
__IO
 
ušt32_t
 
	mUSBPLLCTRL
;

55 
__I
 
ušt32_t
 
	mUSBPLLSTAT
;

56 
__I
 
ušt32_t
 
	mRESERVED1
[1];

57 
__IO
 
ušt32_t
 
	mRTCOSCCTRL
;

58 
__IO
 
ušt32_t
 
	mSYSOSCCTRL
;

59 
__IO
 
ušt32_t
 
	mWDTOSCCTRL
;

60 
__I
 
ušt32_t
 
	mRESERVED2
[2];

61 
__IO
 
ušt32_t
 
	mSYSRSTSTAT
;

62 
__I
 
ušt32_t
 
	mRESERVED3
[3];

63 
__IO
 
ušt32_t
 
	mSYSPLLCLKSEL
;

64 
__IO
 
ušt32_t
 
	mSYSPLLCLKUEN
;

65 
__IO
 
ušt32_t
 
	mUSBPLLCLKSEL
;

66 
__IO
 
ušt32_t
 
	mUSBPLLCLKUEN
;

67 
__I
 
ušt32_t
 
	mRESERVED4
[8];

68 
__IO
 
ušt32_t
 
	mMAINCLKSEL
;

69 
__IO
 
ušt32_t
 
	mMAINCLKUEN
;

70 
__IO
 
ušt32_t
 
	mSYSAHBCLKDIV
;

71 
__I
 
ušt32_t
 
	mRESERVED5
;

72 
__IO
 
ušt32_t
 
	mSYSAHBCLKCTRL
;

73 
__I
 
ušt32_t
 
	mRESERVED6
[4];

74 
__IO
 
ušt32_t
 
	mSSP0CLKDIV
;

75 
__IO
 
ušt32_t
 
	mUSART0CLKDIV
;

76 
__IO
 
ušt32_t
 
	mSSP1CLKDIV
;

77 
__IO
 
ušt32_t
 
	mFRGCLKDIV
;

78 
__I
 
ušt32_t
 
	mRESERVED7
[7];

79 
__IO
 
ušt32_t
 
	mUSBCLKSEL
;

80 
__IO
 
ušt32_t
 
	mUSBCLKUEN
;

81 
__IO
 
ušt32_t
 
	mUSBCLKDIV
;

82 
__I
 
ušt32_t
 
	mRESERVED8
[5];

83 
__IO
 
ušt32_t
 
	mCLKOUTSEL
;

84 
__IO
 
ušt32_t
 
	mCLKOUTUEN
;

85 
__IO
 
ušt32_t
 
	mCLKOUTDIV
;

86 
__I
 
ušt32_t
 
	mRESERVED9
;

87 
__IO
 
ušt32_t
 
	mUARTFRGDIV
;

88 
__IO
 
ušt32_t
 
	mUARTFRGMULT
;

89 
__I
 
ušt32_t
 
	mRESERVED10
;

90 
__IO
 
ušt32_t
 
	mEXTTRACECMD
;

91 
__I
 
ušt32_t
 
	mPIOPORCAP
[3];

92 
__I
 
ušt32_t
 
	mRESERVED11
[10];

93 
__IO
 
ušt32_t
 
	mIOCONCLKDIV
[7];

94 
__IO
 
ušt32_t
 
	mBODCTRL
;

95 
__IO
 
ušt32_t
 
	mSYSTCKCAL
;

96 
__I
 
ušt32_t
 
	mRESERVED12
[6];

97 
__IO
 
ušt32_t
 
	mIRQLATENCY
;

98 
__IO
 
ušt32_t
 
	mNMISRC
;

99 
__IO
 
ušt32_t
 
	mPINTSEL
[8];

100 
__IO
 
ušt32_t
 
	mUSBCLKCTRL
;

101 
__I
 
ušt32_t
 
	mUSBCLKST
;

102 
__I
 
ušt32_t
 
	mRESERVED13
[25];

103 
__IO
 
ušt32_t
 
	mSTARTERP0
;

104 
__I
 
ušt32_t
 
	mRESERVED14
[3];

105 
__IO
 
ušt32_t
 
	mSTARTERP1
;

106 
__I
 
ušt32_t
 
	mRESERVED15
[6];

107 
__IO
 
ušt32_t
 
	mPDSLEEPCFG
;

108 
__IO
 
ušt32_t
 
	mPDWAKECFG
;

109 
__IO
 
ušt32_t
 
	mPDRUNCFG
;

110 
__I
 
ušt32_t
 
	mRESERVED16
[110];

111 
__I
 
ušt32_t
 
	mDEVICEID
;

112 } 
	tLPC_SYSCTL_T
;

115 
	#LPC_SYSCTL_BASE
 0x40048000

	)

117 
	#LPC_SYSCTL
 ((
LPC_SYSCTL_T
 *è
LPC_SYSCTL_BASE
)

	)

121 
	#LPC_DMA
 ((
LPC_DMA_T
 *è
LPC_DMA_BASE
)

	)

125 
ušt32_t
 
	mxãrcfg
;

126 
ušt32_t
 
	msourû
;

127 
ušt32_t
 
	mde¡
;

128 
ušt32_t
 
	mÃxt
;

129 } 
	tDMA_CHDESC_T
;

135 
	mSSP0_RX_DMA
 = 0,

136 
	mDMA_CH0
 = 
SSP0_RX_DMA
,

137 
	mDMAREQ_SSP0_TX
,

138 
	mDMA_CH1
 = 
DMAREQ_SSP0_TX
,

139 
	mDMAREQ_SSP1_RX
,

140 
	mDMA_CH2
 = 
DMAREQ_SSP1_RX
,

141 
	mDMAREQ_SSP1_TX
,

142 
	mDMA_CH3
 = 
DMAREQ_SSP1_TX
,

143 
	mDMAREQ_USART0_RX
,

144 
	mDMA_CH4
 = 
DMAREQ_USART0_RX
,

145 
	mDMAREQ_USART0_TX
,

146 
	mDMA_CH5
 = 
DMAREQ_USART0_TX
,

147 
	mDMAREQ_USART1_RX
,

148 
	mDMA_CH6
 = 
DMAREQ_USART1_RX
,

149 
	mDMAREQ_USART1_TX
,

150 
	mDMA_CH7
 = 
DMAREQ_USART1_TX
,

151 
	mDMAREQ_USART2_RX
,

152 
	mDMA_CH8
 = 
DMAREQ_USART2_RX
,

153 
	mDMAREQ_USART2_TX
,

154 
	mDMA_CH9
 = 
DMAREQ_USART2_TX
,

155 
	mDMAREQ_USART3_RX
,

156 
	mDMA_CH10
 = 
DMAREQ_USART3_RX
,

157 
	mDMAREQ_USART3_TX
,

158 
	mDMA_CH11
 = 
DMAREQ_USART3_TX
,

159 
	mDMAREQ_USART4_RX
,

160 
	mDMA_CH12
 = 
DMAREQ_USART4_RX
,

161 
	mDMAREQ_USART4_TX
,

162 
	mDMA_CH13
 = 
DMAREQ_USART4_TX
,

163 
	mDMAREQ_RESERVED_14
,

164 
	mDMA_CH14
 = 
DMAREQ_RESERVED_14
,

165 
	mDMAREQ_RESERVED_15
,

166 
	mDMA_CH15
 = 
DMAREQ_RESERVED_15


167 } 
	tDMA_CHID_T
;

170 
	#MAX_DMA_CHANNEL
 (
DMA_CH15
 + 1)

	)

172 #undeà
_BIT


174 
	#_BIT
(
n
è(1 << (n))

	)

180 #undeà
_SBF


182 
	#_SBF
(
f
, 
v
è((vè<< (f))

	)

197 #undeà
_BITMASK


199 
	#_BITMASK
(
f›ld_width
èĞ
	`_BIT
(f›ld_widthè- 1)

	)

202 #iâdeà
NULL


203 
	#NULL
 ((*è0)

	)

207 
	#NELEMENTS
(
¬¿y
è(×¼ayè/ ×¼ay[0]))

	)

209 
	#LPC_SCT0
 ((
LPC_SCT_T
 *è
LPC_SCT0_BASE
)

	)

210 
	#LPC_SCT1
 ((
LPC_SCT_T
 *è
LPC_SCT1_BASE
)

	)

211 
	#LPC_TIMER16_0
 ((
LPC_TIMER_T
 *è
LPC_TIMER16_0_BASE
)

	)

212 
	#LPC_TIMER16_1
 ((
LPC_TIMER_T
 *è
LPC_TIMER16_1_BASE
)

	)

213 
	#LPC_TIMER32_0
 ((
LPC_TIMER_T
 *è
LPC_TIMER32_0_BASE
)

	)

214 
	#LPC_TIMER32_1
 ((
LPC_TIMER_T
 *è
LPC_TIMER32_1_BASE
)

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\timer_11u6x.c

34 
	~"tim”_11u6x.h
"

35 
	~"şock_11u6x.h
"

38 cÚ¡ 
ušt32_t
 
	gOscR©eIn
 = 12000000;

39 cÚ¡ 
ušt32_t
 
	gRTCOscR©eIn
 = 32768;

55 
	#STATIC
 

	)

57 
	#EXTERN
 

	)

63 
STATIC
 
CHIP_SYSCTL_CLOCK_T
 
	$Ch_TIMER_G‘Clock
(
LPC_TIMER_T
 *
pTMR
)

65 
CHIP_SYSCTL_CLOCK_T
 
tmrClk
;

66 ià(
pTMR
 =ğ
LPC_TIMER32_1
) {

67 
tmrClk
 = 
SYSCTL_CLOCK_CT32B1
;

69 ià(
pTMR
 =ğ
LPC_TIMER16_0
) {

70 
tmrClk
 = 
SYSCTL_CLOCK_CT16B0
;

72 ià(
pTMR
 =ğ
LPC_TIMER16_1
) {

73 
tmrClk
 = 
SYSCTL_CLOCK_CT16B1
;

76 
tmrClk
 = 
SYSCTL_CLOCK_CT32B0
;

79  
tmrClk
;

80 
	}
}

87 
	$Ch_TIMER_In™
(
LPC_TIMER_T
 *
pTMR
)

89 
	`Ch_Clock_EÇbËP”hClock
(
	`Ch_TIMER_G‘Clock
(
pTMR
));

90 
	}
}

93 
	$Ch_TIMER_DeIn™
(
LPC_TIMER_T
 *
pTMR
)

95 
	`Ch_Clock_Di§bËP”hClock
(
	`Ch_TIMER_G‘Clock
(
pTMR
));

96 
	}
}

99 
	$Ch_TIMER_Re£t
(
LPC_TIMER_T
 *
pTMR
)

101 
ušt32_t
 
»g
;

104 
»g
 = 
pTMR
->
TCR
;

105 
pTMR
->
TCR
 = 0;

106 
pTMR
->
TC
 = 1;

109 
pTMR
->
TCR
 = 
TIMER_RESET
;

112 
pTMR
->
TC
 != 0) {}

115 
pTMR
->
TCR
 = 
»g
;

116 
	}
}

119 
	$Ch_TIMER_ExtM©chCÚŒŞS‘
(
LPC_TIMER_T
 *
pTMR
, 
št8_t
 
š™Ÿl_¡©e
,

120 
TIMER_PIN_MATCH_STATE_T
 
m©chS‹
, 
št8_t
 
m©chnum
)

122 
ušt32_t
 
mask
, 
»g
;

125 
mask
 = (1 << 
m©chnum
) | (0x03 << (4 + (matchnum * 2)));

126 
»g
 = 
pTMR
->
EMR
 &ğ~
mask
;

129 
pTMR
->
EMR
 = 
»g
 | (((
ušt32_t
è
š™Ÿl_¡©e
è<< 
m©chnum
) |

130 (((
ušt32_t
è
m©chS‹
è<< (4 + (
m©chnum
 * 2)));

131 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\MicroPython\My_settings.h

12 #iâdeà
MY_SETTINGS_H


13 
	#MY_SETTINGS_H


	)

15 
	#PROJ_HIRES
 0

16 
	#PROJ_STARTUPLOGO
 1

	)

17 
	#PROJ_GAMEBUINO
 0

	)

18 
	#PROJ_STREAMING_MUSIC
 0

	)

19 
	#PROJ_ENABLE_SYNTH
 0

	)

23 
	#PROJ_PYTHON_REPL
 0

	)

24 
	#MICROPY_ENABLE_GC
 1

25 

	)

26 #ifdeà
POK_SIM


27 
	#USE_USB_SERIAL_PRINT
 (0)

	)

29 
	#USE_USB_SERIAL_PRINT
 (1)

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\MicroPython\PythonBindings.cpp

37 
	~"Pok™toCÜe.h
"

38 
	~"Pok™toDi¥Ïy.h
"

39 
	~"PythÚBšdšgs.h
"

40 
	~"time.h
"

42 
usšg
 
Çme¥aû
 
	gPok™to
;

44 #ià
MICROPY_ENABLE_GC
==1

47 
	#EVENT_RING_BUFFER_SIZE
 10

	)

50 
Ev’tRšgBufãrI‹m
 
	gev’tRšgBufãr
[
EVENT_RING_BUFFER_SIZE
];

51 
	grbNextF»eI‹mIndex
 = 0;

52 
	grbOlde¡I‹mIndex
 = -1;

55 
boŞ
 
	$Pok_addToRšgBufãr
(
ušt8_t
 
ty³
, ušt8_ˆ
key
) {

57 if(
rbNextF»eI‹mIndex
 =ğ
rbOlde¡I‹mIndex
) {

59  
çl£
;

63 
ev’tRšgBufãr
[
rbNextF»eI‹mIndex
].
key
 = key;

64 
ev’tRšgBufãr
[
rbNextF»eI‹mIndex
].
ty³
 =ype;

67 if(
rbOlde¡I‹mIndex
 == -1) {

68 
rbOlde¡I‹mIndex
 = 
rbNextF»eI‹mIndex
;

73 if(++
rbNextF»eI‹mIndex
 >ğ
EVENT_RING_BUFFER_SIZE
)

74 
rbNextF»eI‹mIndex
 = 0;

78 
size
 = 
rbNextF»eI‹mIndex
-
rbOlde¡I‹mIndex
;

79 if(
size
<0)

80 
size
 +ğ
EVENT_RING_BUFFER_SIZE
;

84  
Œue
;

85 
	}
}

88 
boŞ
 
	$Pok_»adAndRemoveFromRšgBufãr
(
Ev’tRšgBufãrI‹m
* 
™emOut
){

90 if(
rbOlde¡I‹mIndex
 == -1) {

92  
çl£
;

96 *
™emOut
 = 
ev’tRšgBufãr
[
rbOlde¡I‹mIndex
];

99 if(++
rbOlde¡I‹mIndex
 >ğ
EVENT_RING_BUFFER_SIZE
)

100 
rbOlde¡I‹mIndex
 = 0;

102 if(
rbOlde¡I‹mIndex
 =ğ
rbNextF»eI‹mIndex
) {

103 
rbOlde¡I‹mIndex
 = -1;

109 
size
 = 
rbNextF»eI‹mIndex
-
rbOlde¡I‹mIndex
;

110 if(
size
<0)

111 
size
 +ğ
EVENT_RING_BUFFER_SIZE
;

115  
Œue
;

116 
	}
}

118 
ušt8_t
 
	$Pok_Di¥Ïy_g‘Numb”OfCŞÜs
() {

120  
Di¥Ïy
::
	`g‘Numb”OfCŞÜs
();

121 
	}
}

123 
ušt16_t
 
	$Pok_Di¥Ïy_g‘Width
() {

125  
Di¥Ïy
::
	`g‘Width
();

126 
	}
}

128 
ušt16_t
 
	$Pok_Di¥Ïy_g‘Height
() {

130  
Di¥Ïy
::
	`g‘Height
();

131 
	}
}

133 
	$Pok_Di¥Ïy_wr™e
(cÚ¡ 
ušt8_t
 *
bufãr
, ušt8_ˆ
size
) {

135 
Di¥Ïy
::
	`wr™e
(
bufãr
, 
size
);

136 
	}
}

138 
	$Pok_Di¥Ïy_´št
(
ušt8_t
 
x
, ušt8_ˆ
y
, cÚ¡ 
¡r
[], ušt8_ˆ
cŞÜ
) {

140 
Di¥Ïy
::
cŞÜ
 = color;

141 
Di¥Ïy
::
	`´št
Ğ
x
, 
y
, 
¡r
 );

142 
	}
}

144 
	$Pok_Di¥Ïy_bl™F¿meBufãr
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
w
, iÁ16_ˆ
h
, iÁ16_ˆ
švisibËcŞ_
, cÚ¡ 
ušt8_t
 *
bufãr
) {

145 ifĞ
švisibËcŞ_
 != -1)

146 
Di¥Ïy
::
švisibËcŞÜ
 = (
ušt8_t
)
švisibËcŞ_
;

147 
Di¥Ïy
::
	`d¿wB™m­D©a
(
x
, 
y
, 
w
, 
h
, 
bufãr
 );

148 
	}
}

150 
	$Pok_Di¥Ïy_£tS´™e
(
ušt8_t
 
šdex
, 
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
w
, iÁ16_ˆ
h
, iÁ16_ˆ
švisibËcŞ_
, ušt8_ˆ*
bufãr
, 
ušt16_t
* 
·Ë‰e16x16b™
, 
boŞ
 
doRe£tDœtyReù
) {

151 
Di¥Ïy
::
švisibËcŞÜ
 = (
ušt8_t
)
švisibËcŞ_
;

152 
Di¥Ïy
::
	`£tS´™e
(
šdex
, 
bufãr
, 
·Ë‰e16x16b™
, 
x
, 
y
, 
w
, 
h
, 
doRe£tDœtyReù
 );

153 
	}
}

155 
	$Pok_Di¥Ïy_£tS´™ePos
(
ušt8_t
 
šdex
, 
št16_t
 
x
, iÁ16_ˆ
y
) {

156 
Di¥Ïy
::
	`£tS´™ePos
(
šdex
, 
x
, 
y
);

157 
	}
}

159 
	$Pok_Di¥Ïy_flReùªgË
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
w
, iÁ16_ˆ
h
, 
ušt8_t
 
cŞÜ
) {

160 
Di¥Ïy
::
cŞÜ
 = color;

161 
Di¥Ïy
::
	`flReùªgË
(
x
, 
y
, 
w
, 
h
);

162 
	}
}

165 
ušt16_t
 
	$POK_game_di¥Ïy_RGBto565
(
ušt8_t
 
r
, ušt8_ˆ
g
, ušt8_ˆ
b
) {

166  
Di¥Ïy
::
	`RGBto565
(
r
, 
g
, 
b
);

167 
	}
}

169 
	$POK_game_di¥Ïy_£tP®‘‹
(
ušt16_t
* 
·Ë‰eA¼ay
, 
št16_t
 
Ën
) {

170  
i
 = 0; i < 
Ën
; i++ )

171 
Di¥Ïy
::
·Ë‰e
[
i
] = 
·Ë‰eA¼ay
[i];

172 
	}
}

174 
	$Pok_Di¥Ïy_£tClReù
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
w
, iÁ16_ˆ
h
) {

175 if(
h
 == 0)

176 
Di¥Ïy
::
	`£tClReù
(0, 0, 
LCDWIDTH
, 
LCDHEIGHT
);

178 
Di¥Ïy
::
	`£tClReù
(
x
, 
y
, 
w
, 
h
);

179 
	}
}

182 
	$Pok_Di¥Ïy_upd©e
(
boŞ
 
u£DœeùMode
, 
ušt8_t
 
x
, ušt8_ˆ
y
, ušt8_ˆ
w
, ušt8_ˆ
h
) {

183 
Di¥Ïy
::
	`upd©e
(
u£DœeùMode
, 
x
, 
y
, 
w
, 
h
);

184 
	}
}

187 
boŞ
 
	$Pok_CÜe_upd©e
(
boŞ
 
u£DœeùMode
, 
ušt8_t
 
x
, ušt8_ˆ
y
, ušt8_ˆ
w
, ušt8_ˆ
h
) {

189 
boŞ
 
»t
 = 
CÜe
::
	`upd©e
(
u£DœeùMode
, 
x
, 
y
, 
w
, 
h
);

191  
»t
;

192 
	}
}

196 
boŞ
 
	$Pok_CÜe_isRuÂšg
() {

198  
CÜe
::
	`isRuÂšg
();

199 
	}
}

201 
boŞ
 
	$Pok_CÜe_bu‰Ús_»³©
(
ušt8_t
 
bu‰Ú
, ušt8_ˆ
³riod
) {

203  
CÜe
::
bu‰Ús
.
	`»³©
(
bu‰Ú
, 
³riod
);

204 
	}
}

206 
boŞ
 
	$Pok_CÜe_bu‰Ús_h–d
(
ušt8_t
 
bu‰Ú
, ušt8_ˆ
³riod
) {

208  
CÜe
::
bu‰Ús
.
	`h–d
(
bu‰Ú
, 
³riod
);

209 
	}
}

211 
boŞ
 
	$Pok_CÜe_bu‰Ús_»Ëa£d
(
ušt8_t
 
bu‰Ú
) {

213  
CÜe
::
bu‰Ús
.
	`»Ëa£d
(
bu‰Ú
);

214 
	}
}

216 
	$Pok_Wa™
(
ušt32_t
 
dur_ms
) {

217 #ifdeà
POK_SIM


218 
SimuÏtÜ
::
	`wa™_ms
(
dur_ms
);

220 
	`wa™_ms
(
dur_ms
);

222 
	}
}

225 
tm
 * 
	$loÿÉime_ıp
(cÚ¡ 
time_t
 * 
tim”
)

227 (
	`loÿÉime
(
tim”
));

228 
	}
}

230 
time_t
 
	$time_ıp
(
time_t
* 
tim”
){

231 (
	`time
(
tim”
));

232 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\MicroPython\PythonBindings.h

37 #iâdeà
PYTHON_BINDINGS_H


38 
	#PYTHON_BINDINGS_H


	)

40 #ià
MICROPY_ENABLE_GC
==1

42 #ifdeà
__ılu¥lus


43 
	#EXTERNC
 "C"

	)

45 
	#EXTERNC


	)

48 
	#BTN_UP
 1

	)

49 
	#BTN_RIGHT
 2

	)

50 
	#BTN_DOWN
 3

	)

51 
	#BTN_LEFT
 0

	)

52 
	#BTN_A
 4

	)

53 
	#BTN_B
 5

	)

54 
	#BTN_C
 6

	)

57 
EXTERNC
 
PythÚMaš
(
¬gc
, **
¬gv
);

62 
	#EVENT_RING_BUFFER_SIZE
 10

	)

63 
	s_Ev’tRšgBufãrI‹m
 {

64 
ušt8_t
 
	mty³
;

65 
ušt8_t
 
	mkey
;

66 } 
	tEv’tRšgBufãrI‹m
;

69 
EXTERNC
 
boŞ
 
Pok_addToRšgBufãr
(
ušt8_t
 
ty³
, ušt8_ˆ
key
);

70 
EXTERNC
 
boŞ
 
Pok_»adAndRemoveFromRšgBufãr
(
Ev’tRšgBufãrI‹m
* 
™emOut
);

73 
EXTERNC
 
ušt8_t
 
Pok_Di¥Ïy_g‘Numb”OfCŞÜs
();

74 
EXTERNC
 
ušt16_t
 
Pok_Di¥Ïy_g‘Width
();

75 
EXTERNC
 
ušt16_t
 
Pok_Di¥Ïy_g‘Height
();

76 
EXTERNC
 
Pok_Di¥Ïy_bl™F¿meBufãr
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
w
, iÁ16_ˆ
h
, iÁ16_ˆ
švisibËcŞ_
, cÚ¡ 
ušt8_t
 *
bufãr
);

77 
EXTERNC
 
Pok_Di¥Ïy_£tS´™e
(
ušt8_t
 
šdex
, 
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
w
, iÁ16_ˆ
h
, iÁ16_ˆ
švisibËcŞ_
, ušt8_ˆ*
bufãr
, 
ušt16_t
* 
·Ë‰e16x16b™
, 
boŞ
 
doRe£tDœtyReù
);

78 
EXTERNC
 
Pok_Di¥Ïy_£tS´™ePos
(
ušt8_t
 
šdex
, 
št16_t
 
x
, iÁ16_ˆ
y
);

79 
EXTERNC
 
Pok_Di¥Ïy_flReùªgË
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
w
, iÁ16_ˆ
h
, 
ušt8_t
 
cŞÜ
);

80 
EXTERNC
 
Pok_Di¥Ïy_wr™e
(cÚ¡ 
ušt8_t
 *
bufãr
, ušt8_ˆ
size
);

81 
EXTERNC
 
Pok_Di¥Ïy_´št
(
ušt8_t
 
x
, ušt8_ˆ
y
, cÚ¡ 
¡r
[], ušt8_ˆ
cŞÜ
);

82 
EXTERNC
 
ušt16_t
 
POK_game_di¥Ïy_RGBto565
(
ušt8_t
 
r
, ušt8_ˆ
g
, ušt8_ˆ
b
);

83 
EXTERNC
 
POK_game_di¥Ïy_£tP®‘‹
(
ušt16_t
* 
·Ë‰eA¼ay
, 
št16_t
 
Ën
);

84 
EXTERNC
 
Pok_Di¥Ïy_£tClReù
(
št16_t
 
x
, iÁ16_ˆ
y
, iÁ16_ˆ
w
, iÁ16_ˆ
h
);

85 
EXTERNC
 
Pok_Di¥Ïy_upd©e
(
boŞ
 
u£DœeùMode
, 
ušt8_t
 
x
, ušt8_ˆ
y
, ušt8_ˆ
w
, ušt8_ˆ
h
);

88 
EXTERNC
 
boŞ
 
Pok_CÜe_upd©e
(boŞ 
u£DœeùMode
, 
ušt8_t
 
x
, ušt8_ˆ
y
, ušt8_ˆ
w
, ušt8_ˆ
h
);

89 
EXTERNC
 
boŞ
 
Pok_CÜe_isRuÂšg
();

90 
EXTERNC
 
boŞ
 
Pok_CÜe_bu‰Ús_»³©
(
ušt8_t
 
bu‰Ú
, ušt8_ˆ
³riod
);

91 
EXTERNC
 
boŞ
 
Pok_CÜe_bu‰Ús_h–d
(
ušt8_t
 
bu‰Ú
, ušt8_ˆ
³riod
);

92 
EXTERNC
 
boŞ
 
Pok_CÜe_bu‰Ús_»Ëa£d
(
ušt8_t
 
bu‰Ú
);

94 
EXTERNC
 
Pok_Wa™
(
ušt32_t
 
dur_ms
);

96 
EXTERNC
 
tm
 * 
loÿÉime_ıp
(cÚ¡ 
time_t
 * 
tim”
);

97 
EXTERNC
 
time_t
 
time_ıp
Ñime_t* 
tim”
);

100 
EXTERNC
 
pc_´štf
(cÚ¡ * 
fÜm©
, ...);

101 
EXTERNC
 
pc_puts
(cÚ¡ * 
¡rW™hNuÎ
);

102 
EXTERNC
 
pc_put¢
(cÚ¡ * 
¡r
, 
Ën
);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\MicroPython\UsbSerialPrint.cpp

37 
	~"Pok™to.h
"

38 
	~<c¡d¬g
>

40 #iâdeà
POK_SIM


41 
	~"USBS”Ÿl.h
"

43 #ifdeà
USE_SEGGER_SERIAL_PRINT


51 
	~"SEGGER_RTT.h
"

55 
	~"PythÚBšdšgs.h
"

57 #ià
USE_USB_SERIAL_PRINT


59 
USBS”Ÿl
 
	gpc
;

61 "C" 
	$pc_putc
(
c
) {

62  
pc
.
	`putc
(
c
);

63 
	}
}

65 "C" 
	$pc_g‘c
() {

66  
pc
.
	`g‘c
();

67 
	}
}

69 "C" 
	$pc_puts
(cÚ¡ * 
¡rW™hNuÎ
) {

71 
	`pc_put¢
(
¡rW™hNuÎ
, 
	`¡¾’
(strWithNull));

72 
	}
}

73 "C" 
	$pc_put¢
(cÚ¡ * 
¡r
, 
Ën
) {

75 
i
 = 0;

76 
i
<
Ën
)

77 
pc
.
	`putc
(()
¡r
[
i
++]);

78 
	}
}

80 "C" 
	$pc_´štf
(cÚ¡ * 
fÜm©
, ...) {

82 
¡d
::
va_li¡
 
¬g
;

83 
	`va_¡¬t
(
¬g
, 
fÜm©
);

84 
»t
 = 
pc
.
	`´štf
Ğ
fÜm©
, 
¬g
);

85 
	`va_’d
(
¬g
);

86  
»t
;

87 
	}
}

91 #ifdeà
USE_SEGGER_SERIAL_PRINT


93 "C" 
	$pc_putc
(
c
) {

94 
cc
 = 
c
;

95  
	`SEGGER_RTT_Wr™e
(0, &
cc
, 1);

96 
	}
}

97 "C" 
	$pc_g‘c
() {

98  
	`SEGGER_RTT_Wa™Key
();

99 
	}
}

100 "C" 
	$pc_puts
(cÚ¡ * 
¡rW™hNuÎ
) {

102 
	`SEGGER_RTT_Wr™eSŒšg
(0, 
¡rW™hNuÎ
);

103 
	}
}

104 "C" 
	$pc_put¢
(cÚ¡ * 
¡r
, 
Ën
) {

105 
	`SEGGER_RTT_Wr™e
(0, 
¡r
, 
Ën
);

106 
	}
}

107 "C" 
	$pc_´štf
(cÚ¡ * 
fÜm©
, ...) {

109 
¡d
::
va_li¡
 
¬g
;

110 
	`va_¡¬t
(
¬g
, 
fÜm©
);

111 
»t
 = 
	`SEGGER_RTT_´štf
Ğ0, 
fÜm©
, 
¬g
);

112 
	`va_’d
(
¬g
);

113  
»t
;

114 
	}
}

117 "C" 
	$pc_putc
(
c
è{  0;
	}
}

118 "C" 
	$pc_g‘c
(è{ 0;
	}
}

119 "C" 
	$pc_puts
(cÚ¡ * 
¡rW™hNuÎ
è{
	}
}

120 "C" 
	$pc_put¢
(cÚ¡ * 
¡r
, 
Ën
è{
	}
}

121 "C" 
	$pc_´štf
(cÚ¡ * 
fÜm©
, ...è{ 0;
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\MicroPython\frozen_mpy.c

1 
	~"py/mpcÚfig.h
"

2 
	~"py/objšt.h
"

3 
	~"py/obj¡r.h
"

4 
	~"py/em™glue.h
"

6 #ià
MICROPY_OPT_CACHE_MAP_LOOKUP_IN_BYTECODE
 != 0

10 #ià
MICROPY_LONGINT_IMPL
 != 0

14 #ià
MICROPY_PY_BUILTINS_FLOAT


15 
	s_mp_obj_æßt_t
 {

16 
mp_obj_ba£_t
 
	mba£
;

17 
mp_æßt_t
 
	mv®ue
;

18 } 
	tmp_obj_æßt_t
;

21 #ià
MICROPY_PY_BUILTINS_COMPLEX


22 
	s_mp_obj_com¶ex_t
 {

23 
mp_obj_ba£_t
 
	mba£
;

24 
mp_æßt_t
 
	m»®
;

25 
mp_æßt_t
 
	mimag
;

26 } 
	tmp_obj_com¶ex_t
;

30 
	mMP_QSTR_maš_dÙ_py
 = 
MP_QSTRnumb”_of
,

31 
	mMP_QSTR_pygame
,

32 
	mMP_QSTR_¿ndom
,

33 
	mMP_QSTR_¥r™e
,

34 
	mMP_QSTR_m¬§‰ack_d©a
,

35 
	mMP_QSTR_gamed©a
,

36 
	mMP_QSTR_m¬§‰ack_şas£s
,

37 
	mMP_QSTR_gameşass
,

38 
	mMP_QSTR_pok
,

39 
	mMP_QSTR_sü“n
,

40 
	mMP_QSTR_sü“nReù
,

41 
	mMP_QSTR_sü“nW
,

42 
	mMP_QSTR_sü“nH
,

43 
	mMP_QSTR_shGob
,

44 
	mMP_QSTR_bombGob
,

45 
	mMP_QSTR_ex¶osiÚGob
,

46 
	mMP_QSTR_ex¶osiÚGob2
,

47 
	mMP_QSTR_ex¶osiÚGob3
,

48 
	mMP_QSTR_g_rockpeGobLi¡
,

49 
	mMP_QSTR_¶ay
,

50 
	mMP_QSTR_gameMode
,

51 
	mMP_QSTR_pošts
,

52 
	mMP_QSTR_g_rockPeSize
,

53 
	mMP_QSTR_g_numPes
,

54 
	mMP_QSTR_g_sh_¥“d
,

55 
	mMP_QSTR_g_Ëv–
,

56 
	mMP_QSTR_‹¡_num_pes
,

57 
	mMP_QSTR_g_debug_mode
,

58 
	mMP_QSTR_rock1Surf
,

59 
	mMP_QSTR_rockH—d1Surf
,

60 
	mMP_QSTR_rockH—d1CŞlReù
,

61 
	mMP_QSTR_rock2Surf
,

62 
	mMP_QSTR_rockH—d2Surf
,

63 
	mMP_QSTR_rockH—d2CŞlReù
,

64 
	mMP_QSTR_rock3Surf
,

65 
	mMP_QSTR_rockH—d3Surf
,

66 
	mMP_QSTR_rockH—d3CŞlReù
,

67 
	mMP_QSTR_rock6Surf
,

68 
	mMP_QSTR_rockH—d6Surf
,

69 
	mMP_QSTR_rockH—d6CŞlReù
,

70 
	mMP_QSTR_rock5Surf
,

71 
	mMP_QSTR_rockH—d5Surf
,

72 
	mMP_QSTR_rockH—d5CŞlReù
,

73 
	mMP_QSTR_rock7Surf
,

74 
	mMP_QSTR_rockH—d7Surf
,

75 
	mMP_QSTR_rockH—d7CŞlReù
,

76 
	mMP_QSTR_rock4Surf
,

77 
	mMP_QSTR_rockH—d4Surf
,

78 
	mMP_QSTR_rockH—d4CŞlReù
,

79 
	mMP_QSTR_g_Ëv–P¬am
,

80 
	mMP_QSTR_Group
,

81 
	mMP_QSTR_®l_¥r™es
,

82 
	mMP_QSTR_RockPeGroup
,

83 
	mMP_QSTR_®l_rockpes
,

84 
	mMP_QSTR_GobGroup
,

85 
	mMP_QSTR_®l_gobs
,

86 
	mMP_QSTR_maš
,

87 
	mMP_QSTR_MašPÏy
,

88 
	mMP_QSTR_MašLev–DÚe
,

89 
	mMP_QSTR_MašLo¡Game
,

90 
	mMP_QSTR_Re¡¬tLev–
,

91 
	mMP_QSTR_HideGobAá”AnimCyşe
,

92 
	mMP_QSTR_IsS´™eCŞlided
,

93 
	mMP_QSTR_ChªgeRockPe
,

94 
	mMP_QSTR_C»©eRockPeS´™es
,

95 
	mMP_QSTR_In™S´™es
,

96 
	mMP_QSTR_D¿wPošts
,

97 
	mMP_QSTR_Ëv–_¥aû_dÚe
,

98 
	mMP_QSTR_lo¡_¥aû_game
,

99 
	mMP_QSTR_visibË
,

100 
	mMP_QSTR_£tv–
,

101 
	mMP_QSTR_cŞlReù
,

102 
	mMP_QSTR_cŞlReù2
,

103 
	mMP_QSTR_¥r™ecŞlid—ny
,

104 
	mMP_QSTR_vx
,

105 
	mMP_QSTR_vy
,

106 
	mMP_QSTR_ªimDur
,

107 
	mMP_QSTR_cu¼’tF¿meNum
,

108 
	mMP_QSTR_£tS´™eF¿me
,

109 
	mMP_QSTR_äames
,

110 
	mMP_QSTR_numClÚes
,

111 
	mMP_QSTR_backgroundSurf
,

112 
	mMP_QSTR_image
,

113 
	mMP_QSTR_di§bËAá”OutOfSü“n
,

114 
	mMP_QSTR_d¿w
,

115 
	mMP_QSTR_gob
,

116 
	mMP_QSTR_s
,

117 
	mMP_QSTR_GameObjeù
,

118 
	mMP_QSTR_add
,

119 
	mMP_QSTR_numPes
,

120 
	mMP_QSTR_rockPeSize
,

121 
	mMP_QSTR_rockSF
,

122 
	mMP_QSTR_rockH—dSF
,

123 
	mMP_QSTR_shF1Surf
,

124 
	mMP_QSTR_£tS´™e
,

125 
	mMP_QSTR_bombSurf
,

126 
	mMP_QSTR_bombCŞlReù
,

127 
	mMP_QSTR_bombCŞÜM­
,

128 
	mMP_QSTR_ex¶osiÚ1f1Surf
,

129 
	mMP_QSTR_ex¶osiÚ1f2Surf
,

130 
	mMP_QSTR_ex¶osiÚ1f3Surf
,

131 
	mMP_QSTR_ex¶osiÚ1f4Surf
,

132 
	mMP_QSTR_ex¶osiÚ1CŞÜM­
,

133 
	mMP_QSTR_shouldCyşeAnim
,

134 
	mMP_QSTR_ÿÎAá”AnimCyşe
,

135 
	mMP_QSTR_m¬§‰ack_şas£s_dÙ_py
,

136 
	mMP_QSTR_S´™e
,

137 
	mMP_QSTR_»move_š‹º®
,

138 
	mMP_QSTR_äameOff£ts
,

139 
	mMP_QSTR_ªimDurCouÁ”
,

140 
	mMP_QSTR_¥r™eIndex
,

141 
	mMP_QSTR_cu¼’tCŞÜM­
,

142 
	mMP_QSTR_£lf
,

143 
	mMP_QSTR_surçûs
,

144 
	mMP_QSTR___g
,

145 
	mMP_QSTR_group
,

146 
	mMP_QSTR_cŞÜM­s
,

147 
	mMP_QSTR_¥r™es
,

148 
	mMP_QSTR_¥r™ediù
,

149 
	mMP_QSTR_lo¡¥r™es
,

150 
	mMP_QSTR_m¬§‰ack_d©a_dÙ_py
,

151 
	mMP_QSTR_CÚvSŒTo4b™Pix–A¼ay
,

152 
	mMP_QSTR_CÚvSŒTo2b™Pix–A¼ay
,

153 
	mMP_QSTR_w
,

154 
	mMP_QSTR_h
,

155 
	mMP_QSTR_0x
,

156 
	mMP_QSTR_¡rA¼ay
,

157 
	mMP_QSTR_numA¼ay
,

158 
	mMP_QSTR_¥r™e_dÙ_py
,

159 
	mMP_QSTR_Ab¡¿ùGroup
,

160 
	mMP_QSTR_add_š‹º®
,

161 
	mMP_QSTR_kl
,

162 
	mMP_QSTR_groups
,

163 
	mMP_QSTR_®ive
,

164 
	mMP_QSTR_Œuth
,

165 
	mMP_QSTR__¥r™egroup
,

166 
	mMP_QSTR_has_š‹º®
,

167 
	mMP_QSTR_has
,

168 
	mMP_QSTR_em±y
,

169 
	mMP_QSTR___nÚz”o__
,

170 
	mMP_QSTR_bgd
,

171 
	mMP_QSTR_cŞlided
,

174 cÚ¡ 
q¡r_poŞ_t
 
mp_q¡r_cÚ¡_poŞ
;

175 cÚ¡ 
q¡r_poŞ_t
 
	gmp_q¡r_äoz’_cÚ¡_poŞ
 = {

176 (
q¡r_poŞ_t
*)&
mp_q¡r_cÚ¡_poŞ
,

177 
MP_QSTRnumb”_of
,

181 (cÚ¡ 
by‹
*)"\xa9\x07" "main.py",

182 (cÚ¡ 
by‹
*)"\x82\x06" "pygame",

183 (cÚ¡ 
by‹
*)"\xbe\x06" "random",

184 (cÚ¡ 
by‹
*)"\xac\x06" "sprite",

185 (cÚ¡ 
by‹
*)"\x2f\x0f" "marsattack_data",

186 (cÚ¡ 
by‹
*)"\x1b\x08" "gamedata",

187 (cÚ¡ 
by‹
*)"\x67\x12" "marsattack_classes",

188 (cÚ¡ 
by‹
*)"\x65\x09" "gameclass",

189 (cÚ¡ 
by‹
*)"\x31\x03" "pok",

190 (cÚ¡ 
by‹
*)"\x09\x06" "screen",

191 (cÚ¡ 
by‹
*)"\xc9\x0a" "screenRect",

192 (cÚ¡ 
by‹
*)"\x7e\x07" "screenW",

193 (cÚ¡ 
by‹
*)"\x61\x07" "screenH",

194 (cÚ¡ 
by‹
*)"\x0d\x07" "shipGob",

195 (cÚ¡ 
by‹
*)"\x6d\x07" "bombGob",

196 (cÚ¡ 
by‹
*)"\x3a\x0c" "explosionGob",

197 (cÚ¡ 
by‹
*)"\x48\x0d" "explosionGob2",

198 (cÚ¡ 
by‹
*)"\x49\x0d" "explosionGob3",

199 (cÚ¡ 
by‹
*)"\x50\x11" "g_rockpileGobList",

200 (cÚ¡ 
by‹
*)"\x21\x04" "play",

201 (cÚ¡ 
by‹
*)"\x08\x08" "gameMode",

202 (cÚ¡ 
by‹
*)"\x7a\x06" "points",

203 (cÚ¡ 
by‹
*)"\x1d\x0e" "g_rockPileSize",

204 (cÚ¡ 
by‹
*)"\x48\x0a" "g_numPiles",

205 (cÚ¡ 
by‹
*)"\x27\x0c" "g_ship_speed",

206 (cÚ¡ 
by‹
*)"\x8b\x07" "g_level",

207 (cÚ¡ 
by‹
*)"\xc6\x0e" "test_num_piles",

208 (cÚ¡ 
by‹
*)"\x70\x0c" "g_debug_mode",

209 (cÚ¡ 
by‹
*)"\x53\x09" "rock1Surf",

210 (cÚ¡ 
by‹
*)"\x5b\x0d" "rockHead1Surf",

211 (cÚ¡ 
by‹
*)"\x45\x11" "rockHead1CollRect",

212 (cÚ¡ 
by‹
*)"\x50\x09" "rock2Surf",

213 (cÚ¡ 
by‹
*)"\x58\x0d" "rockHead2Surf",

214 (cÚ¡ 
by‹
*)"\x46\x11" "rockHead2CollRect",

215 (cÚ¡ 
by‹
*)"\x51\x09" "rock3Surf",

216 (cÚ¡ 
by‹
*)"\x59\x0d" "rockHead3Surf",

217 (cÚ¡ 
by‹
*)"\xc7\x11" "rockHead3CollRect",

218 (cÚ¡ 
by‹
*)"\x54\x09" "rock6Surf",

219 (cÚ¡ 
by‹
*)"\x5c\x0d" "rockHead6Surf",

220 (cÚ¡ 
by‹
*)"\x42\x11" "rockHead6CollRect",

221 (cÚ¡ 
by‹
*)"\x57\x09" "rock5Surf",

222 (cÚ¡ 
by‹
*)"\x5f\x0d" "rockHead5Surf",

223 (cÚ¡ 
by‹
*)"\x41\x11" "rockHead5CollRect",

224 (cÚ¡ 
by‹
*)"\x55\x09" "rock7Surf",

225 (cÚ¡ 
by‹
*)"\x5d\x0d" "rockHead7Surf",

226 (cÚ¡ 
by‹
*)"\xc3\x11" "rockHead7CollRect",

227 (cÚ¡ 
by‹
*)"\x56\x09" "rock4Surf",

228 (cÚ¡ 
by‹
*)"\x5e\x0d" "rockHead4Surf",

229 (cÚ¡ 
by‹
*)"\xc0\x11" "rockHead4CollRect",

230 (cÚ¡ 
by‹
*)"\xa4\x0c" "g_levelParam",

231 (cÚ¡ 
by‹
*)"\xda\x05" "Group",

232 (cÚ¡ 
by‹
*)"\x01\x0b" "all_sprites",

233 (cÚ¡ 
by‹
*)"\x5f\x0d" "RockPileGroup",

234 (cÚ¡ 
by‹
*)"\x4d\x0d" "all_rockpiles",

235 (cÚ¡ 
by‹
*)"\x90\x08" "GobGroup",

236 (cÚ¡ 
by‹
*)"\xa2\x08" "all_gobs",

237 (cÚ¡ 
by‹
*)"\xce\x04" "main",

238 (cÚ¡ 
by‹
*)"\x6a\x08" "MainPlay",

239 (cÚ¡ 
by‹
*)"\x58\x0d" "MainLevelDone",

240 (cÚ¡ 
by‹
*)"\xc4\x0c" "MainLostGame",

241 (cÚ¡ 
by‹
*)"\x44\x0c" "RestartLevel",

242 (cÚ¡ 
by‹
*)"\x30\x15" "HideGobAfterAnimCycle",

243 (cÚ¡ 
by‹
*)"\xd6\x10" "IsSpriteCollided",

244 (cÚ¡ 
by‹
*)"\xe6\x0e" "ChangeRockPile",

245 (cÚ¡ 
by‹
*)"\xde\x15" "CreateRockPileSprites",

246 (cÚ¡ 
by‹
*)"\x05\x0b" "InitSprites",

247 (cÚ¡ 
by‹
*)"\xda\x0a" "DrawPoints",

248 (cÚ¡ 
by‹
*)"\xd3\x0a" "level done",

249 (cÚ¡ 
by‹
*)"\xef\x09" "lost game",

250 (cÚ¡ 
by‹
*)"\x8b\x07" "visible",

251 (cÚ¡ 
by‹
*)"\x18\x06" "setvel",

252 (cÚ¡ 
by‹
*)"\x69\x08" "collRect",

253 (cÚ¡ 
by‹
*)"\xbb\x09" "collRect2",

254 (cÚ¡ 
by‹
*)"\x9e\x10" "spritecollideany",

255 (cÚ¡ 
by‹
*)"\x4b\x02" "vx",

256 (cÚ¡ 
by‹
*)"\x4a\x02" "vy",

257 (cÚ¡ 
by‹
*)"\xed\x07" "animDur",

258 (cÚ¡ 
by‹
*)"\xc7\x0f" "currentFrameNum",

259 (cÚ¡ 
by‹
*)"\x53\x0e" "setSpriteFrame",

260 (cÚ¡ 
by‹
*)"\x0b\x06" "frames",

261 (cÚ¡ 
by‹
*)"\xab\x09" "numClones",

262 (cÚ¡ 
by‹
*)"\xf9\x0e" "backgroundSurf",

263 (cÚ¡ 
by‹
*)"\x42\x05" "image",

264 (cÚ¡ 
by‹
*)"\xbe\x17" "disableAfterOutOfScreen",

265 (cÚ¡ 
by‹
*)"\xa5\x04" "draw",

266 (cÚ¡ 
by‹
*)"\x6f\x03" "gob",

267 (cÚ¡ 
by‹
*)"\xd6\x01" "s",

268 (cÚ¡ 
by‹
*)"\x1e\x0a" "GameObject",

269 (cÚ¡ 
by‹
*)"\x44\x03" "add",

270 (cÚ¡ 
by‹
*)"\x10\x08" "numPiles",

271 (cÚ¡ 
by‹
*)"\xc5\x0c" "rockPileSize",

272 (cÚ¡ 
by‹
*)"\xc5\x06" "rockSF",

273 (cÚ¡ 
by‹
*)"\xcd\x0a" "rockHeadSF",

274 (cÚ¡ 
by‹
*)"\xe2\x0a" "shipF1Surf",

275 (cÚ¡ 
by‹
*)"\xee\x09" "setSprite",

276 (cÚ¡ 
by‹
*)"\x75\x08" "bombSurf",

277 (cÚ¡ 
by‹
*)"\x2b\x0c" "bombCollRect",

278 (cÚ¡ 
by‹
*)"\xe6\x0c" "bombColorMap",

279 (cÚ¡ 
by‹
*)"\xe4\x10" "explosion1f1Surf",

280 (cÚ¡ 
by‹
*)"\x67\x10" "explosion1f2Surf",

281 (cÚ¡ 
by‹
*)"\xe6\x10" "explosion1f3Surf",

282 (cÚ¡ 
by‹
*)"\x61\x10" "explosion1f4Surf",

283 (cÚ¡ 
by‹
*)"\xe0\x12" "explosion1ColorMap",

284 (cÚ¡ 
by‹
*)"\x57\x0f" "shouldCycleAnim",

285 (cÚ¡ 
by‹
*)"\xb8\x12" "callAfterAnimCycle",

286 (cÚ¡ 
by‹
*)"\x60\x15" "marsattack_classes.py",

287 (cÚ¡ 
by‹
*)"\x8c\x06" "Sprite",

288 (cÚ¡ 
by‹
*)"\x1b\x0f" "remove_internal",

289 (cÚ¡ 
by‹
*)"\xc6\x0c" "frameOffsets",

290 (cÚ¡ 
by‹
*)"\x19\x0e" "animDurCounter",

291 (cÚ¡ 
by‹
*)"\x52\x0b" "spriteIndex",

292 (cÚ¡ 
by‹
*)"\xad\x0f" "currentColorMap",

293 (cÚ¡ 
by‹
*)"\x79\x04" "self",

294 (cÚ¡ 
by‹
*)"\xe3\x08" "surfaces",

295 (cÚ¡ 
by‹
*)"\x62\x03" "__g",

296 (cÚ¡ 
by‹
*)"\xba\x05" "group",

297 (cÚ¡ 
by‹
*)"\x57\x09" "colorMaps",

298 (cÚ¡ 
by‹
*)"\x5f\x07" "sprites",

299 (cÚ¡ 
by‹
*)"\x16\x0a" "spritedict",

300 (cÚ¡ 
by‹
*)"\x3b\x0b" "lostsprites",

301 (cÚ¡ 
by‹
*)"\x28\x12" "marsattack_data.py",

302 (cÚ¡ 
by‹
*)"\x85\x17" "ConvStrTo4bitPixelArray",

303 (cÚ¡ 
by‹
*)"\xc3\x17" "ConvStrTo2bitPixelArray",

304 (cÚ¡ 
by‹
*)"\xd2\x01" "w",

305 (cÚ¡ 
by‹
*)"\xcd\x01" "h",

306 (cÚ¡ 
by‹
*)"\x4d\x02" "0x",

307 (cÚ¡ 
by‹
*)"\xe9\x08" "strArray",

308 (cÚ¡ 
by‹
*)"\xaa\x08" "numArray",

309 (cÚ¡ 
by‹
*)"\x0b\x09" "sprite.py",

310 (cÚ¡ 
by‹
*)"\xda\x0d" "AbstractGroup",

311 (cÚ¡ 
by‹
*)"\x1c\x0c" "add_internal",

312 (cÚ¡ 
by‹
*)"\x67\x04" "kill",

313 (cÚ¡ 
by‹
*)"\x89\x06" "groups",

314 (cÚ¡ 
by‹
*)"\x92\x05" "alive",

315 (cÚ¡ 
by‹
*)"\x0a\x05" "truth",

316 (cÚ¡ 
by‹
*)"\x2c\x0c" "_spritegroup",

317 (cÚ¡ 
by‹
*)"\x07\x0c" "has_internal",

318 (cÚ¡ 
by‹
*)"\xff\x03" "has",

319 (cÚ¡ 
by‹
*)"\xb0\x05" "empty",

320 (cÚ¡ 
by‹
*)"\xa8\x0b" "__nonzero__",

321 (cÚ¡ 
by‹
*)"\xa4\x03" "bgd",

322 (cÚ¡ 
by‹
*)"\xe5\x08" "collided",

327 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_maš__É_moduË_gt__maš
[118] = {

329 
MP_QSTR_maš
 & 0xff, MP_QSTR_main >> 8,

330 
MP_QSTR_maš_dÙ_py
 & 0xff, MP_QSTR_main_dot_py >> 8,

332 0x1c, 
MP_QSTR_Re¡¬tLev–
 & 0xff, MP_QSTR_RestartLevel >> 8,

335 0x1c, 
MP_QSTR_´št
 & 0xff, MP_QSTR_print >> 8,

336 0x16, 
MP_QSTR_gameMode
 & 0xff, MP_QSTR_gameMode >> 8,

337 0x1c, 
MP_QSTR_gameMode
 & 0xff, MP_QSTR_gameMode >> 8,

340 0x1c, 
MP_QSTR_D¿wPošts
 & 0xff, MP_QSTR_DrawPoints >> 8,

343 0x1c, 
MP_QSTR_gameMode
 & 0xff, MP_QSTR_gameMode >> 8,

344 0x16, 
MP_QSTR_¡¬t
 & 0xff, MP_QSTR_start >> 8,

347 0x1c, 
MP_QSTR_MašPÏy
 & 0xff, MP_QSTR_MainPlay >> 8,

351 0x1c, 
MP_QSTR_gameMode
 & 0xff, MP_QSTR_gameMode >> 8,

352 0x16, 
MP_QSTR_Ëv–_¥aû_dÚe
 & 0xff, MP_QSTR_level_space_done >> 8,

355 0x1c, 
MP_QSTR_MašLev–DÚe
 & 0xff, MP_QSTR_MainLevelDone >> 8,

359 0x1c, 
MP_QSTR_gameMode
 & 0xff, MP_QSTR_gameMode >> 8,

360 0x16, 
MP_QSTR_lo¡_¥aû_game
 & 0xff, MP_QSTR_lost_space_game >> 8,

363 0x1c, 
MP_QSTR_MašLo¡Game
 & 0xff, MP_QSTR_MainLostGame >> 8,

367 0x1c, 
MP_QSTR_MašPÏy
 & 0xff, MP_QSTR_MainPlay >> 8,

374 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_maš__É_moduË_gt__maš
 = {

375 .
kšd
 = 
MP_CODE_BYTECODE
,

376 .
	gscİe_æags
 = 0x00,

377 .
	gn_pos_¬gs
 = 0,

378 .
	gd©a
.
	gu_by‹
 = {

379 .
by‹code
 = 
by‹code_d©a_maš__É_moduË_gt__maš
,

380 .
	gcÚ¡_bË
 = 
NULL
,

381 #ià
MICROPY_PERSISTENT_CODE_SAVE


382 .
	gbc_Ën
 = 118,

383 .
	gn_obj
 = 0,

384 .
	gn_¿w_code
 = 0,

390 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_maš__É_moduË_gt__MašPÏy
[1121] = {

392 
MP_QSTR_MašPÏy
 & 0xff, MP_QSTR_MainPlay >> 8,

393 
MP_QSTR_maš_dÙ_py
 & 0xff, MP_QSTR_main_dot_py >> 8,

395 0x1c, 
MP_QSTR_g_sh_¥“d
 & 0xff, MP_QSTR_g_ship_speed >> 8,

404 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

405 0x1d, 
MP_QSTR_ev’t
 & 0xff, MP_QSTR_event >> 8,

406 0x1e, 
MP_QSTR_pŞl
 & 0xff, MP_QSTR_poll >> 8,

410 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

411 0x1d, 
MP_QSTR_NOEVENT
 & 0xff, MP_QSTR_NOEVENT >> 8,

415 0x1d, 
MP_QSTR_ty³
 & 0xff, MP_QSTR_type >> 8,

416 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

417 0x1d, 
MP_QSTR_KEYDOWN
 & 0xff, MP_QSTR_KEYDOWN >> 8,

421 0x1d, 
MP_QSTR_key
 & 0xff, MP_QSTR_key >> 8,

422 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

423 0x1d, 
MP_QSTR_BUT_A
 & 0xff, MP_QSTR_BUT_A >> 8,

426 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

427 0x1d, 
MP_QSTR_visibË
 & 0xff, MP_QSTR_visible >> 8,

429 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

430 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

431 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

432 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

433 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

434 0x1d, 
MP_QSTR_width
 & 0xff, MP_QSTR_width >> 8,

435 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

436 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

437 0x1d, 
MP_QSTR_width
 & 0xff, MP_QSTR_width >> 8,

442 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

443 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

444 0x26, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

445 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

446 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

447 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

448 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

449 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

450 0x1d, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

452 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

453 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

454 0x26, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

455 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

456 0x1e, 
MP_QSTR_£tv–
 & 0xff, MP_QSTR_setvel >> 8,

462 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

463 0x26, 
MP_QSTR_visibË
 & 0xff, MP_QSTR_visible >> 8,

464 0x1c, 
MP_QSTR_g_debug_mode
 & 0xff, MP_QSTR_g_debug_mode >> 8,

469 0x1d, 
MP_QSTR_key
 & 0xff, MP_QSTR_key >> 8,

470 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

471 0x1d, 
MP_QSTR_K_UP
 & 0xff, MP_QSTR_K_UP >> 8,

474 0x1c, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

477 0x25, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

478 0x1c, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

483 0x25, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

484 0x1c, 
MP_QSTR_Re¡¬tLev–
 & 0xff, MP_QSTR_RestartLevel >> 8,

487 0x1c, 
MP_QSTR_g_debug_mode
 & 0xff, MP_QSTR_g_debug_mode >> 8,

492 0x1d, 
MP_QSTR_key
 & 0xff, MP_QSTR_key >> 8,

493 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

494 0x1d, 
MP_QSTR_K_DOWN
 & 0xff, MP_QSTR_K_DOWN >> 8,

497 0x1c, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

500 0x25, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

501 0x1c, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

506 0x25, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

507 0x1c, 
MP_QSTR_Re¡¬tLev–
 & 0xff, MP_QSTR_RestartLevel >> 8,

510 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

511 0x1e, 
MP_QSTR_£tv–
 & 0xff, MP_QSTR_setvel >> 8,

516 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

517 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

518 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

519 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

520 0x1d, 
MP_QSTR_cŞlReù
 & 0xff, MP_QSTR_collRect >> 8,

521 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

523 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

524 0x1d, 
MP_QSTR_cŞlReù2
 & 0xff, MP_QSTR_collRect2 >> 8,

525 0x26, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

526 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

527 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

528 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

529 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

530 0x1d, 
MP_QSTR_cŞlReù
 & 0xff, MP_QSTR_collRect >> 8,

531 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

533 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

534 0x1d, 
MP_QSTR_cŞlReù2
 & 0xff, MP_QSTR_collRect2 >> 8,

535 0x26, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

536 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

537 0x1d, 
MP_QSTR_cŞlReù
 & 0xff, MP_QSTR_collRect >> 8,

538 0x1d, 
MP_QSTR_width
 & 0xff, MP_QSTR_width >> 8,

539 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

540 0x1d, 
MP_QSTR_cŞlReù2
 & 0xff, MP_QSTR_collRect2 >> 8,

541 0x26, 
MP_QSTR_width
 & 0xff, MP_QSTR_width >> 8,

542 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

543 0x1d, 
MP_QSTR_cŞlReù
 & 0xff, MP_QSTR_collRect >> 8,

544 0x1d, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

545 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

546 0x1d, 
MP_QSTR_cŞlReù2
 & 0xff, MP_QSTR_collRect2 >> 8,

547 0x26, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

548 0x1c, 
MP_QSTR_¥r™e
 & 0xff, MP_QSTR_sprite >> 8,

549 0x1e, 
MP_QSTR_¥r™ecŞlid—ny
 & 0xff, MP_QSTR_spritecollideany >> 8,

550 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

551 0x1c, 
MP_QSTR_®l_rockpes
 & 0xff, MP_QSTR_all_rockpiles >> 8,

552 0x1c, 
MP_QSTR_IsS´™eCŞlided
 & 0xff, MP_QSTR_IsSpriteCollided >> 8,

560 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

561 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

562 0x1c, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

563 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

564 0x26, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

566 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

567 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

568 0x1c, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

569 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

570 0x26, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

572 0x1c, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

573 0x26, 
MP_QSTR_vx
 & 0xff, MP_QSTR_vx >> 8,

575 0x1c, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

576 0x26, 
MP_QSTR_vy
 & 0xff, MP_QSTR_vy >> 8,

578 0x1c, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

579 0x26, 
MP_QSTR_ªimDur
 & 0xff, MP_QSTR_animDur >> 8,

581 0x1c, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

582 0x26, 
MP_QSTR_visibË
 & 0xff, MP_QSTR_visible >> 8,

584 0x1c, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

585 0x26, 
MP_QSTR_cu¼’tF¿meNum
 & 0xff, MP_QSTR_currentFrameNum >> 8,

586 0x1c, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

587 0x1e, 
MP_QSTR_£tS´™eF¿me
 & 0xff, MP_QSTR_setSpriteFrame >> 8,

591 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

592 0x1d, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

594 0x1d, 
MP_QSTR_äames
 & 0xff, MP_QSTR_frames >> 8,

597 0x1e, 
MP_QSTR_g‘_»ù
 & 0xff, MP_QSTR_get_rect >> 8,

599 0x1d, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

602 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

603 0x1e, 
MP_QSTR_Reù
 & 0xff, MP_QSTR_Rect >> 8,

605 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

606 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

608 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

609 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

611 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

612 0x1d, 
MP_QSTR_width
 & 0xff, MP_QSTR_width >> 8,

617 0x1d, 
MP_QSTR_numClÚes
 & 0xff, MP_QSTR_numClones >> 8,

621 0x1c, 
MP_QSTR_ChªgeRockPe
 & 0xff, MP_QSTR_ChangeRockPile >> 8,

624 0x1d, 
MP_QSTR_numClÚes
 & 0xff, MP_QSTR_numClones >> 8,

632 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

633 0x26, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

636 0x1d, 
MP_QSTR_cŞlReù2
 & 0xff, MP_QSTR_collRect2 >> 8,

637 0x26, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

643 0x1c, 
MP_QSTR_g_Ëv–P¬am
 & 0xff, MP_QSTR_g_levelParam >> 8,

644 0x1c, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

650 0x16, 
MP_QSTR_Ëv–_¥aû_dÚe
 & 0xff, MP_QSTR_level_space_done >> 8,

651 0x25, 
MP_QSTR_gameMode
 & 0xff, MP_QSTR_gameMode >> 8,

654 0x1c, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

655 0x1e, 
MP_QSTR_fl
 & 0xff, MP_QSTR_fill >> 8,

661 0x1e, 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

664 0x1c, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

665 0x1e, 
MP_QSTR_£t_ş
 & 0xff, MP_QSTR_set_clip >> 8,

669 0x1c, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

670 0x1e, 
MP_QSTR_bl™
 & 0xff, MP_QSTR_blit >> 8,

671 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

672 0x1d, 
MP_QSTR_backgroundSurf
 & 0xff, MP_QSTR_backgroundSurf >> 8,

678 0x1c, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

679 0x1e, 
MP_QSTR_£t_ş
 & 0xff, MP_QSTR_set_clip >> 8,

683 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

684 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

686 0x1c, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

687 0x1e, 
MP_QSTR_bl™
 & 0xff, MP_QSTR_blit >> 8,

689 0x1d, 
MP_QSTR_image
 & 0xff, MP_QSTR_image >> 8,

691 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

692 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

698 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

699 0x1d, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

703 0x1d, 
MP_QSTR_äames
 & 0xff, MP_QSTR_frames >> 8,

707 0x1c, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

708 0x1e, 
MP_QSTR_bl™
 & 0xff, MP_QSTR_blit >> 8,

711 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

712 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

716 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

717 0x1d, 
MP_QSTR_di¥Ïy
 & 0xff, MP_QSTR_display >> 8,

718 0x1e, 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

724 0x1c, 
MP_QSTR_pošts
 & 0xff, MP_QSTR_points >> 8,

727 0x25, 
MP_QSTR_pošts
 & 0xff, MP_QSTR_points >> 8,

728 0x1c, 
MP_QSTR_D¿wPošts
 & 0xff, MP_QSTR_DrawPoints >> 8,

731 0x1c, 
MP_QSTR_¥r™e
 & 0xff, MP_QSTR_sprite >> 8,

732 0x1e, 
MP_QSTR_¥r™ecŞlid—ny
 & 0xff, MP_QSTR_spritecollideany >> 8,

733 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

734 0x1c, 
MP_QSTR_®l_rockpes
 & 0xff, MP_QSTR_all_rockpiles >> 8,

741 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

742 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

743 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

744 0x1c, 
MP_QSTR_ex¶osiÚGob2
 & 0xff, MP_QSTR_explosionGob2 >> 8,

745 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

746 0x26, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

747 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

748 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

749 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

750 0x1c, 
MP_QSTR_ex¶osiÚGob2
 & 0xff, MP_QSTR_explosionGob2 >> 8,

751 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

752 0x26, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

754 0x1c, 
MP_QSTR_ex¶osiÚGob2
 & 0xff, MP_QSTR_explosionGob2 >> 8,

755 0x26, 
MP_QSTR_ªimDur
 & 0xff, MP_QSTR_animDur >> 8,

757 0x1c, 
MP_QSTR_ex¶osiÚGob2
 & 0xff, MP_QSTR_explosionGob2 >> 8,

758 0x26, 
MP_QSTR_visibË
 & 0xff, MP_QSTR_visible >> 8,

760 0x1c, 
MP_QSTR_ex¶osiÚGob2
 & 0xff, MP_QSTR_explosionGob2 >> 8,

761 0x26, 
MP_QSTR_cu¼’tF¿meNum
 & 0xff, MP_QSTR_currentFrameNum >> 8,

762 0x1c, 
MP_QSTR_ex¶osiÚGob2
 & 0xff, MP_QSTR_explosionGob2 >> 8,

763 0x1e, 
MP_QSTR_£tS´™eF¿me
 & 0xff, MP_QSTR_setSpriteFrame >> 8,

766 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

767 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

768 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

769 0x1c, 
MP_QSTR_ex¶osiÚGob2
 & 0xff, MP_QSTR_explosionGob2 >> 8,

770 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

771 0x1d, 
MP_QSTR_width
 & 0xff, MP_QSTR_width >> 8,

773 0x1c, 
MP_QSTR_ex¶osiÚGob3
 & 0xff, MP_QSTR_explosionGob3 >> 8,

774 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

775 0x26, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

776 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

777 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

778 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

779 0x1c, 
MP_QSTR_ex¶osiÚGob3
 & 0xff, MP_QSTR_explosionGob3 >> 8,

780 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

781 0x26, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

783 0x1c, 
MP_QSTR_ex¶osiÚGob3
 & 0xff, MP_QSTR_explosionGob3 >> 8,

784 0x26, 
MP_QSTR_ªimDur
 & 0xff, MP_QSTR_animDur >> 8,

786 0x1c, 
MP_QSTR_ex¶osiÚGob3
 & 0xff, MP_QSTR_explosionGob3 >> 8,

787 0x26, 
MP_QSTR_visibË
 & 0xff, MP_QSTR_visible >> 8,

789 0x1c, 
MP_QSTR_ex¶osiÚGob3
 & 0xff, MP_QSTR_explosionGob3 >> 8,

790 0x26, 
MP_QSTR_cu¼’tF¿meNum
 & 0xff, MP_QSTR_currentFrameNum >> 8,

791 0x1c, 
MP_QSTR_ex¶osiÚGob3
 & 0xff, MP_QSTR_explosionGob3 >> 8,

792 0x1e, 
MP_QSTR_£tS´™eF¿me
 & 0xff, MP_QSTR_setSpriteFrame >> 8,

796 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

797 0x26, 
MP_QSTR_vy
 & 0xff, MP_QSTR_vy >> 8,

799 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

800 0x26, 
MP_QSTR_di§bËAá”OutOfSü“n
 & 0xff, MP_QSTR_disableAfterOutOfScreen >> 8,

801 0x16, 
MP_QSTR_lo¡_¥aû_game
 & 0xff, MP_QSTR_lost_space_game >> 8,

802 0x25, 
MP_QSTR_gameMode
 & 0xff, MP_QSTR_gameMode >> 8,

805 0x1c, 
MP_QSTR_®l_¥r™es
 & 0xff, MP_QSTR_all_sprites >> 8,

806 0x1e, 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

809 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

810 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

811 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

812 0x1c, 
MP_QSTR_sü“nW
 & 0xff, MP_QSTR_screenW >> 8,

815 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

816 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

817 0x1d, 
MP_QSTR_width
 & 0xff, MP_QSTR_width >> 8,

819 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

820 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

821 0x26, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

822 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

823 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

825 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

829 0x26, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

830 0x1c, 
MP_QSTR_®l_gobs
 & 0xff, MP_QSTR_all_gobs >> 8,

831 0x1e, 
MP_QSTR_d¿w
 & 0xff, MP_QSTR_draw >> 8,

832 0x1c, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

835 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

836 0x1d, 
MP_QSTR_di¥Ïy
 & 0xff, MP_QSTR_display >> 8,

837 0x1e, 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

846 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_maš__É_moduË_gt__MašPÏy
 = {

847 .
kšd
 = 
MP_CODE_BYTECODE
,

848 .
	gscİe_æags
 = 0x00,

849 .
	gn_pos_¬gs
 = 0,

850 .
	gd©a
.
	gu_by‹
 = {

851 .
by‹code
 = 
by‹code_d©a_maš__É_moduË_gt__MašPÏy
,

852 .
	gcÚ¡_bË
 = 
NULL
,

853 #ià
MICROPY_PERSISTENT_CODE_SAVE


854 .
	gbc_Ën
 = 1121,

855 .
	gn_obj
 = 0,

856 .
	gn_¿w_code
 = 0,

862 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_maš__É_moduË_gt__MašLev–DÚe
[215] = {

864 
MP_QSTR_MašLev–DÚe
 & 0xff, MP_QSTR_MainLevelDone >> 8,

865 
MP_QSTR_maš_dÙ_py
 & 0xff, MP_QSTR_main_dot_py >> 8,

867 0x1c, 
MP_QSTR_pok
 & 0xff, MP_QSTR_pok >> 8,

868 0x1e, 
MP_QSTR_d¿w_‹xt
 & 0xff, MP_QSTR_draw_text >> 8,

875 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

876 0x1d, 
MP_QSTR_di¥Ïy
 & 0xff, MP_QSTR_display >> 8,

877 0x1e, 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

883 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

884 0x1e, 
MP_QSTR_£tv–
 & 0xff, MP_QSTR_setvel >> 8,

890 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

891 0x1d, 
MP_QSTR_ev’t
 & 0xff, MP_QSTR_event >> 8,

892 0x1e, 
MP_QSTR_pŞl
 & 0xff, MP_QSTR_poll >> 8,

896 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

897 0x1d, 
MP_QSTR_NOEVENT
 & 0xff, MP_QSTR_NOEVENT >> 8,

901 0x1d, 
MP_QSTR_ty³
 & 0xff, MP_QSTR_type >> 8,

902 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

903 0x1d, 
MP_QSTR_KEYDOWN
 & 0xff, MP_QSTR_KEYDOWN >> 8,

907 0x1d, 
MP_QSTR_key
 & 0xff, MP_QSTR_key >> 8,

908 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

909 0x1d, 
MP_QSTR_BUT_A
 & 0xff, MP_QSTR_BUT_A >> 8,

912 0x1c, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

915 0x25, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

916 0x1c, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

921 0x25, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

922 0x1c, 
MP_QSTR_g_sh_¥“d
 & 0xff, MP_QSTR_g_ship_speed >> 8,

925 0x25, 
MP_QSTR_g_sh_¥“d
 & 0xff, MP_QSTR_g_ship_speed >> 8,

926 0x1c, 
MP_QSTR_Re¡¬tLev–
 & 0xff, MP_QSTR_RestartLevel >> 8,

929 0x16, 
MP_QSTR_¶ay
 & 0xff, MP_QSTR_play >> 8,

930 0x25, 
MP_QSTR_gameMode
 & 0xff, MP_QSTR_gameMode >> 8,

933 0x1c, 
MP_QSTR_®l_¥r™es
 & 0xff, MP_QSTR_all_sprites >> 8,

934 0x1e, 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

937 0x1c, 
MP_QSTR_®l_gobs
 & 0xff, MP_QSTR_all_gobs >> 8,

938 0x1e, 
MP_QSTR_d¿w
 & 0xff, MP_QSTR_draw >> 8,

939 0x1c, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

942 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

943 0x1d, 
MP_QSTR_di¥Ïy
 & 0xff, MP_QSTR_display >> 8,

944 0x1e, 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

953 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_maš__É_moduË_gt__MašLev–DÚe_0
 = {{&
mp_ty³_¡r
}, 159, 17, (cÚ¡ 
by‹
*)"\x20\x4c\x45\x56\x45\x4c\x20\x43\x4f\x4d\x50\x4c\x45\x54\x45\x44\x21"};

954 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_maš__É_moduË_gt__MašLev–DÚe
[1] = {

955 
MP_ROM_PTR
(&
cÚ¡_obj_maš__É_moduË_gt__MašLev–DÚe_0
),

957 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_maš__É_moduË_gt__MašLev–DÚe
 = {

958 .
kšd
 = 
MP_CODE_BYTECODE
,

959 .
	gscİe_æags
 = 0x00,

960 .
	gn_pos_¬gs
 = 0,

961 .
	gd©a
.
	gu_by‹
 = {

962 .
by‹code
 = 
by‹code_d©a_maš__É_moduË_gt__MašLev–DÚe
,

963 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_maš__É_moduË_gt__MašLev–DÚe
,

964 #ià
MICROPY_PERSISTENT_CODE_SAVE


965 .
	gbc_Ën
 = 215,

966 .
	gn_obj
 = 1,

967 .
	gn_¿w_code
 = 0,

973 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_maš__É_moduË_gt__MašLo¡Game
[235] = {

975 
MP_QSTR_MašLo¡Game
 & 0xff, MP_QSTR_MainLostGame >> 8,

976 
MP_QSTR_maš_dÙ_py
 & 0xff, MP_QSTR_main_dot_py >> 8,

978 0x1c, 
MP_QSTR_pok
 & 0xff, MP_QSTR_pok >> 8,

979 0x1e, 
MP_QSTR_d¿w_‹xt
 & 0xff, MP_QSTR_draw_text >> 8,

987 0x1c, 
MP_QSTR_¡r
 & 0xff, MP_QSTR_str >> 8,

988 0x1c, 
MP_QSTR_pošts
 & 0xff, MP_QSTR_points >> 8,

992 0x1c, 
MP_QSTR_pok
 & 0xff, MP_QSTR_pok >> 8,

993 0x1e, 
MP_QSTR_d¿w_‹xt
 & 0xff, MP_QSTR_draw_text >> 8,

1000 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

1001 0x1d, 
MP_QSTR_di¥Ïy
 & 0xff, MP_QSTR_display >> 8,

1002 0x1e, 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

1008 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

1009 0x1e, 
MP_QSTR_£tv–
 & 0xff, MP_QSTR_setvel >> 8,

1015 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

1016 0x1d, 
MP_QSTR_ev’t
 & 0xff, MP_QSTR_event >> 8,

1017 0x1e, 
MP_QSTR_pŞl
 & 0xff, MP_QSTR_poll >> 8,

1021 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

1022 0x1d, 
MP_QSTR_NOEVENT
 & 0xff, MP_QSTR_NOEVENT >> 8,

1026 0x1d, 
MP_QSTR_ty³
 & 0xff, MP_QSTR_type >> 8,

1027 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

1028 0x1d, 
MP_QSTR_KEYDOWN
 & 0xff, MP_QSTR_KEYDOWN >> 8,

1032 0x1d, 
MP_QSTR_key
 & 0xff, MP_QSTR_key >> 8,

1033 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

1034 0x1d, 
MP_QSTR_BUT_A
 & 0xff, MP_QSTR_BUT_A >> 8,

1038 0x25, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

1040 0x25, 
MP_QSTR_g_sh_¥“d
 & 0xff, MP_QSTR_g_ship_speed >> 8,

1042 0x25, 
MP_QSTR_pošts
 & 0xff, MP_QSTR_points >> 8,

1043 0x1c, 
MP_QSTR_Re¡¬tLev–
 & 0xff, MP_QSTR_RestartLevel >> 8,

1046 0x16, 
MP_QSTR_¶ay
 & 0xff, MP_QSTR_play >> 8,

1047 0x25, 
MP_QSTR_gameMode
 & 0xff, MP_QSTR_gameMode >> 8,

1051 0x25, 
MP_QSTR_pošts
 & 0xff, MP_QSTR_points >> 8,

1052 0x1c, 
MP_QSTR_®l_¥r™es
 & 0xff, MP_QSTR_all_sprites >> 8,

1053 0x1e, 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

1056 0x1c, 
MP_QSTR_®l_gobs
 & 0xff, MP_QSTR_all_gobs >> 8,

1057 0x1e, 
MP_QSTR_d¿w
 & 0xff, MP_QSTR_draw >> 8,

1058 0x1c, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

1061 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

1062 0x1d, 
MP_QSTR_di¥Ïy
 & 0xff, MP_QSTR_display >> 8,

1063 0x1e, 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

1072 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_maš__É_moduË_gt__MašLo¡Game_0
 = {{&
mp_ty³_¡r
}, 227, 12, (cÚ¡ 
by‹
*)"\x20\x20\x20\x59\x4f\x55\x20\x4c\x4f\x53\x54\x21"};

1073 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_maš__É_moduË_gt__MašLo¡Game_1
 = {{&
mp_ty³_¡r
}, 70, 12, (cÚ¡ 
by‹
*)"\x59\x4f\x55\x52\x20\x53\x43\x4f\x52\x45\x3a\x20"};

1074 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_maš__É_moduË_gt__MašLo¡Game
[2] = {

1075 
MP_ROM_PTR
(&
cÚ¡_obj_maš__É_moduË_gt__MašLo¡Game_0
),

1076 
MP_ROM_PTR
(&
cÚ¡_obj_maš__É_moduË_gt__MašLo¡Game_1
),

1078 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_maš__É_moduË_gt__MašLo¡Game
 = {

1079 .
kšd
 = 
MP_CODE_BYTECODE
,

1080 .
	gscİe_æags
 = 0x00,

1081 .
	gn_pos_¬gs
 = 0,

1082 .
	gd©a
.
	gu_by‹
 = {

1083 .
by‹code
 = 
by‹code_d©a_maš__É_moduË_gt__MašLo¡Game
,

1084 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_maš__É_moduË_gt__MašLo¡Game
,

1085 #ià
MICROPY_PERSISTENT_CODE_SAVE


1086 .
	gbc_Ën
 = 235,

1087 .
	gn_obj
 = 2,

1088 .
	gn_¿w_code
 = 0,

1094 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_maš__É_moduË_gt__Re¡¬tLev–
[168] = {

1096 
MP_QSTR_Re¡¬tLev–
 & 0xff, MP_QSTR_RestartLevel >> 8,

1097 
MP_QSTR_maš_dÙ_py
 & 0xff, MP_QSTR_main_dot_py >> 8,

1099 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

1100 0x1d, 
MP_QSTR_di¥Ïy
 & 0xff, MP_QSTR_display >> 8,

1101 0x1e, 
MP_QSTR_£t_·Ë‰e_16b™
 & 0xff, MP_QSTR_set_palette_16bit >> 8,

1102 0x1c, 
MP_QSTR_g_Ëv–P¬am
 & 0xff, MP_QSTR_g_levelParam >> 8,

1103 0x1c, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

1109 0x1c, 
MP_QSTR_´št
 & 0xff, MP_QSTR_print >> 8,

1111 0x1c, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

1114 0x1c, 
MP_QSTR_C»©eRockPeS´™es
 & 0xff, MP_QSTR_CreateRockPileSprites >> 8,

1115 0x1c, 
MP_QSTR_g_Ëv–P¬am
 & 0xff, MP_QSTR_g_levelParam >> 8,

1116 0x1c, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

1120 0x1c, 
MP_QSTR_g_Ëv–P¬am
 & 0xff, MP_QSTR_g_levelParam >> 8,

1121 0x1c, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

1125 0x1c, 
MP_QSTR_g_Ëv–P¬am
 & 0xff, MP_QSTR_g_levelParam >> 8,

1126 0x1c, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

1130 0x1c, 
MP_QSTR_g_Ëv–P¬am
 & 0xff, MP_QSTR_g_levelParam >> 8,

1131 0x1c, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

1135 0x1c, 
MP_QSTR_g_Ëv–P¬am
 & 0xff, MP_QSTR_g_levelParam >> 8,

1136 0x1c, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

1142 0x1c, 
MP_QSTR_In™S´™es
 & 0xff, MP_QSTR_InitSprites >> 8,

1145 0x1c, 
MP_QSTR_®l_rockpes
 & 0xff, MP_QSTR_all_rockpiles >> 8,

1146 0x1e, 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

1149 0x1c, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

1150 0x1e, 
MP_QSTR_bl™
 & 0xff, MP_QSTR_blit >> 8,

1151 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1152 0x1d, 
MP_QSTR_backgroundSurf
 & 0xff, MP_QSTR_backgroundSurf >> 8,

1158 0x1c, 
MP_QSTR_®l_rockpes
 & 0xff, MP_QSTR_all_rockpiles >> 8,

1159 0x1e, 
MP_QSTR_d¿w
 & 0xff, MP_QSTR_draw >> 8,

1160 0x1c, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

1163 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

1164 0x1d, 
MP_QSTR_di¥Ïy
 & 0xff, MP_QSTR_display >> 8,

1165 0x1e, 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

1172 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_maš__É_moduË_gt__Re¡¬tLev–_0
 = {{&
mp_ty³_¡r
}, 138, 22, (cÚ¡ 
by‹
*)"\x63\x72\x65\x61\x74\x65\x20\x6c\x65\x76\x65\x6c\x2e\x20\x67\x5f\x6c\x65\x76\x65\x6c\x3d"};

1173 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_maš__É_moduË_gt__Re¡¬tLev–
[1] = {

1174 
MP_ROM_PTR
(&
cÚ¡_obj_maš__É_moduË_gt__Re¡¬tLev–_0
),

1176 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_maš__É_moduË_gt__Re¡¬tLev–
 = {

1177 .
kšd
 = 
MP_CODE_BYTECODE
,

1178 .
	gscİe_æags
 = 0x00,

1179 .
	gn_pos_¬gs
 = 0,

1180 .
	gd©a
.
	gu_by‹
 = {

1181 .
by‹code
 = 
by‹code_d©a_maš__É_moduË_gt__Re¡¬tLev–
,

1182 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_maš__É_moduË_gt__Re¡¬tLev–
,

1183 #ià
MICROPY_PERSISTENT_CODE_SAVE


1184 .
	gbc_Ën
 = 168,

1185 .
	gn_obj
 = 1,

1186 .
	gn_¿w_code
 = 0,

1192 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_maš__É_moduË_gt__HideGobAá”AnimCyşe
[25] = {

1194 
MP_QSTR_HideGobAá”AnimCyşe
 & 0xff, MP_QSTR_HideGobAfterAnimCycle >> 8,

1195 
MP_QSTR_maš_dÙ_py
 & 0xff, MP_QSTR_main_dot_py >> 8,

1199 0x26, 
MP_QSTR_vy
 & 0xff, MP_QSTR_vy >> 8,

1203 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_maš__É_moduË_gt__HideGobAá”AnimCyşe
[1] = {

1204 
MP_ROM_QSTR
(
MP_QSTR_gob
),

1206 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_maš__É_moduË_gt__HideGobAá”AnimCyşe
 = {

1207 .
kšd
 = 
MP_CODE_BYTECODE
,

1208 .
	gscİe_æags
 = 0x00,

1209 .
	gn_pos_¬gs
 = 1,

1210 .
	gd©a
.
	gu_by‹
 = {

1211 .
by‹code
 = 
by‹code_d©a_maš__É_moduË_gt__HideGobAá”AnimCyşe
,

1212 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_maš__É_moduË_gt__HideGobAá”AnimCyşe
,

1213 #ià
MICROPY_PERSISTENT_CODE_SAVE


1214 .
	gbc_Ën
 = 25,

1215 .
	gn_obj
 = 0,

1216 .
	gn_¿w_code
 = 0,

1222 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_maš__É_moduË_gt__IsS´™eCŞlided
[30] = {

1224 
MP_QSTR_IsS´™eCŞlided
 & 0xff, MP_QSTR_IsSpriteCollided >> 8,

1225 
MP_QSTR_maš_dÙ_py
 & 0xff, MP_QSTR_main_dot_py >> 8,

1228 0x1d, 
MP_QSTR_cŞlReù2
 & 0xff, MP_QSTR_collRect2 >> 8,

1229 0x1e, 
MP_QSTR_cŞlid”eù
 & 0xff, MP_QSTR_colliderect >> 8,

1231 0x1d, 
MP_QSTR_cŞlReù2
 & 0xff, MP_QSTR_collRect2 >> 8,

1235 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_maš__É_moduË_gt__IsS´™eCŞlided
[2] = {

1236 
MP_ROM_QSTR
(
MP_QSTR_¥r™e
),

1237 
MP_ROM_QSTR
(
MP_QSTR_s
),

1239 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_maš__É_moduË_gt__IsS´™eCŞlided
 = {

1240 .
kšd
 = 
MP_CODE_BYTECODE
,

1241 .
	gscİe_æags
 = 0x00,

1242 .
	gn_pos_¬gs
 = 2,

1243 .
	gd©a
.
	gu_by‹
 = {

1244 .
by‹code
 = 
by‹code_d©a_maš__É_moduË_gt__IsS´™eCŞlided
,

1245 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_maš__É_moduË_gt__IsS´™eCŞlided
,

1246 #ià
MICROPY_PERSISTENT_CODE_SAVE


1247 .
	gbc_Ën
 = 30,

1248 .
	gn_obj
 = 0,

1249 .
	gn_¿w_code
 = 0,

1255 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_maš__É_moduË_gt__ChªgeRockPe
[212] = {

1257 
MP_QSTR_ChªgeRockPe
 & 0xff, MP_QSTR_ChangeRockPile >> 8,

1258 
MP_QSTR_maš_dÙ_py
 & 0xff, MP_QSTR_main_dot_py >> 8,

1261 0x1d, 
MP_QSTR_äames
 & 0xff, MP_QSTR_frames >> 8,

1265 0x1d, 
MP_QSTR_äames
 & 0xff, MP_QSTR_frames >> 8,

1269 0x1d, 
MP_QSTR_äames
 & 0xff, MP_QSTR_frames >> 8,

1273 0x26, 
MP_QSTR_image
 & 0xff, MP_QSTR_image >> 8,

1276 0x26, 
MP_QSTR_numClÚes
 & 0xff, MP_QSTR_numClones >> 8,

1278 0x1d, 
MP_QSTR_image
 & 0xff, MP_QSTR_image >> 8,

1279 0x1e, 
MP_QSTR_g‘_»ù
 & 0xff, MP_QSTR_get_rect >> 8,

1281 0x1d, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

1283 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1284 0x26, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

1286 0x1d, 
MP_QSTR_image
 & 0xff, MP_QSTR_image >> 8,

1287 0x1e, 
MP_QSTR_g‘_»ù
 & 0xff, MP_QSTR_get_rect >> 8,

1289 0x1d, 
MP_QSTR_width
 & 0xff, MP_QSTR_width >> 8,

1291 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1292 0x26, 
MP_QSTR_width
 & 0xff, MP_QSTR_width >> 8,

1293 0x1c, 
MP_QSTR_sü“nH
 & 0xff, MP_QSTR_screenH >> 8,

1297 0x1d, 
MP_QSTR_numClÚes
 & 0xff, MP_QSTR_numClones >> 8,

1299 0x1d, 
MP_QSTR_äames
 & 0xff, MP_QSTR_frames >> 8,

1302 0x1e, 
MP_QSTR_g‘_»ù
 & 0xff, MP_QSTR_get_rect >> 8,

1304 0x1d, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

1308 0x1d, 
MP_QSTR_äames
 & 0xff, MP_QSTR_frames >> 8,

1311 0x1e, 
MP_QSTR_g‘_»ù
 & 0xff, MP_QSTR_get_rect >> 8,

1313 0x1d, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

1316 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1317 0x26, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

1319 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1320 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

1322 0x1d, 
MP_QSTR_cŞlReù
 & 0xff, MP_QSTR_collRect >> 8,

1323 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

1326 0x1d, 
MP_QSTR_cŞlReù2
 & 0xff, MP_QSTR_collRect2 >> 8,

1327 0x26, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

1329 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1330 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

1332 0x1d, 
MP_QSTR_cŞlReù
 & 0xff, MP_QSTR_collRect >> 8,

1333 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

1336 0x1d, 
MP_QSTR_cŞlReù2
 & 0xff, MP_QSTR_collRect2 >> 8,

1337 0x26, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

1339 0x1d, 
MP_QSTR_cŞlReù
 & 0xff, MP_QSTR_collRect >> 8,

1340 0x1d, 
MP_QSTR_width
 & 0xff, MP_QSTR_width >> 8,

1342 0x1d, 
MP_QSTR_cŞlReù2
 & 0xff, MP_QSTR_collRect2 >> 8,

1343 0x26, 
MP_QSTR_width
 & 0xff, MP_QSTR_width >> 8,

1345 0x1d, 
MP_QSTR_cŞlReù
 & 0xff, MP_QSTR_collRect >> 8,

1346 0x1d, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

1348 0x1d, 
MP_QSTR_cŞlReù2
 & 0xff, MP_QSTR_collRect2 >> 8,

1349 0x26, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

1353 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_maš__É_moduË_gt__ChªgeRockPe
[2] = {

1354 
MP_ROM_QSTR
(
MP_QSTR_gob
),

1355 
MP_ROM_QSTR
(
MP_QSTR_numClÚes
),

1357 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_maš__É_moduË_gt__ChªgeRockPe
 = {

1358 .
kšd
 = 
MP_CODE_BYTECODE
,

1359 .
	gscİe_æags
 = 0x00,

1360 .
	gn_pos_¬gs
 = 2,

1361 .
	gd©a
.
	gu_by‹
 = {

1362 .
by‹code
 = 
by‹code_d©a_maš__É_moduË_gt__ChªgeRockPe
,

1363 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_maš__É_moduË_gt__ChªgeRockPe
,

1364 #ià
MICROPY_PERSISTENT_CODE_SAVE


1365 .
	gbc_Ën
 = 212,

1366 .
	gn_obj
 = 0,

1367 .
	gn_¿w_code
 = 0,

1373 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_maš__É_moduË_gt__C»©eRockPeS´™es
[376] = {

1375 
MP_QSTR_C»©eRockPeS´™es
 & 0xff, MP_QSTR_CreateRockPileSprites >> 8,

1376 
MP_QSTR_maš_dÙ_py
 & 0xff, MP_QSTR_main_dot_py >> 8,

1385 0x1c, 
MP_QSTR_Ën
 & 0xff, MP_QSTR_len >> 8,

1386 0x1c, 
MP_QSTR_g_rockpeGobLi¡
 & 0xff, MP_QSTR_g_rockpileGobList >> 8,

1391 0x1c, 
MP_QSTR_gameşass
 & 0xff, MP_QSTR_gameclass >> 8,

1392 0x1e, 
MP_QSTR_GameObjeù
 & 0xff, MP_QSTR_GameObject >> 8,

1403 0x1c, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

1404 0x1c, 
MP_QSTR_sü“nW
 & 0xff, MP_QSTR_screenW >> 8,

1405 0x1c, 
MP_QSTR_sü“nH
 & 0xff, MP_QSTR_screenH >> 8,

1408 0x1c, 
MP_QSTR_g_rockpeGobLi¡
 & 0xff, MP_QSTR_g_rockpileGobList >> 8,

1409 0x1e, 
MP_QSTR_­³nd
 & 0xff, MP_QSTR_append >> 8,

1413 0x1c, 
MP_QSTR_®l_¥r™es
 & 0xff, MP_QSTR_all_sprites >> 8,

1414 0x1e, 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

1415 0x1c, 
MP_QSTR_g_rockpeGobLi¡
 & 0xff, MP_QSTR_g_rockpileGobList >> 8,

1420 0x1c, 
MP_QSTR_®l_rockpes
 & 0xff, MP_QSTR_all_rockpiles >> 8,

1421 0x1e, 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

1422 0x1c, 
MP_QSTR_g_rockpeGobLi¡
 & 0xff, MP_QSTR_g_rockpileGobList >> 8,

1428 0x1c, 
MP_QSTR_g_rockpeGobLi¡
 & 0xff, MP_QSTR_g_rockpileGobList >> 8,

1436 0x26, 
MP_QSTR_äames
 & 0xff, MP_QSTR_frames >> 8,

1438 0x1d, 
MP_QSTR_äames
 & 0xff, MP_QSTR_frames >> 8,

1440 0x1d, 
MP_QSTR_cu¼’tF¿meNum
 & 0xff, MP_QSTR_currentFrameNum >> 8,

1443 0x26, 
MP_QSTR_image
 & 0xff, MP_QSTR_image >> 8,

1445 0x1d, 
MP_QSTR_äames
 & 0xff, MP_QSTR_frames >> 8,

1448 0x1e, 
MP_QSTR_g‘_»ù
 & 0xff, MP_QSTR_get_rect >> 8,

1451 0x26, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1452 0x1c, 
MP_QSTR_g_rockpeGobLi¡
 & 0xff, MP_QSTR_g_rockpileGobList >> 8,

1459 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1460 0x1d, 
MP_QSTR_width
 & 0xff, MP_QSTR_width >> 8,

1466 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1467 0x26, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

1470 0x26, 
MP_QSTR_cŞlReù
 & 0xff, MP_QSTR_collRect >> 8,

1471 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

1472 0x1e, 
MP_QSTR_Reù
 & 0xff, MP_QSTR_Rect >> 8,

1479 0x26, 
MP_QSTR_cŞlReù2
 & 0xff, MP_QSTR_collRect2 >> 8,

1480 0x1c, 
MP_QSTR_¿ndom
 & 0xff, MP_QSTR_random >> 8,

1481 0x1e, 
MP_QSTR_g‘¿ndb™s
 & 0xff, MP_QSTR_getrandbits >> 8,

1487 0x26, 
MP_QSTR_numClÚes
 & 0xff, MP_QSTR_numClones >> 8,

1488 0x1c, 
MP_QSTR_sü“nH
 & 0xff, MP_QSTR_screenH >> 8,

1492 0x1d, 
MP_QSTR_numClÚes
 & 0xff, MP_QSTR_numClones >> 8,

1494 0x1d, 
MP_QSTR_äames
 & 0xff, MP_QSTR_frames >> 8,

1497 0x1e, 
MP_QSTR_g‘_»ù
 & 0xff, MP_QSTR_get_rect >> 8,

1499 0x1d, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

1503 0x1d, 
MP_QSTR_äames
 & 0xff, MP_QSTR_frames >> 8,

1506 0x1e, 
MP_QSTR_g‘_»ù
 & 0xff, MP_QSTR_get_rect >> 8,

1508 0x1d, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

1511 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1512 0x26, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

1515 0x26, 
MP_QSTR_visibË
 & 0xff, MP_QSTR_visible >> 8,

1517 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1518 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

1520 0x1d, 
MP_QSTR_cŞlReù
 & 0xff, MP_QSTR_collRect >> 8,

1521 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

1524 0x1d, 
MP_QSTR_cŞlReù2
 & 0xff, MP_QSTR_collRect2 >> 8,

1525 0x26, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

1527 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1528 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

1530 0x1d, 
MP_QSTR_cŞlReù
 & 0xff, MP_QSTR_collRect >> 8,

1531 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

1534 0x1d, 
MP_QSTR_cŞlReù2
 & 0xff, MP_QSTR_collRect2 >> 8,

1535 0x26, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

1537 0x1d, 
MP_QSTR_cŞlReù
 & 0xff, MP_QSTR_collRect >> 8,

1538 0x1d, 
MP_QSTR_width
 & 0xff, MP_QSTR_width >> 8,

1540 0x1d, 
MP_QSTR_cŞlReù2
 & 0xff, MP_QSTR_collRect2 >> 8,

1541 0x26, 
MP_QSTR_width
 & 0xff, MP_QSTR_width >> 8,

1543 0x1d, 
MP_QSTR_cŞlReù
 & 0xff, MP_QSTR_collRect >> 8,

1544 0x1d, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

1546 0x1d, 
MP_QSTR_cŞlReù2
 & 0xff, MP_QSTR_collRect2 >> 8,

1547 0x26, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

1559 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_maš__É_moduË_gt__C»©eRockPeS´™es
[5] = {

1560 
MP_ROM_QSTR
(
MP_QSTR_numPes
),

1561 
MP_ROM_QSTR
(
MP_QSTR_rockPeSize
),

1562 
MP_ROM_QSTR
(
MP_QSTR_rockSF
),

1563 
MP_ROM_QSTR
(
MP_QSTR_rockH—dSF
),

1564 
MP_ROM_QSTR
(
MP_QSTR_rockH—d1CŞlReù
),

1566 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_maš__É_moduË_gt__C»©eRockPeS´™es
 = {

1567 .
kšd
 = 
MP_CODE_BYTECODE
,

1568 .
	gscİe_æags
 = 0x00,

1569 .
	gn_pos_¬gs
 = 5,

1570 .
	gd©a
.
	gu_by‹
 = {

1571 .
by‹code
 = 
by‹code_d©a_maš__É_moduË_gt__C»©eRockPeS´™es
,

1572 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_maš__É_moduË_gt__C»©eRockPeS´™es
,

1573 #ià
MICROPY_PERSISTENT_CODE_SAVE


1574 .
	gbc_Ën
 = 376,

1575 .
	gn_obj
 = 0,

1576 .
	gn_¿w_code
 = 0,

1582 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_maš__É_moduË_gt__In™S´™es
[928] = {

1584 
MP_QSTR_In™S´™es
 & 0xff, MP_QSTR_InitSprites >> 8,

1585 
MP_QSTR_maš_dÙ_py
 & 0xff, MP_QSTR_main_dot_py >> 8,

1587 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

1591 0x1c, 
MP_QSTR_gameşass
 & 0xff, MP_QSTR_gameclass >> 8,

1592 0x1e, 
MP_QSTR_GameObjeù
 & 0xff, MP_QSTR_GameObject >> 8,

1593 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1594 0x1d, 
MP_QSTR_shF1Surf
 & 0xff, MP_QSTR_shipF1Surf >> 8,

1600 0x1c, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

1601 0x1c, 
MP_QSTR_sü“nW
 & 0xff, MP_QSTR_screenW >> 8,

1602 0x1c, 
MP_QSTR_sü“nH
 & 0xff, MP_QSTR_screenH >> 8,

1604 0x25, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

1605 0x1c, 
MP_QSTR_®l_¥r™es
 & 0xff, MP_QSTR_all_sprites >> 8,

1606 0x1e, 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

1607 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

1610 0x1c, 
MP_QSTR_®l_gobs
 & 0xff, MP_QSTR_all_gobs >> 8,

1611 0x1e, 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

1612 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

1615 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

1616 0x1e, 
MP_QSTR_£tS´™e
 & 0xff, MP_QSTR_setSprite >> 8,

1627 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

1628 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1629 0x26, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

1631 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

1632 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1633 0x26, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

1635 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

1636 0x26, 
MP_QSTR_ªimDur
 & 0xff, MP_QSTR_animDur >> 8,

1638 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

1639 0x26, 
MP_QSTR_di§bËAá”OutOfSü“n
 & 0xff, MP_QSTR_disableAfterOutOfScreen >> 8,

1641 0x1c, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

1642 0x26, 
MP_QSTR_visibË
 & 0xff, MP_QSTR_visible >> 8,

1643 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

1647 0x1c, 
MP_QSTR_gameşass
 & 0xff, MP_QSTR_gameclass >> 8,

1648 0x1e, 
MP_QSTR_GameObjeù
 & 0xff, MP_QSTR_GameObject >> 8,

1649 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1650 0x1d, 
MP_QSTR_bombSurf
 & 0xff, MP_QSTR_bombSurf >> 8,

1656 0x1c, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

1657 0x1c, 
MP_QSTR_sü“nW
 & 0xff, MP_QSTR_screenW >> 8,

1658 0x1c, 
MP_QSTR_sü“nH
 & 0xff, MP_QSTR_screenH >> 8,

1660 0x25, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

1661 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1662 0x1d, 
MP_QSTR_bombCŞlReù
 & 0xff, MP_QSTR_bombCollRect >> 8,

1663 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

1664 0x26, 
MP_QSTR_cŞlReù
 & 0xff, MP_QSTR_collRect >> 8,

1665 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

1666 0x1e, 
MP_QSTR_Reù
 & 0xff, MP_QSTR_Rect >> 8,

1672 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

1673 0x26, 
MP_QSTR_cŞlReù2
 & 0xff, MP_QSTR_collRect2 >> 8,

1674 0x1c, 
MP_QSTR_®l_¥r™es
 & 0xff, MP_QSTR_all_sprites >> 8,

1675 0x1e, 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

1676 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

1679 0x1c, 
MP_QSTR_®l_gobs
 & 0xff, MP_QSTR_all_gobs >> 8,

1680 0x1e, 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

1681 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

1684 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

1685 0x1e, 
MP_QSTR_£tS´™e
 & 0xff, MP_QSTR_setSprite >> 8,

1687 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1688 0x1d, 
MP_QSTR_bombCŞÜM­
 & 0xff, MP_QSTR_bombColorMap >> 8,

1693 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

1694 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1695 0x26, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

1697 0x1c, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

1698 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1699 0x26, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

1700 0x1c, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

1704 0x1c, 
MP_QSTR_gameşass
 & 0xff, MP_QSTR_gameclass >> 8,

1705 0x1e, 
MP_QSTR_GameObjeù
 & 0xff, MP_QSTR_GameObject >> 8,

1706 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1707 0x1d, 
MP_QSTR_ex¶osiÚ1f1Surf
 & 0xff, MP_QSTR_explosion1f1Surf >> 8,

1708 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1709 0x1d, 
MP_QSTR_ex¶osiÚ1f2Surf
 & 0xff, MP_QSTR_explosion1f2Surf >> 8,

1710 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1711 0x1d, 
MP_QSTR_ex¶osiÚ1f3Surf
 & 0xff, MP_QSTR_explosion1f3Surf >> 8,

1712 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1713 0x1d, 
MP_QSTR_ex¶osiÚ1f4Surf
 & 0xff, MP_QSTR_explosion1f4Surf >> 8,

1728 0x1c, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

1729 0x1c, 
MP_QSTR_sü“nW
 & 0xff, MP_QSTR_screenW >> 8,

1730 0x1c, 
MP_QSTR_sü“nH
 & 0xff, MP_QSTR_screenH >> 8,

1732 0x25, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

1733 0x1c, 
MP_QSTR_®l_¥r™es
 & 0xff, MP_QSTR_all_sprites >> 8,

1734 0x1e, 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

1735 0x1c, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

1738 0x1c, 
MP_QSTR_®l_gobs
 & 0xff, MP_QSTR_all_gobs >> 8,

1739 0x1e, 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

1740 0x1c, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

1743 0x1c, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

1744 0x1e, 
MP_QSTR_£tS´™e
 & 0xff, MP_QSTR_setSprite >> 8,

1746 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1747 0x1d, 
MP_QSTR_ex¶osiÚ1CŞÜM­
 & 0xff, MP_QSTR_explosion1ColorMap >> 8,

1748 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1749 0x1d, 
MP_QSTR_ex¶osiÚ1CŞÜM­
 & 0xff, MP_QSTR_explosion1ColorMap >> 8,

1750 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1751 0x1d, 
MP_QSTR_ex¶osiÚ1CŞÜM­
 & 0xff, MP_QSTR_explosion1ColorMap >> 8,

1752 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1753 0x1d, 
MP_QSTR_ex¶osiÚ1CŞÜM­
 & 0xff, MP_QSTR_explosion1ColorMap >> 8,

1758 0x1c, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

1759 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1760 0x26, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

1762 0x1c, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

1763 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1764 0x26, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

1766 0x1c, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

1767 0x26, 
MP_QSTR_shouldCyşeAnim
 & 0xff, MP_QSTR_shouldCycleAnim >> 8,

1768 0x1c, 
MP_QSTR_HideGobAá”AnimCyşe
 & 0xff, MP_QSTR_HideGobAfterAnimCycle >> 8,

1769 0x1c, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

1770 0x26, 
MP_QSTR_ÿÎAá”AnimCyşe
 & 0xff, MP_QSTR_callAfterAnimCycle >> 8,

1771 0x1c, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

1772 0x1e, 
MP_QSTR_£tS´™eF¿me
 & 0xff, MP_QSTR_setSpriteFrame >> 8,

1776 0x1c, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

1777 0x26, 
MP_QSTR_visibË
 & 0xff, MP_QSTR_visible >> 8,

1778 0x1c, 
MP_QSTR_ex¶osiÚGob2
 & 0xff, MP_QSTR_explosionGob2 >> 8,

1782 0x1c, 
MP_QSTR_gameşass
 & 0xff, MP_QSTR_gameclass >> 8,

1783 0x1e, 
MP_QSTR_GameObjeù
 & 0xff, MP_QSTR_GameObject >> 8,

1784 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1785 0x1d, 
MP_QSTR_ex¶osiÚ1f1Surf
 & 0xff, MP_QSTR_explosion1f1Surf >> 8,

1786 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1787 0x1d, 
MP_QSTR_ex¶osiÚ1f2Surf
 & 0xff, MP_QSTR_explosion1f2Surf >> 8,

1788 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1789 0x1d, 
MP_QSTR_ex¶osiÚ1f3Surf
 & 0xff, MP_QSTR_explosion1f3Surf >> 8,

1790 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1791 0x1d, 
MP_QSTR_ex¶osiÚ1f4Surf
 & 0xff, MP_QSTR_explosion1f4Surf >> 8,

1806 0x1c, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

1807 0x1c, 
MP_QSTR_sü“nW
 & 0xff, MP_QSTR_screenW >> 8,

1808 0x1c, 
MP_QSTR_sü“nH
 & 0xff, MP_QSTR_screenH >> 8,

1810 0x25, 
MP_QSTR_ex¶osiÚGob2
 & 0xff, MP_QSTR_explosionGob2 >> 8,

1811 0x1c, 
MP_QSTR_®l_¥r™es
 & 0xff, MP_QSTR_all_sprites >> 8,

1812 0x1e, 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

1813 0x1c, 
MP_QSTR_ex¶osiÚGob2
 & 0xff, MP_QSTR_explosionGob2 >> 8,

1816 0x1c, 
MP_QSTR_®l_gobs
 & 0xff, MP_QSTR_all_gobs >> 8,

1817 0x1e, 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

1818 0x1c, 
MP_QSTR_ex¶osiÚGob2
 & 0xff, MP_QSTR_explosionGob2 >> 8,

1821 0x1c, 
MP_QSTR_ex¶osiÚGob2
 & 0xff, MP_QSTR_explosionGob2 >> 8,

1822 0x1e, 
MP_QSTR_£tS´™e
 & 0xff, MP_QSTR_setSprite >> 8,

1824 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1825 0x1d, 
MP_QSTR_ex¶osiÚ1CŞÜM­
 & 0xff, MP_QSTR_explosion1ColorMap >> 8,

1826 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1827 0x1d, 
MP_QSTR_ex¶osiÚ1CŞÜM­
 & 0xff, MP_QSTR_explosion1ColorMap >> 8,

1828 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1829 0x1d, 
MP_QSTR_ex¶osiÚ1CŞÜM­
 & 0xff, MP_QSTR_explosion1ColorMap >> 8,

1830 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1831 0x1d, 
MP_QSTR_ex¶osiÚ1CŞÜM­
 & 0xff, MP_QSTR_explosion1ColorMap >> 8,

1836 0x1c, 
MP_QSTR_ex¶osiÚGob2
 & 0xff, MP_QSTR_explosionGob2 >> 8,

1837 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1838 0x26, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

1840 0x1c, 
MP_QSTR_ex¶osiÚGob2
 & 0xff, MP_QSTR_explosionGob2 >> 8,

1841 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1842 0x26, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

1844 0x1c, 
MP_QSTR_ex¶osiÚGob2
 & 0xff, MP_QSTR_explosionGob2 >> 8,

1845 0x26, 
MP_QSTR_shouldCyşeAnim
 & 0xff, MP_QSTR_shouldCycleAnim >> 8,

1846 0x1c, 
MP_QSTR_HideGobAá”AnimCyşe
 & 0xff, MP_QSTR_HideGobAfterAnimCycle >> 8,

1847 0x1c, 
MP_QSTR_ex¶osiÚGob2
 & 0xff, MP_QSTR_explosionGob2 >> 8,

1848 0x26, 
MP_QSTR_ÿÎAá”AnimCyşe
 & 0xff, MP_QSTR_callAfterAnimCycle >> 8,

1849 0x1c, 
MP_QSTR_ex¶osiÚGob2
 & 0xff, MP_QSTR_explosionGob2 >> 8,

1850 0x1e, 
MP_QSTR_£tS´™eF¿me
 & 0xff, MP_QSTR_setSpriteFrame >> 8,

1854 0x1c, 
MP_QSTR_ex¶osiÚGob2
 & 0xff, MP_QSTR_explosionGob2 >> 8,

1855 0x26, 
MP_QSTR_visibË
 & 0xff, MP_QSTR_visible >> 8,

1856 0x1c, 
MP_QSTR_ex¶osiÚGob3
 & 0xff, MP_QSTR_explosionGob3 >> 8,

1860 0x1c, 
MP_QSTR_gameşass
 & 0xff, MP_QSTR_gameclass >> 8,

1861 0x1e, 
MP_QSTR_GameObjeù
 & 0xff, MP_QSTR_GameObject >> 8,

1862 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1863 0x1d, 
MP_QSTR_ex¶osiÚ1f1Surf
 & 0xff, MP_QSTR_explosion1f1Surf >> 8,

1864 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1865 0x1d, 
MP_QSTR_ex¶osiÚ1f2Surf
 & 0xff, MP_QSTR_explosion1f2Surf >> 8,

1866 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1867 0x1d, 
MP_QSTR_ex¶osiÚ1f3Surf
 & 0xff, MP_QSTR_explosion1f3Surf >> 8,

1868 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1869 0x1d, 
MP_QSTR_ex¶osiÚ1f4Surf
 & 0xff, MP_QSTR_explosion1f4Surf >> 8,

1884 0x1c, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

1885 0x1c, 
MP_QSTR_sü“nW
 & 0xff, MP_QSTR_screenW >> 8,

1886 0x1c, 
MP_QSTR_sü“nH
 & 0xff, MP_QSTR_screenH >> 8,

1888 0x25, 
MP_QSTR_ex¶osiÚGob3
 & 0xff, MP_QSTR_explosionGob3 >> 8,

1889 0x1c, 
MP_QSTR_®l_¥r™es
 & 0xff, MP_QSTR_all_sprites >> 8,

1890 0x1e, 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

1891 0x1c, 
MP_QSTR_ex¶osiÚGob3
 & 0xff, MP_QSTR_explosionGob3 >> 8,

1894 0x1c, 
MP_QSTR_®l_gobs
 & 0xff, MP_QSTR_all_gobs >> 8,

1895 0x1e, 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

1896 0x1c, 
MP_QSTR_ex¶osiÚGob3
 & 0xff, MP_QSTR_explosionGob3 >> 8,

1899 0x1c, 
MP_QSTR_ex¶osiÚGob3
 & 0xff, MP_QSTR_explosionGob3 >> 8,

1900 0x1e, 
MP_QSTR_£tS´™e
 & 0xff, MP_QSTR_setSprite >> 8,

1902 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1903 0x1d, 
MP_QSTR_ex¶osiÚ1CŞÜM­
 & 0xff, MP_QSTR_explosion1ColorMap >> 8,

1904 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1905 0x1d, 
MP_QSTR_ex¶osiÚ1CŞÜM­
 & 0xff, MP_QSTR_explosion1ColorMap >> 8,

1906 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1907 0x1d, 
MP_QSTR_ex¶osiÚ1CŞÜM­
 & 0xff, MP_QSTR_explosion1ColorMap >> 8,

1908 0x1c, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

1909 0x1d, 
MP_QSTR_ex¶osiÚ1CŞÜM­
 & 0xff, MP_QSTR_explosion1ColorMap >> 8,

1914 0x1c, 
MP_QSTR_ex¶osiÚGob3
 & 0xff, MP_QSTR_explosionGob3 >> 8,

1915 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1916 0x26, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

1918 0x1c, 
MP_QSTR_ex¶osiÚGob3
 & 0xff, MP_QSTR_explosionGob3 >> 8,

1919 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

1920 0x26, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

1922 0x1c, 
MP_QSTR_ex¶osiÚGob3
 & 0xff, MP_QSTR_explosionGob3 >> 8,

1923 0x26, 
MP_QSTR_shouldCyşeAnim
 & 0xff, MP_QSTR_shouldCycleAnim >> 8,

1924 0x1c, 
MP_QSTR_HideGobAá”AnimCyşe
 & 0xff, MP_QSTR_HideGobAfterAnimCycle >> 8,

1925 0x1c, 
MP_QSTR_ex¶osiÚGob3
 & 0xff, MP_QSTR_explosionGob3 >> 8,

1926 0x26, 
MP_QSTR_ÿÎAá”AnimCyşe
 & 0xff, MP_QSTR_callAfterAnimCycle >> 8,

1927 0x1c, 
MP_QSTR_ex¶osiÚGob3
 & 0xff, MP_QSTR_explosionGob3 >> 8,

1928 0x1e, 
MP_QSTR_£tS´™eF¿me
 & 0xff, MP_QSTR_setSpriteFrame >> 8,

1932 0x1c, 
MP_QSTR_ex¶osiÚGob3
 & 0xff, MP_QSTR_explosionGob3 >> 8,

1933 0x26, 
MP_QSTR_visibË
 & 0xff, MP_QSTR_visible >> 8,

1937 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_maš__É_moduË_gt__In™S´™es
 = {

1938 .
kšd
 = 
MP_CODE_BYTECODE
,

1939 .
	gscİe_æags
 = 0x00,

1940 .
	gn_pos_¬gs
 = 0,

1941 .
	gd©a
.
	gu_by‹
 = {

1942 .
by‹code
 = 
by‹code_d©a_maš__É_moduË_gt__In™S´™es
,

1943 .
	gcÚ¡_bË
 = 
NULL
,

1944 #ià
MICROPY_PERSISTENT_CODE_SAVE


1945 .
	gbc_Ën
 = 928,

1946 .
	gn_obj
 = 0,

1947 .
	gn_¿w_code
 = 0,

1953 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_maš__É_moduË_gt__D¿wPošts
[81] = {

1955 
MP_QSTR_D¿wPošts
 & 0xff, MP_QSTR_DrawPoints >> 8,

1956 
MP_QSTR_maš_dÙ_py
 & 0xff, MP_QSTR_main_dot_py >> 8,

1958 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

1959 0x1e, 
MP_QSTR_Reù
 & 0xff, MP_QSTR_Rect >> 8,

1966 0x1c, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

1967 0x1e, 
MP_QSTR_fl
 & 0xff, MP_QSTR_fill >> 8,

1972 0x1c, 
MP_QSTR_pok
 & 0xff, MP_QSTR_pok >> 8,

1973 0x1e, 
MP_QSTR_d¿w_‹xt
 & 0xff, MP_QSTR_draw_text >> 8,

1976 0x1c, 
MP_QSTR_¡r
 & 0xff, MP_QSTR_str >> 8,

1977 0x1c, 
MP_QSTR_pošts
 & 0xff, MP_QSTR_points >> 8,

1982 0x1c, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

1983 0x1d, 
MP_QSTR_di¥Ïy
 & 0xff, MP_QSTR_display >> 8,

1984 0x1e, 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

1993 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_maš__É_moduË_gt__D¿wPošts
 = {

1994 .
kšd
 = 
MP_CODE_BYTECODE
,

1995 .
	gscİe_æags
 = 0x00,

1996 .
	gn_pos_¬gs
 = 0,

1997 .
	gd©a
.
	gu_by‹
 = {

1998 .
by‹code
 = 
by‹code_d©a_maš__É_moduË_gt__D¿wPošts
,

1999 .
	gcÚ¡_bË
 = 
NULL
,

2000 #ià
MICROPY_PERSISTENT_CODE_SAVE


2001 .
	gbc_Ën
 = 81,

2002 .
	gn_obj
 = 0,

2003 .
	gn_¿w_code
 = 0,

2009 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_maš__É_moduË_gt_
[694] = {

2011 
MP_QSTR__É_moduË_gt_
 & 0xff, MP_QSTR__lt_module_gt_ >> 8,

2012 
MP_QSTR_maš_dÙ_py
 & 0xff, MP_QSTR_main_dot_py >> 8,

2014 0x1b, 
MP_QSTR_´št
 & 0xff, MP_QSTR_print >> 8,

2020 0x68, 
MP_QSTR_gc
 & 0xff, MP_QSTR_gc >> 8,

2021 0x24, 
MP_QSTR_gc
 & 0xff, MP_QSTR_gc >> 8,

2024 0x68, 
MP_QSTR_upygame
 & 0xff, MP_QSTR_upygame >> 8,

2025 0x24, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

2028 0x68, 
MP_QSTR_u¿ndom
 & 0xff, MP_QSTR_urandom >> 8,

2029 0x24, 
MP_QSTR_¿ndom
 & 0xff, MP_QSTR_random >> 8,

2032 0x68, 
MP_QSTR_¥r™e
 & 0xff, MP_QSTR_sprite >> 8,

2033 0x24, 
MP_QSTR_¥r™e
 & 0xff, MP_QSTR_sprite >> 8,

2036 0x68, 
MP_QSTR_m¬§‰ack_d©a
 & 0xff, MP_QSTR_marsattack_data >> 8,

2037 0x24, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2040 0x68, 
MP_QSTR_m¬§‰ack_şas£s
 & 0xff, MP_QSTR_marsattack_classes >> 8,

2041 0x24, 
MP_QSTR_gameşass
 & 0xff, MP_QSTR_gameclass >> 8,

2044 0x68, 
MP_QSTR_umachše
 & 0xff, MP_QSTR_umachine >> 8,

2045 0x24, 
MP_QSTR_pok
 & 0xff, MP_QSTR_pok >> 8,

2046 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

2047 0x1d, 
MP_QSTR_di¥Ïy
 & 0xff, MP_QSTR_display >> 8,

2048 0x1e, 
MP_QSTR_š™
 & 0xff, MP_QSTR_init >> 8,

2051 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

2052 0x1d, 
MP_QSTR_di¥Ïy
 & 0xff, MP_QSTR_display >> 8,

2053 0x1e, 
MP_QSTR_£t_mode
 & 0xff, MP_QSTR_set_mode >> 8,

2055 0x24, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

2056 0x1b, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

2057 0x1e, 
MP_QSTR_g‘_»ù
 & 0xff, MP_QSTR_get_rect >> 8,

2059 0x24, 
MP_QSTR_sü“nReù
 & 0xff, MP_QSTR_screenRect >> 8,

2060 0x1b, 
MP_QSTR_sü“nReù
 & 0xff, MP_QSTR_screenRect >> 8,

2061 0x1d, 
MP_QSTR_width
 & 0xff, MP_QSTR_width >> 8,

2062 0x24, 
MP_QSTR_sü“nW
 & 0xff, MP_QSTR_screenW >> 8,

2063 0x1b, 
MP_QSTR_sü“nReù
 & 0xff, MP_QSTR_screenRect >> 8,

2064 0x1d, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

2065 0x24, 
MP_QSTR_sü“nH
 & 0xff, MP_QSTR_screenH >> 8,

2067 0x25, 
MP_QSTR_shGob
 & 0xff, MP_QSTR_shipGob >> 8,

2069 0x25, 
MP_QSTR_bombGob
 & 0xff, MP_QSTR_bombGob >> 8,

2071 0x25, 
MP_QSTR_ex¶osiÚGob
 & 0xff, MP_QSTR_explosionGob >> 8,

2073 0x25, 
MP_QSTR_ex¶osiÚGob2
 & 0xff, MP_QSTR_explosionGob2 >> 8,

2075 0x25, 
MP_QSTR_ex¶osiÚGob3
 & 0xff, MP_QSTR_explosionGob3 >> 8,

2077 0x25, 
MP_QSTR_g_rockpeGobLi¡
 & 0xff, MP_QSTR_g_rockpileGobList >> 8,

2078 0x16, 
MP_QSTR_¶ay
 & 0xff, MP_QSTR_play >> 8,

2079 0x25, 
MP_QSTR_gameMode
 & 0xff, MP_QSTR_gameMode >> 8,

2081 0x25, 
MP_QSTR_pošts
 & 0xff, MP_QSTR_points >> 8,

2083 0x24, 
MP_QSTR_g_rockPeSize
 & 0xff, MP_QSTR_g_rockPileSize >> 8,

2085 0x24, 
MP_QSTR_g_numPes
 & 0xff, MP_QSTR_g_numPiles >> 8,

2087 0x25, 
MP_QSTR_g_sh_¥“d
 & 0xff, MP_QSTR_g_ship_speed >> 8,

2089 0x25, 
MP_QSTR_g_Ëv–
 & 0xff, MP_QSTR_g_level >> 8,

2091 0x24, 
MP_QSTR_‹¡_num_pes
 & 0xff, MP_QSTR_test_num_piles >> 8,

2093 0x24, 
MP_QSTR_g_debug_mode
 & 0xff, MP_QSTR_g_debug_mode >> 8,

2099 0x1b, 
MP_QSTR_‹¡_num_pes
 & 0xff, MP_QSTR_test_num_piles >> 8,

2101 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2102 0x1d, 
MP_QSTR_rock1Surf
 & 0xff, MP_QSTR_rock1Surf >> 8,

2103 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2104 0x1d, 
MP_QSTR_rockH—d1Surf
 & 0xff, MP_QSTR_rockHead1Surf >> 8,

2105 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2106 0x1d, 
MP_QSTR_rockH—d1CŞlReù
 & 0xff, MP_QSTR_rockHead1CollRect >> 8,

2113 0x1b, 
MP_QSTR_‹¡_num_pes
 & 0xff, MP_QSTR_test_num_piles >> 8,

2115 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2116 0x1d, 
MP_QSTR_rock2Surf
 & 0xff, MP_QSTR_rock2Surf >> 8,

2117 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2118 0x1d, 
MP_QSTR_rockH—d2Surf
 & 0xff, MP_QSTR_rockHead2Surf >> 8,

2119 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2120 0x1d, 
MP_QSTR_rockH—d2CŞlReù
 & 0xff, MP_QSTR_rockHead2CollRect >> 8,

2127 0x1b, 
MP_QSTR_‹¡_num_pes
 & 0xff, MP_QSTR_test_num_piles >> 8,

2129 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2130 0x1d, 
MP_QSTR_rock3Surf
 & 0xff, MP_QSTR_rock3Surf >> 8,

2131 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2132 0x1d, 
MP_QSTR_rockH—d3Surf
 & 0xff, MP_QSTR_rockHead3Surf >> 8,

2133 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2134 0x1d, 
MP_QSTR_rockH—d3CŞlReù
 & 0xff, MP_QSTR_rockHead3CollRect >> 8,

2141 0x1b, 
MP_QSTR_‹¡_num_pes
 & 0xff, MP_QSTR_test_num_piles >> 8,

2143 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2144 0x1d, 
MP_QSTR_rock6Surf
 & 0xff, MP_QSTR_rock6Surf >> 8,

2145 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2146 0x1d, 
MP_QSTR_rockH—d6Surf
 & 0xff, MP_QSTR_rockHead6Surf >> 8,

2147 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2148 0x1d, 
MP_QSTR_rockH—d6CŞlReù
 & 0xff, MP_QSTR_rockHead6CollRect >> 8,

2155 0x1b, 
MP_QSTR_‹¡_num_pes
 & 0xff, MP_QSTR_test_num_piles >> 8,

2157 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2158 0x1d, 
MP_QSTR_rock5Surf
 & 0xff, MP_QSTR_rock5Surf >> 8,

2159 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2160 0x1d, 
MP_QSTR_rockH—d5Surf
 & 0xff, MP_QSTR_rockHead5Surf >> 8,

2161 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2162 0x1d, 
MP_QSTR_rockH—d5CŞlReù
 & 0xff, MP_QSTR_rockHead5CollRect >> 8,

2169 0x1b, 
MP_QSTR_‹¡_num_pes
 & 0xff, MP_QSTR_test_num_piles >> 8,

2171 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2172 0x1d, 
MP_QSTR_rock7Surf
 & 0xff, MP_QSTR_rock7Surf >> 8,

2173 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2174 0x1d, 
MP_QSTR_rockH—d7Surf
 & 0xff, MP_QSTR_rockHead7Surf >> 8,

2175 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2176 0x1d, 
MP_QSTR_rockH—d7CŞlReù
 & 0xff, MP_QSTR_rockHead7CollRect >> 8,

2183 0x1b, 
MP_QSTR_‹¡_num_pes
 & 0xff, MP_QSTR_test_num_piles >> 8,

2185 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2186 0x1d, 
MP_QSTR_rock4Surf
 & 0xff, MP_QSTR_rock4Surf >> 8,

2187 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2188 0x1d, 
MP_QSTR_rockH—d4Surf
 & 0xff, MP_QSTR_rockHead4Surf >> 8,

2189 0x1b, 
MP_QSTR_gamed©a
 & 0xff, MP_QSTR_gamedata >> 8,

2190 0x1d, 
MP_QSTR_rockH—d4CŞlReù
 & 0xff, MP_QSTR_rockHead4CollRect >> 8,

2193 0x24, 
MP_QSTR_g_Ëv–P¬am
 & 0xff, MP_QSTR_g_levelParam >> 8,

2194 0x1b, 
MP_QSTR_¥r™e
 & 0xff, MP_QSTR_sprite >> 8,

2195 0x1e, 
MP_QSTR_Group
 & 0xff, MP_QSTR_Group >> 8,

2197 0x24, 
MP_QSTR_®l_¥r™es
 & 0xff, MP_QSTR_all_sprites >> 8,

2198 0x1b, 
MP_QSTR_gameşass
 & 0xff, MP_QSTR_gameclass >> 8,

2199 0x1e, 
MP_QSTR_RockPeGroup
 & 0xff, MP_QSTR_RockPileGroup >> 8,

2201 0x24, 
MP_QSTR_®l_rockpes
 & 0xff, MP_QSTR_all_rockpiles >> 8,

2202 0x1b, 
MP_QSTR_gameşass
 & 0xff, MP_QSTR_gameclass >> 8,

2203 0x1e, 
MP_QSTR_GobGroup
 & 0xff, MP_QSTR_GobGroup >> 8,

2205 0x24, 
MP_QSTR_®l_gobs
 & 0xff, MP_QSTR_all_gobs >> 8,

2206 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

2207 0x1d, 
MP_QSTR_di¥Ïy
 & 0xff, MP_QSTR_display >> 8,

2208 0x1e, 
MP_QSTR_£t_·Ë‰e_16b™
 & 0xff, MP_QSTR_set_palette_16bit >> 8,

2216 0x1b, 
MP_QSTR_´št
 & 0xff, MP_QSTR_print >> 8,

2221 0x24, 
MP_QSTR_maš
 & 0xff, MP_QSTR_main >> 8,

2223 0x24, 
MP_QSTR_MašPÏy
 & 0xff, MP_QSTR_MainPlay >> 8,

2225 0x24, 
MP_QSTR_MašLev–DÚe
 & 0xff, MP_QSTR_MainLevelDone >> 8,

2227 0x24, 
MP_QSTR_MašLo¡Game
 & 0xff, MP_QSTR_MainLostGame >> 8,

2229 0x24, 
MP_QSTR_Re¡¬tLev–
 & 0xff, MP_QSTR_RestartLevel >> 8,

2231 0x24, 
MP_QSTR_HideGobAá”AnimCyşe
 & 0xff, MP_QSTR_HideGobAfterAnimCycle >> 8,

2233 0x24, 
MP_QSTR_IsS´™eCŞlided
 & 0xff, MP_QSTR_IsSpriteCollided >> 8,

2235 0x24, 
MP_QSTR_ChªgeRockPe
 & 0xff, MP_QSTR_ChangeRockPile >> 8,

2237 0x24, 
MP_QSTR_C»©eRockPeS´™es
 & 0xff, MP_QSTR_CreateRockPileSprites >> 8,

2239 0x24, 
MP_QSTR_In™S´™es
 & 0xff, MP_QSTR_InitSprites >> 8,

2241 0x24, 
MP_QSTR_D¿wPošts
 & 0xff, MP_QSTR_DrawPoints >> 8,

2242 0x1b, 
MP_QSTR_maš
 & 0xff, MP_QSTR_main >> 8,

2248 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_maš__É_moduË_gt__0
 = {{&
mp_ty³_¡r
}, 84, 23, (cÚ¡ 
by‹
*)"\x2a\x2a\x2a\x20\x73\x74\x61\x72\x74\x20\x70\x79\x74\x68\x6f\x6e\x20\x73\x63\x72\x69\x70\x74"};

2249 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_maš__É_moduË_gt__1
 = {{&
mp_ty³_¡r
}, 62, 17, (cÚ¡ 
by‹
*)"\x2a\x2a\x2a\x20\x64\x69\x73\x70\x6c\x61\x79\x20\x72\x65\x61\x64\x79"};

2250 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_maš__É_moduË_gt_
[13] = {

2251 
MP_ROM_PTR
(&
cÚ¡_obj_maš__É_moduË_gt__0
),

2252 
MP_ROM_PTR
(&
cÚ¡_obj_maš__É_moduË_gt__1
),

2253 
MP_ROM_PTR
(&
¿w_code_maš__É_moduË_gt__maš
),

2254 
MP_ROM_PTR
(&
¿w_code_maš__É_moduË_gt__MašPÏy
),

2255 
MP_ROM_PTR
(&
¿w_code_maš__É_moduË_gt__MašLev–DÚe
),

2256 
MP_ROM_PTR
(&
¿w_code_maš__É_moduË_gt__MašLo¡Game
),

2257 
MP_ROM_PTR
(&
¿w_code_maš__É_moduË_gt__Re¡¬tLev–
),

2258 
MP_ROM_PTR
(&
¿w_code_maš__É_moduË_gt__HideGobAá”AnimCyşe
),

2259 
MP_ROM_PTR
(&
¿w_code_maš__É_moduË_gt__IsS´™eCŞlided
),

2260 
MP_ROM_PTR
(&
¿w_code_maš__É_moduË_gt__ChªgeRockPe
),

2261 
MP_ROM_PTR
(&
¿w_code_maš__É_moduË_gt__C»©eRockPeS´™es
),

2262 
MP_ROM_PTR
(&
¿w_code_maš__É_moduË_gt__In™S´™es
),

2263 
MP_ROM_PTR
(&
¿w_code_maš__É_moduË_gt__D¿wPošts
),

2265 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_maš__É_moduË_gt_
 = {

2266 .
kšd
 = 
MP_CODE_BYTECODE
,

2267 .
	gscİe_æags
 = 0x00,

2268 .
	gn_pos_¬gs
 = 0,

2269 .
	gd©a
.
	gu_by‹
 = {

2270 .
by‹code
 = 
by‹code_d©a_maš__É_moduË_gt_
,

2271 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_maš__É_moduË_gt_
,

2272 #ià
MICROPY_PERSISTENT_CODE_SAVE


2273 .
	gbc_Ën
 = 694,

2274 .
	gn_obj
 = 2,

2275 .
	gn_¿w_code
 = 11,

2281 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù___š™__
[178] = {

2283 
MP_QSTR___š™__
 & 0xff, MP_QSTR___init__ >> 8,

2284 
MP_QSTR_m¬§‰ack_şas£s_dÙ_py
 & 0xff, MP_QSTR_marsattack_classes_dot_py >> 8,

2286 0x1c, 
MP_QSTR_¥r™e
 & 0xff, MP_QSTR_sprite >> 8,

2287 0x1d, 
MP_QSTR_S´™e
 & 0xff, MP_QSTR_Sprite >> 8,

2288 0x1e, 
MP_QSTR___š™__
 & 0xff, MP_QSTR___init__ >> 8,

2294 0x26, 
MP_QSTR_äames
 & 0xff, MP_QSTR_frames >> 8,

2297 0x26, 
MP_QSTR_äameOff£ts
 & 0xff, MP_QSTR_frameOffsets >> 8,

2300 0x26, 
MP_QSTR_cu¼’tF¿meNum
 & 0xff, MP_QSTR_currentFrameNum >> 8,

2302 0x1d, 
MP_QSTR_äames
 & 0xff, MP_QSTR_frames >> 8,

2304 0x1d, 
MP_QSTR_cu¼’tF¿meNum
 & 0xff, MP_QSTR_currentFrameNum >> 8,

2307 0x26, 
MP_QSTR_image
 & 0xff, MP_QSTR_image >> 8,

2310 0x26, 
MP_QSTR_ªimDur
 & 0xff, MP_QSTR_animDur >> 8,

2312 0x1d, 
MP_QSTR_ªimDur
 & 0xff, MP_QSTR_animDur >> 8,

2314 0x26, 
MP_QSTR_ªimDurCouÁ”
 & 0xff, MP_QSTR_animDurCounter >> 8,

2317 0x26, 
MP_QSTR_shouldCyşeAnim
 & 0xff, MP_QSTR_shouldCycleAnim >> 8,

2320 0x26, 
MP_QSTR_ÿÎAá”AnimCyşe
 & 0xff, MP_QSTR_callAfterAnimCycle >> 8,

2323 0x26, 
MP_QSTR_vx
 & 0xff, MP_QSTR_vx >> 8,

2326 0x26, 
MP_QSTR_vy
 & 0xff, MP_QSTR_vy >> 8,

2328 0x1d, 
MP_QSTR_äames
 & 0xff, MP_QSTR_frames >> 8,

2331 0x1e, 
MP_QSTR_g‘_»ù
 & 0xff, MP_QSTR_get_rect >> 8,

2334 0x26, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

2337 0x26, 
MP_QSTR_cŞlReù
 & 0xff, MP_QSTR_collRect >> 8,

2340 0x26, 
MP_QSTR_cŞlReù2
 & 0xff, MP_QSTR_collRect2 >> 8,

2343 0x26, 
MP_QSTR_numClÚes
 & 0xff, MP_QSTR_numClones >> 8,

2346 0x26, 
MP_QSTR_¥r™eIndex
 & 0xff, MP_QSTR_spriteIndex >> 8,

2349 0x26, 
MP_QSTR_cu¼’tCŞÜM­
 & 0xff, MP_QSTR_currentColorMap >> 8,

2352 0x26, 
MP_QSTR_di§bËAá”OutOfSü“n
 & 0xff, MP_QSTR_disableAfterOutOfScreen >> 8,

2355 0x26, 
MP_QSTR_visibË
 & 0xff, MP_QSTR_visible >> 8,

2358 0x26, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

2361 0x26, 
MP_QSTR_sü“nW
 & 0xff, MP_QSTR_screenW >> 8,

2364 0x26, 
MP_QSTR_sü“nH
 & 0xff, MP_QSTR_screenH >> 8,

2368 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù___š™__
[6] = {

2369 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

2370 
MP_ROM_QSTR
(
MP_QSTR_surçûs
),

2371 
MP_ROM_QSTR
(
MP_QSTR_äameOff£ts
),

2372 
MP_ROM_QSTR
(
MP_QSTR_sü“n
),

2373 
MP_ROM_QSTR
(
MP_QSTR_sü“nW
),

2374 
MP_ROM_QSTR
(
MP_QSTR_sü“nH
),

2376 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù___š™__
 = {

2377 .
kšd
 = 
MP_CODE_BYTECODE
,

2378 .
	gscİe_æags
 = 0x00,

2379 .
	gn_pos_¬gs
 = 6,

2380 .
	gd©a
.
	gu_by‹
 = {

2381 .
by‹code
 = 
by‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù___š™__
,

2382 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù___š™__
,

2383 #ià
MICROPY_PERSISTENT_CODE_SAVE


2384 .
	gbc_Ën
 = 178,

2385 .
	gn_obj
 = 0,

2386 .
	gn_¿w_code
 = 0,

2392 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_»move_š‹º®
[56] = {

2394 
MP_QSTR_»move_š‹º®
 & 0xff, MP_QSTR_remove_internal >> 8,

2395 
MP_QSTR_m¬§‰ack_şas£s_dÙ_py
 & 0xff, MP_QSTR_marsattack_classes_dot_py >> 8,

2398 0x1d, 
MP_QSTR_¥r™eIndex
 & 0xff, MP_QSTR_spriteIndex >> 8,

2403 0x1d, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

2404 0x1e, 
MP_QSTR_£tHwS´™e
 & 0xff, MP_QSTR_setHwSprite >> 8,

2408 0x1d, 
MP_QSTR_¥r™eIndex
 & 0xff, MP_QSTR_spriteIndex >> 8,

2415 0x1d, 
MP_QSTR___g
 & 0xff, MP_QSTR___g >> 8,

2423 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_»move_š‹º®
[2] = {

2424 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

2425 
MP_ROM_QSTR
(
MP_QSTR_group
),

2427 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_»move_š‹º®
 = {

2428 .
kšd
 = 
MP_CODE_BYTECODE
,

2429 .
	gscİe_æags
 = 0x00,

2430 .
	gn_pos_¬gs
 = 2,

2431 .
	gd©a
.
	gu_by‹
 = {

2432 .
by‹code
 = 
by‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_»move_š‹º®
,

2433 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_»move_š‹º®
,

2434 #ià
MICROPY_PERSISTENT_CODE_SAVE


2435 .
	gbc_Ën
 = 56,

2436 .
	gn_obj
 = 0,

2437 .
	gn_¿w_code
 = 0,

2443 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_£tS´™e
[81] = {

2445 
MP_QSTR_£tS´™e
 & 0xff, MP_QSTR_setSprite >> 8,

2446 
MP_QSTR_m¬§‰ack_şas£s_dÙ_py
 & 0xff, MP_QSTR_marsattack_classes_dot_py >> 8,

2450 0x26, 
MP_QSTR_¥r™eIndex
 & 0xff, MP_QSTR_spriteIndex >> 8,

2453 0x26, 
MP_QSTR_cŞÜM­s
 & 0xff, MP_QSTR_colorMaps >> 8,

2455 0x1d, 
MP_QSTR_cŞÜM­s
 & 0xff, MP_QSTR_colorMaps >> 8,

2457 0x1d, 
MP_QSTR_cu¼’tF¿meNum
 & 0xff, MP_QSTR_currentFrameNum >> 8,

2460 0x26, 
MP_QSTR_cu¼’tCŞÜM­
 & 0xff, MP_QSTR_currentColorMap >> 8,

2462 0x1d, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

2463 0x1e, 
MP_QSTR_£tHwS´™e
 & 0xff, MP_QSTR_setHwSprite >> 8,

2465 0x1d, 
MP_QSTR_image
 & 0xff, MP_QSTR_image >> 8,

2467 0x1d, 
MP_QSTR_cu¼’tCŞÜM­
 & 0xff, MP_QSTR_currentColorMap >> 8,

2469 0x1d, 
MP_QSTR_¥r™eIndex
 & 0xff, MP_QSTR_spriteIndex >> 8,

2471 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

2472 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

2474 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

2475 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

2482 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_£tS´™e
[3] = {

2483 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

2484 
MP_ROM_QSTR
(
MP_QSTR_¥r™eIndex
),

2485 
MP_ROM_QSTR
(
MP_QSTR_cŞÜM­s
),

2487 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_£tS´™e
 = {

2488 .
kšd
 = 
MP_CODE_BYTECODE
,

2489 .
	gscİe_æags
 = 0x00,

2490 .
	gn_pos_¬gs
 = 3,

2491 .
	gd©a
.
	gu_by‹
 = {

2492 .
by‹code
 = 
by‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_£tS´™e
,

2493 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_£tS´™e
,

2494 #ià
MICROPY_PERSISTENT_CODE_SAVE


2495 .
	gbc_Ën
 = 81,

2496 .
	gn_obj
 = 0,

2497 .
	gn_¿w_code
 = 0,

2503 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_£tS´™eF¿me
[83] = {

2505 
MP_QSTR_£tS´™eF¿me
 & 0xff, MP_QSTR_setSpriteFrame >> 8,

2506 
MP_QSTR_m¬§‰ack_şas£s_dÙ_py
 & 0xff, MP_QSTR_marsattack_classes_dot_py >> 8,

2509 0x1d, 
MP_QSTR_äames
 & 0xff, MP_QSTR_frames >> 8,

2511 0x1d, 
MP_QSTR_cu¼’tF¿meNum
 & 0xff, MP_QSTR_currentFrameNum >> 8,

2514 0x26, 
MP_QSTR_image
 & 0xff, MP_QSTR_image >> 8,

2516 0x1d, 
MP_QSTR_cŞÜM­s
 & 0xff, MP_QSTR_colorMaps >> 8,

2518 0x1d, 
MP_QSTR_cu¼’tF¿meNum
 & 0xff, MP_QSTR_currentFrameNum >> 8,

2521 0x26, 
MP_QSTR_cu¼’tCŞÜM­
 & 0xff, MP_QSTR_currentColorMap >> 8,

2523 0x1d, 
MP_QSTR_sü“n
 & 0xff, MP_QSTR_screen >> 8,

2524 0x1e, 
MP_QSTR_£tHwS´™e
 & 0xff, MP_QSTR_setHwSprite >> 8,

2526 0x1d, 
MP_QSTR_image
 & 0xff, MP_QSTR_image >> 8,

2528 0x1d, 
MP_QSTR_cu¼’tCŞÜM­
 & 0xff, MP_QSTR_currentColorMap >> 8,

2530 0x1d, 
MP_QSTR_¥r™eIndex
 & 0xff, MP_QSTR_spriteIndex >> 8,

2532 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

2533 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

2535 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

2536 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

2543 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_£tS´™eF¿me
[1] = {

2544 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

2546 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_£tS´™eF¿me
 = {

2547 .
kšd
 = 
MP_CODE_BYTECODE
,

2548 .
	gscİe_æags
 = 0x00,

2549 .
	gn_pos_¬gs
 = 1,

2550 .
	gd©a
.
	gu_by‹
 = {

2551 .
by‹code
 = 
by‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_£tS´™eF¿me
,

2552 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_£tS´™eF¿me
,

2553 #ià
MICROPY_PERSISTENT_CODE_SAVE


2554 .
	gbc_Ën
 = 83,

2555 .
	gn_obj
 = 0,

2556 .
	gn_¿w_code
 = 0,

2562 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_£tv–
[29] = {

2564 
MP_QSTR_£tv–
 & 0xff, MP_QSTR_setvel >> 8,

2565 
MP_QSTR_m¬§‰ack_şas£s_dÙ_py
 & 0xff, MP_QSTR_marsattack_classes_dot_py >> 8,

2569 0x26, 
MP_QSTR_vx
 & 0xff, MP_QSTR_vx >> 8,

2572 0x26, 
MP_QSTR_vy
 & 0xff, MP_QSTR_vy >> 8,

2576 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_£tv–
[3] = {

2577 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

2578 
MP_ROM_QSTR
(
MP_QSTR_vx
),

2579 
MP_ROM_QSTR
(
MP_QSTR_vy
),

2581 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_£tv–
 = {

2582 .
kšd
 = 
MP_CODE_BYTECODE
,

2583 .
	gscİe_æags
 = 0x00,

2584 .
	gn_pos_¬gs
 = 3,

2585 .
	gd©a
.
	gu_by‹
 = {

2586 .
by‹code
 = 
by‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_£tv–
,

2587 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_£tv–
,

2588 #ià
MICROPY_PERSISTENT_CODE_SAVE


2589 .
	gbc_Ën
 = 29,

2590 .
	gn_obj
 = 0,

2591 .
	gn_¿w_code
 = 0,

2597 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_upd©e
[316] = {

2599 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

2600 
MP_QSTR_m¬§‰ack_şas£s_dÙ_py
 & 0xff, MP_QSTR_marsattack_classes_dot_py >> 8,

2603 0x1d, 
MP_QSTR_visibË
 & 0xff, MP_QSTR_visible >> 8,

2606 0x1d, 
MP_QSTR_ªimDur
 & 0xff, MP_QSTR_animDur >> 8,

2611 0x1d, 
MP_QSTR_ªimDurCouÁ”
 & 0xff, MP_QSTR_animDurCounter >> 8,

2616 0x1d, 
MP_QSTR_cu¼’tF¿meNum
 & 0xff, MP_QSTR_currentFrameNum >> 8,

2619 0x1d, 
MP_QSTR_cu¼’tF¿meNum
 & 0xff, MP_QSTR_currentFrameNum >> 8,

2622 0x1c, 
MP_QSTR_Ën
 & 0xff, MP_QSTR_len >> 8,

2624 0x1d, 
MP_QSTR_äames
 & 0xff, MP_QSTR_frames >> 8,

2630 0x1d, 
MP_QSTR_cu¼’tF¿meNum
 & 0xff, MP_QSTR_currentFrameNum >> 8,

2634 0x26, 
MP_QSTR_cu¼’tF¿meNum
 & 0xff, MP_QSTR_currentFrameNum >> 8,

2637 0x1d, 
MP_QSTR_ÿÎAá”AnimCyşe
 & 0xff, MP_QSTR_callAfterAnimCycle >> 8,

2640 0x1e, 
MP_QSTR_ÿÎAá”AnimCyşe
 & 0xff, MP_QSTR_callAfterAnimCycle >> 8,

2645 0x1d, 
MP_QSTR_shouldCyşeAnim
 & 0xff, MP_QSTR_shouldCycleAnim >> 8,

2649 0x26, 
MP_QSTR_cu¼’tF¿meNum
 & 0xff, MP_QSTR_currentFrameNum >> 8,

2653 0x26, 
MP_QSTR_ªimDur
 & 0xff, MP_QSTR_animDur >> 8,

2656 0x1d, 
MP_QSTR_cu¼’tF¿meNum
 & 0xff, MP_QSTR_currentFrameNum >> 8,

2660 0x1d, 
MP_QSTR_ªimDur
 & 0xff, MP_QSTR_animDur >> 8,

2662 0x26, 
MP_QSTR_ªimDurCouÁ”
 & 0xff, MP_QSTR_animDurCounter >> 8,

2664 0x1d, 
MP_QSTR_äames
 & 0xff, MP_QSTR_frames >> 8,

2666 0x1d, 
MP_QSTR_cu¼’tF¿meNum
 & 0xff, MP_QSTR_currentFrameNum >> 8,

2669 0x26, 
MP_QSTR_image
 & 0xff, MP_QSTR_image >> 8,

2671 0x1d, 
MP_QSTR_¥r™eIndex
 & 0xff, MP_QSTR_spriteIndex >> 8,

2676 0x1e, 
MP_QSTR_£tS´™eF¿me
 & 0xff, MP_QSTR_setSpriteFrame >> 8,

2682 0x1d, 
MP_QSTR_ªimDurCouÁ”
 & 0xff, MP_QSTR_animDurCounter >> 8,

2686 0x26, 
MP_QSTR_ªimDurCouÁ”
 & 0xff, MP_QSTR_animDurCounter >> 8,

2688 0x1d, 
MP_QSTR_di§bËAá”OutOfSü“n
 & 0xff, MP_QSTR_disableAfterOutOfScreen >> 8,

2691 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

2692 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

2694 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

2695 0x1d, 
MP_QSTR_width
 & 0xff, MP_QSTR_width >> 8,

2700 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

2701 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

2703 0x1d, 
MP_QSTR_sü“nW
 & 0xff, MP_QSTR_screenW >> 8,

2707 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

2708 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

2710 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

2711 0x1d, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

2716 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

2717 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

2719 0x1d, 
MP_QSTR_sü“nH
 & 0xff, MP_QSTR_screenH >> 8,

2724 0x26, 
MP_QSTR_visibË
 & 0xff, MP_QSTR_visible >> 8,

2726 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

2728 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

2730 0x1d, 
MP_QSTR_vx
 & 0xff, MP_QSTR_vx >> 8,

2733 0x26, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

2735 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

2737 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

2739 0x1d, 
MP_QSTR_vy
 & 0xff, MP_QSTR_vy >> 8,

2742 0x26, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

2746 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_upd©e
[1] = {

2747 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

2749 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_upd©e
 = {

2750 .
kšd
 = 
MP_CODE_BYTECODE
,

2751 .
	gscİe_æags
 = 0x00,

2752 .
	gn_pos_¬gs
 = 1,

2753 .
	gd©a
.
	gu_by‹
 = {

2754 .
by‹code
 = 
by‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_upd©e
,

2755 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_upd©e
,

2756 #ià
MICROPY_PERSISTENT_CODE_SAVE


2757 .
	gbc_Ën
 = 316,

2758 .
	gn_obj
 = 0,

2759 .
	gn_¿w_code
 = 0,

2765 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù
[70] = {

2767 
MP_QSTR_GameObjeù
 & 0xff, MP_QSTR_GameObject >> 8,

2768 
MP_QSTR_m¬§‰ack_şas£s_dÙ_py
 & 0xff, MP_QSTR_marsattack_classes_dot_py >> 8,

2770 0x1b, 
MP_QSTR___Çme__
 & 0xff, MP_QSTR___name__ >> 8,

2771 0x24, 
MP_QSTR___moduË__
 & 0xff, MP_QSTR___module__ >> 8,

2772 0x16, 
MP_QSTR_GameObjeù
 & 0xff, MP_QSTR_GameObject >> 8,

2773 0x24, 
MP_QSTR___qu®Çme__
 & 0xff, MP_QSTR___qualname__ >> 8,

2775 0x24, 
MP_QSTR___š™__
 & 0xff, MP_QSTR___init__ >> 8,

2777 0x24, 
MP_QSTR_»move_š‹º®
 & 0xff, MP_QSTR_remove_internal >> 8,

2779 0x24, 
MP_QSTR_£tS´™e
 & 0xff, MP_QSTR_setSprite >> 8,

2781 0x24, 
MP_QSTR_£tS´™eF¿me
 & 0xff, MP_QSTR_setSpriteFrame >> 8,

2783 0x24, 
MP_QSTR_£tv–
 & 0xff, MP_QSTR_setvel >> 8,

2785 0x24, 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

2789 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù
[6] = {

2790 
MP_ROM_PTR
(&
¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù___š™__
),

2791 
MP_ROM_PTR
(&
¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_»move_š‹º®
),

2792 
MP_ROM_PTR
(&
¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_£tS´™e
),

2793 
MP_ROM_PTR
(&
¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_£tS´™eF¿me
),

2794 
MP_ROM_PTR
(&
¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_£tv–
),

2795 
MP_ROM_PTR
(&
¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù_upd©e
),

2797 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù
 = {

2798 .
kšd
 = 
MP_CODE_BYTECODE
,

2799 .
	gscİe_æags
 = 0x00,

2800 .
	gn_pos_¬gs
 = 0,

2801 .
	gd©a
.
	gu_by‹
 = {

2802 .
by‹code
 = 
by‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù
,

2803 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù
,

2804 #ià
MICROPY_PERSISTENT_CODE_SAVE


2805 .
	gbc_Ën
 = 70,

2806 .
	gn_obj
 = 0,

2807 .
	gn_¿w_code
 = 6,

2813 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GobGroup___š™__
[32] = {

2815 
MP_QSTR___š™__
 & 0xff, MP_QSTR___init__ >> 8,

2816 
MP_QSTR_m¬§‰ack_şas£s_dÙ_py
 & 0xff, MP_QSTR_marsattack_classes_dot_py >> 8,

2818 0x1c, 
MP_QSTR_¥r™e
 & 0xff, MP_QSTR_sprite >> 8,

2819 0x1d, 
MP_QSTR_Group
 & 0xff, MP_QSTR_Group >> 8,

2820 0x1e, 
MP_QSTR___š™__
 & 0xff, MP_QSTR___init__ >> 8,

2828 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GobGroup___š™__
[1] = {

2829 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

2831 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GobGroup___š™__
 = {

2832 .
kšd
 = 
MP_CODE_BYTECODE
,

2833 .
	gscİe_æags
 = 0x01,

2834 .
	gn_pos_¬gs
 = 1,

2835 .
	gd©a
.
	gu_by‹
 = {

2836 .
by‹code
 = 
by‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GobGroup___š™__
,

2837 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GobGroup___š™__
,

2838 #ià
MICROPY_PERSISTENT_CODE_SAVE


2839 .
	gbc_Ën
 = 32,

2840 .
	gn_obj
 = 0,

2841 .
	gn_¿w_code
 = 0,

2847 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GobGroup_d¿w
[137] = {

2849 
MP_QSTR_d¿w
 & 0xff, MP_QSTR_draw >> 8,

2850 
MP_QSTR_m¬§‰ack_şas£s_dÙ_py
 & 0xff, MP_QSTR_marsattack_classes_dot_py >> 8,

2853 0x1e, 
MP_QSTR_¥r™es
 & 0xff, MP_QSTR_sprites >> 8,

2857 0x1d, 
MP_QSTR_bl™
 & 0xff, MP_QSTR_blit >> 8,

2860 0x1d, 
MP_QSTR_£tHwS´™ePos
 & 0xff, MP_QSTR_setHwSpritePos >> 8,

2867 0x1d, 
MP_QSTR_visibË
 & 0xff, MP_QSTR_visible >> 8,

2870 0x1d, 
MP_QSTR_¥r™eIndex
 & 0xff, MP_QSTR_spriteIndex >> 8,

2876 0x1d, 
MP_QSTR_image
 & 0xff, MP_QSTR_image >> 8,

2878 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

2879 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

2881 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

2882 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

2885 0x1d, 
MP_QSTR_¥r™ediù
 & 0xff, MP_QSTR_spritedict >> 8,

2890 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

2892 0x1d, 
MP_QSTR_¥r™ediù
 & 0xff, MP_QSTR_spritedict >> 8,

2897 0x1d, 
MP_QSTR_¥r™eIndex
 & 0xff, MP_QSTR_spriteIndex >> 8,

2899 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

2900 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

2902 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

2903 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

2909 0x26, 
MP_QSTR_lo¡¥r™es
 & 0xff, MP_QSTR_lostsprites >> 8,

2913 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GobGroup_d¿w
[2] = {

2914 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

2915 
MP_ROM_QSTR
(
MP_QSTR_surçû
),

2917 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GobGroup_d¿w
 = {

2918 .
kšd
 = 
MP_CODE_BYTECODE
,

2919 .
	gscİe_æags
 = 0x00,

2920 .
	gn_pos_¬gs
 = 2,

2921 .
	gd©a
.
	gu_by‹
 = {

2922 .
by‹code
 = 
by‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GobGroup_d¿w
,

2923 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GobGroup_d¿w
,

2924 #ià
MICROPY_PERSISTENT_CODE_SAVE


2925 .
	gbc_Ën
 = 137,

2926 .
	gn_obj
 = 0,

2927 .
	gn_¿w_code
 = 0,

2933 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GobGroup
[42] = {

2935 
MP_QSTR_GobGroup
 & 0xff, MP_QSTR_GobGroup >> 8,

2936 
MP_QSTR_m¬§‰ack_şas£s_dÙ_py
 & 0xff, MP_QSTR_marsattack_classes_dot_py >> 8,

2938 0x1b, 
MP_QSTR___Çme__
 & 0xff, MP_QSTR___name__ >> 8,

2939 0x24, 
MP_QSTR___moduË__
 & 0xff, MP_QSTR___module__ >> 8,

2940 0x16, 
MP_QSTR_GobGroup
 & 0xff, MP_QSTR_GobGroup >> 8,

2941 0x24, 
MP_QSTR___qu®Çme__
 & 0xff, MP_QSTR___qualname__ >> 8,

2943 0x24, 
MP_QSTR___š™__
 & 0xff, MP_QSTR___init__ >> 8,

2945 0x24, 
MP_QSTR_d¿w
 & 0xff, MP_QSTR_draw >> 8,

2949 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GobGroup
[2] = {

2950 
MP_ROM_PTR
(&
¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GobGroup___š™__
),

2951 
MP_ROM_PTR
(&
¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GobGroup_d¿w
),

2953 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GobGroup
 = {

2954 .
kšd
 = 
MP_CODE_BYTECODE
,

2955 .
	gscİe_æags
 = 0x00,

2956 .
	gn_pos_¬gs
 = 0,

2957 .
	gd©a
.
	gu_by‹
 = {

2958 .
by‹code
 = 
by‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__GobGroup
,

2959 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__GobGroup
,

2960 #ià
MICROPY_PERSISTENT_CODE_SAVE


2961 .
	gbc_Ën
 = 42,

2962 .
	gn_obj
 = 0,

2963 .
	gn_¿w_code
 = 2,

2969 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__RockPeGroup___š™__
[32] = {

2971 
MP_QSTR___š™__
 & 0xff, MP_QSTR___init__ >> 8,

2972 
MP_QSTR_m¬§‰ack_şas£s_dÙ_py
 & 0xff, MP_QSTR_marsattack_classes_dot_py >> 8,

2974 0x1c, 
MP_QSTR_¥r™e
 & 0xff, MP_QSTR_sprite >> 8,

2975 0x1d, 
MP_QSTR_Group
 & 0xff, MP_QSTR_Group >> 8,

2976 0x1e, 
MP_QSTR___š™__
 & 0xff, MP_QSTR___init__ >> 8,

2984 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__RockPeGroup___š™__
[1] = {

2985 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

2987 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_m¬§‰ack_şas£s__É_moduË_gt__RockPeGroup___š™__
 = {

2988 .
kšd
 = 
MP_CODE_BYTECODE
,

2989 .
	gscİe_æags
 = 0x01,

2990 .
	gn_pos_¬gs
 = 1,

2991 .
	gd©a
.
	gu_by‹
 = {

2992 .
by‹code
 = 
by‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__RockPeGroup___š™__
,

2993 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__RockPeGroup___š™__
,

2994 #ià
MICROPY_PERSISTENT_CODE_SAVE


2995 .
	gbc_Ën
 = 32,

2996 .
	gn_obj
 = 0,

2997 .
	gn_¿w_code
 = 0,

3003 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__RockPeGroup_d¿w
[159] = {

3005 
MP_QSTR_d¿w
 & 0xff, MP_QSTR_draw >> 8,

3006 
MP_QSTR_m¬§‰ack_şas£s_dÙ_py
 & 0xff, MP_QSTR_marsattack_classes_dot_py >> 8,

3009 0x1e, 
MP_QSTR_¥r™es
 & 0xff, MP_QSTR_sprites >> 8,

3013 0x1d, 
MP_QSTR_bl™
 & 0xff, MP_QSTR_blit >> 8,

3020 0x1d, 
MP_QSTR_visibË
 & 0xff, MP_QSTR_visible >> 8,

3023 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

3024 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

3028 0x1d, 
MP_QSTR_image
 & 0xff, MP_QSTR_image >> 8,

3030 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

3031 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

3035 0x1d, 
MP_QSTR_¥r™ediù
 & 0xff, MP_QSTR_spritedict >> 8,

3040 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

3041 0x1d, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

3045 0x1d, 
MP_QSTR_äames
 & 0xff, MP_QSTR_frames >> 8,

3050 0x1e, 
MP_QSTR_g‘_»ù
 & 0xff, MP_QSTR_get_rect >> 8,

3052 0x1d, 
MP_QSTR_height
 & 0xff, MP_QSTR_height >> 8,

3055 0x1d, 
MP_QSTR_numClÚes
 & 0xff, MP_QSTR_numClones >> 8,

3065 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

3066 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

3085 0x26, 
MP_QSTR_lo¡¥r™es
 & 0xff, MP_QSTR_lostsprites >> 8,

3089 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__RockPeGroup_d¿w
[2] = {

3090 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

3091 
MP_ROM_QSTR
(
MP_QSTR_surçû
),

3093 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_m¬§‰ack_şas£s__É_moduË_gt__RockPeGroup_d¿w
 = {

3094 .
kšd
 = 
MP_CODE_BYTECODE
,

3095 .
	gscİe_æags
 = 0x00,

3096 .
	gn_pos_¬gs
 = 2,

3097 .
	gd©a
.
	gu_by‹
 = {

3098 .
by‹code
 = 
by‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__RockPeGroup_d¿w
,

3099 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__RockPeGroup_d¿w
,

3100 #ià
MICROPY_PERSISTENT_CODE_SAVE


3101 .
	gbc_Ën
 = 159,

3102 .
	gn_obj
 = 0,

3103 .
	gn_¿w_code
 = 0,

3109 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__RockPeGroup
[42] = {

3111 
MP_QSTR_RockPeGroup
 & 0xff, MP_QSTR_RockPileGroup >> 8,

3112 
MP_QSTR_m¬§‰ack_şas£s_dÙ_py
 & 0xff, MP_QSTR_marsattack_classes_dot_py >> 8,

3114 0x1b, 
MP_QSTR___Çme__
 & 0xff, MP_QSTR___name__ >> 8,

3115 0x24, 
MP_QSTR___moduË__
 & 0xff, MP_QSTR___module__ >> 8,

3116 0x16, 
MP_QSTR_RockPeGroup
 & 0xff, MP_QSTR_RockPileGroup >> 8,

3117 0x24, 
MP_QSTR___qu®Çme__
 & 0xff, MP_QSTR___qualname__ >> 8,

3119 0x24, 
MP_QSTR___š™__
 & 0xff, MP_QSTR___init__ >> 8,

3121 0x24, 
MP_QSTR_d¿w
 & 0xff, MP_QSTR_draw >> 8,

3125 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__RockPeGroup
[2] = {

3126 
MP_ROM_PTR
(&
¿w_code_m¬§‰ack_şas£s__É_moduË_gt__RockPeGroup___š™__
),

3127 
MP_ROM_PTR
(&
¿w_code_m¬§‰ack_şas£s__É_moduË_gt__RockPeGroup_d¿w
),

3129 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_m¬§‰ack_şas£s__É_moduË_gt__RockPeGroup
 = {

3130 .
kšd
 = 
MP_CODE_BYTECODE
,

3131 .
	gscİe_æags
 = 0x00,

3132 .
	gn_pos_¬gs
 = 0,

3133 .
	gd©a
.
	gu_by‹
 = {

3134 .
by‹code
 = 
by‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt__RockPeGroup
,

3135 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt__RockPeGroup
,

3136 #ià
MICROPY_PERSISTENT_CODE_SAVE


3137 .
	gbc_Ën
 = 42,

3138 .
	gn_obj
 = 0,

3139 .
	gn_¿w_code
 = 2,

3145 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt_
[100] = {

3147 
MP_QSTR__É_moduË_gt_
 & 0xff, MP_QSTR__lt_module_gt_ >> 8,

3148 
MP_QSTR_m¬§‰ack_şas£s_dÙ_py
 & 0xff, MP_QSTR_marsattack_classes_dot_py >> 8,

3152 0x68, 
MP_QSTR_upygame
 & 0xff, MP_QSTR_upygame >> 8,

3153 0x24, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3156 0x68, 
MP_QSTR_u¿ndom
 & 0xff, MP_QSTR_urandom >> 8,

3157 0x24, 
MP_QSTR_¿ndom
 & 0xff, MP_QSTR_random >> 8,

3160 0x68, 
MP_QSTR_¥r™e
 & 0xff, MP_QSTR_sprite >> 8,

3161 0x24, 
MP_QSTR_¥r™e
 & 0xff, MP_QSTR_sprite >> 8,

3164 0x16, 
MP_QSTR_GameObjeù
 & 0xff, MP_QSTR_GameObject >> 8,

3165 0x1b, 
MP_QSTR_¥r™e
 & 0xff, MP_QSTR_sprite >> 8,

3166 0x1d, 
MP_QSTR_S´™e
 & 0xff, MP_QSTR_Sprite >> 8,

3168 0x24, 
MP_QSTR_GameObjeù
 & 0xff, MP_QSTR_GameObject >> 8,

3171 0x16, 
MP_QSTR_GobGroup
 & 0xff, MP_QSTR_GobGroup >> 8,

3172 0x1b, 
MP_QSTR_¥r™e
 & 0xff, MP_QSTR_sprite >> 8,

3173 0x1d, 
MP_QSTR_Group
 & 0xff, MP_QSTR_Group >> 8,

3175 0x24, 
MP_QSTR_GobGroup
 & 0xff, MP_QSTR_GobGroup >> 8,

3178 0x16, 
MP_QSTR_RockPeGroup
 & 0xff, MP_QSTR_RockPileGroup >> 8,

3179 0x1b, 
MP_QSTR_¥r™e
 & 0xff, MP_QSTR_sprite >> 8,

3180 0x1d, 
MP_QSTR_Group
 & 0xff, MP_QSTR_Group >> 8,

3182 0x24, 
MP_QSTR_RockPeGroup
 & 0xff, MP_QSTR_RockPileGroup >> 8,

3186 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt_
[3] = {

3187 
MP_ROM_PTR
(&
¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GameObjeù
),

3188 
MP_ROM_PTR
(&
¿w_code_m¬§‰ack_şas£s__É_moduË_gt__GobGroup
),

3189 
MP_ROM_PTR
(&
¿w_code_m¬§‰ack_şas£s__É_moduË_gt__RockPeGroup
),

3191 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_m¬§‰ack_şas£s__É_moduË_gt_
 = {

3192 .
kšd
 = 
MP_CODE_BYTECODE
,

3193 .
	gscİe_æags
 = 0x00,

3194 .
	gn_pos_¬gs
 = 0,

3195 .
	gd©a
.
	gu_by‹
 = {

3196 .
by‹code
 = 
by‹code_d©a_m¬§‰ack_şas£s__É_moduË_gt_
,

3197 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_m¬§‰ack_şas£s__É_moduË_gt_
,

3198 #ià
MICROPY_PERSISTENT_CODE_SAVE


3199 .
	gbc_Ën
 = 100,

3200 .
	gn_obj
 = 0,

3201 .
	gn_¿w_code
 = 3,

3207 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_m¬§‰ack_d©a__É_moduË_gt__CÚvSŒTo4b™Pix–A¼ay
[100] = {

3209 
MP_QSTR_CÚvSŒTo4b™Pix–A¼ay
 & 0xff, MP_QSTR_ConvStrTo4bitPixelArray >> 8,

3210 
MP_QSTR_m¬§‰ack_d©a_dÙ_py
 & 0xff, MP_QSTR_marsattack_data_dot_py >> 8,

3224 0x16, 
MP_QSTR_0x
 & 0xff, MP_QSTR_0x >> 8,

3248 0x1c, 
MP_QSTR_št
 & 0xff, MP_QSTR_int >> 8,

3254 0x1e, 
MP_QSTR_­³nd
 & 0xff, MP_QSTR_append >> 8,

3277 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_m¬§‰ack_d©a__É_moduË_gt__CÚvSŒTo4b™Pix–A¼ay
[4] = {

3278 
MP_ROM_QSTR
(
MP_QSTR_w
),

3279 
MP_ROM_QSTR
(
MP_QSTR_h
),

3280 
MP_ROM_QSTR
(
MP_QSTR_¡rA¼ay
),

3281 
MP_ROM_QSTR
(
MP_QSTR_numA¼ay
),

3283 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_m¬§‰ack_d©a__É_moduË_gt__CÚvSŒTo4b™Pix–A¼ay
 = {

3284 .
kšd
 = 
MP_CODE_BYTECODE
,

3285 .
	gscİe_æags
 = 0x00,

3286 .
	gn_pos_¬gs
 = 4,

3287 .
	gd©a
.
	gu_by‹
 = {

3288 .
by‹code
 = 
by‹code_d©a_m¬§‰ack_d©a__É_moduË_gt__CÚvSŒTo4b™Pix–A¼ay
,

3289 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_m¬§‰ack_d©a__É_moduË_gt__CÚvSŒTo4b™Pix–A¼ay
,

3290 #ià
MICROPY_PERSISTENT_CODE_SAVE


3291 .
	gbc_Ën
 = 100,

3292 .
	gn_obj
 = 0,

3293 .
	gn_¿w_code
 = 0,

3299 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_m¬§‰ack_d©a__É_moduË_gt__CÚvSŒTo2b™Pix–A¼ay
[149] = {

3301 
MP_QSTR_CÚvSŒTo2b™Pix–A¼ay
 & 0xff, MP_QSTR_ConvStrTo2bitPixelArray >> 8,

3302 
MP_QSTR_m¬§‰ack_d©a_dÙ_py
 & 0xff, MP_QSTR_marsattack_data_dot_py >> 8,

3316 0x1c, 
MP_QSTR_št
 & 0xff, MP_QSTR_int >> 8,

3328 0x1c, 
MP_QSTR_št
 & 0xff, MP_QSTR_int >> 8,

3342 0x1c, 
MP_QSTR_št
 & 0xff, MP_QSTR_int >> 8,

3356 0x1c, 
MP_QSTR_št
 & 0xff, MP_QSTR_int >> 8,

3385 0x1e, 
MP_QSTR_­³nd
 & 0xff, MP_QSTR_append >> 8,

3408 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_m¬§‰ack_d©a__É_moduË_gt__CÚvSŒTo2b™Pix–A¼ay
[4] = {

3409 
MP_ROM_QSTR
(
MP_QSTR_w
),

3410 
MP_ROM_QSTR
(
MP_QSTR_h
),

3411 
MP_ROM_QSTR
(
MP_QSTR_¡rA¼ay
),

3412 
MP_ROM_QSTR
(
MP_QSTR_numA¼ay
),

3414 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_m¬§‰ack_d©a__É_moduË_gt__CÚvSŒTo2b™Pix–A¼ay
 = {

3415 .
kšd
 = 
MP_CODE_BYTECODE
,

3416 .
	gscİe_æags
 = 0x00,

3417 .
	gn_pos_¬gs
 = 4,

3418 .
	gd©a
.
	gu_by‹
 = {

3419 .
by‹code
 = 
by‹code_d©a_m¬§‰ack_d©a__É_moduË_gt__CÚvSŒTo2b™Pix–A¼ay
,

3420 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_m¬§‰ack_d©a__É_moduË_gt__CÚvSŒTo2b™Pix–A¼ay
,

3421 #ià
MICROPY_PERSISTENT_CODE_SAVE


3422 .
	gbc_Ën
 = 149,

3423 .
	gn_obj
 = 0,

3424 .
	gn_¿w_code
 = 0,

3430 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_m¬§‰ack_d©a__É_moduË_gt_
[722] = {

3432 
MP_QSTR__É_moduË_gt_
 & 0xff, MP_QSTR__lt_module_gt_ >> 8,

3433 
MP_QSTR_m¬§‰ack_d©a_dÙ_py
 & 0xff, MP_QSTR_marsattack_data_dot_py >> 8,

3437 0x68, 
MP_QSTR_upygame
 & 0xff, MP_QSTR_upygame >> 8,

3438 0x24, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3440 0x24, 
MP_QSTR_CÚvSŒTo4b™Pix–A¼ay
 & 0xff, MP_QSTR_ConvStrTo4bitPixelArray >> 8,

3442 0x24, 
MP_QSTR_CÚvSŒTo2b™Pix–A¼ay
 & 0xff, MP_QSTR_ConvStrTo2bitPixelArray >> 8,

3443 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3444 0x1e, 
MP_QSTR_Reù
 & 0xff, MP_QSTR_Rect >> 8,

3450 0x24, 
MP_QSTR_rockH—d1CŞlReù
 & 0xff, MP_QSTR_rockHead1CollRect >> 8,

3451 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3452 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3453 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3458 0x24, 
MP_QSTR_rockH—d1Surf
 & 0xff, MP_QSTR_rockHead1Surf >> 8,

3459 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3460 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3461 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3466 0x24, 
MP_QSTR_rock1Surf
 & 0xff, MP_QSTR_rock1Surf >> 8,

3467 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3468 0x1e, 
MP_QSTR_Reù
 & 0xff, MP_QSTR_Rect >> 8,

3474 0x24, 
MP_QSTR_rockH—d2CŞlReù
 & 0xff, MP_QSTR_rockHead2CollRect >> 8,

3475 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3476 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3477 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3482 0x24, 
MP_QSTR_rockH—d2Surf
 & 0xff, MP_QSTR_rockHead2Surf >> 8,

3483 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3484 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3485 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3490 0x24, 
MP_QSTR_rock2Surf
 & 0xff, MP_QSTR_rock2Surf >> 8,

3491 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3492 0x1e, 
MP_QSTR_Reù
 & 0xff, MP_QSTR_Rect >> 8,

3498 0x24, 
MP_QSTR_rockH—d3CŞlReù
 & 0xff, MP_QSTR_rockHead3CollRect >> 8,

3499 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3500 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3501 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3506 0x24, 
MP_QSTR_rockH—d3Surf
 & 0xff, MP_QSTR_rockHead3Surf >> 8,

3507 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3508 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3509 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3514 0x24, 
MP_QSTR_rock3Surf
 & 0xff, MP_QSTR_rock3Surf >> 8,

3515 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3516 0x1e, 
MP_QSTR_Reù
 & 0xff, MP_QSTR_Rect >> 8,

3522 0x24, 
MP_QSTR_rockH—d4CŞlReù
 & 0xff, MP_QSTR_rockHead4CollRect >> 8,

3523 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3524 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3525 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3530 0x24, 
MP_QSTR_rockH—d4Surf
 & 0xff, MP_QSTR_rockHead4Surf >> 8,

3531 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3532 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3533 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3538 0x24, 
MP_QSTR_rock4Surf
 & 0xff, MP_QSTR_rock4Surf >> 8,

3539 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3540 0x1e, 
MP_QSTR_Reù
 & 0xff, MP_QSTR_Rect >> 8,

3546 0x24, 
MP_QSTR_rockH—d5CŞlReù
 & 0xff, MP_QSTR_rockHead5CollRect >> 8,

3547 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3548 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3549 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3554 0x24, 
MP_QSTR_rockH—d5Surf
 & 0xff, MP_QSTR_rockHead5Surf >> 8,

3555 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3556 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3557 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3562 0x24, 
MP_QSTR_rock5Surf
 & 0xff, MP_QSTR_rock5Surf >> 8,

3563 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3564 0x1e, 
MP_QSTR_Reù
 & 0xff, MP_QSTR_Rect >> 8,

3570 0x24, 
MP_QSTR_rockH—d6CŞlReù
 & 0xff, MP_QSTR_rockHead6CollRect >> 8,

3571 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3572 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3573 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3578 0x24, 
MP_QSTR_rockH—d6Surf
 & 0xff, MP_QSTR_rockHead6Surf >> 8,

3579 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3580 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3581 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3586 0x24, 
MP_QSTR_rock6Surf
 & 0xff, MP_QSTR_rock6Surf >> 8,

3587 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3588 0x1e, 
MP_QSTR_Reù
 & 0xff, MP_QSTR_Rect >> 8,

3594 0x24, 
MP_QSTR_rockH—d7CŞlReù
 & 0xff, MP_QSTR_rockHead7CollRect >> 8,

3595 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3596 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3597 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3602 0x24, 
MP_QSTR_rockH—d7Surf
 & 0xff, MP_QSTR_rockHead7Surf >> 8,

3603 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3604 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3605 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3610 0x24, 
MP_QSTR_rock7Surf
 & 0xff, MP_QSTR_rock7Surf >> 8,

3612 0x24, 
MP_QSTR_w
 & 0xff, MP_QSTR_w >> 8,

3614 0x24, 
MP_QSTR_h
 & 0xff, MP_QSTR_h >> 8,

3615 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3616 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3617 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3618 0x1b, 
MP_QSTR_w
 & 0xff, MP_QSTR_w >> 8,

3619 0x1b, 
MP_QSTR_h
 & 0xff, MP_QSTR_h >> 8,

3622 0x24, 
MP_QSTR_shF1Surf
 & 0xff, MP_QSTR_shipF1Surf >> 8,

3624 0x24, 
MP_QSTR_w
 & 0xff, MP_QSTR_w >> 8,

3626 0x24, 
MP_QSTR_h
 & 0xff, MP_QSTR_h >> 8,

3627 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3628 0x1e, 
MP_QSTR_Reù
 & 0xff, MP_QSTR_Rect >> 8,

3634 0x24, 
MP_QSTR_bombCŞlReù
 & 0xff, MP_QSTR_bombCollRect >> 8,

3640 0x24, 
MP_QSTR_bombCŞÜM­
 & 0xff, MP_QSTR_bombColorMap >> 8,

3641 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3642 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3643 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3644 0x1b, 
MP_QSTR_w
 & 0xff, MP_QSTR_w >> 8,

3645 0x1b, 
MP_QSTR_h
 & 0xff, MP_QSTR_h >> 8,

3648 0x24, 
MP_QSTR_bombSurf
 & 0xff, MP_QSTR_bombSurf >> 8,

3650 0x24, 
MP_QSTR_w
 & 0xff, MP_QSTR_w >> 8,

3652 0x24, 
MP_QSTR_h
 & 0xff, MP_QSTR_h >> 8,

3658 0x24, 
MP_QSTR_ex¶osiÚ1CŞÜM­
 & 0xff, MP_QSTR_explosion1ColorMap >> 8,

3659 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3660 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3661 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3662 0x1b, 
MP_QSTR_w
 & 0xff, MP_QSTR_w >> 8,

3663 0x1b, 
MP_QSTR_h
 & 0xff, MP_QSTR_h >> 8,

3666 0x24, 
MP_QSTR_ex¶osiÚ1f1Surf
 & 0xff, MP_QSTR_explosion1f1Surf >> 8,

3667 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3668 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3669 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3670 0x1b, 
MP_QSTR_w
 & 0xff, MP_QSTR_w >> 8,

3671 0x1b, 
MP_QSTR_h
 & 0xff, MP_QSTR_h >> 8,

3674 0x24, 
MP_QSTR_ex¶osiÚ1f2Surf
 & 0xff, MP_QSTR_explosion1f2Surf >> 8,

3675 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3676 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3677 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3678 0x1b, 
MP_QSTR_w
 & 0xff, MP_QSTR_w >> 8,

3679 0x1b, 
MP_QSTR_h
 & 0xff, MP_QSTR_h >> 8,

3682 0x24, 
MP_QSTR_ex¶osiÚ1f3Surf
 & 0xff, MP_QSTR_explosion1f3Surf >> 8,

3683 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3684 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3685 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3686 0x1b, 
MP_QSTR_w
 & 0xff, MP_QSTR_w >> 8,

3687 0x1b, 
MP_QSTR_h
 & 0xff, MP_QSTR_h >> 8,

3690 0x24, 
MP_QSTR_ex¶osiÚ1f4Surf
 & 0xff, MP_QSTR_explosion1f4Surf >> 8,

3692 0x24, 
MP_QSTR_w
 & 0xff, MP_QSTR_w >> 8,

3694 0x24, 
MP_QSTR_h
 & 0xff, MP_QSTR_h >> 8,

3695 0x1b, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

3696 0x1d, 
MP_QSTR_surçû
 & 0xff, MP_QSTR_surface >> 8,

3697 0x1e, 
MP_QSTR_Surçû
 & 0xff, MP_QSTR_Surface >> 8,

3698 0x1b, 
MP_QSTR_w
 & 0xff, MP_QSTR_w >> 8,

3699 0x1b, 
MP_QSTR_h
 & 0xff, MP_QSTR_h >> 8,

3702 0x24, 
MP_QSTR_backgroundSurf
 & 0xff, MP_QSTR_backgroundSurf >> 8,

3706 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__0
 = {{&
mp_ty³_by‹s
}, 87, 24, (cÚ¡ 
by‹
*)"\x01\x10\x20\x00\x05\x54\x24\x00\x07\x74\x24\x00\x05\xa4\x24\x40\x31\xa2\xa5\x40\x3d\xaa\xa5\x40"};

3707 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__1
 = {{&
mp_ty³_by‹s
}, 228, 56, (cÚ¡ 
by‹
*)"\xff\xff\xff\xa0\xfa\xaa\xaa\x50\x55\x55\x55\x50\x3e\xaa\xa5\x40\x3e\xaa\xa5\x40\x3e\xaa\xa5\x40\x3e\xaa\xa5\x40\x3e\xaa\xa5\x40\x3e\xaa\xa5\x40\x3e\xaa\xa5\x40\x3e\xaa\xa5\x40\x3e\xaa\xa5\x40\x3e\xaa\xa5\x40\x3e\xaa\xa5\x40"};

3708 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__2
 = {{&
mp_ty³_by‹s
}, 201, 56, (cÚ¡ 
by‹
*)"\x55\x55\x55\x50\x6f\xae\xa6\x50\x6f\xae\xa6\x50\x6f\xae\xa6\x50\x6f\xae\xa6\x50\x6f\xae\xa6\x50\x00\x55\x54\x00\x00\x55\x55\x00\x00\x55\xdd\x00\x6f\xae\xa6\x50\x6f\xae\xa6\x50\x6f\xae\xa6\x50\x6f\xae\xa6\x50\x6f\xae\xa6\x50"};

3709 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__3
 = {{&
mp_ty³_by‹s
}, 69, 56, (cÚ¡ 
by‹
*)"\x6f\xae\xa6\x50\x6f\xae\xa6\x50\x6f\xae\xa6\x50\x6f\xae\xa6\x50\x6f\xae\xa6\x50\x6f\xae\xa6\x50\x6f\xae\xa6\x50\x6f\xae\xa6\x50\x6f\xae\xa6\x50\x6f\xae\xa6\x50\x6f\xae\xa6\x50\x6f\xae\xa6\x50\x6f\xae\xa6\x50\x6f\xae\xa6\x50"};

3710 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__4
 = {{&
mp_ty³_by‹s
}, 54, 48, (cÚ¡ 
by‹
*)"\x00\x00\x05\x00\x00\x00\x09\x40\x00\x11\x2a\x50\x10\x55\xaa\x90\x50\x77\x55\x54\x68\x9a\xaa\x94\xbc\xff\xfa\xa4\xaf\xfe\xaa\x94\x6a\xaa\xaa\x54\x55\x55\x55\x54\x2a\xaa\xa9\x50\x1a\xaa\x55\x50"};

3711 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__5
 = {{&
mp_ty³_by‹s
}, 69, 56, (cÚ¡ 
by‹
*)"\x55\x55\x55\x50\x5a\xaa\x55\x40\x6f\xfa\xa5\x40\x6b\xff\xa9\x40\x6a\xaf\xfa\x50\x1a\xaa\xaa\x50\x15\x6a\xa9\x50\x55\x55\x55\x50\x5a\xaa\x55\x40\x6f\xfa\xa5\x40\x6b\xff\xa9\x40\x6a\xaf\xfa\x50\x1a\xaa\xaa\x50\x15\x6a\xa9\x50"};

3712 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__6
 = {{&
mp_ty³_by‹s
}, 232, 56, (cÚ¡ 
by‹
*)"\x00\x00\x01\x50\x02\xa8\x95\x40\x02\xa9\x56\x00\x00\xaa\x6a\x80\x00\xaa\x2a\x80\x00\x05\x00\x00\x55\x85\x3f\xd0\x15\x65\xff\x40\x15\x65\xff\x40\x05\x59\xfd\x00\xff\xaa\xa5\x50\xff\xaa\xa5\x50\xff\xaa\xa5\x50\x55\x55\x55\x50"};

3713 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__7
 = {{&
mp_ty³_by‹s
}, 85, 56, (cÚ¡ 
by‹
*)"\x69\xe9\xa5\x90\x69\xe9\xa5\x90\x69\xe9\xe5\x90\x69\xe9\xe5\x90\x69\xe9\xe5\x90\x69\xf9\xe5\x90\x69\xf9\xe5\x90\x69\xf9\xa5\x90\x69\xf9\xa5\x90\x69\xf9\xa5\x90\x69\xf9\xe5\x90\x69\xf9\xe5\x90\x69\xf9\xe5\x90\x69\xf9\xe5\x90"};

3714 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__8
 = {{&
mp_ty³_by‹s
}, 110, 56, (cÚ¡ 
by‹
*)"\x00\x80\x00\x00\x00\x40\x00\x00\x00\x80\xac\x00\x00\x41\xab\xc0\x04\x41\x6a\xc0\x04\x41\x6a\x80\x04\x41\x56\xa0\x04\x40\x55\x50\x0a\x90\x55\x40\x0a\x91\x41\x00\x0a\x91\x01\x00\xff\xff\xff\xa0\xfa\xaa\xaa\x50\x55\x55\x55\x50"};

3715 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__9
 = {{&
mp_ty³_by‹s
}, 185, 56, (cÚ¡ 
by‹
*)"\x2a\xa5\x55\x40\x2a\xa6\x9a\x40\x2a\xa6\x9a\x40\x2a\xa6\x9a\x40\xff\xd5\x55\x40\xea\xd5\x54\x00\xea\xd5\x54\x00\xea\xd5\x54\x00\xff\xd5\x54\x00\xaa\xaa\xa5\x50\x96\x59\x65\x50\x96\x59\x65\x50\x96\x59\x65\x50\xaa\xaa\xa5\x50"};

3716 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__10
 = {{&
mp_ty³_by‹s
}, 240, 68, (cÚ¡ 
by‹
*)"\x0a\xaa\xa0\x00\x29\x99\xa4\x00\x2a\xaa\x95\x00\xa6\x66\x95\x00\xaa\xaa\x54\x00\x15\x55\x54\x00\x05\x55\x50\x00\x00\x15\x00\x00\x00\x04\x00\x00\x00\x15\x00\x00\x00\x44\x40\x00\x01\x04\x10\x00\x04\x04\x04\x00\x10\x04\x01\x00\xff\xff\xaa\xa0\xaa\xaa\xaa\x50\x15\x55\x55\x40"};

3717 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__11
 = {{&
mp_ty³_by‹s
}, 140, 56, (cÚ¡ 
by‹
*)"\x03\xea\x94\x00\x03\xea\x94\x00\x03\xea\x94\x00\x03\xea\x94\x00\x03\xea\x94\x00\x3e\xef\x97\x80\xfa\xba\xae\x90\xea\xba\xae\x90\xea\xba\x9a\x90\x2a\xea\x55\x40\x5b\xaa\xa9\x50\x6e\xaa\xaa\x50\x6e\xaa\xaa\x50\x55\x55\x55\x50"};

3718 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__12
 = {{&
mp_ty³_by‹s
}, 64, 56, (cÚ¡ 
by‹
*)"\x00\x11\x00\x00\xea\x91\xea\x80\xea\xa5\xea\xa0\x3a\xa1\x3a\xa0\x00\x15\x00\x00\x00\x04\x00\x00\x00\x15\x00\x00\x00\x44\x40\x00\x01\x04\x10\x00\x04\x04\x04\x00\x10\x04\x01\x00\xff\xff\xaa\xa0\xaa\xaa\xaa\x50\x15\x55\x55\x40"};

3719 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__13
 = {{&
mp_ty³_by‹s
}, 133, 56, (cÚ¡ 
by‹
*)"\x50\x00\x00\x50\x50\x00\x00\x50\x54\x00\x01\x50\x51\x00\x04\x50\x50\x40\x10\x50\x50\x10\x40\x50\x50\x05\x00\x50\x50\x05\x00\x50\x50\x10\x40\x50\x50\x40\x10\x50\x51\x00\x04\x50\x54\x00\x01\x50\x50\x00\x00\x50\x50\x00\x00\x50"};

3720 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__14
 = {{&
mp_ty³_by‹s
}, 127, 128, (cÚ¡ 
by‹
*)"\xfc\x00\x00\x00\x00\x00\x00\x00\xff\x00\x00\x00\x00\x00\x00\x00\xff\xc0\x00\x00\x00\x00\x00\x00\x3f\xf0\x00\x00\x00\x00\x00\x00\x3f\xfc\x00\x00\x00\x00\x00\x00\x3f\xff\x00\x00\x00\x00\x00\x00\x0f\xff\xc0\x00\x00\x00\x00\x00\x0f\xff\xf0\x00\x00\x00\x00\x00\x03\xff\xff\xff\xff\xff\xf0\x00\x03\xff\xff\xff\xff\xff\xfc\x00\x0c\xff\xff\xff\xff\xff\xff\xc0\x0f\xff\xff\xff\xff\xff\xff\xfc\x0f\xff\xff\xd5\x55\x5f\xff\xd7\x0f\xff\xf5\x55\x55\x57\xff\xdf\x0c\x3f\xff\xff\xff\xff\xff\xfc\x00\x00\x3c\x00\x00\x00\x0f\x00"};

3721 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__15
 = {{&
mp_ty³_by‹s
}, 197, 16, (cÚ¡ 
by‹
*)"\xf3\xc0\xf3\xc0\x0c\x00\x3f\x00\x3f\x00\x3f\x00\x3f\x00\x0c\x00"};

3722 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__16
 = {{&
mp_ty³_by‹s
}, 124, 64, (cÚ¡ 
by‹
*)"\x00\x00\x00\x00\x00\x00\x30\x00\x00\xc0\x20\x00\x0c\xf7\x64\xf0\x03\xff\xe7\x80\x00\xff\xee\xc0\x01\x7e\xaa\xff\x03\xea\xaa\xb0\x3e\xaa\xaf\x40\x00\xfe\xbb\x40\x00\x7a\xaf\xc0\x03\xef\xe5\x40\x0c\xf1\xe5\x00\x03\xc0\x30\x00\x0c\x00\x30\x00\x00\x00\x00\x00"};

3723 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__17
 = {{&
mp_ty³_by‹s
}, 137, 64, (cÚ¡ 
by‹
*)"\x00\x15\x40\x00\x01\x6a\x90\x00\x01\x6a\xba\x50\x06\x59\xba\x54\x15\x55\x79\x64\x5a\x55\xf7\x64\x6a\x9f\xfd\x55\x69\x7f\xff\xd9\x17\xff\xf5\xa9\x06\x57\xd5\xa9\x1a\x9f\xd5\x64\x19\x75\x7a\x90\x16\x5a\x7a\x90\x05\x66\xba\x90\x04\x01\x9a\x50\x00\x00\x55\x40"};

3724 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__18
 = {{&
mp_ty³_by‹s
}, 104, 64, (cÚ¡ 
by‹
*)"\x01\x00\x69\x00\x06\x91\xaa\xa9\x06\xa5\xaa\xa8\x1a\xa8\x6a\xa9\x2a\xa8\x02\xa9\x6a\x56\x85\xa5\xaa\x86\xaa\xa4\x2a\x82\xaa\x40\x0a\x82\xaa\x40\x1a\x82\xa9\x94\x1a\x42\xa2\xa9\x6a\xa4\x42\xa9\x6a\xa4\x19\xa8\x19\xa0\xaa\xa8\x1a\x91\xaa\x50\x05\x40\x15\x00"};

3725 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__19
 = {{&
mp_ty³_by‹s
}, 224, 64, (cÚ¡ 
by‹
*)"\x00\x00\x01\xa4\x29\x00\x02\xa9\x2a\x40\x00\x2a\xa9\x00\x00\x19\xa8\x00\x40\x18\x10\x01\x90\x00\x00\x01\x94\x00\x05\x80\x29\x00\x0a\x80\x69\x00\x05\x00\xa4\x00\x00\x00\x60\x00\x00\x00\x00\x25\x25\x00\x00\x6a\x6a\x80\x01\xa9\x29\x00\x0a\xa8\x19\x00\x02\x80"};

3726 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__20
 = {{&
mp_ty³_by‹s
}, 10, 9680, (cÚ¡ 
by‹
*)"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x30\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x30\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xfc\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xfc\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f\xfc\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xff\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f\xf3\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f\xf0\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\xf0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\xf0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xff\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xff\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xff\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x30\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xff\xf0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xfc\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xfc\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xf0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\xf0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\xfc\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\xfc\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xff\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xff\xf0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xf0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\xfc\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f\xff\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x30\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xff\xf0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xfc\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f\xff\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xfc\xf0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f\xff\xff\x00\x00\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\xff\xff\xf0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x30\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x30\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0a\xaa\xaa\xaa\xaa\xaa\xa8\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xa0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x30\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xa0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xa0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0a\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0a\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x00\x00\x00\x00\x00\x00\x00\x00\x2a\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xa0\x00\x00\x00\x00\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x00\x00\x00\x00\x00\x00\x00\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x00\x0a\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x00\x00\x00\x00\x00\x00\x2a\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x02\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x00\x00\x00\x00\x00\x02\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x00\x00\x00\x00\x00\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x00\x00\x00\x00\x2a\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x00\x00\x00\x0a\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x00\x00\x02\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x00\x00\x2a\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x00\x02\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x00\x2a\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x00\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x02\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x0a\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\xaa\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"};

3727 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_m¬§‰ack_d©a__É_moduË_gt_
[23] = {

3728 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__0
),

3729 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__1
),

3730 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__2
),

3731 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__3
),

3732 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__4
),

3733 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__5
),

3734 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__6
),

3735 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__7
),

3736 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__8
),

3737 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__9
),

3738 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__10
),

3739 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__11
),

3740 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__12
),

3741 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__13
),

3742 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__14
),

3743 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__15
),

3744 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__16
),

3745 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__17
),

3746 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__18
),

3747 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__19
),

3748 
MP_ROM_PTR
(&
cÚ¡_obj_m¬§‰ack_d©a__É_moduË_gt__20
),

3749 
MP_ROM_PTR
(&
¿w_code_m¬§‰ack_d©a__É_moduË_gt__CÚvSŒTo4b™Pix–A¼ay
),

3750 
MP_ROM_PTR
(&
¿w_code_m¬§‰ack_d©a__É_moduË_gt__CÚvSŒTo2b™Pix–A¼ay
),

3752 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_m¬§‰ack_d©a__É_moduË_gt_
 = {

3753 .
kšd
 = 
MP_CODE_BYTECODE
,

3754 .
	gscİe_æags
 = 0x00,

3755 .
	gn_pos_¬gs
 = 0,

3756 .
	gd©a
.
	gu_by‹
 = {

3757 .
by‹code
 = 
by‹code_d©a_m¬§‰ack_d©a__É_moduË_gt_
,

3758 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_m¬§‰ack_d©a__É_moduË_gt_
,

3759 #ià
MICROPY_PERSISTENT_CODE_SAVE


3760 .
	gbc_Ën
 = 722,

3761 .
	gn_obj
 = 21,

3762 .
	gn_¿w_code
 = 2,

3768 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__S´™e___š™__
[39] = {

3770 
MP_QSTR___š™__
 & 0xff, MP_QSTR___init__ >> 8,

3771 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

3775 0x26, 
MP_QSTR___g
 & 0xff, MP_QSTR___g >> 8,

3779 0x1e, 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

3787 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e___š™__
[1] = {

3788 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

3790 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__S´™e___š™__
 = {

3791 .
kšd
 = 
MP_CODE_BYTECODE
,

3792 .
	gscİe_æags
 = 0x01,

3793 .
	gn_pos_¬gs
 = 1,

3794 .
	gd©a
.
	gu_by‹
 = {

3795 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__S´™e___š™__
,

3796 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e___š™__
,

3797 #ià
MICROPY_PERSISTENT_CODE_SAVE


3798 .
	gbc_Ën
 = 39,

3799 .
	gn_obj
 = 0,

3800 .
	gn_¿w_code
 = 0,

3806 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__S´™e_add
[87] = {

3808 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

3809 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

3812 0x1d, 
MP_QSTR___g
 & 0xff, MP_QSTR___g >> 8,

3813 0x1d, 
MP_QSTR___cÚšs__
 & 0xff, MP_QSTR___contains__ >> 8,

3819 0x1c, 
MP_QSTR_ha§‰r
 & 0xff, MP_QSTR_hasattr >> 8,

3829 0x1e, 
MP_QSTR_add_š‹º®
 & 0xff, MP_QSTR_add_internal >> 8,

3834 0x1e, 
MP_QSTR_add_š‹º®
 & 0xff, MP_QSTR_add_internal >> 8,

3840 0x1e, 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

3849 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_¥r™e__É_moduË_gt__S´™e_add_0
 = {{&
mp_ty³_¡r
}, 44, 12, (cÚ¡ 
by‹
*)"\x5f\x73\x70\x72\x69\x74\x65\x67\x72\x6f\x75\x70"};

3850 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e_add
[2] = {

3851 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

3852 
MP_ROM_PTR
(&
cÚ¡_obj_¥r™e__É_moduË_gt__S´™e_add_0
),

3854 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__S´™e_add
 = {

3855 .
kšd
 = 
MP_CODE_BYTECODE
,

3856 .
	gscİe_æags
 = 0x01,

3857 .
	gn_pos_¬gs
 = 1,

3858 .
	gd©a
.
	gu_by‹
 = {

3859 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__S´™e_add
,

3860 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e_add
,

3861 #ià
MICROPY_PERSISTENT_CODE_SAVE


3862 .
	gbc_Ën
 = 87,

3863 .
	gn_obj
 = 1,

3864 .
	gn_¿w_code
 = 0,

3870 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__S´™e_»move
[87] = {

3872 
MP_QSTR_»move
 & 0xff, MP_QSTR_remove >> 8,

3873 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

3876 0x1d, 
MP_QSTR___g
 & 0xff, MP_QSTR___g >> 8,

3877 0x1d, 
MP_QSTR___cÚšs__
 & 0xff, MP_QSTR___contains__ >> 8,

3883 0x1c, 
MP_QSTR_ha§‰r
 & 0xff, MP_QSTR_hasattr >> 8,

3893 0x1e, 
MP_QSTR_»move_š‹º®
 & 0xff, MP_QSTR_remove_internal >> 8,

3898 0x1e, 
MP_QSTR_»move_š‹º®
 & 0xff, MP_QSTR_remove_internal >> 8,

3904 0x1e, 
MP_QSTR_»move
 & 0xff, MP_QSTR_remove >> 8,

3913 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_¥r™e__É_moduË_gt__S´™e_»move_0
 = {{&
mp_ty³_¡r
}, 44, 12, (cÚ¡ 
by‹
*)"\x5f\x73\x70\x72\x69\x74\x65\x67\x72\x6f\x75\x70"};

3914 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e_»move
[2] = {

3915 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

3916 
MP_ROM_PTR
(&
cÚ¡_obj_¥r™e__É_moduË_gt__S´™e_»move_0
),

3918 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__S´™e_»move
 = {

3919 .
kšd
 = 
MP_CODE_BYTECODE
,

3920 .
	gscİe_æags
 = 0x01,

3921 .
	gn_pos_¬gs
 = 1,

3922 .
	gd©a
.
	gu_by‹
 = {

3923 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__S´™e_»move
,

3924 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e_»move
,

3925 #ià
MICROPY_PERSISTENT_CODE_SAVE


3926 .
	gbc_Ën
 = 87,

3927 .
	gn_obj
 = 1,

3928 .
	gn_¿w_code
 = 0,

3934 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__S´™e_add_š‹º®
[25] = {

3936 
MP_QSTR_add_š‹º®
 & 0xff, MP_QSTR_add_internal >> 8,

3937 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

3941 0x1d, 
MP_QSTR___g
 & 0xff, MP_QSTR___g >> 8,

3947 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e_add_š‹º®
[2] = {

3948 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

3949 
MP_ROM_QSTR
(
MP_QSTR_group
),

3951 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__S´™e_add_š‹º®
 = {

3952 .
kšd
 = 
MP_CODE_BYTECODE
,

3953 .
	gscİe_æags
 = 0x00,

3954 .
	gn_pos_¬gs
 = 2,

3955 .
	gd©a
.
	gu_by‹
 = {

3956 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__S´™e_add_š‹º®
,

3957 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e_add_š‹º®
,

3958 #ià
MICROPY_PERSISTENT_CODE_SAVE


3959 .
	gbc_Ën
 = 25,

3960 .
	gn_obj
 = 0,

3961 .
	gn_¿w_code
 = 0,

3967 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__S´™e_»move_š‹º®
[26] = {

3969 
MP_QSTR_»move_š‹º®
 & 0xff, MP_QSTR_remove_internal >> 8,

3970 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

3973 0x1d, 
MP_QSTR___g
 & 0xff, MP_QSTR___g >> 8,

3981 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e_»move_š‹º®
[2] = {

3982 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

3983 
MP_ROM_QSTR
(
MP_QSTR_group
),

3985 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__S´™e_»move_š‹º®
 = {

3986 .
kšd
 = 
MP_CODE_BYTECODE
,

3987 .
	gscİe_æags
 = 0x00,

3988 .
	gn_pos_¬gs
 = 2,

3989 .
	gd©a
.
	gu_by‹
 = {

3990 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__S´™e_»move_š‹º®
,

3991 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e_»move_š‹º®
,

3992 #ià
MICROPY_PERSISTENT_CODE_SAVE


3993 .
	gbc_Ën
 = 26,

3994 .
	gn_obj
 = 0,

3995 .
	gn_¿w_code
 = 0,

4001 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__S´™e_upd©e
[18] = {

4003 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

4004 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4009 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e_upd©e
[1] = {

4010 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

4012 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__S´™e_upd©e
 = {

4013 .
kšd
 = 
MP_CODE_BYTECODE
,

4014 .
	gscİe_æags
 = 0x01,

4015 .
	gn_pos_¬gs
 = 1,

4016 .
	gd©a
.
	gu_by‹
 = {

4017 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__S´™e_upd©e
,

4018 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e_upd©e
,

4019 #ià
MICROPY_PERSISTENT_CODE_SAVE


4020 .
	gbc_Ën
 = 18,

4021 .
	gn_obj
 = 0,

4022 .
	gn_¿w_code
 = 0,

4028 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__S´™e_kl
[50] = {

4030 
MP_QSTR_kl
 & 0xff, MP_QSTR_kill >> 8,

4031 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4034 0x1d, 
MP_QSTR___g
 & 0xff, MP_QSTR___g >> 8,

4039 0x1e, 
MP_QSTR_»move_š‹º®
 & 0xff, MP_QSTR_remove_internal >> 8,

4045 0x1d, 
MP_QSTR___g
 & 0xff, MP_QSTR___g >> 8,

4046 0x1e, 
MP_QSTR_ş—r
 & 0xff, MP_QSTR_clear >> 8,

4052 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e_kl
[1] = {

4053 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

4055 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__S´™e_kl
 = {

4056 .
kšd
 = 
MP_CODE_BYTECODE
,

4057 .
	gscİe_æags
 = 0x00,

4058 .
	gn_pos_¬gs
 = 1,

4059 .
	gd©a
.
	gu_by‹
 = {

4060 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__S´™e_kl
,

4061 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e_kl
,

4062 #ià
MICROPY_PERSISTENT_CODE_SAVE


4063 .
	gbc_Ën
 = 50,

4064 .
	gn_obj
 = 0,

4065 .
	gn_¿w_code
 = 0,

4071 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__S´™e_groups
[26] = {

4073 
MP_QSTR_groups
 & 0xff, MP_QSTR_groups >> 8,

4074 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4076 0x1c, 
MP_QSTR_li¡
 & 0xff, MP_QSTR_list >> 8,

4078 0x1d, 
MP_QSTR___g
 & 0xff, MP_QSTR___g >> 8,

4082 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e_groups
[1] = {

4083 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

4085 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__S´™e_groups
 = {

4086 .
kšd
 = 
MP_CODE_BYTECODE
,

4087 .
	gscİe_æags
 = 0x00,

4088 .
	gn_pos_¬gs
 = 1,

4089 .
	gd©a
.
	gu_by‹
 = {

4090 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__S´™e_groups
,

4091 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e_groups
,

4092 #ià
MICROPY_PERSISTENT_CODE_SAVE


4093 .
	gbc_Ën
 = 26,

4094 .
	gn_obj
 = 0,

4095 .
	gn_¿w_code
 = 0,

4101 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__S´™e_®ive
[26] = {

4103 
MP_QSTR_®ive
 & 0xff, MP_QSTR_alive >> 8,

4104 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4106 0x1c, 
MP_QSTR_Œuth
 & 0xff, MP_QSTR_truth >> 8,

4108 0x1d, 
MP_QSTR___g
 & 0xff, MP_QSTR___g >> 8,

4112 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e_®ive
[1] = {

4113 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

4115 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__S´™e_®ive
 = {

4116 .
kšd
 = 
MP_CODE_BYTECODE
,

4117 .
	gscİe_æags
 = 0x00,

4118 .
	gn_pos_¬gs
 = 1,

4119 .
	gd©a
.
	gu_by‹
 = {

4120 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__S´™e_®ive
,

4121 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e_®ive
,

4122 #ià
MICROPY_PERSISTENT_CODE_SAVE


4123 .
	gbc_Ën
 = 26,

4124 .
	gn_obj
 = 0,

4125 .
	gn_¿w_code
 = 0,

4131 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__S´™e___»´__
[38] = {

4133 
MP_QSTR___»´__
 & 0xff, MP_QSTR___repr__ >> 8,

4134 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4138 0x1d, 
MP_QSTR___şass__
 & 0xff, MP_QSTR___class__ >> 8,

4139 0x1d, 
MP_QSTR___Çme__
 & 0xff, MP_QSTR___name__ >> 8,

4140 0x1c, 
MP_QSTR_Ën
 & 0xff, MP_QSTR_len >> 8,

4142 0x1d, 
MP_QSTR___g
 & 0xff, MP_QSTR___g >> 8,

4148 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_¥r™e__É_moduË_gt__S´™e___»´___0
 = {{&
mp_ty³_¡r
}, 243, 25, (cÚ¡ 
by‹
*)"\x3c\x25\x73\x20\x73\x70\x72\x69\x74\x65\x28\x69\x6e\x20\x25\x64\x20\x67\x72\x6f\x75\x70\x73\x29\x3e"};

4149 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e___»´__
[2] = {

4150 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

4151 
MP_ROM_PTR
(&
cÚ¡_obj_¥r™e__É_moduË_gt__S´™e___»´___0
),

4153 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__S´™e___»´__
 = {

4154 .
kšd
 = 
MP_CODE_BYTECODE
,

4155 .
	gscİe_æags
 = 0x00,

4156 .
	gn_pos_¬gs
 = 1,

4157 .
	gd©a
.
	gu_by‹
 = {

4158 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__S´™e___»´__
,

4159 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e___»´__
,

4160 #ià
MICROPY_PERSISTENT_CODE_SAVE


4161 .
	gbc_Ën
 = 38,

4162 .
	gn_obj
 = 1,

4163 .
	gn_¿w_code
 = 0,

4169 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__S´™e
[92] = {

4171 
MP_QSTR_S´™e
 & 0xff, MP_QSTR_Sprite >> 8,

4172 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4174 0x1b, 
MP_QSTR___Çme__
 & 0xff, MP_QSTR___name__ >> 8,

4175 0x24, 
MP_QSTR___moduË__
 & 0xff, MP_QSTR___module__ >> 8,

4176 0x16, 
MP_QSTR_S´™e
 & 0xff, MP_QSTR_Sprite >> 8,

4177 0x24, 
MP_QSTR___qu®Çme__
 & 0xff, MP_QSTR___qualname__ >> 8,

4179 0x24, 
MP_QSTR___š™__
 & 0xff, MP_QSTR___init__ >> 8,

4181 0x24, 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

4183 0x24, 
MP_QSTR_»move
 & 0xff, MP_QSTR_remove >> 8,

4185 0x24, 
MP_QSTR_add_š‹º®
 & 0xff, MP_QSTR_add_internal >> 8,

4187 0x24, 
MP_QSTR_»move_š‹º®
 & 0xff, MP_QSTR_remove_internal >> 8,

4189 0x24, 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

4191 0x24, 
MP_QSTR_kl
 & 0xff, MP_QSTR_kill >> 8,

4193 0x24, 
MP_QSTR_groups
 & 0xff, MP_QSTR_groups >> 8,

4195 0x24, 
MP_QSTR_®ive
 & 0xff, MP_QSTR_alive >> 8,

4197 0x24, 
MP_QSTR___»´__
 & 0xff, MP_QSTR___repr__ >> 8,

4201 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e
[10] = {

4202 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__S´™e___š™__
),

4203 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__S´™e_add
),

4204 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__S´™e_»move
),

4205 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__S´™e_add_š‹º®
),

4206 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__S´™e_»move_š‹º®
),

4207 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__S´™e_upd©e
),

4208 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__S´™e_kl
),

4209 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__S´™e_groups
),

4210 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__S´™e_®ive
),

4211 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__S´™e___»´__
),

4213 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__S´™e
 = {

4214 .
kšd
 = 
MP_CODE_BYTECODE
,

4215 .
	gscİe_æags
 = 0x00,

4216 .
	gn_pos_¬gs
 = 0,

4217 .
	gd©a
.
	gu_by‹
 = {

4218 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__S´™e
,

4219 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__S´™e
,

4220 #ià
MICROPY_PERSISTENT_CODE_SAVE


4221 .
	gbc_Ën
 = 92,

4222 .
	gn_obj
 = 0,

4223 .
	gn_¿w_code
 = 10,

4229 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___š™__
[31] = {

4231 
MP_QSTR___š™__
 & 0xff, MP_QSTR___init__ >> 8,

4232 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4236 0x26, 
MP_QSTR_¥r™ediù
 & 0xff, MP_QSTR_spritedict >> 8,

4239 0x26, 
MP_QSTR_lo¡¥r™es
 & 0xff, MP_QSTR_lostsprites >> 8,

4243 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___š™__
[1] = {

4244 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

4246 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup___š™__
 = {

4247 .
kšd
 = 
MP_CODE_BYTECODE
,

4248 .
	gscİe_æags
 = 0x00,

4249 .
	gn_pos_¬gs
 = 1,

4250 .
	gd©a
.
	gu_by‹
 = {

4251 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___š™__
,

4252 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___š™__
,

4253 #ià
MICROPY_PERSISTENT_CODE_SAVE


4254 .
	gbc_Ën
 = 31,

4255 .
	gn_obj
 = 0,

4256 .
	gn_¿w_code
 = 0,

4262 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_¥r™es
[26] = {

4264 
MP_QSTR_¥r™es
 & 0xff, MP_QSTR_sprites >> 8,

4265 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4267 0x1c, 
MP_QSTR_li¡
 & 0xff, MP_QSTR_list >> 8,

4269 0x1d, 
MP_QSTR_¥r™ediù
 & 0xff, MP_QSTR_spritedict >> 8,

4273 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_¥r™es
[1] = {

4274 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

4276 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_¥r™es
 = {

4277 .
kšd
 = 
MP_CODE_BYTECODE
,

4278 .
	gscİe_æags
 = 0x00,

4279 .
	gn_pos_¬gs
 = 1,

4280 .
	gd©a
.
	gu_by‹
 = {

4281 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_¥r™es
,

4282 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_¥r™es
,

4283 #ià
MICROPY_PERSISTENT_CODE_SAVE


4284 .
	gbc_Ën
 = 26,

4285 .
	gn_obj
 = 0,

4286 .
	gn_¿w_code
 = 0,

4292 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_add_š‹º®
[25] = {

4294 
MP_QSTR_add_š‹º®
 & 0xff, MP_QSTR_add_internal >> 8,

4295 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4299 0x1d, 
MP_QSTR_¥r™ediù
 & 0xff, MP_QSTR_spritedict >> 8,

4305 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_add_š‹º®
[2] = {

4306 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

4307 
MP_ROM_QSTR
(
MP_QSTR_¥r™e
),

4309 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_add_š‹º®
 = {

4310 .
kšd
 = 
MP_CODE_BYTECODE
,

4311 .
	gscİe_æags
 = 0x00,

4312 .
	gn_pos_¬gs
 = 2,

4313 .
	gd©a
.
	gu_by‹
 = {

4314 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_add_š‹º®
,

4315 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_add_š‹º®
,

4316 #ià
MICROPY_PERSISTENT_CODE_SAVE


4317 .
	gbc_Ën
 = 25,

4318 .
	gn_obj
 = 0,

4319 .
	gn_¿w_code
 = 0,

4325 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_»move_š‹º®
[51] = {

4327 
MP_QSTR_»move_š‹º®
 & 0xff, MP_QSTR_remove_internal >> 8,

4328 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4331 0x1d, 
MP_QSTR_¥r™ediù
 & 0xff, MP_QSTR_spritedict >> 8,

4338 0x1d, 
MP_QSTR_lo¡¥r™es
 & 0xff, MP_QSTR_lostsprites >> 8,

4339 0x1e, 
MP_QSTR_­³nd
 & 0xff, MP_QSTR_append >> 8,

4344 0x1d, 
MP_QSTR_¥r™ediù
 & 0xff, MP_QSTR_spritedict >> 8,

4352 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_»move_š‹º®
[2] = {

4353 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

4354 
MP_ROM_QSTR
(
MP_QSTR_¥r™e
),

4356 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_»move_š‹º®
 = {

4357 .
kšd
 = 
MP_CODE_BYTECODE
,

4358 .
	gscİe_æags
 = 0x00,

4359 .
	gn_pos_¬gs
 = 2,

4360 .
	gd©a
.
	gu_by‹
 = {

4361 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_»move_š‹º®
,

4362 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_»move_š‹º®
,

4363 #ià
MICROPY_PERSISTENT_CODE_SAVE


4364 .
	gbc_Ën
 = 51,

4365 .
	gn_obj
 = 0,

4366 .
	gn_¿w_code
 = 0,

4372 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_has_š‹º®
[23] = {

4374 
MP_QSTR_has_š‹º®
 & 0xff, MP_QSTR_has_internal >> 8,

4375 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4379 0x1d, 
MP_QSTR_¥r™ediù
 & 0xff, MP_QSTR_spritedict >> 8,

4383 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_has_š‹º®
[2] = {

4384 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

4385 
MP_ROM_QSTR
(
MP_QSTR_¥r™e
),

4387 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_has_š‹º®
 = {

4388 .
kšd
 = 
MP_CODE_BYTECODE
,

4389 .
	gscİe_æags
 = 0x00,

4390 .
	gn_pos_¬gs
 = 2,

4391 .
	gd©a
.
	gu_by‹
 = {

4392 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_has_š‹º®
,

4393 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_has_š‹º®
,

4394 #ià
MICROPY_PERSISTENT_CODE_SAVE


4395 .
	gbc_Ën
 = 23,

4396 .
	gn_obj
 = 0,

4397 .
	gn_¿w_code
 = 0,

4403 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_cİy
[29] = {

4405 
MP_QSTR_cİy
 & 0xff, MP_QSTR_copy >> 8,

4406 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4409 0x1e, 
MP_QSTR___şass__
 & 0xff, MP_QSTR___class__ >> 8,

4411 0x1e, 
MP_QSTR_¥r™es
 & 0xff, MP_QSTR_sprites >> 8,

4416 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_cİy
[1] = {

4417 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

4419 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_cİy
 = {

4420 .
kšd
 = 
MP_CODE_BYTECODE
,

4421 .
	gscİe_æags
 = 0x00,

4422 .
	gn_pos_¬gs
 = 1,

4423 .
	gd©a
.
	gu_by‹
 = {

4424 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_cİy
,

4425 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_cİy
,

4426 #ià
MICROPY_PERSISTENT_CODE_SAVE


4427 .
	gbc_Ën
 = 29,

4428 .
	gn_obj
 = 0,

4429 .
	gn_¿w_code
 = 0,

4435 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___™”__
[28] = {

4437 
MP_QSTR___™”__
 & 0xff, MP_QSTR___iter__ >> 8,

4438 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4440 0x1c, 
MP_QSTR_™”
 & 0xff, MP_QSTR_iter >> 8,

4442 0x1e, 
MP_QSTR_¥r™es
 & 0xff, MP_QSTR_sprites >> 8,

4447 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___™”__
[1] = {

4448 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

4450 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup___™”__
 = {

4451 .
kšd
 = 
MP_CODE_BYTECODE
,

4452 .
	gscİe_æags
 = 0x00,

4453 .
	gn_pos_¬gs
 = 1,

4454 .
	gd©a
.
	gu_by‹
 = {

4455 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___™”__
,

4456 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___™”__
,

4457 #ià
MICROPY_PERSISTENT_CODE_SAVE


4458 .
	gbc_Ën
 = 28,

4459 .
	gn_obj
 = 0,

4460 .
	gn_¿w_code
 = 0,

4466 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___cÚšs__
[24] = {

4468 
MP_QSTR___cÚšs__
 & 0xff, MP_QSTR___contains__ >> 8,

4469 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4472 0x1e, 
MP_QSTR_has
 & 0xff, MP_QSTR_has >> 8,

4477 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___cÚšs__
[2] = {

4478 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

4479 
MP_ROM_QSTR
(
MP_QSTR_¥r™e
),

4481 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup___cÚšs__
 = {

4482 .
kšd
 = 
MP_CODE_BYTECODE
,

4483 .
	gscİe_æags
 = 0x00,

4484 .
	gn_pos_¬gs
 = 2,

4485 .
	gd©a
.
	gu_by‹
 = {

4486 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___cÚšs__
,

4487 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___cÚšs__
,

4488 #ià
MICROPY_PERSISTENT_CODE_SAVE


4489 .
	gbc_Ën
 = 24,

4490 .
	gn_obj
 = 0,

4491 .
	gn_¿w_code
 = 0,

4497 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_add
[204] = {

4499 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

4500 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4506 0x1c, 
MP_QSTR_isš¡ªû
 & 0xff, MP_QSTR_isinstance >> 8,

4508 0x1c, 
MP_QSTR_S´™e
 & 0xff, MP_QSTR_Sprite >> 8,

4512 0x1e, 
MP_QSTR_has_š‹º®
 & 0xff, MP_QSTR_has_internal >> 8,

4517 0x1e, 
MP_QSTR_add_š‹º®
 & 0xff, MP_QSTR_add_internal >> 8,

4522 0x1e, 
MP_QSTR_add_š‹º®
 & 0xff, MP_QSTR_add_internal >> 8,

4529 0x1e, 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

4537 0x1c, 
MP_QSTR_Ty³E¼Ü
 & 0xff, MP_QSTR_TypeError >> 8,

4538 0x1c, 
MP_QSTR_A‰ribu‹E¼Ü
 & 0xff, MP_QSTR_AttributeError >> 8,

4543 0x1c, 
MP_QSTR_ha§‰r
 & 0xff, MP_QSTR_hasattr >> 8,

4545 0x16, 
MP_QSTR__¥r™egroup
 & 0xff, MP_QSTR__spritegroup >> 8,

4549 0x1e, 
MP_QSTR_¥r™es
 & 0xff, MP_QSTR_sprites >> 8,

4555 0x1e, 
MP_QSTR_has_š‹º®
 & 0xff, MP_QSTR_has_internal >> 8,

4560 0x1e, 
MP_QSTR_add_š‹º®
 & 0xff, MP_QSTR_add_internal >> 8,

4565 0x1e, 
MP_QSTR_add_š‹º®
 & 0xff, MP_QSTR_add_internal >> 8,

4572 0x1e, 
MP_QSTR_has_š‹º®
 & 0xff, MP_QSTR_has_internal >> 8,

4577 0x1e, 
MP_QSTR_add_š‹º®
 & 0xff, MP_QSTR_add_internal >> 8,

4582 0x1e, 
MP_QSTR_add_š‹º®
 & 0xff, MP_QSTR_add_internal >> 8,

4594 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_add
[1] = {

4595 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

4597 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_add
 = {

4598 .
kšd
 = 
MP_CODE_BYTECODE
,

4599 .
	gscİe_æags
 = 0x01,

4600 .
	gn_pos_¬gs
 = 1,

4601 .
	gd©a
.
	gu_by‹
 = {

4602 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_add
,

4603 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_add
,

4604 #ià
MICROPY_PERSISTENT_CODE_SAVE


4605 .
	gbc_Ën
 = 204,

4606 .
	gn_obj
 = 0,

4607 .
	gn_¿w_code
 = 0,

4613 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_»move
[202] = {

4615 
MP_QSTR_»move
 & 0xff, MP_QSTR_remove >> 8,

4616 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4622 0x1c, 
MP_QSTR_isš¡ªû
 & 0xff, MP_QSTR_isinstance >> 8,

4624 0x1c, 
MP_QSTR_S´™e
 & 0xff, MP_QSTR_Sprite >> 8,

4628 0x1e, 
MP_QSTR_has_š‹º®
 & 0xff, MP_QSTR_has_internal >> 8,

4633 0x1e, 
MP_QSTR_»move_š‹º®
 & 0xff, MP_QSTR_remove_internal >> 8,

4638 0x1e, 
MP_QSTR_»move_š‹º®
 & 0xff, MP_QSTR_remove_internal >> 8,

4645 0x1e, 
MP_QSTR_»move
 & 0xff, MP_QSTR_remove >> 8,

4653 0x1c, 
MP_QSTR_Ty³E¼Ü
 & 0xff, MP_QSTR_TypeError >> 8,

4654 0x1c, 
MP_QSTR_A‰ribu‹E¼Ü
 & 0xff, MP_QSTR_AttributeError >> 8,

4659 0x1c, 
MP_QSTR_ha§‰r
 & 0xff, MP_QSTR_hasattr >> 8,

4661 0x16, 
MP_QSTR__¥r™egroup
 & 0xff, MP_QSTR__spritegroup >> 8,

4665 0x1e, 
MP_QSTR_¥r™es
 & 0xff, MP_QSTR_sprites >> 8,

4671 0x1e, 
MP_QSTR_has_š‹º®
 & 0xff, MP_QSTR_has_internal >> 8,

4676 0x1e, 
MP_QSTR_»move_š‹º®
 & 0xff, MP_QSTR_remove_internal >> 8,

4681 0x1e, 
MP_QSTR_»move_š‹º®
 & 0xff, MP_QSTR_remove_internal >> 8,

4688 0x1e, 
MP_QSTR_has_š‹º®
 & 0xff, MP_QSTR_has_internal >> 8,

4693 0x1e, 
MP_QSTR_»move_š‹º®
 & 0xff, MP_QSTR_remove_internal >> 8,

4698 0x1e, 
MP_QSTR_»move_š‹º®
 & 0xff, MP_QSTR_remove_internal >> 8,

4710 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_»move
[1] = {

4711 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

4713 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_»move
 = {

4714 .
kšd
 = 
MP_CODE_BYTECODE
,

4715 .
	gscİe_æags
 = 0x01,

4716 .
	gn_pos_¬gs
 = 1,

4717 .
	gd©a
.
	gu_by‹
 = {

4718 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_»move
,

4719 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_»move
,

4720 #ià
MICROPY_PERSISTENT_CODE_SAVE


4721 .
	gbc_Ën
 = 202,

4722 .
	gn_obj
 = 0,

4723 .
	gn_¿w_code
 = 0,

4729 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_has
[187] = {

4731 
MP_QSTR_has
 & 0xff, MP_QSTR_has >> 8,

4732 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4740 0x1c, 
MP_QSTR_isš¡ªû
 & 0xff, MP_QSTR_isinstance >> 8,

4742 0x1c, 
MP_QSTR_S´™e
 & 0xff, MP_QSTR_Sprite >> 8,

4746 0x1e, 
MP_QSTR_has_š‹º®
 & 0xff, MP_QSTR_has_internal >> 8,

4758 0x1e, 
MP_QSTR_has
 & 0xff, MP_QSTR_has >> 8,

4771 0x1c, 
MP_QSTR_Ty³E¼Ü
 & 0xff, MP_QSTR_TypeError >> 8,

4772 0x1c, 
MP_QSTR_A‰ribu‹E¼Ü
 & 0xff, MP_QSTR_AttributeError >> 8,

4777 0x1c, 
MP_QSTR_ha§‰r
 & 0xff, MP_QSTR_hasattr >> 8,

4779 0x16, 
MP_QSTR__¥r™egroup
 & 0xff, MP_QSTR__spritegroup >> 8,

4783 0x1e, 
MP_QSTR_¥r™es
 & 0xff, MP_QSTR_sprites >> 8,

4789 0x1e, 
MP_QSTR_has_š‹º®
 & 0xff, MP_QSTR_has_internal >> 8,

4801 0x1e, 
MP_QSTR_has_š‹º®
 & 0xff, MP_QSTR_has_internal >> 8,

4817 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_has
[1] = {

4818 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

4820 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_has
 = {

4821 .
kšd
 = 
MP_CODE_BYTECODE
,

4822 .
	gscİe_æags
 = 0x01,

4823 .
	gn_pos_¬gs
 = 1,

4824 .
	gd©a
.
	gu_by‹
 = {

4825 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_has
,

4826 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_has
,

4827 #ià
MICROPY_PERSISTENT_CODE_SAVE


4828 .
	gbc_Ën
 = 187,

4829 .
	gn_obj
 = 0,

4830 .
	gn_¿w_code
 = 0,

4836 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_upd©e
[42] = {

4838 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

4839 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4842 0x1e, 
MP_QSTR_¥r™es
 & 0xff, MP_QSTR_sprites >> 8,

4848 0x1e, 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

4857 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_upd©e
[1] = {

4858 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

4860 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_upd©e
 = {

4861 .
kšd
 = 
MP_CODE_BYTECODE
,

4862 .
	gscİe_æags
 = 0x01,

4863 .
	gn_pos_¬gs
 = 1,

4864 .
	gd©a
.
	gu_by‹
 = {

4865 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_upd©e
,

4866 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_upd©e
,

4867 #ià
MICROPY_PERSISTENT_CODE_SAVE


4868 .
	gbc_Ën
 = 42,

4869 .
	gn_obj
 = 0,

4870 .
	gn_¿w_code
 = 0,

4876 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_d¿w
[76] = {

4878 
MP_QSTR_d¿w
 & 0xff, MP_QSTR_draw >> 8,

4879 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4882 0x1e, 
MP_QSTR_¥r™es
 & 0xff, MP_QSTR_sprites >> 8,

4886 0x1d, 
MP_QSTR_bl™
 & 0xff, MP_QSTR_blit >> 8,

4894 0x1d, 
MP_QSTR_image
 & 0xff, MP_QSTR_image >> 8,

4896 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

4897 0x1d, 
MP_QSTR_x
 & 0xff, MP_QSTR_x >> 8,

4899 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

4900 0x1d, 
MP_QSTR_y
 & 0xff, MP_QSTR_y >> 8,

4903 0x1d, 
MP_QSTR_¥r™ediù
 & 0xff, MP_QSTR_spritedict >> 8,

4909 0x26, 
MP_QSTR_lo¡¥r™es
 & 0xff, MP_QSTR_lostsprites >> 8,

4913 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_d¿w
[2] = {

4914 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

4915 
MP_ROM_QSTR
(
MP_QSTR_surçû
),

4917 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_d¿w
 = {

4918 .
kšd
 = 
MP_CODE_BYTECODE
,

4919 .
	gscİe_æags
 = 0x00,

4920 .
	gn_pos_¬gs
 = 2,

4921 .
	gd©a
.
	gu_by‹
 = {

4922 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_d¿w
,

4923 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_d¿w
,

4924 #ià
MICROPY_PERSISTENT_CODE_SAVE


4925 .
	gbc_Ën
 = 76,

4926 .
	gn_obj
 = 0,

4927 .
	gn_¿w_code
 = 0,

4933 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_ş—r
[138] = {

4935 
MP_QSTR_ş—r
 & 0xff, MP_QSTR_clear >> 8,

4936 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

4938 0x1c, 
MP_QSTR_ÿÎabË
 & 0xff, MP_QSTR_callable >> 8,

4943 0x1d, 
MP_QSTR_lo¡¥r™es
 & 0xff, MP_QSTR_lostsprites >> 8,

4954 0x1d, 
MP_QSTR_¥r™ediù
 & 0xff, MP_QSTR_spritedict >> 8,

4955 0x1e, 
MP_QSTR_v®ues
 & 0xff, MP_QSTR_values >> 8,

4970 0x1d, 
MP_QSTR_bl™
 & 0xff, MP_QSTR_blit >> 8,

4973 0x1d, 
MP_QSTR_lo¡¥r™es
 & 0xff, MP_QSTR_lostsprites >> 8,

4985 0x1d, 
MP_QSTR_¥r™ediù
 & 0xff, MP_QSTR_spritedict >> 8,

4986 0x1e, 
MP_QSTR_v®ues
 & 0xff, MP_QSTR_values >> 8,

5003 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_ş—r
[3] = {

5004 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

5005 
MP_ROM_QSTR
(
MP_QSTR_surçû
),

5006 
MP_ROM_QSTR
(
MP_QSTR_bgd
),

5008 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_ş—r
 = {

5009 .
kšd
 = 
MP_CODE_BYTECODE
,

5010 .
	gscİe_æags
 = 0x00,

5011 .
	gn_pos_¬gs
 = 3,

5012 .
	gd©a
.
	gu_by‹
 = {

5013 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_ş—r
,

5014 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_ş—r
,

5015 #ià
MICROPY_PERSISTENT_CODE_SAVE


5016 .
	gbc_Ën
 = 138,

5017 .
	gn_obj
 = 0,

5018 .
	gn_¿w_code
 = 0,

5024 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_em±y
[50] = {

5026 
MP_QSTR_em±y
 & 0xff, MP_QSTR_empty >> 8,

5027 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

5030 0x1e, 
MP_QSTR_¥r™es
 & 0xff, MP_QSTR_sprites >> 8,

5036 0x1e, 
MP_QSTR_»move_š‹º®
 & 0xff, MP_QSTR_remove_internal >> 8,

5041 0x1e, 
MP_QSTR_»move_š‹º®
 & 0xff, MP_QSTR_remove_internal >> 8,

5049 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_em±y
[1] = {

5050 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

5052 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_em±y
 = {

5053 .
kšd
 = 
MP_CODE_BYTECODE
,

5054 .
	gscİe_æags
 = 0x00,

5055 .
	gn_pos_¬gs
 = 1,

5056 .
	gd©a
.
	gu_by‹
 = {

5057 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_em±y
,

5058 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup_em±y
,

5059 #ià
MICROPY_PERSISTENT_CODE_SAVE


5060 .
	gbc_Ën
 = 50,

5061 .
	gn_obj
 = 0,

5062 .
	gn_¿w_code
 = 0,

5068 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___nÚz”o__
[28] = {

5070 
MP_QSTR___nÚz”o__
 & 0xff, MP_QSTR___nonzero__ >> 8,

5071 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

5073 0x1c, 
MP_QSTR_Œuth
 & 0xff, MP_QSTR_truth >> 8,

5075 0x1e, 
MP_QSTR_¥r™es
 & 0xff, MP_QSTR_sprites >> 8,

5080 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___nÚz”o__
[1] = {

5081 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

5083 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup___nÚz”o__
 = {

5084 .
kšd
 = 
MP_CODE_BYTECODE
,

5085 .
	gscİe_æags
 = 0x00,

5086 .
	gn_pos_¬gs
 = 1,

5087 .
	gd©a
.
	gu_by‹
 = {

5088 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___nÚz”o__
,

5089 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___nÚz”o__
,

5090 #ià
MICROPY_PERSISTENT_CODE_SAVE


5091 .
	gbc_Ën
 = 28,

5092 .
	gn_obj
 = 0,

5093 .
	gn_¿w_code
 = 0,

5099 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___Ën__
[28] = {

5101 
MP_QSTR___Ën__
 & 0xff, MP_QSTR___len__ >> 8,

5102 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

5104 0x1c, 
MP_QSTR_Ën
 & 0xff, MP_QSTR_len >> 8,

5106 0x1e, 
MP_QSTR_¥r™es
 & 0xff, MP_QSTR_sprites >> 8,

5111 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___Ën__
[1] = {

5112 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

5114 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup___Ën__
 = {

5115 .
kšd
 = 
MP_CODE_BYTECODE
,

5116 .
	gscİe_æags
 = 0x00,

5117 .
	gn_pos_¬gs
 = 1,

5118 .
	gd©a
.
	gu_by‹
 = {

5119 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___Ën__
,

5120 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___Ën__
,

5121 #ià
MICROPY_PERSISTENT_CODE_SAVE


5122 .
	gbc_Ën
 = 28,

5123 .
	gn_obj
 = 0,

5124 .
	gn_¿w_code
 = 0,

5130 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___»´__
[35] = {

5132 
MP_QSTR___»´__
 & 0xff, MP_QSTR___repr__ >> 8,

5133 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

5137 0x1d, 
MP_QSTR___şass__
 & 0xff, MP_QSTR___class__ >> 8,

5138 0x1d, 
MP_QSTR___Çme__
 & 0xff, MP_QSTR___name__ >> 8,

5139 0x1c, 
MP_QSTR_Ën
 & 0xff, MP_QSTR_len >> 8,

5146 
STATIC
 cÚ¡ 
mp_obj_¡r_t
 
	gcÚ¡_obj_¥r™e__É_moduË_gt__Ab¡¿ùGroup___»´___0
 = {{&
mp_ty³_¡r
}, 235, 16, (cÚ¡ 
by‹
*)"\x3c\x25\x73\x28\x25\x64\x20\x73\x70\x72\x69\x74\x65\x73\x29\x3e"};

5147 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___»´__
[2] = {

5148 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

5149 
MP_ROM_PTR
(&
cÚ¡_obj_¥r™e__É_moduË_gt__Ab¡¿ùGroup___»´___0
),

5151 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup___»´__
 = {

5152 .
kšd
 = 
MP_CODE_BYTECODE
,

5153 .
	gscİe_æags
 = 0x00,

5154 .
	gn_pos_¬gs
 = 1,

5155 .
	gd©a
.
	gu_by‹
 = {

5156 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___»´__
,

5157 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup___»´__
,

5158 #ià
MICROPY_PERSISTENT_CODE_SAVE


5159 .
	gbc_Ën
 = 35,

5160 .
	gn_obj
 = 1,

5161 .
	gn_¿w_code
 = 0,

5167 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup
[151] = {

5169 
MP_QSTR_Ab¡¿ùGroup
 & 0xff, MP_QSTR_AbstractGroup >> 8,

5170 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

5172 0x1b, 
MP_QSTR___Çme__
 & 0xff, MP_QSTR___name__ >> 8,

5173 0x24, 
MP_QSTR___moduË__
 & 0xff, MP_QSTR___module__ >> 8,

5174 0x16, 
MP_QSTR_Ab¡¿ùGroup
 & 0xff, MP_QSTR_AbstractGroup >> 8,

5175 0x24, 
MP_QSTR___qu®Çme__
 & 0xff, MP_QSTR___qualname__ >> 8,

5177 0x24, 
MP_QSTR__¥r™egroup
 & 0xff, MP_QSTR__spritegroup >> 8,

5179 0x24, 
MP_QSTR___š™__
 & 0xff, MP_QSTR___init__ >> 8,

5181 0x24, 
MP_QSTR_¥r™es
 & 0xff, MP_QSTR_sprites >> 8,

5183 0x24, 
MP_QSTR_add_š‹º®
 & 0xff, MP_QSTR_add_internal >> 8,

5185 0x24, 
MP_QSTR_»move_š‹º®
 & 0xff, MP_QSTR_remove_internal >> 8,

5187 0x24, 
MP_QSTR_has_š‹º®
 & 0xff, MP_QSTR_has_internal >> 8,

5189 0x24, 
MP_QSTR_cİy
 & 0xff, MP_QSTR_copy >> 8,

5191 0x24, 
MP_QSTR___™”__
 & 0xff, MP_QSTR___iter__ >> 8,

5193 0x24, 
MP_QSTR___cÚšs__
 & 0xff, MP_QSTR___contains__ >> 8,

5195 0x24, 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

5197 0x24, 
MP_QSTR_»move
 & 0xff, MP_QSTR_remove >> 8,

5199 0x24, 
MP_QSTR_has
 & 0xff, MP_QSTR_has >> 8,

5201 0x24, 
MP_QSTR_upd©e
 & 0xff, MP_QSTR_update >> 8,

5203 0x24, 
MP_QSTR_d¿w
 & 0xff, MP_QSTR_draw >> 8,

5205 0x24, 
MP_QSTR_ş—r
 & 0xff, MP_QSTR_clear >> 8,

5207 0x24, 
MP_QSTR_em±y
 & 0xff, MP_QSTR_empty >> 8,

5209 0x24, 
MP_QSTR___nÚz”o__
 & 0xff, MP_QSTR___nonzero__ >> 8,

5211 0x24, 
MP_QSTR___Ën__
 & 0xff, MP_QSTR___len__ >> 8,

5213 0x24, 
MP_QSTR___»´__
 & 0xff, MP_QSTR___repr__ >> 8,

5217 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup
[18] = {

5218 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup___š™__
),

5219 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_¥r™es
),

5220 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_add_š‹º®
),

5221 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_»move_š‹º®
),

5222 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_has_š‹º®
),

5223 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_cİy
),

5224 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup___™”__
),

5225 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup___cÚšs__
),

5226 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_add
),

5227 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_»move
),

5228 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_has
),

5229 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_upd©e
),

5230 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_d¿w
),

5231 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_ş—r
),

5232 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup_em±y
),

5233 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup___nÚz”o__
),

5234 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup___Ën__
),

5235 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup___»´__
),

5237 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup
 = {

5238 .
kšd
 = 
MP_CODE_BYTECODE
,

5239 .
	gscİe_æags
 = 0x00,

5240 .
	gn_pos_¬gs
 = 0,

5241 .
	gd©a
.
	gu_by‹
 = {

5242 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup
,

5243 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Ab¡¿ùGroup
,

5244 #ià
MICROPY_PERSISTENT_CODE_SAVE


5245 .
	gbc_Ën
 = 151,

5246 .
	gn_obj
 = 0,

5247 .
	gn_¿w_code
 = 18,

5253 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Group___š™__
[38] = {

5255 
MP_QSTR___š™__
 & 0xff, MP_QSTR___init__ >> 8,

5256 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

5258 0x1c, 
MP_QSTR_Ab¡¿ùGroup
 & 0xff, MP_QSTR_AbstractGroup >> 8,

5259 0x1e, 
MP_QSTR___š™__
 & 0xff, MP_QSTR___init__ >> 8,

5264 0x1e, 
MP_QSTR_add
 & 0xff, MP_QSTR_add >> 8,

5272 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Group___š™__
[1] = {

5273 
MP_ROM_QSTR
(
MP_QSTR_£lf
),

5275 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Group___š™__
 = {

5276 .
kšd
 = 
MP_CODE_BYTECODE
,

5277 .
	gscİe_æags
 = 0x01,

5278 .
	gn_pos_¬gs
 = 1,

5279 .
	gd©a
.
	gu_by‹
 = {

5280 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Group___š™__
,

5281 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Group___š™__
,

5282 #ià
MICROPY_PERSISTENT_CODE_SAVE


5283 .
	gbc_Ën
 = 38,

5284 .
	gn_obj
 = 0,

5285 .
	gn_¿w_code
 = 0,

5291 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__Group
[35] = {

5293 
MP_QSTR_Group
 & 0xff, MP_QSTR_Group >> 8,

5294 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

5296 0x1b, 
MP_QSTR___Çme__
 & 0xff, MP_QSTR___name__ >> 8,

5297 0x24, 
MP_QSTR___moduË__
 & 0xff, MP_QSTR___module__ >> 8,

5298 0x16, 
MP_QSTR_Group
 & 0xff, MP_QSTR_Group >> 8,

5299 0x24, 
MP_QSTR___qu®Çme__
 & 0xff, MP_QSTR___qualname__ >> 8,

5301 0x24, 
MP_QSTR___š™__
 & 0xff, MP_QSTR___init__ >> 8,

5305 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__Group
[1] = {

5306 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Group___š™__
),

5308 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__Group
 = {

5309 .
kšd
 = 
MP_CODE_BYTECODE
,

5310 .
	gscİe_æags
 = 0x00,

5311 .
	gn_pos_¬gs
 = 0,

5312 .
	gd©a
.
	gu_by‹
 = {

5313 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__Group
,

5314 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__Group
,

5315 #ià
MICROPY_PERSISTENT_CODE_SAVE


5316 .
	gbc_Ën
 = 35,

5317 .
	gn_obj
 = 0,

5318 .
	gn_¿w_code
 = 1,

5324 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt__¥r™ecŞlid—ny
[81] = {

5326 
MP_QSTR_¥r™ecŞlid—ny
 & 0xff, MP_QSTR_spritecollideany >> 8,

5327 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

5345 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

5346 0x1d, 
MP_QSTR_cŞlid”eù
 & 0xff, MP_QSTR_colliderect >> 8,

5354 0x1d, 
MP_QSTR_»ù
 & 0xff, MP_QSTR_rect >> 8,

5363 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt__¥r™ecŞlid—ny
[3] = {

5364 
MP_ROM_QSTR
(
MP_QSTR_¥r™e
),

5365 
MP_ROM_QSTR
(
MP_QSTR_group
),

5366 
MP_ROM_QSTR
(
MP_QSTR_cŞlided
),

5368 
STATIC
 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt__¥r™ecŞlid—ny
 = {

5369 .
kšd
 = 
MP_CODE_BYTECODE
,

5370 .
	gscİe_æags
 = 0x00,

5371 .
	gn_pos_¬gs
 = 3,

5372 .
	gd©a
.
	gu_by‹
 = {

5373 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt__¥r™ecŞlid—ny
,

5374 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt__¥r™ecŞlid—ny
,

5375 #ià
MICROPY_PERSISTENT_CODE_SAVE


5376 .
	gbc_Ën
 = 81,

5377 .
	gn_obj
 = 0,

5378 .
	gn_¿w_code
 = 0,

5384 
STATIC
 cÚ¡ 
by‹
 
	gby‹code_d©a_¥r™e__É_moduË_gt_
[82] = {

5386 
MP_QSTR__É_moduË_gt_
 & 0xff, MP_QSTR__lt_module_gt_ >> 8,

5387 
MP_QSTR_¥r™e_dÙ_py
 & 0xff, MP_QSTR_sprite_dot_py >> 8,

5391 0x68, 
MP_QSTR_upygame
 & 0xff, MP_QSTR_upygame >> 8,

5392 0x24, 
MP_QSTR_pygame
 & 0xff, MP_QSTR_pygame >> 8,

5395 0x16, 
MP_QSTR_S´™e
 & 0xff, MP_QSTR_Sprite >> 8,

5396 0x1b, 
MP_QSTR_objeù
 & 0xff, MP_QSTR_object >> 8,

5398 0x24, 
MP_QSTR_S´™e
 & 0xff, MP_QSTR_Sprite >> 8,

5401 0x16, 
MP_QSTR_Ab¡¿ùGroup
 & 0xff, MP_QSTR_AbstractGroup >> 8,

5402 0x1b, 
MP_QSTR_objeù
 & 0xff, MP_QSTR_object >> 8,

5404 0x24, 
MP_QSTR_Ab¡¿ùGroup
 & 0xff, MP_QSTR_AbstractGroup >> 8,

5407 0x16, 
MP_QSTR_Group
 & 0xff, MP_QSTR_Group >> 8,

5408 0x1b, 
MP_QSTR_Ab¡¿ùGroup
 & 0xff, MP_QSTR_AbstractGroup >> 8,

5410 0x24, 
MP_QSTR_Group
 & 0xff, MP_QSTR_Group >> 8,

5415 0x24, 
MP_QSTR_¥r™ecŞlid—ny
 & 0xff, MP_QSTR_spritecollideany >> 8,

5419 
STATIC
 cÚ¡ 
mp_rom_obj_t
 
	gcÚ¡_bË_d©a_¥r™e__É_moduË_gt_
[4] = {

5420 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__S´™e
),

5421 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Ab¡¿ùGroup
),

5422 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__Group
),

5423 
MP_ROM_PTR
(&
¿w_code_¥r™e__É_moduË_gt__¥r™ecŞlid—ny
),

5425 cÚ¡ 
mp_¿w_code_t
 
	g¿w_code_¥r™e__É_moduË_gt_
 = {

5426 .
kšd
 = 
MP_CODE_BYTECODE
,

5427 .
	gscİe_æags
 = 0x00,

5428 .
	gn_pos_¬gs
 = 0,

5429 .
	gd©a
.
	gu_by‹
 = {

5430 .
by‹code
 = 
by‹code_d©a_¥r™e__É_moduË_gt_
,

5431 .
	gcÚ¡_bË
 = (
mp_ušt_t
*)
cÚ¡_bË_d©a_¥r™e__É_moduË_gt_
,

5432 #ià
MICROPY_PERSISTENT_CODE_SAVE


5433 .
	gbc_Ën
 = 82,

5434 .
	gn_obj
 = 0,

5435 .
	gn_¿w_code
 = 4,

5440 cÚ¡ 
	gmp_äoz’_mpy_Çmes
[] = {

5446 cÚ¡ 
mp_¿w_code_t
 *cÚ¡ 
	gmp_äoz’_mpy_cÚ‹Á
[] = {

5447 &
¿w_code_maš__É_moduË_gt_
,

5448 &
¿w_code_m¬§‰ack_şas£s__É_moduË_gt_
,

5449 &
¿w_code_m¬§‰ack_d©a__É_moduË_gt_
,

5450 &
¿w_code_¥r™e__É_moduË_gt_
,

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\MicroPython\main.cpp

37 
	~"Pok™to.h
"

39 #iâdeà
POK_SIM


40 
	~"USBS”Ÿl.h
"

43 
	~"PythÚBšdšgs.h
"

45 #ifdeà
POK_SIM


46 
	#PYTHON_SOURCE_FILE_PATH
 "..\\..\\..\\POKITTO_LIBS\\MiüoPythÚ\\¤c_py\\"

	)

48 
	#PYTHON_SOURCE_FILE_PATH


	)

51 
	gPok™to
::
CÜe
 
game
;

53 "C" 
maš_upythÚ
(
¬gc
, **
¬gv
);

55 
	$maš
 () {

57 
game
.
	`begš
();

59 
game
.
di¥Ïy
.
³rsi¡’û
 = 0;

61 
game
.
di¥Ïy
.
	`£tFÚt
(
fÚtC64
);

63 ià(
game
.
	`isRuÂšg
()) {

65 #ià
PROJ_PYTHON_REPL


67 
	`PythÚMaš
(0, 
NULL
);

72 #´agm¨
GCC
 
dŸgno¡ic
 
push


73 #´agm¨
GCC
 
dŸgno¡ic
 
ignÜed
 "-Wwrite-strings"

74 * 
¬gv
[] = {

76 
PYTHON_SOURCE_FILE_PATH
"example_main.py"

78 #´agm¨
GCC
 
dŸgno¡ic
 
pİ


80 
	`PythÚMaš
(2, 
¬gv
);

87 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\MicroPython\src_py\sprite.py

1 
impÜt
 
upygame
 
as
 
pygame


3 
şass
 
	$S´™e
(
objeù
):

4 
def
 
	$__š™__
(
£lf
, *
groups
):

5 
£lf
.
__g
 = {
	}
} #Th
groups
 
the
 
¥r™e
 
is
 
š


6 
groups
:

7 
£lf
.
	$add
(*
groups
)

9 
def
 
	$add
(
£lf
, *
groups
):

10 
has
 = 
£lf
.
__g
.
__cÚšs__


11 
group
 
š
 
groups
:

12 
	`ha§‰r
(
group
, '_spritegroup'):

13 
nÙ
 
	$has
(
group
):

14 
group
.
	$add_š‹º®
(
£lf
)

15 
£lf
.
	$add_š‹º®
(
group
)

17 
£lf
.
	$add
(*
group
)

19 
def
 
	$»move
(
£lf
, *
groups
):

20 
has
 = 
£lf
.
__g
.
__cÚšs__


21 
group
 
š
 
groups
:

22 
	`ha§‰r
(
group
, '_spritegroup'):

23 
	$has
(
group
):

24 
group
.
	$»move_š‹º®
(
£lf
)

25 
£lf
.
	$»move_š‹º®
(
group
)

27 
£lf
.
	$»move
(*
group
)

29 
def
 
	$add_š‹º®
(
£lf
, 
group
):

30 
£lf
.
__g
[
group
] = 0

32 
def
 
	$»move_š‹º®
(
£lf
, 
group
):

33 
d–
 
£lf
.
__g
[
group
]

35 
def
 
	$upd©e
(
£lf
, *
¬gs
):

36 
·ss


38 
def
 
	$kl
(
£lf
):

39 
c
 
š
 
£lf
.
__g
:

40 
c
.
	$»move_š‹º®
(
£lf
)

41 
£lf
.
__g
.
	$ş—r
()

43 
def
 
	$groups
(
£lf
):

44  
	$li¡
(
£lf
.
__g
)

46 
def
 
	$®ive
(
£lf
):

47  
	$Œuth
(
£lf
.
__g
)

49 
def
 
	$__»´__
(
£lf
):

50  "<% ¥r™e(š %d groups)>" % (
£lf
.
__şass__
.
__Çme__
, 
	$Ën
(
£lf
.
__g
))

53 
şass
 
	$Ab¡¿ùGroup
(
objeù
):

55 #dummy 
v®
 
to
 
id’tify
 
¥r™e
 
groups
, 
ªd
 
avoid
 
šfš™e
 
»cursiÚ


56 
_¥r™egroup
 = 
True


58 
def
 
	$__š™__
(
£lf
):

59 
£lf
.
¥r™ediù
 = {
	}
}

60 
£lf
.
lo¡¥r™es
 = []

62 
def
 
	$¥r™es
(
£lf
):

63  
	$li¡
(
£lf
.
¥r™ediù
)

65 
def
 
	$add_š‹º®
(
£lf
, 
¥r™e
):

66 
£lf
.
¥r™ediù
[
¥r™e
] = 0

68 
def
 
	$»move_š‹º®
(
£lf
, 
¥r™e
):

69 
r
 = 
£lf
.
¥r™ediù
[
¥r™e
]

70 
r
:

71 
£lf
.
lo¡¥r™es
.
	$­³nd
(
r
)

72 
d–
 
£lf
.
¥r™ediù
[
¥r™e
]

74 
def
 
	$has_š‹º®
(
£lf
, 
¥r™e
):

75  
¥r™e
 
š
 
£lf
.
¥r™ediù


77 
def
 
	$cİy
(
£lf
):

78  
£lf
.
	`__şass__
(£lf.
	$¥r™es
())

80 
def
 
	$__™”__
(
£lf
):

81  
	`™”
(
£lf
.
	$¥r™es
())

83 
def
 
	$__cÚšs__
(
£lf
, 
¥r™e
):

84  
£lf
.
	$has
(
¥r™e
)

86 
def
 
	$add
(
£lf
, *
¥r™es
):

87 
¥r™e
 
š
 
¥r™es
:

89 #Ià
this
 
is
 
the
 , 
we
 
should
 
add
h
¥r™e
 
™£lf
,

90 #ªd 
nÙ
 
the
 
™”©Ü
 
objeù
.

91 
	$isš¡ªû
(
¥r™e
, 
S´™e
):

92 
nÙ
 
£lf
.
	$has_š‹º®
(
¥r™e
):

93 
£lf
.
	$add_š‹º®
(
¥r™e
)

94 
¥r™e
.
	$add_š‹º®
(
£lf
)

96 
Œy
:

97 #S“ 
¥r™e
 
is
 
ª
 
™”©Ü
, 
like
 
a
 
li¡
 
Ü
 sprite

99 
£lf
.
	$add
(*
¥r™e
)

100 
	$exû±
 (
Ty³E¼Ü
, 
A‰ribu‹E¼Ü
):

101 #NÙ 
™”abË
. 
This
 
is
 
´obably
 
a
 
¥r™e
 
th©
 i 
nÙ
 
ª


102 #š¡ªû 
of
 
the
 
S´™e
 
şass
 
Ü
 
is
 
nÙ
 
ª
 
š¡ªû
 oà
a


103 #subşas 
of
 
the
 
S´™e
 
şass
. 
AÉ”Ç‹ly
, 
™
 
could
 
be
 
ª


104 #Şd-
¡yË
 
¥r™e
 
group
.

105 
	`ha§‰r
(
¥r™e
, '_spritegroup'):

106 
¥r
 
š
 
¥r™e
.
	$¥r™es
():

107 
nÙ
 
£lf
.
	$has_š‹º®
(
¥r
):

108 
£lf
.
	$add_š‹º®
(
¥r
)

109 
¥r
.
	$add_š‹º®
(
£lf
)

110 
–if
 
nÙ
 
£lf
.
	$has_š‹º®
(
¥r™e
):

111 
£lf
.
	$add_š‹º®
(
¥r™e
)

112 
¥r™e
.
	$add_š‹º®
(
£lf
)

114 
def
 
	$»move
(
£lf
, *
¥r™es
):

116 
¥r™e
 
š
 
¥r™es
:

117 
	$isš¡ªû
(
¥r™e
, 
S´™e
):

118 
£lf
.
	$has_š‹º®
(
¥r™e
):

119 
£lf
.
	$»move_š‹º®
(
¥r™e
)

120 
¥r™e
.
	$»move_š‹º®
(
£lf
)

122 
Œy
:

123 
£lf
.
	$»move
(*
¥r™e
)

124 
	$exû±
 (
Ty³E¼Ü
, 
A‰ribu‹E¼Ü
):

125 
	`ha§‰r
(
¥r™e
, '_spritegroup'):

126 
¥r
 
š
 
¥r™e
.
	$¥r™es
():

127 
£lf
.
	$has_š‹º®
(
¥r
):

128 
£lf
.
	$»move_š‹º®
(
¥r
)

129 
¥r
.
	$»move_š‹º®
(
£lf
)

130 
–if
 
£lf
.
	$has_š‹º®
(
¥r™e
):

131 
£lf
.
	$»move_š‹º®
(
¥r™e
)

132 
¥r™e
.
	$»move_š‹º®
(
£lf
)

134 
def
 
	$has
(
£lf
, *
¥r™es
):

135 
»tuº_v®ue
 = 
F®£


137 
¥r™e
 
š
 
¥r™es
:

138 
	$isš¡ªû
(
¥r™e
, 
S´™e
):

139 #Check 
S´™e
 
š¡ªû
's membership inhis group

140 
£lf
.
	$has_š‹º®
(
¥r™e
):

141 
»tuº_v®ue
 = 
True


143  
F®£


145 
Œy
:

146 
£lf
.
	$has
(*
¥r™e
):

147 
»tuº_v®ue
 = 
True


149  
F®£


150 
	$exû±
 (
Ty³E¼Ü
, 
A‰ribu‹E¼Ü
):

151 
	`ha§‰r
(
¥r™e
, '_spritegroup'):

152 
¥r
 
š
 
¥r™e
.
	$¥r™es
():

153 
£lf
.
	$has_š‹º®
(
¥r
):

154 
»tuº_v®ue
 = 
True


156  
F®£


158 
£lf
.
	$has_š‹º®
(
¥r™e
):

159 
»tuº_v®ue
 = 
True


161  
F®£


163  
»tuº_v®ue


165 
def
 
	$upd©e
(
£lf
, *
¬gs
):

166 
s
 
š
 
£lf
.
	$¥r™es
():

167 
s
.
	$upd©e
(*
¬gs
)

169 
def
 
	$d¿w
(
£lf
, 
surçû
):

170 
¥r™es
 = 
£lf
.
	$¥r™es
()

171 
surçû_bl™
 = 
surçû
.
bl™


172 
¥r
 
š
 
¥r™es
:

173 
£lf
.
¥r™ediù
[
¥r
] = 
	$surçû_bl™
(
¥r
.
image
, s´.
»ù
.
x
, s´.»ù.
y
)

174 
£lf
.
lo¡¥r™es
 = []

176 
def
 
	$ş—r
(
£lf
, 
surçû
, 
bgd
):

177 
	$ÿÎabË
(
bgd
):

178 
r
 
š
 
£lf
.
lo¡¥r™es
:

179 
	$bgd
(
surçû
, 
r
)

180 
r
 
š
 
£lf
.
¥r™ediù
.
	$v®ues
():

181 
r
:

182 
	$bgd
(
surçû
, 
r
)

184 
surçû_bl™
 = 
surçû
.
bl™


185 
r
 
š
 
£lf
.
lo¡¥r™es
:

186 
	$surçû_bl™
(
bgd
, 
r
,„)

187 
r
 
š
 
£lf
.
¥r™ediù
.
	$v®ues
():

188 
r
:

189 
	$surçû_bl™
(
bgd
, 
r
,„)

191 
def
 
	$em±y
(
£lf
):

192 
s
 
š
 
£lf
.
	$¥r™es
():

193 
£lf
.
	$»move_š‹º®
(
s
)

194 
s
.
	$»move_š‹º®
(
£lf
)

196 
def
 
	$__nÚz”o__
(
£lf
):

197  
	`Œuth
(
£lf
.
	$¥r™es
())

199 
def
 
	$__Ën__
(
£lf
):

200  
	`Ën
(
£lf
.
	$¥r™es
())

202 
def
 
	$__»´__
(
£lf
):

203  "<%s(%d s´™es)>" % (
£lf
.
__şass__
.
__Çme__
, 
	$Ën
(
£lf
))

206 
şass
 
	$Group
(
Ab¡¿ùGroup
):

207 
def
 
	$__š™__
(
£lf
, *
¥r™es
):

208 
Ab¡¿ùGroup
.
	$__š™__
(
£lf
)

209 
£lf
.
	$add
(*
¥r™es
)

211 #R’d”PÏš = 
Group


212 #R’d”CË¬ = 
Group


214 
def
 
	$¥r™ecŞlid—ny
(
¥r™e
, 
group
, 
cŞlided
=
NÚe
):

215 
cŞlided
:

216 
s
 
š
 
group
:

217 
	$cŞlided
(
¥r™e
, 
s
):

218  
s


220 #S³cŸÈ
Şd
 
behaviour
 
¥“d
.

221 
¥r™ecŞlide
 = 
¥r™e
.
»ù
.
cŞlid”eù


222 
s
 
š
 
group
:

223 
	$¥r™ecŞlide
(
s
.
»ù
):

224  
s


225  
NÚe


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\CRC16.cpp

17 
	~"CRC16.h
"

19 
	gÇme¥aû


21 cÚ¡ 
	gm_CRC16TabË
[256] = {

57 
	$CRC16
(cÚ¡ * 
d©a
, 
Ëngth
)

60 
üc
 = 0;

61 
i
 = 0; i < 
Ëngth
; i++) {

62 
üc
 = (üø<< 8è^ 
m_CRC16TabË
[((üø>> 8è^ 
d©a
[
i
]) & 0x00FF];

66  
üc
;

67 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\CRC16.h

17 #iâdeà
CRC16_H


18 
	#CRC16_H


	)

20 
	~"mbed.h
"

22 
CRC16
(cÚ¡ * 
d©a
, 
Ëngth
);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\CRC7.cpp

17 
	~"CRC7.h
"

19 
	gÇme¥aû


21 cÚ¡ 
	gm_CRC7TabË
[] = {

57 
	$CRC7
(cÚ¡ * 
d©a
, 
Ëngth
)

60 
üc
 = 0;

61 
i
 = 0; i < 
Ëngth
; i++) {

62 
üc
 = 
m_CRC7TabË
[(üø<< 1è^ 
d©a
[
i
]];

66  
üc
;

67 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\CRC7.h

17 #iâdeà
CRC7_H


18 
	#CRC7_H


	)

20 
	~"mbed.h
"

22 
CRC7
(cÚ¡ * 
d©a
, 
Ëngth
);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\ChaN\ccsbcs.cpp

28 
	~"ff.h
"

31 #ià
_CODE_PAGE
 == 437

32 
	#_TBLDEF
 1

	)

34 cÚ¡ 
WCHAR
 
	gTbl
[] = {

53 #–ià
_CODE_PAGE
 == 720

54 
	#_TBLDEF
 1

	)

56 cÚ¡ 
WCHAR
 
	gTbl
[] = {

71 0x2261, 0x064B, 0x064C, 0x064D, 0x064E, 0x064F, 0x
O650
, 0x2248,

75 #–ià
_CODE_PAGE
 == 737

76 
	#_TBLDEF
 1

	)

78 cÚ¡ 
WCHAR
 
	gTbl
[] = {

97 #–ià
_CODE_PAGE
 == 775

98 
	#_TBLDEF
 1

	)

100 cÚ¡ 
WCHAR
 
	gTbl
[] = {

119 #–ià
_CODE_PAGE
 == 850

120 
	#_TBLDEF
 1

	)

122 cÚ¡ 
WCHAR
 
	gTbl
[] = {

141 #–ià
_CODE_PAGE
 == 852

142 
	#_TBLDEF
 1

	)

144 cÚ¡ 
WCHAR
 
	gTbl
[] = {

163 #–ià
_CODE_PAGE
 == 855

164 
	#_TBLDEF
 1

	)

166 cÚ¡ 
WCHAR
 
	gTbl
[] = {

185 #–ià
_CODE_PAGE
 == 857

186 
	#_TBLDEF
 1

	)

188 cÚ¡ 
WCHAR
 
	gTbl
[] = {

207 #–ià
_CODE_PAGE
 == 858

208 
	#_TBLDEF
 1

	)

210 cÚ¡ 
WCHAR
 
	gTbl
[] = {

229 #–ià
_CODE_PAGE
 == 862

230 
	#_TBLDEF
 1

	)

232 cÚ¡ 
WCHAR
 
	gTbl
[] = {

251 #–ià
_CODE_PAGE
 == 866

252 
	#_TBLDEF
 1

	)

254 cÚ¡ 
WCHAR
 
	gTbl
[] = {

273 #–ià
_CODE_PAGE
 == 874

274 
	#_TBLDEF
 1

	)

276 cÚ¡ 
WCHAR
 
	gTbl
[] = {

295 #–ià
_CODE_PAGE
 == 1250

296 
	#_TBLDEF
 1

	)

298 cÚ¡ 
WCHAR
 
	gTbl
[] = {

317 #–ià
_CODE_PAGE
 == 1251

318 
	#_TBLDEF
 1

	)

320 cÚ¡ 
WCHAR
 
	gTbl
[] = {

339 #–ià
_CODE_PAGE
 == 1252

340 
	#_TBLDEF
 1

	)

342 cÚ¡ 
WCHAR
 
	gTbl
[] = {

361 #–ià
_CODE_PAGE
 == 1253

362 
	#_TBLDEF
 1

	)

364 cÚ¡ 
WCHAR
 
	gTbl
[] = {

383 #–ià
_CODE_PAGE
 == 1254

384 
	#_TBLDEF
 1

	)

386 cÚ¡ 
WCHAR
 
	gTbl
[] = {

405 #–ià
_CODE_PAGE
 == 1255

406 
	#_TBLDEF
 1

	)

408 cÚ¡ 
WCHAR
 
	gTbl
[] = {

427 #–ià
_CODE_PAGE
 == 1256

428 
	#_TBLDEF
 1

	)

430 cÚ¡ 
WCHAR
 
	gTbl
[] = {

449 #–ià
_CODE_PAGE
 == 1257

450 
	#_TBLDEF
 1

	)

452 cÚ¡ 
WCHAR
 
Tbl
[] = {

471 #–ià
_CODE_PAGE
 == 1258

472 
	#_TBLDEF
 1

	)

474 cÚ¡ 
WCHAR
 
	gTbl
[] = {

496 #ià!
_TBLDEF
 || !
_USE_LFN


497 #”rÜ 
This
 
fe
 
is
 
nÙ
 
Ãeded
 
š
 
cu¼’t
 
cÚfigu¿tiÚ
. 
Remove
 
äom
 
the
 
´ojeù
.

501 
WCHAR
 
	$ff_cÚv”t
 (

502 
WCHAR
 
¤c
,

503 
UINT
 
dœ


506 
WCHAR
 
c
;

509 ià(
¤c
 < 0x80) {

510 
c
 = 
¤c
;

513 ià(
dœ
) {

514 
c
 = (
¤c
 >ğ0x100è? 0 : 
Tbl
[src - 0x80];

517 
c
 = 0; c < 0x80; c++) {

518 ià(
¤c
 =ğ
Tbl
[
c
]) ;

520 
c
 = (c + 0x80) & 0xFF;

524  
c
;

525 
	}
}

528 
WCHAR
 
	$ff_wtouµ”
 (

529 
WCHAR
 
chr


532 cÚ¡ 
WCHAR
 
tbl_low”
[] = { 0x61, 0x62, 0x63, 0x64, 0x65, 0x66, 0x67, 0x68, 0x69, 0x6A, 0x6B, 0x6C, 0x6D, 0x6E, 0x6F, 0x70, 0x71, 0x72, 0x73, 0x74, 0x75, 0x76, 0x77, 0x78, 0x79, 0x7A, 0xA1, 0x00A2, 0x00A3, 0x00A5, 0x00AC, 0x00AF, 0xE0, 0xE1, 0xE2, 0xE3, 0xE4, 0xE5, 0xE6, 0xE7, 0xE8, 0xE9, 0xEA, 0xEB, 0xEC, 0xED, 0xEE, 0xEF, 0xF0, 0xF1, 0xF2, 0xF3, 0xF4, 0xF5, 0xF6, 0xF8, 0xF9, 0xFA, 0xFB, 0xFC, 0xFD, 0xFE, 0x0FF, 0x101, 0x103, 0x105, 0x107, 0x109, 0x10B, 0x10D, 0x10F, 0x111, 0x113, 0x115, 0x117, 0x119, 0x11B, 0x11D, 0x11F, 0x121, 0x123, 0x125, 0x127, 0x129, 0x12B, 0x12D, 0x12F, 0x131, 0x133, 0x135, 0x137, 0x13A, 0x13C, 0x13E, 0x140, 0x142, 0x144, 0x146, 0x148, 0x14B, 0x14D, 0x14F, 0x151, 0x153, 0x155, 0x157, 0x159, 0x15B, 0x15D, 0x15F, 0x161, 0x163, 0x165, 0x167, 0x169, 0x16B, 0x16D, 0x16F, 0x171, 0x173, 0x175, 0x177, 0x17A, 0x17C, 0x17E, 0x192, 0x3B1, 0x3B2, 0x3B3, 0x3B4, 0x3B5, 0x3B6, 0x3B7, 0x3B8, 0x3B9, 0x3BA, 0x3BB, 0x3BC, 0x3BD, 0x3BE, 0x3BF, 0x3C0, 0x3C1, 0x3C3, 0x3C4, 0x3C5, 0x3C6, 0x3C7, 0x3C8, 0x3C9, 0x3CA, 0x430, 0x431, 0x432, 0x433, 0x434, 0x435, 0x436, 0x437, 0x438, 0x439, 0x43A, 0x43B, 0x43C, 0x43D, 0x43E, 0x43F, 0x440, 0x441, 0x442, 0x443, 0x444, 0x445, 0x446, 0x447, 0x448, 0x449, 0x44A, 0x44B, 0x44C, 0x44D, 0x44E, 0x44F, 0x451, 0x452, 0x453, 0x454, 0x455, 0x456, 0x457, 0x458, 0x459, 0x45A, 0x45B, 0x45C, 0x45E, 0x45F, 0x2170, 0x2171, 0x2172, 0x2173, 0x2174, 0x2175, 0x2176, 0x2177, 0x2178, 0x2179, 0x217A, 0x217B, 0x217C, 0x217D, 0x217E, 0x217F, 0xFF41, 0xFF42, 0xFF43, 0xFF44, 0xFF45, 0xFF46, 0xFF47, 0xFF48, 0xFF49, 0xFF4A, 0xFF4B, 0xFF4C, 0xFF4D, 0xFF4E, 0xFF4F, 0xFF50, 0xFF51, 0xFF52, 0xFF53, 0xFF54, 0xFF55, 0xFF56, 0xFF57, 0xFF58, 0xFF59, 0xFF5A, 0 };

533 cÚ¡ 
WCHAR
 
tbl_uµ”
[] = { 0x41, 0x42, 0x43, 0x44, 0x45, 0x46, 0x47, 0x48, 0x49, 0x4A, 0x4B, 0x4C, 0x4D, 0x4E, 0x4F, 0x50, 0x51, 0x52, 0x53, 0x54, 0x55, 0x56, 0x57, 0x58, 0x59, 0x5A, 0x21, 0xFFE0, 0xFFE1, 0xFFE5, 0xFFE2, 0xFFE3, 0xC0, 0xC1, 0xC2, 0xC3, 0xC4, 0xC5, 0xC6, 0xC7, 0xC8, 0xC9, 0xCA, 0xCB, 0xCC, 0xCD, 0xCE, 0xCF, 0xD0, 0xD1, 0xD2, 0xD3, 0xD4, 0xD5, 0xD6, 0xD8, 0xD9, 0xDA, 0xDB, 0xDC, 0xDD, 0xDE, 0x178, 0x100, 0x102, 0x104, 0x106, 0x108, 0x10A, 0x10C, 0x10E, 0x110, 0x112, 0x114, 0x116, 0x118, 0x11A, 0x11C, 0x11E, 0x120, 0x122, 0x124, 0x126, 0x128, 0x12A, 0x12C, 0x12E, 0x130, 0x132, 0x134, 0x136, 0x139, 0x13B, 0x13D, 0x13F, 0x141, 0x143, 0x145, 0x147, 0x14A, 0x14C, 0x14E, 0x150, 0x152, 0x154, 0x156, 0x158, 0x15A, 0x15C, 0x15E, 0x160, 0x162, 0x164, 0x166, 0x168, 0x16A, 0x16C, 0x16E, 0x170, 0x172, 0x174, 0x176, 0x179, 0x17B, 0x17D, 0x191, 0x391, 0x392, 0x393, 0x394, 0x395, 0x396, 0x397, 0x398, 0x399, 0x39A, 0x39B, 0x39C, 0x39D, 0x39E, 0x39F, 0x3A0, 0x3A1, 0x3A3, 0x3A4, 0x3A5, 0x3A6, 0x3A7, 0x3A8, 0x3A9, 0x3AA, 0x410, 0x411, 0x412, 0x413, 0x414, 0x415, 0x416, 0x417, 0x418, 0x419, 0x41A, 0x41B, 0x41C, 0x41D, 0x41E, 0x41F, 0x420, 0x421, 0x422, 0x423, 0x424, 0x425, 0x426, 0x427, 0x428, 0x429, 0x42A, 0x42B, 0x42C, 0x42D, 0x42E, 0x42F, 0x401, 0x402, 0x403, 0x404, 0x405, 0x406, 0x407, 0x408, 0x409, 0x40A, 0x40B, 0x40C, 0x40E, 0x40F, 0x2160, 0x2161, 0x2162, 0x2163, 0x2164, 0x2165, 0x2166, 0x2167, 0x2168, 0x2169, 0x216A, 0x216B, 0x216C, 0x216D, 0x216E, 0x216F, 0xFF21, 0xFF22, 0xFF23, 0xFF24, 0xFF25, 0xFF26, 0xFF27, 0xFF28, 0xFF29, 0xFF2A, 0xFF2B, 0xFF2C, 0xFF2D, 0xFF2E, 0xFF2F, 0xFF30, 0xFF31, 0xFF32, 0xFF33, 0xFF34, 0xFF35, 0xFF36, 0xFF37, 0xFF38, 0xFF39, 0xFF3A, 0 };

534 
i
;

537 
i
 = 0; 
tbl_low”
[i] && 
chr
 !=bl_lower[i]; i++) ;

539  
tbl_low”
[
i
] ? 
tbl_uµ”
[i] : 
chr
;

540 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\ChaN\diskio.cpp

7 
	~"ffcÚf.h
"

8 
	~"diskio.h
"

10 
	~"mbed_debug.h
"

11 
	~"FATFeSy¡em.h
"

13 
usšg
 
Çme¥aû
 
	gmbed
;

15 
DSTATUS
 
	$disk_š™Ÿlize
 (

16 
BYTE
 
drv


19 
	`debug_if
(
FFS_DBG
, "disk_š™ŸlizÚ drv [%d]\n", 
drv
);

20  (
DSTATUS
)
FATFeSy¡em
::
_ffs
[
drv
]->
	`disk_š™Ÿlize
();

21 
	}
}

23 
DSTATUS
 
	$disk_¡©us
 (

24 
BYTE
 
drv


27 
	`debug_if
(
FFS_DBG
, "disk_¡©u Ú drv [%d]\n", 
drv
);

28  (
DSTATUS
)
FATFeSy¡em
::
_ffs
[
drv
]->
	`disk_¡©us
();

29 
	}
}

31 
DRESULT
 
	$disk_»ad
 (

32 
BYTE
 
drv
,

33 
BYTE
 *
buff
,

34 
DWORD
 
£ùÜ
,

35 
BYTE
 
couÁ


38 
	`debug_if
(
FFS_DBG
, "disk_»ad(£ùÜ %d, couÁ %dèÚ drv [%d]\n", 
£ùÜ
, 
couÁ
, 
drv
);

39 ià(
FATFeSy¡em
::
_ffs
[
drv
]->
	`disk_»ad
((
ušt8_t
*)
buff
, 
£ùÜ
, 
couÁ
))

40  
RES_PARERR
;

42  
RES_OK
;

43 
	}
}

45 #ià
_READONLY
 == 0

46 
DRESULT
 
	$disk_wr™e
 (

47 
BYTE
 
drv
,

48 cÚ¡ 
BYTE
 *
buff
,

49 
DWORD
 
£ùÜ
,

50 
BYTE
 
couÁ


53 
	`debug_if
(
FFS_DBG
, "disk_wr™e(£ùÜ %d, couÁ %dèÚ drv [%d]\n", 
£ùÜ
, 
couÁ
, 
drv
);

54 ià(
FATFeSy¡em
::
_ffs
[
drv
]->
	`disk_wr™e
((
ušt8_t
*)
buff
, 
£ùÜ
, 
couÁ
))

55  
RES_PARERR
;

57  
RES_OK
;

58 
	}
}

61 
DRESULT
 
	$disk_ioùl
 (

62 
BYTE
 
drv
,

63 
BYTE
 
ù¾
,

64 *
buff


67 
	`debug_if
(
FFS_DBG
, "disk_ioùl(%d)\n", 
ù¾
);

68 
ù¾
) {

69 
CTRL_SYNC
:

70 if(
FATFeSy¡em
::
_ffs
[
drv
] =ğ
NULL
) {

71  
RES_NOTRDY
;

72 } if(
FATFeSy¡em
::
_ffs
[
drv
]->
	`disk_sync
()) {

73  
RES_ERROR
;

75  
RES_OK
;

76 
GET_SECTOR_COUNT
:

77 if(
FATFeSy¡em
::
_ffs
[
drv
] =ğ
NULL
) {

78  
RES_NOTRDY
;

80 
DWORD
 
»s
 = 
FATFeSy¡em
::
_ffs
[
drv
]->
	`disk_£ùÜs
();

81 if(
»s
 > 0) {

82 *((
DWORD
*)
buff
èğ
»s
;

83  
RES_OK
;

85  
RES_ERROR
;

88 
GET_BLOCK_SIZE
:

89 *((
DWORD
*)
buff
) = 1;

90  
RES_OK
;

93  
RES_PARERR
;

94 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\ChaN\diskio.h

5 #iâdeà
_DISKIO


7 
	#_READONLY
 0

8 
	#_USE_IOCTL
 1

9 

	)

10 
	~"š‹g”.h
"

14 
BYTE
 
	tDSTATUS
;

18 
	mRES_OK
 = 0,

19 
	mRES_ERROR
,

20 
	mRES_WRPRT
,

21 
	mRES_NOTRDY
,

22 
	mRES_PARERR


23 } 
	tDRESULT
;

28 
assign_drives
 (, );

29 
DSTATUS
 
disk_š™Ÿlize
 (
BYTE
);

30 
DSTATUS
 
disk_¡©us
 (
BYTE
);

31 
DRESULT
 
disk_»ad
 (
BYTE
, BYTE*, 
DWORD
, BYTE);

32 #ià 
_READONLY
 == 0

33 
DRESULT
 
disk_wr™e
 (
BYTE
, cÚ¡ BYTE*, 
DWORD
, BYTE);

35 
DRESULT
 
disk_ioùl
 (
BYTE
, BYTE, *);

40 
	#STA_NOINIT
 0x01

41 
	#STA_NODISK
 0x02

42 
	#STA_PROTECT
 0x04

43 

	)

48 
	#CTRL_SYNC
 0

49 
	#GET_SECTOR_COUNT
 1

50 
	#GET_SECTOR_SIZE
 2

51 
	#GET_BLOCK_SIZE
 3

52 
	#CTRL_ERASE_SECTOR
 4

53 

	)

55 
	#CTRL_POWER
 5

56 
	#CTRL_LOCK
 6

57 
	#CTRL_EJECT
 7

58 

	)

60 
	#MMC_GET_TYPE
 10

61 
	#MMC_GET_CSD
 11

62 
	#MMC_GET_CID
 12

63 
	#MMC_GET_OCR
 13

64 
	#MMC_GET_SDSTAT
 14

65 

	)

67 
	#ATA_GET_REV
 20

68 
	#ATA_GET_MODEL
 21

69 
	#ATA_GET_SN
 22

70 

	)

72 
	#NAND_FORMAT
 30

73 

	)

75 
	#_DISKIO


	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\ChaN\ff.cpp

98 
	~"ff.h
"

99 
	~"diskio.h
"

108 #ià
_FATFS
 != 4004

109 #”rÜ 
WrÚg
 
šşude
 
fe
 (
ff
.
h
).

114 #ià
_MAX_SS
 != 512 && _MAX_SS != 1024 && _MAX_SS != 2048 && _MAX_SS != 4096

115 #”rÜ 
WrÚg
 
£ùÜ
 
size
.

117 #ià
_MAX_SS
 != 512

118 
	#SS
(
fs
è((fs)->
ssize
è

	)

120 
	#SS
(
fs
è512U

	)

125 #ià
_FS_REENTRANT


126 #ià
_USE_LFN
 == 1

127 #”rÜ 
Stic
 
LFN
 
wÜk
 
¬—
 
mu¡
 
nÙ
 
be
 
u£d
 
š
 
»
-
’Œªt
 
cÚfigu¿tiÚ
.

129 
	#ENTER_FF
(
fs
è{ ià(!
	`lock_fs
(fs)è 
FR_TIMEOUT
; }

	)

130 
	#LEAVE_FF
(
fs
, 
»s
è{ 
	`uÆock_fs
(fs,„es); „es; }

	)

132 
	#ENTER_FF
(
fs
)

	)

133 
	#LEAVE_FF
(
fs
, 
»s
è 
	)
res

136 
	#ABORT
(
fs
, 
»s
è{ 
å
->
æag
 |ğ
FA__ERROR
; 
	`LEAVE_FF
(fs,„es); }

	)

140 #ià
_FS_LOCK


141 #ià
_FS_READONLY


142 #”rÜ 
_FS_LOCK
 
mu¡
 
be
 0 
Ú
 
»ad
-
Úly
 
cfg
.

145 
FATFS
 *
	mfs
;

146 
DWORD
 
	mşu
;

147 
WORD
 
	midx
;

148 
WORD
 
	mùr
;

149 } 
	tFILESEM
;

156 #ià
_CODE_PAGE
 == 932

157 
	#_DF1S
 0x81

	)

158 
	#_DF1E
 0x9F

	)

159 
	#_DF2S
 0xE0

	)

160 
	#_DF2E
 0xFC

	)

161 
	#_DS1S
 0x40

	)

162 
	#_DS1E
 0x7E

	)

163 
	#_DS2S
 0x80

	)

164 
	#_DS2E
 0xFC

	)

166 #–ià
_CODE_PAGE
 == 936

167 
	#_DF1S
 0x81

	)

168 
	#_DF1E
 0xFE

	)

169 
	#_DS1S
 0x40

	)

170 
	#_DS1E
 0x7E

	)

171 
	#_DS2S
 0x80

	)

172 
	#_DS2E
 0xFE

	)

174 #–ià
_CODE_PAGE
 == 949

175 
	#_DF1S
 0x81

	)

176 
	#_DF1E
 0xFE

	)

177 
	#_DS1S
 0x41

	)

178 
	#_DS1E
 0x5A

	)

179 
	#_DS2S
 0x61

	)

180 
	#_DS2E
 0x7A

	)

181 
	#_DS3S
 0x81

	)

182 
	#_DS3E
 0xFE

	)

184 #–ià
_CODE_PAGE
 == 950

185 
	#_DF1S
 0x81

	)

186 
	#_DF1E
 0xFE

	)

187 
	#_DS1S
 0x40

	)

188 
	#_DS1E
 0x7E

	)

189 
	#_DS2S
 0xA1

	)

190 
	#_DS2E
 0xFE

	)

192 #–ià
_CODE_PAGE
 == 437

193 
	#_DF1S
 0

	)

194 
	#_EXCVT
 {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F,0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \

197 0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

199 #–ià
_CODE_PAGE
 == 720

200 
	#_DF1S
 0

	)

201 
	#_EXCVT
 {0x80,0x81,0x45,0x41,0x84,0x41,0x86,0x43,0x45,0x45,0x45,0x49,0x49,0x8D,0x8E,0x8F,0x90,0x92,0x92,0x93,0x94,0x95,0x49,0x49,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \

204 0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

206 #–ià
_CODE_PAGE
 == 737

207 
	#_DF1S
 0

	)

208 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x92,0x92,0x93,0x94,0x95,0x96,0x97,0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87, \

211 0x97,0xEA,0xEB,0xEC,0xE4,0xED,0xEE,0xE7,0xE8,0xF1,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

213 #–ià
_CODE_PAGE
 == 775

214 
	#_DF1S
 0

	)

215 
	#_EXCVT
 {0x80,0x9A,0x91,0xA0,0x8E,0x95,0x8F,0x80,0xAD,0xED,0x8A,0x8A,0xA1,0x8D,0x8E,0x8F,0x90,0x92,0x92,0xE2,0x99,0x95,0x96,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \

218 0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE3,0xE8,0xE8,0xEA,0xEA,0xEE,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

220 #–ià
_CODE_PAGE
 == 850

221 
	#_DF1S
 0

	)

222 
	#_EXCVT
 {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0xDE,0x8E,0x8F,0x90,0x92,0x92,0xE2,0x99,0xE3,0xEA,0xEB,0x59,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \

225 0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE7,0xE9,0xEA,0xEB,0xED,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

227 #–ià
_CODE_PAGE
 == 852

228 
	#_DF1S
 0

	)

229 
	#_EXCVT
 {0x80,0x9A,0x90,0xB6,0x8E,0xDE,0x8F,0x80,0x9D,0xD3,0x8A,0x8A,0xD7,0x8D,0x8E,0x8F,0x90,0x91,0x91,0xE2,0x99,0x95,0x95,0x97,0x97,0x99,0x9A,0x9B,0x9B,0x9D,0x9E,0x9F, \

232 0xE0,0xE1,0xE2,0xE3,0xE3,0xD5,0xE6,0xE6,0xE8,0xE9,0xE8,0xEB,0xED,0xED,0xDD,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xEB,0xFC,0xFC,0xFE,0xFF}

	)

234 #–ià
_CODE_PAGE
 == 855

235 
	#_DF1S
 0

	)

236 
	#_EXCVT
 {0x81,0x81,0x83,0x83,0x85,0x85,0x87,0x87,0x89,0x89,0x8B,0x8B,0x8D,0x8D,0x8F,0x8F,0x91,0x91,0x93,0x93,0x95,0x95,0x97,0x97,0x99,0x99,0x9B,0x9B,0x9D,0x9D,0x9F,0x9F, \

239 0xE0,0xE2,0xE2,0xE4,0xE4,0xE6,0xE6,0xE8,0xE8,0xEA,0xEA,0xEC,0xEC,0xEE,0xEE,0xEF,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFD,0xFE,0xFF}

	)

241 #–ià
_CODE_PAGE
 == 857

242 
	#_DF1S
 0

	)

243 
	#_EXCVT
 {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0x98,0x8E,0x8F,0x90,0x92,0x92,0xE2,0x99,0xE3,0xEA,0xEB,0x98,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9E, \

246 0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xDE,0x59,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

248 #–ià
_CODE_PAGE
 == 858

249 
	#_DF1S
 0

	)

250 
	#_EXCVT
 {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0xDE,0x8E,0x8F,0x90,0x92,0x92,0xE2,0x99,0xE3,0xEA,0xEB,0x59,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \

253 0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE7,0xE9,0xEA,0xEB,0xED,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

255 #–ià
_CODE_PAGE
 == 862

256 
	#_DF1S
 0

	)

257 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \

260 0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

262 #–ià
_CODE_PAGE
 == 866

263 
	#_DF1S
 0

	)

264 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \

267 0x90,0x91,0x92,0x93,0x9d,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F,0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

269 #–ià
_CODE_PAGE
 == 874

270 
	#_DF1S
 0

	)

271 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \

274 0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

276 #–ià
_CODE_PAGE
 == 1250

277 
	#_DF1S
 0

	)

278 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x8A,0x9B,0x8C,0x8D,0x8E,0x8F, \

281 0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xF7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xFF}

	)

283 #–ià
_CODE_PAGE
 == 1251

284 
	#_DF1S
 0

	)

285 
	#_EXCVT
 {0x80,0x81,0x82,0x82,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x80,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x8A,0x9B,0x8C,0x8D,0x8E,0x8F, \

288 0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF}

	)

290 #–ià
_CODE_PAGE
 == 1252

291 
	#_DF1S
 0

	)

292 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0xAd,0x9B,0x8C,0x9D,0xAE,0x9F, \

295 0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xF7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0x9F}

	)

297 #–ià
_CODE_PAGE
 == 1253

298 
	#_DF1S
 0

	)

299 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \

302 0xE0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xF2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xFB,0xBC,0xFD,0xBF,0xFF}

	)

304 #–ià
_CODE_PAGE
 == 1254

305 
	#_DF1S
 0

	)

306 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x8A,0x9B,0x8C,0x9D,0x9E,0x9F, \

309 0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xF7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0x9F}

	)

311 #–ià
_CODE_PAGE
 == 1255

312 
	#_DF1S
 0

	)

313 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \

316 0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

318 #–ià
_CODE_PAGE
 == 1256

319 
	#_DF1S
 0

	)

320 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x8C,0x9D,0x9E,0x9F, \

323 0x41,0xE1,0x41,0xE3,0xE4,0xE5,0xE6,0x43,0x45,0x45,0x45,0x45,0xEC,0xED,0x49,0x49,0xF0,0xF1,0xF2,0xF3,0x4F,0xF5,0xF6,0xF7,0xF8,0x55,0xFA,0x55,0x55,0xFD,0xFE,0xFF}

	)

325 #–ià
_CODE_PAGE
 == 1257

326 
	#_DF1S
 0

	)

327 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \

330 0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xF7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xFF}

	)

332 #–ià
_CODE_PAGE
 == 1258

333 
	#_DF1S
 0

	)

334 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0xAC,0x9D,0x9E,0x9F, \

337 0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xEC,0xCD,0xCE,0xCF,0xD0,0xD1,0xF2,0xD3,0xD4,0xD5,0xD6,0xF7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xFE,0x9F}

	)

339 #–ià
_CODE_PAGE
 == 1

340 #ià
_USE_LFN


341 #”rÜ 
CªnÙ
 
u£
 
LFN
 
ã©u»
 
w™hout
 
v®id
 
code
 
·ge
.

343 
	#_DF1S
 0

	)

346 #”rÜ 
Unknown
 
code
 
·ge


352 
	#IsUµ”
(
c
è(((c)>='A')&&((c)<='Z'))

	)

353 
	#IsLow”
(
c
è(((c)>='a')&&((c)<='z'))

	)

354 
	#IsDig™
(
c
è(((c)>='0')&&((c)<='9'))

	)

356 #ià
_DF1S


358 #ifdeà
_DF2S


359 
	#IsDBCS1
(
c
è(((
BYTE
)(cè>ğ
_DF1S
 && (BYTE)(cè<ğ
_DF1E
è|| ((BYTE)(cè>ğ
_DF2S
 && (BYTE)(cè<ğ
_DF2E
))

	)

361 
	#IsDBCS1
(
c
è((
BYTE
)(cè>ğ
_DF1S
 && (BYTE)(cè<ğ
_DF1E
)

	)

364 #ifdeà
_DS3S


365 
	#IsDBCS2
(
c
è(((
BYTE
)(cè>ğ
_DS1S
 && (BYTE)(cè<ğ
_DS1E
è|| ((BYTE)(cè>ğ
_DS2S
 && (BYTE)(cè<ğ
_DS2E
è|| ((BYTE)(cè>ğ
_DS3S
 && (BYTE)(cè<ğ
_DS3E
))

	)

367 
	#IsDBCS2
(
c
è(((
BYTE
)(cè>ğ
_DS1S
 && (BYTE)(cè<ğ
_DS1E
è|| ((BYTE)(cè>ğ
_DS2S
 && (BYTE)(cè<ğ
_DS2E
))

	)

372 
	#IsDBCS1
(
c
è0

	)

373 
	#IsDBCS2
(
c
è0

	)

379 
	#NS
 11

	)

380 
	#NS_LOSS
 0x01

	)

381 
	#NS_LFN
 0x02

	)

382 
	#NS_LAST
 0x04

	)

383 
	#NS_BODY
 0x08

	)

384 
	#NS_EXT
 0x10

	)

385 
	#NS_DOT
 0x20

	)

390 
	#MIN_FAT16
 4086

	)

391 
	#MIN_FAT32
 65526

	)

398 
	#BS_jmpBoÙ
 0

	)

399 
	#BS_OEMName
 3

	)

400 
	#BPB_BytsP”Sec
 11

	)

401 
	#BPB_SecP”Clus
 13

	)

402 
	#BPB_RsvdSecCÁ
 14

	)

403 
	#BPB_NumFATs
 16

	)

404 
	#BPB_RoÙEÁCÁ
 17

	)

405 
	#BPB_TÙSec16
 19

	)

406 
	#BPB_MedŸ
 21

	)

407 
	#BPB_FATSz16
 22

	)

408 
	#BPB_SecP”Trk
 24

	)

409 
	#BPB_NumH—ds
 26

	)

410 
	#BPB_HiddSec
 28

	)

411 
	#BPB_TÙSec32
 32

	)

412 
	#BS_DrvNum
 36

	)

413 
	#BS_BoÙSig
 38

	)

414 
	#BS_VŞID
 39

	)

415 
	#BS_VŞLab
 43

	)

416 
	#BS_FSysTy³
 54

	)

417 
	#BPB_FATSz32
 36

	)

418 
	#BPB_ExtFÏgs
 40

	)

419 
	#BPB_FSV”
 42

	)

420 
	#BPB_RoÙClus
 44

	)

421 
	#BPB_FSInfo
 48

	)

422 
	#BPB_BkBoÙSec
 50

	)

423 
	#BS_DrvNum32
 64

	)

424 
	#BS_BoÙSig32
 66

	)

425 
	#BS_VŞID32
 67

	)

426 
	#BS_VŞLab32
 71

	)

427 
	#BS_FSysTy³32
 82

	)

428 
	#FSI_L—dSig
 0

	)

429 
	#FSI_SŒucSig
 484

	)

430 
	#FSI_F»e_CouÁ
 488

	)

431 
	#FSI_Nxt_F»e
 492

	)

432 
	#MBR_TabË
 446

	)

433 
	#SZ_PTE
 16

	)

434 
	#BS_55AA
 510

	)

436 
	#DIR_Name
 0

	)

437 
	#DIR_A‰r
 11

	)

438 
	#DIR_NT»s
 12

	)

439 
	#DIR_C¹TimeT’th
 13

	)

440 
	#DIR_C¹Time
 14

	)

441 
	#DIR_C¹D©e
 16

	)

442 
	#DIR_L¡AccD©e
 18

	)

443 
	#DIR_F¡ClusHI
 20

	)

444 
	#DIR_W¹Time
 22

	)

445 
	#DIR_W¹D©e
 24

	)

446 
	#DIR_F¡ClusLO
 26

	)

447 
	#DIR_FeSize
 28

	)

448 
	#LDIR_Ord
 0

	)

449 
	#LDIR_A‰r
 11

	)

450 
	#LDIR_Ty³
 12

	)

451 
	#LDIR_Chksum
 13

	)

452 
	#LDIR_F¡ClusLO
 26

	)

453 
	#SZ_DIR
 32

	)

454 
	#LLE
 0x40

	)

455 
	#DDE
 0xE5

	)

456 
	#NDDE
 0x05

	)

467 #ià
_VOLUMES


469 
FATFS
 *
	gF©Fs
[
_VOLUMES
];

471 #”rÜ 
Numb”
 
of
 
vŞumes
 
mu¡
 
nÙ
 
be
 0.

475 
WORD
 
	gFsid
;

477 #ià
_FS_RPATH


479 
BYTE
 
	gCu¼VŞ
;

482 #ià
_FS_LOCK


484 
FILESEM
 
	gFes
[
_FS_LOCK
];

487 #ià
_USE_LFN
 == 0

488 
	#DEF_NAMEBUF
 
BYTE
 
sâ
[12]

	)

489 
	#INIT_BUF
(
dobj
è(dobj).
â
 = 
sâ


	)

490 
	#FREE_BUF
()

	)

492 #–ià
_USE_LFN
 == 1

493 
WCHAR
 
	gLâBuf
[
_MAX_LFN
+1];

494 
	#DEF_NAMEBUF
 
BYTE
 
sâ
[12]

	)

495 
	#INIT_BUF
(
dobj
è{ (dobj).
â
 = 
sâ
; (dobj).
lâ
 = 
LâBuf
; }

	)

496 
	#FREE_BUF
()

	)

498 #–ià
_USE_LFN
 == 2

499 
	#DEF_NAMEBUF
 
BYTE
 
sâ
[12]; 
WCHAR
 
lbuf
[
_MAX_LFN
+1]

	)

500 
	#INIT_BUF
(
dobj
è{ (dobj).
â
 = 
sâ
; (dobj).
lâ
 = 
lbuf
; }

	)

501 
	#FREE_BUF
()

	)

503 #–ià
_USE_LFN
 == 3

504 
	#DEF_NAMEBUF
 
BYTE
 
sâ
[12]; 
WCHAR
 *
lâ


	)

505 
	#INIT_BUF
(
dobj
è{ 
lâ
 = 
	`ff_mem®loc
((
_MAX_LFN
 + 1) * 2); \

506 ià(!
lâ
è
	`LEAVE_FF
((
dobj
).
fs
, 
FR_NOT_ENOUGH_CORE
); \

507 (
dobj
).
lâ
 =†â; (dobj).
â
 = 
sâ
; }

	)

508 
	#FREE_BUF
(è
	`ff_memä“
(
lâ
)

	)

511 #”rÜ 
WrÚg
 
LFN
 
cÚfigu¿tiÚ
.

530 
	$mem_ıy
 (* 
d¡
, cÚ¡ * 
¤c
, 
UINT
 
út
) {

531 
BYTE
 *
d
 = (BYTE*)
d¡
;

532 cÚ¡ 
BYTE
 *
s
 = (cÚ¡ BYTE*)
¤c
;

534 #ià
_WORD_ACCESS
 == 1

535 
út
 >=  ()) {

536 *(*)
d
 = *(*)
s
;

537 
d
 +ğ (); 
s
 +=  ();

538 
út
 -=  ();

541 
út
--)

542 *
d
++ = *
s
++;

543 
	}
}

547 
	$mem_£t
 (* 
d¡
, 
v®
, 
UINT
 
út
) {

548 
BYTE
 *
d
 = (BYTE*)
d¡
;

550 
út
--)

551 *
d
++ = (
BYTE
)
v®
;

552 
	}
}

556 
	$mem_cmp
 (cÚ¡ * 
d¡
, cÚ¡ * 
¤c
, 
UINT
 
út
) {

557 cÚ¡ 
BYTE
 *
d
 = (cÚ¡ BYTE *)
d¡
, *
s
 = (cÚ¡ BYTE *)
¤c
;

558 
r
 = 0;

560 
út
-- && (
r
 = *
d
++ - *
s
++) == 0) ;

561  
r
;

562 
	}
}

566 
	$chk_chr
 (cÚ¡ * 
¡r
, 
chr
) {

567 *
¡r
 && *¡¸!ğ
chr
) str++;

568  *
¡r
;

569 
	}
}

576 #ià
_FS_REENTRANT


579 
	$lock_fs
 (

580 
FATFS
 *
fs


583  
	`ff_»q_g¿Á
(
fs
->
sobj
);

584 
	}
}

588 
	$uÆock_fs
 (

589 
FATFS
 *
fs
,

590 
FRESULT
 
»s


593 ià(
fs
 &&

594 
»s
 !ğ
FR_NOT_ENABLED
 &&

595 
»s
 !ğ
FR_INVALID_DRIVE
 &&

596 
»s
 !ğ
FR_INVALID_OBJECT
 &&

597 
»s
 !ğ
FR_TIMEOUT
) {

598 
	`ff_»l_g¿Á
(
fs
->
sobj
);

600 
	}
}

608 #ià
_FS_LOCK


611 
FRESULT
 
	$chk_lock
 (

612 
DIR
* 
dj
,

613 
acc


616 
UINT
 
i
, 
be
;

619 
i
 = 
be
 = 0; i < 
_FS_LOCK
; i++) {

620 ià(
Fes
[
i
].
fs
) {

621 ià(
Fes
[
i
].
fs
 =ğ
dj
->fs &&

622 
Fes
[
i
].
şu
 =ğ
dj
->
sşu¡
 &&

623 
Fes
[
i
].
idx
 =ğ
dj
->
šdex
) ;

625 
be
++;

628 ià(
i
 =ğ
_FS_LOCK
)

629  (
be
 || 
acc
 =ğ2è? 
FR_OK
 : 
FR_TOO_MANY_OPEN_FILES
;

632  (
acc
 || 
Fes
[
i
].
ùr
 =ğ0x100è? 
FR_LOCKED
 : 
FR_OK
;

633 
	}
}

637 
	$’q_lock
 ()

639 
UINT
 
i
;

641 
i
 = 0; i < 
_FS_LOCK
 && 
Fes
[i].
fs
; i++) ;

642  (
i
 =ğ
_FS_LOCK
) ? 0 : 1;

643 
	}
}

647 
UINT
 
	$šc_lock
 (

648 
DIR
* 
dj
,

649 
acc


652 
UINT
 
i
;

655 
i
 = 0; i < 
_FS_LOCK
; i++) {

656 ià(
Fes
[
i
].
fs
 =ğ
dj
->fs &&

657 
Fes
[
i
].
şu
 =ğ
dj
->
sşu¡
 &&

658 
Fes
[
i
].
idx
 =ğ
dj
->
šdex
) ;

661 ià(
i
 =ğ
_FS_LOCK
) {

662 
i
 = 0; i < 
_FS_LOCK
 && 
Fes
[i].
fs
; i++) ;

663 ià(
i
 =ğ
_FS_LOCK
)  0;

664 
Fes
[
i
].
fs
 = 
dj
->fs;

665 
Fes
[
i
].
şu
 = 
dj
->
sşu¡
;

666 
Fes
[
i
].
idx
 = 
dj
->
šdex
;

667 
Fes
[
i
].
ùr
 = 0;

670 ià(
acc
 && 
Fes
[
i
].
ùr
)  0;

672 
Fes
[
i
].
ùr
 = 
acc
 ? 0x100 : Files[i].ctr + 1;

674  
i
 + 1;

675 
	}
}

679 
FRESULT
 
	$dec_lock
 (

680 
UINT
 
i


683 
WORD
 
n
;

684 
FRESULT
 
»s
;

687 ià(--
i
 < 
_FS_LOCK
) {

688 
n
 = 
Fes
[
i
].
ùr
;

689 ià(
n
 == 0x100)‚ = 0;

690 ià(
n
)‚--;

691 
Fes
[
i
].
ùr
 = 
n
;

692 ià(!
n
è
Fes
[
i
].
fs
 = 0;

693 
»s
 = 
FR_OK
;

695 
»s
 = 
FR_INT_ERR
;

697  
»s
;

698 
	}
}

702 
	$ş—r_lock
 (

703 
FATFS
 *
fs


706 
UINT
 
i
;

708 
i
 = 0; i < 
_FS_LOCK
; i++) {

709 ià(
Fes
[
i
].
fs
 == fs) Files[i].fs = 0;

711 
	}
}

721 
FRESULT
 
	$move_wšdow
 (

722 
FATFS
 *
fs
,

723 
DWORD
 
£ùÜ


726 
DWORD
 
w£ù
;

729 
w£ù
 = 
fs
->
wš£ù
;

730 ià(
w£ù
 !ğ
£ùÜ
) {

731 #ià!
_FS_READONLY


732 ià(
fs
->
wæag
) {

733 ià(
	`disk_wr™e
(
fs
->
drv
, fs->
wš
, 
w£ù
, 1è!ğ
RES_OK
)

734  
FR_DISK_ERR
;

735 
fs
->
wæag
 = 0;

736 ià(
w£ù
 < (
fs
->
çtba£
 + fs->
fsize
)) {

737 
BYTE
 
nf
;

738 
nf
 = 
fs
->
n_çts
;‚f > 1;‚f--) {

739 
w£ù
 +ğ
fs
->
fsize
;

740 
	`disk_wr™e
(
fs
->
drv
, fs->
wš
, 
w£ù
, 1);

745 ià(
£ùÜ
) {

746 ià(
	`disk_»ad
(
fs
->
drv
, fs->
wš
, 
£ùÜ
, 1è!ğ
RES_OK
)

747  
FR_DISK_ERR
;

748 
fs
->
wš£ù
 = 
£ùÜ
;

752  
FR_OK
;

753 
	}
}

761 #ià!
_FS_READONLY


763 
FRESULT
 
	$sync
 (

764 
FATFS
 *
fs


767 
FRESULT
 
»s
;

770 
»s
 = 
	`move_wšdow
(
fs
, 0);

771 ià(
»s
 =ğ
FR_OK
) {

773 ià(
fs
->
fs_ty³
 =ğ
FS_FAT32
 && fs->
fsi_æag
) {

774 
fs
->
wš£ù
 = 0;

776 
	`mem_£t
(
fs
->
wš
, 0, 512);

777 
	`ST_WORD
(
fs
->
wš
+
BS_55AA
, 0xAA55);

778 
	`ST_DWORD
(
fs
->
wš
+
FSI_L—dSig
, 0x41615252);

779 
	`ST_DWORD
(
fs
->
wš
+
FSI_SŒucSig
, 0x61417272);

780 
	`ST_DWORD
(
fs
->
wš
+
FSI_F»e_CouÁ
, fs->
ä“_şu¡
);

781 
	`ST_DWORD
(
fs
->
wš
+
FSI_Nxt_F»e
, fs->
Ï¡_şu¡
);

783 
	`disk_wr™e
(
fs
->
drv
, fs->
wš
, fs->
fsi_£ùÜ
, 1);

784 
fs
->
fsi_æag
 = 0;

787 ià(
	`disk_ioùl
(
fs
->
drv
, 
CTRL_SYNC
, 0è!ğ
RES_OK
)

788 
»s
 = 
FR_DISK_ERR
;

791  
»s
;

792 
	}
}

803 
DWORD
 
	$şu¡2£ù
 (

804 
FATFS
 *
fs
,

805 
DWORD
 
ş¡


808 
ş¡
 -= 2;

809 ià(
ş¡
 >ğ(
fs
->
n_ç‹Á
 - 2))  0;

810  
ş¡
 * 
fs
->
csize
 + fs->
d©aba£
;

811 
	}
}

821 
DWORD
 
	$g‘_çt
 (

822 
FATFS
 *
fs
,

823 
DWORD
 
ş¡


826 
UINT
 
wc
, 
bc
;

827 
BYTE
 *
p
;

830 ià(
ş¡
 < 2 || cl¡ >ğ
fs
->
n_ç‹Á
)

833 
fs
->
fs_ty³
) {

834 
FS_FAT12
 :

835 
bc
 = (
UINT
)
ş¡
; bc += bc / 2;

836 ià(
	`move_wšdow
(
fs
, fs->
çtba£
 + (
bc
 / 
	`SS
(fs)))) ;

837 
wc
 = 
fs
->
wš
[
bc
 % 
	`SS
(fs)]; bc++;

838 ià(
	`move_wšdow
(
fs
, fs->
çtba£
 + (
bc
 / 
	`SS
(fs)))) ;

839 
wc
 |ğ
fs
->
wš
[
bc
 % 
	`SS
(fs)] << 8;

840  (
ş¡
 & 1è? (
wc
 >> 4) : (wc & 0xFFF);

842 
FS_FAT16
 :

843 ià(
	`move_wšdow
(
fs
, fs->
çtba£
 + (
ş¡
 / (
	`SS
(fs) / 2)))) ;

844 
p
 = &
fs
->
wš
[
ş¡
 * 2 % 
	`SS
(fs)];

845  
	`LD_WORD
(
p
);

847 
FS_FAT32
 :

848 ià(
	`move_wšdow
(
fs
, fs->
çtba£
 + (
ş¡
 / (
	`SS
(fs) / 4)))) ;

849 
p
 = &
fs
->
wš
[
ş¡
 * 4 % 
	`SS
(fs)];

850  
	`LD_DWORD
(
p
) & 0x0FFFFFFF;

854 
	}
}

862 #ià!
_FS_READONLY


864 
FRESULT
 
	$put_çt
 (

865 
FATFS
 *
fs
,

866 
DWORD
 
ş¡
,

867 
DWORD
 
v®


870 
UINT
 
bc
;

871 
BYTE
 *
p
;

872 
FRESULT
 
»s
;

875 ià(
ş¡
 < 2 || cl¡ >ğ
fs
->
n_ç‹Á
) {

876 
»s
 = 
FR_INT_ERR
;

879 
fs
->
fs_ty³
) {

880 
FS_FAT12
 :

881 
bc
 = (
UINT
)
ş¡
; bc += bc / 2;

882 
»s
 = 
	`move_wšdow
(
fs
, fs->
çtba£
 + (
bc
 / 
	`SS
(fs)));

883 ià(
»s
 !ğ
FR_OK
) ;

884 
p
 = &
fs
->
wš
[
bc
 % 
	`SS
(fs)];

885 *
p
 = (
ş¡
 & 1è? ((*°& 0x0Fè| ((
BYTE
)
v®
 << 4)) : (BYTE)val;

886 
bc
++;

887 
fs
->
wæag
 = 1;

888 
»s
 = 
	`move_wšdow
(
fs
, fs->
çtba£
 + (
bc
 / 
	`SS
(fs)));

889 ià(
»s
 !ğ
FR_OK
) ;

890 
p
 = &
fs
->
wš
[
bc
 % 
	`SS
(fs)];

891 *
p
 = (
ş¡
 & 1è? (
BYTE
)(
v®
 >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));

894 
FS_FAT16
 :

895 
»s
 = 
	`move_wšdow
(
fs
, fs->
çtba£
 + (
ş¡
 / (
	`SS
(fs) / 2)));

896 ià(
»s
 !ğ
FR_OK
) ;

897 
p
 = &
fs
->
wš
[
ş¡
 * 2 % 
	`SS
(fs)];

898 
	`ST_WORD
(
p
, (
WORD
)
v®
);

901 
FS_FAT32
 :

902 
»s
 = 
	`move_wšdow
(
fs
, fs->
çtba£
 + (
ş¡
 / (
	`SS
(fs) / 4)));

903 ià(
»s
 !ğ
FR_OK
) ;

904 
p
 = &
fs
->
wš
[
ş¡
 * 4 % 
	`SS
(fs)];

905 
v®
 |ğ
	`LD_DWORD
(
p
) & 0xF0000000;

906 
	`ST_DWORD
(
p
, 
v®
);

910 
»s
 = 
FR_INT_ERR
;

912 
fs
->
wæag
 = 1;

915  
»s
;

916 
	}
}

925 #ià!
_FS_READONLY


927 
FRESULT
 
	$»move_chaš
 (

928 
FATFS
 *
fs
,

929 
DWORD
 
ş¡


932 
FRESULT
 
»s
;

933 
DWORD
 
nxt
;

934 #ià
_USE_ERASE


935 
DWORD
 
sş
 = 
ş¡
, 
eş
 = cl¡, 
¹
[2];

938 ià(
ş¡
 < 2 || cl¡ >ğ
fs
->
n_ç‹Á
) {

939 
»s
 = 
FR_INT_ERR
;

942 
»s
 = 
FR_OK
;

943 
ş¡
 < 
fs
->
n_ç‹Á
) {

944 
nxt
 = 
	`g‘_çt
(
fs
, 
ş¡
);

945 ià(
nxt
 == 0) ;

946 ià(
nxt
 =ğ1è{ 
»s
 = 
FR_INT_ERR
; ; }

947 ià(
nxt
 =ğ0xFFFFFFFFè{ 
»s
 = 
FR_DISK_ERR
; ; }

948 
»s
 = 
	`put_çt
(
fs
, 
ş¡
, 0);

949 ià(
»s
 !ğ
FR_OK
) ;

950 ià(
fs
->
ä“_şu¡
 != 0xFFFFFFFF) {

951 
fs
->
ä“_şu¡
++;

952 
fs
->
fsi_æag
 = 1;

954 #ià
_USE_ERASE


955 ià(
eş
 + 1 =ğ
nxt
) {

956 
eş
 = 
nxt
;

958 
¹
[0] = 
	`şu¡2£ù
(
fs
, 
sş
);

959 
¹
[1] = 
	`şu¡2£ù
(
fs
, 
eş
è+ fs->
csize
 - 1;

960 
	`disk_ioùl
(
fs
->
drv
, 
CTRL_ERASE_SECTOR
, 
¹
);

961 
sş
 = 
eş
 = 
nxt
;

964 
ş¡
 = 
nxt
;

968  
»s
;

969 
	}
}

978 #ià!
_FS_READONLY


980 
DWORD
 
	$ü—‹_chaš
 (

981 
FATFS
 *
fs
,

982 
DWORD
 
ş¡


985 
DWORD
 
cs
, 
nş
, 
sş
;

986 
FRESULT
 
»s
;

989 ià(
ş¡
 == 0) {

990 
sş
 = 
fs
->
Ï¡_şu¡
;

991 ià(!
sş
 || sş >ğ
fs
->
n_ç‹Á
) scl = 1;

994 
cs
 = 
	`g‘_çt
(
fs
, 
ş¡
);

995 ià(
cs
 < 2)  1;

996 ià(
cs
 < 
fs
->
n_ç‹Á
)  cs;

997 
sş
 = 
ş¡
;

1000 
nş
 = 
sş
;

1002 
nş
++;

1003 ià(
nş
 >ğ
fs
->
n_ç‹Á
) {

1004 
nş
 = 2;

1005 ià(
nş
 > 
sş
)  0;

1007 
cs
 = 
	`g‘_çt
(
fs
, 
nş
);

1008 ià(
cs
 == 0) ;

1009 ià(
cs
 == 0xFFFFFFFF || cs == 1)

1010  
cs
;

1011 ià(
nş
 =ğ
sş
)  0;

1014 
»s
 = 
	`put_çt
(
fs
, 
nş
, 0x0FFFFFFF);

1015 ià(
»s
 =ğ
FR_OK
 && 
ş¡
 != 0) {

1016 
»s
 = 
	`put_çt
(
fs
, 
ş¡
, 
nş
);

1018 ià(
»s
 =ğ
FR_OK
) {

1019 
fs
->
Ï¡_şu¡
 = 
nş
;

1020 ià(
fs
->
ä“_şu¡
 != 0xFFFFFFFF) {

1021 
fs
->
ä“_şu¡
--;

1022 
fs
->
fsi_æag
 = 1;

1025 
nş
 = (
»s
 =ğ
FR_DISK_ERR
) ? 0xFFFFFFFF : 1;

1028  
nş
;

1029 
	}
}

1038 #ià
_USE_FASTSEEK


1040 
DWORD
 
	$şmt_şu¡
 (

1041 
FIL
* 
å
,

1042 
DWORD
 
ofs


1045 
DWORD
 
ş
, 
nş
, *
tbl
;

1048 
tbl
 = 
å
->
ştbl
 + 1;

1049 
ş
 = 
ofs
 / 
	`SS
(
å
->
fs
è/ fp->fs->
csize
;

1051 
nş
 = *
tbl
++;

1052 ià(!
nş
)  0;

1053 ià(
ş
 < 
nş
) ;

1054 
ş
 -ğ
nş
; 
tbl
++;

1056  
ş
 + *
tbl
;

1057 
	}
}

1067 
FRESULT
 
	$dœ_sdi
 (

1068 
FATFS_DIR
 *
dj
,

1069 
WORD
 
idx


1072 
DWORD
 
ş¡
;

1073 
WORD
 
ic
;

1076 
dj
->
šdex
 = 
idx
;

1077 
ş¡
 = 
dj
->
sşu¡
;

1078 ià(
ş¡
 =ğ1 || cl¡ >ğ
dj
->
fs
->
n_ç‹Á
)

1079  
FR_INT_ERR
;

1080 ià(!
ş¡
 && 
dj
->
fs
->
fs_ty³
 =ğ
FS_FAT32
)

1081 
ş¡
 = 
dj
->
fs
->
dœba£
;

1083 ià(
ş¡
 == 0) {

1084 
dj
->
şu¡
 = 
ş¡
;

1085 ià(
idx
 >ğ
dj
->
fs
->
n_roÙdœ
)

1086  
FR_INT_ERR
;

1087 
dj
->
£ù
 = dj->
fs
->
dœba£
 + 
idx
 / (
	`SS
(dj->fsè/ 
SZ_DIR
);

1090 
ic
 = 
	`SS
(
dj
->
fs
è/ 
SZ_DIR
 * dj->fs->
csize
;

1091 
idx
 >ğ
ic
) {

1092 
ş¡
 = 
	`g‘_çt
(
dj
->
fs
, clst);

1093 ià(
ş¡
 =ğ0xFFFFFFFFè 
FR_DISK_ERR
;

1094 ià(
ş¡
 < 2 || cl¡ >ğ
dj
->
fs
->
n_ç‹Á
)

1095  
FR_INT_ERR
;

1096 
idx
 -ğ
ic
;

1098 
dj
->
şu¡
 = 
ş¡
;

1099 
dj
->
£ù
 = 
	`şu¡2£ù
(dj->
fs
, 
ş¡
è+ 
idx
 / (
	`SS
(dj->fsè/ 
SZ_DIR
);

1102 
dj
->
dœ
 = dj->
fs
->
wš
 + (
idx
 % (
	`SS
(dj->fsè/ 
SZ_DIR
)) * SZ_DIR;

1104  
FR_OK
;

1105 
	}
}

1115 
FRESULT
 
	$dœ_Ãxt
 (

1116 
FATFS_DIR
 *
dj
,

1117 
¡»tch


1120 
DWORD
 
ş¡
;

1121 
WORD
 
i
;

1124 
¡»tch
 = stretch;

1125 
i
 = 
dj
->
šdex
 + 1;

1126 ià(!
i
 || !
dj
->
£ù
)

1127  
FR_NO_FILE
;

1129 ià(!(
i
 % (
	`SS
(
dj
->
fs
è/ 
SZ_DIR
))) {

1130 
dj
->
£ù
++;

1132 ià(
dj
->
şu¡
 == 0) {

1133 ià(
i
 >ğ
dj
->
fs
->
n_roÙdœ
)

1134  
FR_NO_FILE
;

1137 ià(((
i
 / (
	`SS
(
dj
->
fs
è/ 
SZ_DIR
)è& (dj->fs->
csize
 - 1)) == 0) {

1138 
ş¡
 = 
	`g‘_çt
(
dj
->
fs
, dj->
şu¡
);

1139 ià(
ş¡
 <ğ1è 
FR_INT_ERR
;

1140 ià(
ş¡
 =ğ0xFFFFFFFFè 
FR_DISK_ERR
;

1141 ià(
ş¡
 >ğ
dj
->
fs
->
n_ç‹Á
) {

1142 #ià!
_FS_READONLY


1143 
BYTE
 
c
;

1144 ià(!
¡»tch
è 
FR_NO_FILE
;

1145 
ş¡
 = 
	`ü—‹_chaš
(
dj
->
fs
, dj->
şu¡
);

1146 ià(
ş¡
 =ğ0è 
FR_DENIED
;

1147 ià(
ş¡
 =ğ1è 
FR_INT_ERR
;

1148 ià(
ş¡
 =ğ0xFFFFFFFFè 
FR_DISK_ERR
;

1150 ià(
	`move_wšdow
(
dj
->
fs
, 0)è 
FR_DISK_ERR
;

1151 
	`mem_£t
(
dj
->
fs
->
wš
, 0, 
	`SS
(dj->fs));

1152 
dj
->
fs
->
wš£ù
 = 
	`şu¡2£ù
(dj->fs, 
ş¡
);

1153 
c
 = 0; c < 
dj
->
fs
->
csize
; c++) {

1154 
dj
->
fs
->
wæag
 = 1;

1155 ià(
	`move_wšdow
(
dj
->
fs
, 0)è 
FR_DISK_ERR
;

1156 
dj
->
fs
->
wš£ù
++;

1158 
dj
->
fs
->
wš£ù
 -ğ
c
;

1160  
FR_NO_FILE
;

1163 
dj
->
şu¡
 = 
ş¡
;

1164 
dj
->
£ù
 = 
	`şu¡2£ù
(dj->
fs
, 
ş¡
);

1169 
dj
->
šdex
 = 
i
;

1170 
dj
->
dœ
 = dj->
fs
->
wš
 + (
i
 % (
	`SS
(dj->fsè/ 
SZ_DIR
)) * SZ_DIR;

1172  
FR_OK
;

1173 
	}
}

1183 
DWORD
 
	$ld_şu¡
 (

1184 
FATFS
 *
fs
,

1185 
BYTE
 *
dœ


1188 
DWORD
 
ş
;

1190 
ş
 = 
	`LD_WORD
(
dœ
+
DIR_F¡ClusLO
);

1191 ià(
fs
->
fs_ty³
 =ğ
FS_FAT32
)

1192 
ş
 |ğ(
DWORD
)
	`LD_WORD
(
dœ
+
DIR_F¡ClusHI
) << 16;

1194  
ş
;

1195 
	}
}

1198 #ià!
_FS_READONLY


1200 
	$¡_şu¡
 (

1201 
BYTE
 *
dœ
,

1202 
DWORD
 
ş


1205 
	`ST_WORD
(
dœ
+
DIR_F¡ClusLO
, 
ş
);

1206 
	`ST_WORD
(
dœ
+
DIR_F¡ClusHI
, 
ş
 >> 16);

1207 
	}
}

1215 #ià
_USE_LFN


1217 cÚ¡ 
BYTE
 
	gLâOfs
[] = {1,3,5,7,9,14,16,18,20,22,24,28,30};

1221 
	$cmp_lâ
 (

1222 
WCHAR
 *
lâbuf
,

1223 
BYTE
 *
dœ


1226 
UINT
 
i
, 
s
;

1227 
WCHAR
 
wc
, 
uc
;

1230 
i
 = ((
dœ
[
LDIR_Ord
] & ~
LLE
) - 1) * 13;

1231 
s
 = 0; 
wc
 = 1;

1233 
uc
 = 
	`LD_WORD
(
dœ
+
LâOfs
[
s
]);

1234 ià(
wc
) {

1235 
wc
 = 
	`ff_wtouµ”
(
uc
);

1236 ià(
i
 >ğ
_MAX_LFN
 || 
wc
 !ğ
	`ff_wtouµ”
(
lâbuf
[i++]))

1239 ià(
uc
 != 0xFFFF)  0;

1241 } ++
s
 < 13);

1243 ià((
dœ
[
LDIR_Ord
] & 
LLE
è&& 
wc
 && 
lâbuf
[
i
])

1247 
	}
}

1252 
	$pick_lâ
 (

1253 
WCHAR
 *
lâbuf
,

1254 
BYTE
 *
dœ


1257 
UINT
 
i
, 
s
;

1258 
WCHAR
 
wc
, 
uc
;

1261 
i
 = ((
dœ
[
LDIR_Ord
] & 0x3F) - 1) * 13;

1263 
s
 = 0; 
wc
 = 1;

1265 
uc
 = 
	`LD_WORD
(
dœ
+
LâOfs
[
s
]);

1266 ià(
wc
) {

1267 ià(
i
 >ğ
_MAX_LFN
)  0;

1268 
lâbuf
[
i
++] = 
wc
 = 
uc
;

1270 ià(
uc
 != 0xFFFF)  0;

1272 } ++
s
 < 13);

1274 ià(
dœ
[
LDIR_Ord
] & 
LLE
) {

1275 ià(
i
 >ğ
_MAX_LFN
)  0;

1276 
lâbuf
[
i
] = 0;

1280 
	}
}

1283 #ià!
_FS_READONLY


1285 
	$f™_lâ
 (

1286 cÚ¡ 
WCHAR
 *
lâbuf
,

1287 
BYTE
 *
dœ
,

1288 
BYTE
 
Üd
,

1289 
BYTE
 
sum


1292 
UINT
 
i
, 
s
;

1293 
WCHAR
 
wc
;

1296 
dœ
[
LDIR_Chksum
] = 
sum
;

1297 
dœ
[
LDIR_A‰r
] = 
AM_LFN
;

1298 
dœ
[
LDIR_Ty³
] = 0;

1299 
	`ST_WORD
(
dœ
+
LDIR_F¡ClusLO
, 0);

1301 
i
 = (
Üd
 - 1) * 13;

1302 
s
 = 
wc
 = 0;

1304 ià(
wc
 !ğ0xFFFFèwøğ
lâbuf
[
i
++];

1305 
	`ST_WORD
(
dœ
+
LâOfs
[
s
], 
wc
);

1306 ià(!
wc
) wc = 0xFFFF;

1307 } ++
s
 < 13);

1308 ià(
wc
 =ğ0xFFFF || !
lâbuf
[
i
]è
Üd
 |ğ
LLE
;

1309 
dœ
[
LDIR_Ord
] = 
Üd
;

1310 
	}
}

1320 #ià
_USE_LFN


1321 
	$g’_numÇme
 (

1322 
BYTE
 *
d¡
,

1323 cÚ¡ 
BYTE
 *
¤c
,

1324 cÚ¡ 
WCHAR
 *
lâ
,

1325 
WORD
 
£q


1328 
BYTE
 
ns
[8], 
c
;

1329 
UINT
 
i
, 
j
;

1332 
	`mem_ıy
(
d¡
, 
¤c
, 11);

1334 ià(
£q
 > 5) {

1335 dØ
£q
 = (£q >> 1è+ (£q << 15è+ (
WORD
)*
lâ
++; *lfn);

1339 
i
 = 7;

1341 
c
 = (
£q
 % 16) + '0';

1342 ià(
c
 > '9') c += 7;

1343 
ns
[
i
--] = 
c
;

1344 
£q
 /= 16;

1345 } 
£q
);

1346 
ns
[
i
] = '~';

1349 
j
 = 0; j < 
i
 && 
d¡
[j] != ' '; j++) {

1350 ià(
	`IsDBCS1
(
d¡
[
j
])) {

1351 ià(
j
 =ğ
i
 - 1) ;

1352 
j
++;

1356 
d¡
[
j
++] = (
i
 < 8è? 
ns
[i++] : ' ';

1357 } 
j
 < 8);

1358 
	}
}

1367 #ià
_USE_LFN


1369 
BYTE
 
	$sum_sâ
 (

1370 cÚ¡ 
BYTE
 *
dœ


1373 
BYTE
 
sum
 = 0;

1374 
UINT
 
n
 = 11;

1376 dØ
sum
 = (sum >> 1è+ (sum << 7è+ *
dœ
++; --
n
);

1377  
sum
;

1378 
	}
}

1389 
FRESULT
 
	$dœ_fšd
 (

1390 
FATFS_DIR
 *
dj


1393 
FRESULT
 
»s
;

1394 
BYTE
 
c
, *
dœ
;

1395 #ià
_USE_LFN


1396 
BYTE
 
a
, 
Üd
, 
sum
;

1399 
»s
 = 
	`dœ_sdi
(
dj
, 0);

1400 ià(
»s
 !ğ
FR_OK
) „es;

1402 #ià
_USE_LFN


1403 
Üd
 = 
sum
 = 0xFF;

1406 
»s
 = 
	`move_wšdow
(
dj
->
fs
, dj->
£ù
);

1407 ià(
»s
 !ğ
FR_OK
) ;

1408 
dœ
 = 
dj
->dir;

1409 
c
 = 
dœ
[
DIR_Name
];

1410 ià(
c
 =ğ0è{ 
»s
 = 
FR_NO_FILE
; ; }

1411 #ià
_USE_LFN


1412 
a
 = 
dœ
[
DIR_A‰r
] & 
AM_MASK
;

1413 ià(
c
 =ğ
DDE
 || ((
a
 & 
AM_VOL
è&&‡ !ğ
AM_LFN
)) {

1414 
Üd
 = 0xFF;

1416 ià(
a
 =ğ
AM_LFN
) {

1417 ià(
dj
->
lâ
) {

1418 ià(
c
 & 
LLE
) {

1419 
sum
 = 
dœ
[
LDIR_Chksum
];

1420 
c
 &ğ~
LLE
; 
Üd
 = c;

1421 
dj
->
lâ_idx
 = dj->
šdex
;

1424 
Üd
 = (
c
 =ğÜd && 
sum
 =ğ
dœ
[
LDIR_Chksum
] && 
	`cmp_lâ
(
dj
->
lâ
, dir)) ? ord - 1 : 0xFF;

1427 ià(!
Üd
 && 
sum
 =ğ
	`sum_sâ
(
dœ
)) ;

1428 
Üd
 = 0xFF; 
dj
->
lâ_idx
 = 0xFFFF;

1429 ià(!(
dj
->
â
[
NS
] & 
NS_LOSS
è&& !
	`mem_cmp
(
dœ
, dj->fn, 11)) ;

1433 ià(!(
dœ
[
DIR_A‰r
] & 
AM_VOL
è&& !
	`mem_cmp
(dœ, 
dj
->
â
, 11))

1436 
»s
 = 
	`dœ_Ãxt
(
dj
, 0);

1437 } 
»s
 =ğ
FR_OK
);

1439  
»s
;

1440 
	}
}

1448 #ià
_FS_MINIMIZE
 <= 1

1450 
FRESULT
 
	$dœ_»ad
 (

1451 
FATFS_DIR
 *
dj


1454 
FRESULT
 
»s
;

1455 
BYTE
 
c
, *
dœ
;

1456 #ià
_USE_LFN


1457 
BYTE
 
a
, 
Üd
 = 0xFF, 
sum
 = 0xFF;

1460 
»s
 = 
FR_NO_FILE
;

1461 
dj
->
£ù
) {

1462 
»s
 = 
	`move_wšdow
(
dj
->
fs
, dj->
£ù
);

1463 ià(
»s
 !ğ
FR_OK
) ;

1464 
dœ
 = 
dj
->dir;

1465 
c
 = 
dœ
[
DIR_Name
];

1466 ià(
c
 =ğ0è{ 
»s
 = 
FR_NO_FILE
; ; }

1467 #ià
_USE_LFN


1468 
a
 = 
dœ
[
DIR_A‰r
] & 
AM_MASK
;

1469 ià(
c
 =ğ
DDE
 || (!
_FS_RPATH
 && c =ğ'.'è|| ((
a
 & 
AM_VOL
è&&‡ !ğ
AM_LFN
)) {

1470 
Üd
 = 0xFF;

1472 ià(
a
 =ğ
AM_LFN
) {

1473 ià(
c
 & 
LLE
) {

1474 
sum
 = 
dœ
[
LDIR_Chksum
];

1475 
c
 &ğ~
LLE
; 
Üd
 = c;

1476 
dj
->
lâ_idx
 = dj->
šdex
;

1479 
Üd
 = (
c
 =ğÜd && 
sum
 =ğ
dœ
[
LDIR_Chksum
] && 
	`pick_lâ
(
dj
->
lâ
, dir)) ? ord - 1 : 0xFF;

1481 ià(
Üd
 || 
sum
 !ğ
	`sum_sâ
(
dœ
))

1482 
dj
->
lâ_idx
 = 0xFFFF;

1487 ià(
c
 !ğ
DDE
 && (
_FS_RPATH
 || c !ğ'.'è&& !(
dœ
[
DIR_A‰r
] & 
AM_VOL
))

1490 
»s
 = 
	`dœ_Ãxt
(
dj
, 0);

1491 ià(
»s
 !ğ
FR_OK
) ;

1494 ià(
»s
 !ğ
FR_OK
è
dj
->
£ù
 = 0;

1496  
»s
;

1497 
	}
}

1505 #ià!
_FS_READONLY


1507 
FRESULT
 
	$dœ_»gi¡”
 (

1508 
FATFS_DIR
 *
dj


1511 
FRESULT
 
»s
;

1512 
BYTE
 
c
, *
dœ
;

1513 #ià
_USE_LFN


1514 
WORD
 
n
, 
Ã
, 
is
;

1515 
BYTE
 
¢
[12], *
â
, 
sum
;

1516 
WCHAR
 *
lâ
;

1519 
â
 = 
dj
->â; 
lâ
 = dj->lfn;

1520 
	`mem_ıy
(
¢
, 
â
, 12);

1522 ià(
_FS_RPATH
 && (
¢
[
NS
] & 
NS_DOT
))

1523  
FR_INVALID_NAME
;

1525 ià(
¢
[
NS
] & 
NS_LOSS
) {

1526 
â
[
NS
] = 0; 
dj
->
lâ
 = 0;

1527 
n
 = 1;‚ < 100;‚++) {

1528 
	`g’_numÇme
(
â
, 
¢
, 
lâ
, 
n
);

1529 
»s
 = 
	`dœ_fšd
(
dj
);

1530 ià(
»s
 !ğ
FR_OK
) ;

1532 ià(
n
 =ğ100è 
FR_DENIED
;

1533 ià(
»s
 !ğ
FR_NO_FILE
) „es;

1534 
â
[
NS
] = 
¢
[NS]; 
dj
->
lâ
 =†fn;

1537 ià(
¢
[
NS
] & 
NS_LFN
) {

1538 
Ã
 = 0; 
lâ
[ne];‚e++) ;

1539 
Ã
 = (ne + 25) / 13;

1541 
Ã
 = 1;

1545 
»s
 = 
	`dœ_sdi
(
dj
, 0);

1546 ià(
»s
 !ğ
FR_OK
) „es;

1547 
n
 = 
is
 = 0;

1549 
»s
 = 
	`move_wšdow
(
dj
->
fs
, dj->
£ù
);

1550 ià(
»s
 !ğ
FR_OK
) ;

1551 
c
 = *
dj
->
dœ
;

1552 ià(
c
 =ğ
DDE
 || c == 0) {

1553 ià(
n
 =ğ0è
is
 = 
dj
->
šdex
;

1554 ià(++
n
 =ğ
Ã
) ;

1556 
n
 = 0;

1558 
»s
 = 
	`dœ_Ãxt
(
dj
, 1);

1559 } 
»s
 =ğ
FR_OK
);

1561 ià(
»s
 =ğ
FR_OK
 && 
Ã
 > 1) {

1562 
»s
 = 
	`dœ_sdi
(
dj
, 
is
);

1563 ià(
»s
 =ğ
FR_OK
) {

1564 
sum
 = 
	`sum_sâ
(
dj
->
â
);

1565 
Ã
--;

1567 
»s
 = 
	`move_wšdow
(
dj
->
fs
, dj->
£ù
);

1568 ià(
»s
 !ğ
FR_OK
) ;

1569 
	`f™_lâ
(
dj
->
lâ
, dj->
dœ
, (
BYTE
)
Ã
, 
sum
);

1570 
dj
->
fs
->
wæag
 = 1;

1571 
»s
 = 
	`dœ_Ãxt
(
dj
, 0);

1572 } 
»s
 =ğ
FR_OK
 && --
Ã
);

1577 
»s
 = 
	`dœ_sdi
(
dj
, 0);

1578 ià(
»s
 =ğ
FR_OK
) {

1580 
»s
 = 
	`move_wšdow
(
dj
->
fs
, dj->
£ù
);

1581 ià(
»s
 !ğ
FR_OK
) ;

1582 
c
 = *
dj
->
dœ
;

1583 ià(
c
 =ğ
DDE
 || c == 0) ;

1584 
»s
 = 
	`dœ_Ãxt
(
dj
, 1);

1585 } 
»s
 =ğ
FR_OK
);

1589 ià(
»s
 =ğ
FR_OK
) {

1590 
»s
 = 
	`move_wšdow
(
dj
->
fs
, dj->
£ù
);

1591 ià(
»s
 =ğ
FR_OK
) {

1592 
dœ
 = 
dj
->dir;

1593 
	`mem_£t
(
dœ
, 0, 
SZ_DIR
);

1594 
	`mem_ıy
(
dœ
, 
dj
->
â
, 11);

1595 #ià
_USE_LFN


1596 
dœ
[
DIR_NT»s
] = *(
dj
->
â
+
NS
è& (
NS_BODY
 | 
NS_EXT
);

1598 
dj
->
fs
->
wæag
 = 1;

1602  
»s
;

1603 
	}
}

1612 #ià!
_FS_READONLY
 && !
_FS_MINIMIZE


1614 
FRESULT
 
	$dœ_»move
 (

1615 
FATFS_DIR
 *
dj


1618 
FRESULT
 
»s
;

1619 #ià
_USE_LFN


1620 
WORD
 
i
;

1622 
i
 = 
dj
->
šdex
;

1623 
»s
 = 
	`dœ_sdi
(
dj
, (
WORD
)((dj->
lâ_idx
 =ğ0xFFFFè? 
i
 : dj->lfn_idx));

1624 ià(
»s
 =ğ
FR_OK
) {

1626 
»s
 = 
	`move_wšdow
(
dj
->
fs
, dj->
£ù
);

1627 ià(
»s
 !ğ
FR_OK
) ;

1628 *
dj
->
dœ
 = 
DDE
;

1629 
dj
->
fs
->
wæag
 = 1;

1630 ià(
dj
->
šdex
 >ğ
i
) ;

1631 
»s
 = 
	`dœ_Ãxt
(
dj
, 0);

1632 } 
»s
 =ğ
FR_OK
);

1633 ià(
»s
 =ğ
FR_NO_FILE
è» ğ
FR_INT_ERR
;

1637 
»s
 = 
	`dœ_sdi
(
dj
, dj->
šdex
);

1638 ià(
»s
 =ğ
FR_OK
) {

1639 
»s
 = 
	`move_wšdow
(
dj
->
fs
, dj->
£ù
);

1640 ià(
»s
 =ğ
FR_OK
) {

1641 *
dj
->
dœ
 = 
DDE
;

1642 
dj
->
fs
->
wæag
 = 1;

1647  
»s
;

1648 
	}
}

1659 
FRESULT
 
	$ü—‹_Çme
 (

1660 
FATFS_DIR
 *
dj
,

1661 cÚ¡ 
TCHAR
 **
·th


1664 #ifdeà
_EXCVT


1665 cÚ¡ 
BYTE
 
excvt
[] = 
_EXCVT
;

1668 #ià
_USE_LFN


1669 
BYTE
 
b
, 
cf
;

1670 
WCHAR
 
w
, *
lâ
;

1671 
UINT
 
i
, 
ni
, 
si
, 
di
;

1672 cÚ¡ 
TCHAR
 *
p
;

1675 
p
 = *
·th
; *p == '/' || *p == '\\';…++) ;

1676 
lâ
 = 
dj
->lfn;

1677 
si
 = 
di
 = 0;

1679 
w
 = 
p
[
si
++];

1680 ià(
w
 < ' ' || w == '/' || w == '\\') ;

1681 ià(
di
 >ğ
_MAX_LFN
)

1682  
FR_INVALID_NAME
;

1683 #ià!
_LFN_UNICODE


1684 
w
 &= 0xFF;

1685 ià(
	`IsDBCS1
(
w
)) {

1686 
b
 = (
BYTE
)
p
[
si
++];

1687 ià(!
	`IsDBCS2
(
b
))

1688  
FR_INVALID_NAME
;

1689 
w
 = (w << 8è+ 
b
;

1691 
w
 = 
	`ff_cÚv”t
(w, 1);

1692 ià(!
w
è 
FR_INVALID_NAME
;

1694 ià(
w
 < 0x80 && 
	`chk_chr
("\"*:<>\?|\x7F", w))

1695  
FR_INVALID_NAME
;

1696 
lâ
[
di
++] = 
w
;

1698 *
·th
 = &
p
[
si
];

1699 
cf
 = (
w
 < ' 'è? 
NS_LAST
 : 0;

1700 #ià
_FS_RPATH


1701 ià((
di
 =ğ1 && 
lâ
[di-1] == '.') ||

1702 (
di
 =ğ2 && 
lâ
[di-1] == '.' &&†fn[di-2] == '.')) {

1703 
lâ
[
di
] = 0;

1704 
i
 = 0; i < 11; i++)

1705 
dj
->
â
[
i
] = (˜< 
di
) ? '.' : ' ';

1706 
dj
->
â
[
i
] = 
cf
 | 
NS_DOT
;

1707  
FR_OK
;

1710 
di
) {

1711 
w
 = 
lâ
[
di
-1];

1712 ià(
w
 != ' ' && w != '.') ;

1713 
di
--;

1715 ià(!
di
è 
FR_INVALID_NAME
;

1717 
lâ
[
di
] = 0;

1720 
	`mem_£t
(
dj
->
â
, ' ', 11);

1721 
si
 = 0; 
lâ
[si] == ' ' ||†fn[si] == '.'; si++) ;

1722 ià(
si
è
cf
 |ğ
NS_LOSS
 | 
NS_LFN
;

1723 
di
 && 
lâ
[di - 1] != '.') di--;

1725 
b
 = 
i
 = 0; 
ni
 = 8;

1727 
w
 = 
lâ
[
si
++];

1728 ià(!
w
) ;

1729 ià(
w
 =ğ' ' || (w =ğ'.' && 
si
 !ğ
di
)) {

1730 
cf
 |ğ
NS_LOSS
 | 
NS_LFN
; ;

1733 ià(
i
 >ğ
ni
 || 
si
 =ğ
di
) {

1734 ià(
ni
 == 11) {

1735 
cf
 |ğ
NS_LOSS
 | 
NS_LFN
; ;

1737 ià(
si
 !ğ
di
è
cf
 |ğ
NS_LOSS
 | 
NS_LFN
;

1738 ià(
si
 > 
di
) ;

1739 
si
 = 
di
; 
i
 = 8; 
ni
 = 11;

1740 
b
 <<= 2; ;

1743 ià(
w
 >= 0x80) {

1744 #ifdeà
_EXCVT


1745 
w
 = 
	`ff_cÚv”t
(w, 0);

1746 ià(
w
èw = 
excvt
[w - 0x80];

1748 
w
 = 
	`ff_cÚv”t
(
	`ff_wtouµ”
(w), 0);

1750 
cf
 |ğ
NS_LFN
;

1753 ià(
_DF1S
 && 
w
 >= 0x100) {

1754 ià(
i
 >ğ
ni
 - 1) {

1755 
cf
 |ğ
NS_LOSS
 | 
NS_LFN
; 
i
 = 
ni
; ;

1757 
dj
->
â
[
i
++] = (
BYTE
)(
w
 >> 8);

1759 ià(!
w
 || 
	`chk_chr
("+,;=[]", w)) {

1760 
w
 = '_'; 
cf
 |ğ
NS_LOSS
 | 
NS_LFN
;

1762 ià(
	`IsUµ”
(
w
)) {

1763 
b
 |= 2;

1765 ià(
	`IsLow”
(
w
)) {

1766 
b
 |ğ1; 
w
 -= 0x20;

1771 
dj
->
â
[
i
++] = (
BYTE
)
w
;

1774 ià(
dj
->
â
[0] =ğ
DDE
èdj->â[0] = 
NDDE
;

1776 ià(
ni
 =ğ8è
b
 <<= 2;

1777 ià((
b
 & 0x0C) == 0x0C || (b & 0x03) == 0x03)

1778 
cf
 |ğ
NS_LFN
;

1779 ià(!(
cf
 & 
NS_LFN
)) {

1780 ià((
b
 & 0x03è=ğ0x01è
cf
 |ğ
NS_EXT
;

1781 ià((
b
 & 0x0Cè=ğ0x04è
cf
 |ğ
NS_BODY
;

1784 
dj
->
â
[
NS
] = 
cf
;

1786  
FR_OK
;

1790 
BYTE
 
b
, 
c
, 
d
, *
sâ
;

1791 
UINT
 
ni
, 
si
, 
i
;

1792 cÚ¡ *
p
;

1795 
p
 = *
·th
; *p == '/' || *p == '\\';…++) ;

1796 
sâ
 = 
dj
->
â
;

1797 
	`mem_£t
(
sâ
, ' ', 11);

1798 
si
 = 
i
 = 
b
 = 0; 
ni
 = 8;

1799 #ià
_FS_RPATH


1800 ià(
p
[
si
] == '.') {

1802 
c
 = (
BYTE
)
p
[
si
++];

1803 ià(
c
 !ğ'.' || 
si
 >= 3) ;

1804 
sâ
[
i
++] = 
c
;

1806 ià(
c
 !ğ'/' && c !ğ'\\' && c > ' 'è 
FR_INVALID_NAME
;

1807 *
·th
 = &
p
[
si
];

1808 
sâ
[
NS
] = (
c
 <ğ' 'è? 
NS_LAST
 | 
NS_DOT
 : NS_DOT;

1809  
FR_OK
;

1813 
c
 = (
BYTE
)
p
[
si
++];

1814 ià(
c
 <= ' ' || c == '/' || c == '\\') ;

1815 ià(
c
 =ğ'.' || 
i
 >ğ
ni
) {

1816 ià(
ni
 !ğ8 || 
c
 !ğ'.'è 
FR_INVALID_NAME
;

1817 
i
 = 8; 
ni
 = 11;

1818 
b
 <<= 2; ;

1820 ià(
c
 >= 0x80) {

1821 
b
 |= 3;

1822 #ifdeà
_EXCVT


1823 
c
 = 
excvt
[c - 0x80];

1825 #ià!
_DF1S


1826  
FR_INVALID_NAME
;

1830 ià(
	`IsDBCS1
(
c
)) {

1831 
d
 = (
BYTE
)
p
[
si
++];

1832 ià(!
	`IsDBCS2
(
d
è|| 
i
 >ğ
ni
 - 1)

1833  
FR_INVALID_NAME
;

1834 
sâ
[
i
++] = 
c
;

1835 
sâ
[
i
++] = 
d
;

1837 ià(
	`chk_chr
("\"*+,:;<=>\?[]|\x7F", 
c
))

1838  
FR_INVALID_NAME
;

1839 ià(
	`IsUµ”
(
c
)) {

1840 
b
 |= 2;

1842 ià(
	`IsLow”
(
c
)) {

1843 
b
 |ğ1; 
c
 -= 0x20;

1846 
sâ
[
i
++] = 
c
;

1849 *
·th
 = &
p
[
si
];

1850 
c
 = (ø<ğ' 'è? 
NS_LAST
 : 0;

1852 ià(!
i
è 
FR_INVALID_NAME
;

1853 ià(
sâ
[0] =ğ
DDE
èsâ[0] = 
NDDE
;

1855 ià(
ni
 =ğ8è
b
 <<= 2;

1856 ià((
b
 & 0x03è=ğ0x01è
c
 |ğ
NS_EXT
;

1857 ià((
b
 & 0x0Cè=ğ0x04è
c
 |ğ
NS_BODY
;

1859 
sâ
[
NS
] = 
c
;

1861  
FR_OK
;

1863 
	}
}

1871 #ià
_FS_MINIMIZE
 <= 1

1873 
	$g‘_fešfo
 (

1874 
FATFS_DIR
 *
dj
,

1875 
FILINFO
 *
âo


1878 
UINT
 
i
;

1879 
BYTE
 
Á
, *
dœ
;

1880 
TCHAR
 *
p
, 
c
;

1883 
p
 = 
âo
->
âame
;

1884 ià(
dj
->
£ù
) {

1885 
dœ
 = 
dj
->dir;

1886 
Á
 = 
dœ
[
DIR_NT»s
];

1887 
i
 = 0; i < 8; i++) {

1888 
c
 = 
dœ
[
i
];

1889 ià(
c
 == ' ') ;

1890 ià(
c
 =ğ
NDDE
èøğ(
TCHAR
)
DDE
;

1891 ià(
_USE_LFN
 && (
Á
 & 
NS_BODY
è&& 
	`IsUµ”
(
c
)) c += 0x20;

1892 #ià
_LFN_UNICODE


1893 ià(
	`IsDBCS1
(
c
è&& 
i
 < 7 && 
	`IsDBCS2
(
dœ
[i+1]))

1894 
c
 = (ø<< 8è| 
dœ
[++
i
];

1895 
c
 = 
	`ff_cÚv”t
(c, 1);

1896 ià(!
c
) c = '?';

1898 *
p
++ = 
c
;

1900 ià(
dœ
[8] != ' ') {

1901 *
p
++ = '.';

1902 
i
 = 8; i < 11; i++) {

1903 
c
 = 
dœ
[
i
];

1904 ià(
c
 == ' ') ;

1905 ià(
_USE_LFN
 && (
Á
 & 
NS_EXT
è&& 
	`IsUµ”
(
c
)) c += 0x20;

1906 #ià
_LFN_UNICODE


1907 ià(
	`IsDBCS1
(
c
è&& 
i
 < 10 && 
	`IsDBCS2
(
dœ
[i+1]))

1908 
c
 = (ø<< 8è| 
dœ
[++
i
];

1909 
c
 = 
	`ff_cÚv”t
(c, 1);

1910 ià(!
c
) c = '?';

1912 *
p
++ = 
c
;

1915 
âo
->
ç‰rib
 = 
dœ
[
DIR_A‰r
];

1916 
âo
->
fsize
 = 
	`LD_DWORD
(
dœ
+
DIR_FeSize
);

1917 
âo
->
fd©e
 = 
	`LD_WORD
(
dœ
+
DIR_W¹D©e
);

1918 
âo
->
áime
 = 
	`LD_WORD
(
dœ
+
DIR_W¹Time
);

1920 *
p
 = 0;

1922 #ià
_USE_LFN


1923 ià(
âo
->
lâame
 && fno->
lfsize
) {

1924 
TCHAR
 *

 = 
âo
->
lâame
;

1925 
WCHAR
 
w
, *
lâ
;

1927 
i
 = 0;

1928 ià(
dj
->
£ù
 && dj->
lâ_idx
 != 0xFFFF) {

1929 
lâ
 = 
dj
->lfn;

1930 (
w
 = *
lâ
++) != 0) {

1931 #ià!
_LFN_UNICODE


1932 
w
 = 
	`ff_cÚv”t
(w, 0);

1933 ià(!
w
è{ 
i
 = 0; ; }

1934 ià(
_DF1S
 && 
w
 >= 0x100)

1935 

[
i
++] = (
TCHAR
)(
w
 >> 8);

1937 ià(
i
 >ğ
âo
->
lfsize
 - 1) { i = 0; ; }

1938 

[
i
++] = (
TCHAR
)
w
;

1941 

[
i
] = 0;

1944 
	}
}

1955 
FRESULT
 
	$fŞlow_·th
 (

1956 
FATFS_DIR
 *
dj
,

1957 cÚ¡ 
TCHAR
 *
·th


1960 
FRESULT
 
»s
;

1961 
BYTE
 *
dœ
, 
ns
;

1964 #ià
_FS_RPATH


1965 ià(*
·th
 == '/' || *path == '\\') {

1966 
·th
++; 
dj
->
sşu¡
 = 0;

1968 
dj
->
sşu¡
 = dj->
fs
->
cdœ
;

1971 ià(*
·th
 == '/' || *path == '\\')

1972 
·th
++;

1973 
dj
->
sşu¡
 = 0;

1976 ià((
UINT
)*
·th
 < ' ') {

1977 
»s
 = 
	`dœ_sdi
(
dj
, 0);

1978 
dj
->
dœ
 = 0;

1981 
»s
 = 
	`ü—‹_Çme
(
dj
, &
·th
);

1982 ià(
»s
 !ğ
FR_OK
) ;

1983 
»s
 = 
	`dœ_fšd
(
dj
);

1984 
ns
 = *(
dj
->
â
+
NS
);

1985 ià(
»s
 !ğ
FR_OK
) {

1986 ià(
»s
 !ğ
FR_NO_FILE
) ;

1988 ià(
_FS_RPATH
 && (
ns
 & 
NS_DOT
)) {

1989 
dj
->
sşu¡
 = 0; dj->
dœ
 = 0;

1990 
»s
 = 
FR_OK
;

1991 ià(!(
ns
 & 
NS_LAST
)) ;

1993 ià(!(
ns
 & 
NS_LAST
)è
»s
 = 
FR_NO_PATH
;

1997 ià(
ns
 & 
NS_LAST
) ;

1998 
dœ
 = 
dj
->dir;

1999 ià(!(
dœ
[
DIR_A‰r
] & 
AM_DIR
)) {

2000 
»s
 = 
FR_NO_PATH
; ;

2002 
dj
->
sşu¡
 = 
	`ld_şu¡
(dj->
fs
, 
dœ
);

2006  
»s
;

2007 
	}
}

2017 
BYTE
 
	$check_fs
 (

2018 
FATFS
 *
fs
,

2019 
DWORD
 
£ù


2022 ià(
	`disk_»ad
(
fs
->
drv
, fs->
wš
, 
£ù
, 1è!ğ
RES_OK
)

2024 ià(
	`LD_WORD
(&
fs
->
wš
[
BS_55AA
]) != 0xAA55)

2027 ià((
	`LD_DWORD
(&
fs
->
wš
[
BS_FSysTy³
]) & 0xFFFFFF) == 0x544146)

2029 ià((
	`LD_DWORD
(&
fs
->
wš
[
BS_FSysTy³32
]) & 0xFFFFFF) == 0x544146)

2033 
	}
}

2043 
FRESULT
 
	$chk_mouÁed
 (

2044 cÚ¡ 
TCHAR
 **
·th
,

2045 
FATFS
 **
rfs
,

2046 
BYTE
 
wmode


2049 
BYTE
 
fmt
, 
b
, 
pi
, *
tbl
;

2050 
UINT
 
vŞ
;

2051 
DSTATUS
 
¡©
;

2052 
DWORD
 
b£ù
, 
çsize
, 
t£ù
, 
sy£ù
, 
nş¡
, 
szbçt
;

2053 
WORD
 
Äsv
;

2054 cÚ¡ 
TCHAR
 *
p
 = *
·th
;

2055 
FATFS
 *
fs
;

2059 
vŞ
 = 
p
[0] - '0';

2060 ià(
vŞ
 <ğ9 && 
p
[1] == ':') {

2061 
p
 +ğ2; *
·th
 =…;

2063 #ià
_FS_RPATH


2064 
vŞ
 = 
Cu¼VŞ
;

2066 
vŞ
 = 0;

2071 *
rfs
 = 0;

2072 ià(
vŞ
 >ğ
_VOLUMES
)

2073  
FR_INVALID_DRIVE
;

2074 
fs
 = 
F©Fs
[
vŞ
];

2075 ià(!
fs
è 
FR_NOT_ENABLED
;

2077 
	`ENTER_FF
(
fs
);

2079 *
rfs
 = 
fs
;

2080 ià(
fs
->
fs_ty³
) {

2081 
¡©
 = 
	`disk_¡©us
(
fs
->
drv
);

2082 ià(!(
¡©
 & 
STA_NOINIT
)) {

2083 ià(!
_FS_READONLY
 && 
wmode
 && (
¡©
 & 
STA_PROTECT
))

2084  
FR_WRITE_PROTECTED
;

2085  
FR_OK
;

2092 
fs
->
fs_ty³
 = 0;

2093 
fs
->
drv
 = 
	`LD2PD
(
vŞ
);

2094 
¡©
 = 
	`disk_š™Ÿlize
(
fs
->
drv
);

2095 ià(
¡©
 & 
STA_NOINIT
)

2096  
FR_NOT_READY
;

2097 ià(!
_FS_READONLY
 && 
wmode
 && (
¡©
 & 
STA_PROTECT
))

2098  
FR_WRITE_PROTECTED
;

2099 #ià
_MAX_SS
 != 512

2100 ià(
	`disk_ioùl
(
fs
->
drv
, 
GET_SECTOR_SIZE
, &fs->
ssize
è!ğ
RES_OK
)

2101  
FR_DISK_ERR
;

2104 
fmt
 = 
	`check_fs
(
fs
, 
b£ù
 = 0);

2105 ià(
	`LD2PT
(
vŞ
è&& !
fmt
) fmt = 1;

2106 ià(
fmt
 == 1) {

2108 
pi
 = 
	`LD2PT
(
vŞ
);

2109 ià(
pi
)…i--;

2110 
tbl
 = &
fs
->
wš
[
MBR_TabË
 + 
pi
 * 
SZ_PTE
];

2111 ià(
tbl
[4]) {

2112 
b£ù
 = 
	`LD_DWORD
(&
tbl
[8]);

2113 
fmt
 = 
	`check_fs
(
fs
, 
b£ù
);

2116 ià(
fmt
 =ğ3è 
FR_DISK_ERR
;

2117 ià(
fmt
è 
FR_NO_FILESYSTEM
;

2121 ià(
	`LD_WORD
(
fs
->
wš
+
BPB_BytsP”Sec
è!ğ
	`SS
(fs))

2122  
FR_NO_FILESYSTEM
;

2124 
çsize
 = 
	`LD_WORD
(
fs
->
wš
+
BPB_FATSz16
);

2125 ià(!
çsize
èçsizğ
	`LD_DWORD
(
fs
->
wš
+
BPB_FATSz32
);

2126 
fs
->
fsize
 = 
çsize
;

2128 
fs
->
n_çts
 = 
b
 = fs->
wš
[
BPB_NumFATs
];

2129 ià(
b
 !ğ1 && b !ğ2è 
FR_NO_FILESYSTEM
;

2130 
çsize
 *ğ
b
;

2132 
fs
->
csize
 = 
b
 = fs->
wš
[
BPB_SecP”Clus
];

2133 ià(!
b
 || (b & (b - 1))è 
FR_NO_FILESYSTEM
;

2135 
fs
->
n_roÙdœ
 = 
	`LD_WORD
(fs->
wš
+
BPB_RoÙEÁCÁ
);

2136 ià(
fs
->
n_roÙdœ
 % (
	`SS
(fsè/ 
SZ_DIR
)è 
FR_NO_FILESYSTEM
;

2138 
t£ù
 = 
	`LD_WORD
(
fs
->
wš
+
BPB_TÙSec16
);

2139 ià(!
t£ù
èt£ù = 
	`LD_DWORD
(
fs
->
wš
+
BPB_TÙSec32
);

2141 
Äsv
 = 
	`LD_WORD
(
fs
->
wš
+
BPB_RsvdSecCÁ
);

2142 ià(!
Äsv
è 
FR_NO_FILESYSTEM
;

2145 
sy£ù
 = 
Äsv
 + 
çsize
 + 
fs
->
n_roÙdœ
 / (
	`SS
(fsè/ 
SZ_DIR
);

2146 ià(
t£ù
 < 
sy£ù
è 
FR_NO_FILESYSTEM
;

2147 
nş¡
 = (
t£ù
 - 
sy£ù
è/ 
fs
->
csize
;

2148 ià(!
nş¡
è 
FR_NO_FILESYSTEM
;

2149 
fmt
 = 
FS_FAT12
;

2150 ià(
nş¡
 >ğ
MIN_FAT16
è
fmt
 = 
FS_FAT16
;

2151 ià(
nş¡
 >ğ
MIN_FAT32
è
fmt
 = 
FS_FAT32
;

2154 
fs
->
n_ç‹Á
 = 
nş¡
 + 2;

2155 
fs
->
d©aba£
 = 
b£ù
 + 
sy£ù
;

2156 
fs
->
çtba£
 = 
b£ù
 + 
Äsv
;

2157 ià(
fmt
 =ğ
FS_FAT32
) {

2158 ià(
fs
->
n_roÙdœ
è 
FR_NO_FILESYSTEM
;

2159 
fs
->
dœba£
 = 
	`LD_DWORD
(fs->
wš
+
BPB_RoÙClus
);

2160 
szbçt
 = 
fs
->
n_ç‹Á
 * 4;

2162 ià(!
fs
->
n_roÙdœ
è 
FR_NO_FILESYSTEM
;

2163 
fs
->
dœba£
 = fs->
çtba£
 + 
çsize
;

2164 
szbçt
 = (
fmt
 =ğ
FS_FAT16
) ?

2165 
fs
->
n_ç‹Á
 * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);

2167 ià(
fs
->
fsize
 < (
szbçt
 + (
	`SS
(fs) - 1)) / SS(fs))

2168  
FR_NO_FILESYSTEM
;

2170 #ià!
_FS_READONLY


2172 
fs
->
ä“_şu¡
 = 0xFFFFFFFF;

2173 
fs
->
Ï¡_şu¡
 = 0;

2176 ià(
fmt
 =ğ
FS_FAT32
) {

2177 
fs
->
fsi_æag
 = 0;

2178 
fs
->
fsi_£ùÜ
 = 
b£ù
 + 
	`LD_WORD
(fs->
wš
+
BPB_FSInfo
);

2179 ià(
	`disk_»ad
(
fs
->
drv
, fs->
wš
, fs->
fsi_£ùÜ
, 1è=ğ
RES_OK
 &&

2180 
	`LD_WORD
(
fs
->
wš
+
BS_55AA
) == 0xAA55 &&

2181 
	`LD_DWORD
(
fs
->
wš
+
FSI_L—dSig
) == 0x41615252 &&

2182 
	`LD_DWORD
(
fs
->
wš
+
FSI_SŒucSig
) == 0x61417272) {

2183 
fs
->
Ï¡_şu¡
 = 
	`LD_DWORD
(fs->
wš
+
FSI_Nxt_F»e
);

2184 
fs
->
ä“_şu¡
 = 
	`LD_DWORD
(fs->
wš
+
FSI_F»e_CouÁ
);

2188 
fs
->
fs_ty³
 = 
fmt
;

2189 
fs
->
id
 = ++
Fsid
;

2190 
fs
->
wš£ù
 = 0;

2191 
fs
->
wæag
 = 0;

2192 #ià
_FS_RPATH


2193 
fs
->
cdœ
 = 0;

2195 #ià
_FS_LOCK


2196 
	`ş—r_lock
(
fs
);

2199  
FR_OK
;

2200 
	}
}

2210 
FRESULT
 
	$v®id©e
 (

2211 * 
obj


2214 
FIL
 *
f
;

2217 
f
 = (
FIL
*)
obj
;

2218 ià(!
f
->
fs
 || !f->fs->
fs_ty³
 || f->fs->
id
 != fil->id)

2219  
FR_INVALID_OBJECT
;

2221 
	`ENTER_FF
(
f
->
fs
);

2223 ià(
	`disk_¡©us
(
f
->
fs
->
drv
è& 
STA_NOINIT
)

2224  
FR_NOT_READY
;

2226  
FR_OK
;

2227 
	}
}

2244 
FRESULT
 
	$f_mouÁ
 (

2245 
BYTE
 
vŞ
,

2246 
FATFS
 *
fs


2249 
FATFS
 *
rfs
;

2252 ià(
vŞ
 >ğ
_VOLUMES
)

2253  
FR_INVALID_DRIVE
;

2254 
rfs
 = 
F©Fs
[
vŞ
];

2256 ià(
rfs
) {

2257 #ià
_FS_LOCK


2258 
	`ş—r_lock
(
rfs
);

2260 #ià
_FS_REENTRANT


2261 ià(!
	`ff_d–_syncobj
(
rfs
->
sobj
)è 
FR_INT_ERR
;

2263 
rfs
->
fs_ty³
 = 0;

2266 ià(
fs
) {

2267 
fs
->
fs_ty³
 = 0;

2268 #ià
_FS_REENTRANT


2269 ià(!
	`ff_üe_syncobj
(
vŞ
, &
fs
->
sobj
)è 
FR_INT_ERR
;

2272 
F©Fs
[
vŞ
] = 
fs
;

2274  
FR_OK
;

2275 
	}
}

2284 
FRESULT
 
	$f_İ’
 (

2285 
FIL
 *
å
,

2286 cÚ¡ 
TCHAR
 *
·th
,

2287 
BYTE
 
mode


2290 
FRESULT
 
»s
;

2291 
FATFS_DIR
 
dj
;

2292 
BYTE
 *
dœ
;

2293 
DEF_NAMEBUF
;

2296 ià(!
å
è 
FR_INVALID_OBJECT
;

2297 
å
->
fs
 = 0;

2299 #ià!
_FS_READONLY


2300 
mode
 &ğ
FA_READ
 | 
FA_WRITE
 | 
FA_CREATE_ALWAYS
 | 
FA_OPEN_ALWAYS
 | 
FA_CREATE_NEW
;

2301 
»s
 = 
	`chk_mouÁed
(&
·th
, &
dj
.
fs
, (
BYTE
)(
mode
 & ~
FA_READ
));

2303 
mode
 &ğ
FA_READ
;

2304 
»s
 = 
	`chk_mouÁed
(&
·th
, &
dj
.
fs
, 0);

2306 ià(
»s
 =ğ
FR_OK
) {

2307 
	`INIT_BUF
(
dj
);

2308 
»s
 = 
	`fŞlow_·th
(&
dj
, 
·th
);

2309 
dœ
 = 
dj
.dir;

2310 #ià!
_FS_READONLY


2311 ià(
»s
 =ğ
FR_OK
) {

2312 ià(!
dœ
)

2313 
»s
 = 
FR_INVALID_NAME
;

2314 #ià
_FS_LOCK


2316 
»s
 = 
	`chk_lock
(&
dj
, (
mode
 & ~
FA_READ
) ? 1 : 0);

2320 ià(
mode
 & (
FA_CREATE_ALWAYS
 | 
FA_OPEN_ALWAYS
 | 
FA_CREATE_NEW
)) {

2321 
DWORD
 
dw
, 
ş
;

2323 ià(
»s
 !ğ
FR_OK
) {

2324 ià(
»s
 =ğ
FR_NO_FILE
)

2325 #ià
_FS_LOCK


2326 
»s
 = 
	`’q_lock
(è? 
	`dœ_»gi¡”
(&
dj
è: 
FR_TOO_MANY_OPEN_FILES
;

2328 
»s
 = 
	`dœ_»gi¡”
(&
dj
);

2330 
mode
 |ğ
FA_CREATE_ALWAYS
;

2331 
dœ
 = 
dj
.dir;

2334 ià(
dœ
[
DIR_A‰r
] & (
AM_RDO
 | 
AM_DIR
)) {

2335 
»s
 = 
FR_DENIED
;

2337 ià(
mode
 & 
FA_CREATE_NEW
)

2338 
»s
 = 
FR_EXIST
;

2341 ià(
»s
 =ğ
FR_OK
 && (
mode
 & 
FA_CREATE_ALWAYS
)) {

2342 
dw
 = 
	`g‘_ç‰ime
();

2343 
	`ST_DWORD
(
dœ
+
DIR_C¹Time
, 
dw
);

2344 
dœ
[
DIR_A‰r
] = 0;

2345 
	`ST_DWORD
(
dœ
+
DIR_FeSize
, 0);

2346 
ş
 = 
	`ld_şu¡
(
dj
.
fs
, 
dœ
);

2347 
	`¡_şu¡
(
dœ
, 0);

2348 
dj
.
fs
->
wæag
 = 1;

2349 ià(
ş
) {

2350 
dw
 = 
dj
.
fs
->
wš£ù
;

2351 
»s
 = 
	`»move_chaš
(
dj
.
fs
, 
ş
);

2352 ià(
»s
 =ğ
FR_OK
) {

2353 
dj
.
fs
->
Ï¡_şu¡
 = 
ş
 - 1;

2354 
»s
 = 
	`move_wšdow
(
dj
.
fs
, 
dw
);

2360 ià(
»s
 =ğ
FR_OK
) {

2361 ià(
dœ
[
DIR_A‰r
] & 
AM_DIR
) {

2362 
»s
 = 
FR_NO_FILE
;

2364 ià((
mode
 & 
FA_WRITE
è&& (
dœ
[
DIR_A‰r
] & 
AM_RDO
))

2365 
»s
 = 
FR_DENIED
;

2369 ià(
»s
 =ğ
FR_OK
) {

2370 ià(
mode
 & 
FA_CREATE_ALWAYS
)

2371 
mode
 |ğ
FA__WRITTEN
;

2372 
å
->
dœ_£ù
 = 
dj
.
fs
->
wš£ù
;

2373 
å
->
dœ_±r
 = 
dœ
;

2374 #ià
_FS_LOCK


2375 
å
->
lockid
 = 
	`šc_lock
(&
dj
, (
mode
 & ~
FA_READ
) ? 1 : 0);

2376 ià(!
å
->
lockid
è
»s
 = 
FR_INT_ERR
;

2381 ià(
»s
 =ğ
FR_OK
) {

2382 
dœ
 = 
dj
.dir;

2383 ià(!
dœ
) {

2384 
»s
 = 
FR_INVALID_NAME
;

2386 ià(
dœ
[
DIR_A‰r
] & 
AM_DIR
)

2387 
»s
 = 
FR_NO_FILE
;

2391 
	`FREE_BUF
();

2393 ià(
»s
 =ğ
FR_OK
) {

2394 
å
->
æag
 = 
mode
;

2395 
å
->
sşu¡
 = 
	`ld_şu¡
(
dj
.
fs
, 
dœ
);

2396 
å
->
fsize
 = 
	`LD_DWORD
(
dœ
+
DIR_FeSize
);

2397 
å
->
åŒ
 = 0;

2398 
å
->
d£ù
 = 0;

2399 #ià
_USE_FASTSEEK


2400 
å
->
ştbl
 = 0;

2402 
å
->
fs
 = 
dj
.fs; fp->
id
 = dj.fs->id;

2406 
	`LEAVE_FF
(
dj
.
fs
, 
»s
);

2407 
	}
}

2416 
FRESULT
 
	$f_»ad
 (

2417 
FIL
 *
å
,

2418 *
buff
,

2419 
UINT
 
bŒ
,

2420 
UINT
 *
br


2423 
FRESULT
 
»s
;

2424 
DWORD
 
ş¡
, 
£ù
, 
»maš
;

2425 
UINT
 
rút
, 
cc
;

2426 
BYTE
 
c£ù
, *
rbuff
 = (BYTE *)
buff
;

2429 *
br
 = 0;

2431 
»s
 = 
	`v®id©e
(
å
);

2432 ià(
»s
 !ğ
FR_OK
è
	`LEAVE_FF
(
å
->
fs
,„es);

2433 ià(
å
->
æag
 & 
FA__ERROR
)

2434 
	`LEAVE_FF
(
å
->
fs
, 
FR_INT_ERR
);

2435 ià(!(
å
->
æag
 & 
FA_READ
))

2436 
	`LEAVE_FF
(
å
->
fs
, 
FR_DENIED
);

2437 
»maš
 = 
å
->
fsize
 - fp->
åŒ
;

2438 ià(
bŒ
 > 
»maš
èbŒ = (
UINT
)remain;

2440  ; 
bŒ
;

2441 
rbuff
 +ğ
rút
, 
å
->
åŒ
 +ğrút, *
br
 +ğrút, 
bŒ
 -=„cnt) {

2442 ià((
å
->
åŒ
 % 
	`SS
(å->
fs
)) == 0) {

2443 
c£ù
 = (
BYTE
)(
å
->
åŒ
 / 
	`SS
(å->
fs
è& (å->fs->
csize
 - 1));

2444 ià(!
c£ù
) {

2445 ià(
å
->
åŒ
 == 0) {

2446 
ş¡
 = 
å
->
sşu¡
;

2448 #ià
_USE_FASTSEEK


2449 ià(
å
->
ştbl
)

2450 
ş¡
 = 
	`şmt_şu¡
(
å
, fp->
åŒ
);

2453 
ş¡
 = 
	`g‘_çt
(
å
->
fs
, fp->
şu¡
);

2455 ià(
ş¡
 < 2è
	`ABORT
(
å
->
fs
, 
FR_INT_ERR
);

2456 ià(
ş¡
 =ğ0xFFFFFFFFè
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

2457 
å
->
şu¡
 = 
ş¡
;

2459 
£ù
 = 
	`şu¡2£ù
(
å
->
fs
, fp->
şu¡
);

2460 ià(!
£ù
è
	`ABORT
(
å
->
fs
, 
FR_INT_ERR
);

2461 
£ù
 +ğ
c£ù
;

2462 
cc
 = 
bŒ
 / 
	`SS
(
å
->
fs
);

2463 ià(
cc
) {

2464 ià(
c£ù
 + 
cc
 > 
å
->
fs
->
csize
)

2465 
cc
 = 
å
->
fs
->
csize
 - 
c£ù
;

2466 ià(
	`disk_»ad
(
å
->
fs
->
drv
, 
rbuff
, 
£ù
, (
BYTE
)
cc
è!ğ
RES_OK
)

2467 
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

2468 #ià!
_FS_READONLY
 && 
_FS_MINIMIZE
 <= 2

2469 #ià
_FS_TINY


2470 ià(
å
->
fs
->
wæag
 && fp->fs->
wš£ù
 - 
£ù
 < 
cc
)

2471 
	`mem_ıy
(
rbuff
 + ((
å
->
fs
->
wš£ù
 - 
£ù
è* 
	`SS
(å->fs)), fp->fs->
wš
, SS(fp->fs));

2473 ià((
å
->
æag
 & 
FA__DIRTY
è&& fp->
d£ù
 - 
£ù
 < 
cc
)

2474 
	`mem_ıy
(
rbuff
 + ((
å
->
d£ù
 - 
£ù
è* 
	`SS
(å->
fs
)), fp->
buf
, SS(fp->fs));

2477 
rút
 = 
	`SS
(
å
->
fs
è* 
cc
;

2480 #ià!
_FS_TINY


2481 ià(
å
->
d£ù
 !ğ
£ù
) {

2482 #ià!
_FS_READONLY


2483 ià(
å
->
æag
 & 
FA__DIRTY
) {

2484 ià(
	`disk_wr™e
(
å
->
fs
->
drv
, fp->
buf
, fp->
d£ù
, 1è!ğ
RES_OK
)

2485 
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

2486 
å
->
æag
 &ğ~
FA__DIRTY
;

2489 ià(
	`disk_»ad
(
å
->
fs
->
drv
, fp->
buf
, 
£ù
, 1è!ğ
RES_OK
)

2490 
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

2493 
å
->
d£ù
 = 
£ù
;

2495 
rút
 = 
	`SS
(
å
->
fs
è- ((
UINT
)å->
åŒ
 % SS(fp->fs));

2496 ià(
rút
 > 
bŒ
)„cnt = btr;

2497 #ià
_FS_TINY


2498 ià(
	`move_wšdow
(
å
->
fs
, fp->
d£ù
))

2499 
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

2500 
	`mem_ıy
(
rbuff
, &
å
->
fs
->
wš
[å->
åŒ
 % 
	`SS
(å->fs)], 
rút
);

2502 
	`mem_ıy
(
rbuff
, &
å
->
buf
[å->
åŒ
 % 
	`SS
(å->
fs
)], 
rút
);

2506 
	`LEAVE_FF
(
å
->
fs
, 
FR_OK
);

2507 
	}
}

2512 #ià!
_FS_READONLY


2517 
FRESULT
 
	$f_wr™e
 (

2518 
FIL
 *
å
,

2519 cÚ¡ *
buff
,

2520 
UINT
 
btw
,

2521 
UINT
 *
bw


2524 
FRESULT
 
»s
;

2525 
DWORD
 
ş¡
, 
£ù
;

2526 
UINT
 
wút
, 
cc
;

2527 cÚ¡ 
BYTE
 *
wbuff
 = (cÚ¡ BYTE *)
buff
;

2528 
BYTE
 
c£ù
;

2529 
boŞ
 
Ãed_sync
 = 
çl£
;

2531 *
bw
 = 0;

2533 
»s
 = 
	`v®id©e
(
å
);

2534 ià(
»s
 !ğ
FR_OK
è
	`LEAVE_FF
(
å
->
fs
,„es);

2535 ià(
å
->
æag
 & 
FA__ERROR
)

2536 
	`LEAVE_FF
(
å
->
fs
, 
FR_INT_ERR
);

2537 ià(!(
å
->
æag
 & 
FA_WRITE
))

2538 
	`LEAVE_FF
(
å
->
fs
, 
FR_DENIED
);

2539 ià((
DWORD
)(
å
->
fsize
 + 
btw
) < fp->fsize) btw = 0;

2541  ; 
btw
;

2542 
wbuff
 +ğ
wút
, 
å
->
åŒ
 +ğwút, *
bw
 +ğwút, 
btw
 -= wcnt) {

2543 ià((
å
->
åŒ
 % 
	`SS
(å->
fs
)) == 0) {

2544 
c£ù
 = (
BYTE
)(
å
->
åŒ
 / 
	`SS
(å->
fs
è& (å->fs->
csize
 - 1));

2545 ià(!
c£ù
) {

2546 ià(
å
->
åŒ
 == 0) {

2547 
ş¡
 = 
å
->
sşu¡
;

2548 ià(
ş¡
 == 0)

2549 
å
->
sşu¡
 = 
ş¡
 = 
	`ü—‹_chaš
(å->
fs
, 0);

2551 #ià
_USE_FASTSEEK


2552 ià(
å
->
ştbl
)

2553 
ş¡
 = 
	`şmt_şu¡
(
å
, fp->
åŒ
);

2556 
ş¡
 = 
	`ü—‹_chaš
(
å
->
fs
, fp->
şu¡
);

2558 ià(
ş¡
 == 0) ;

2559 ià(
ş¡
 =ğ1è
	`ABORT
(
å
->
fs
, 
FR_INT_ERR
);

2560 ià(
ş¡
 =ğ0xFFFFFFFFè
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

2561 
å
->
şu¡
 = 
ş¡
;

2563 #ifdeà
FLUSH_ON_NEW_CLUSTER


2565 ià(
å
->
åŒ
 != 0) {

2566 
Ãed_sync
 = 
Œue
;

2570 #ià
_FS_TINY


2571 ià(
å
->
fs
->
wš£ù
 =ğå->
d£ù
 && 
	`move_wšdow
(fp->fs, 0))

2572 
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

2574 ià(
å
->
æag
 & 
FA__DIRTY
) {

2575 ià(
	`disk_wr™e
(
å
->
fs
->
drv
, fp->
buf
, fp->
d£ù
, 1è!ğ
RES_OK
)

2576 
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

2577 
å
->
æag
 &ğ~
FA__DIRTY
;

2580 
£ù
 = 
	`şu¡2£ù
(
å
->
fs
, fp->
şu¡
);

2581 ià(!
£ù
è
	`ABORT
(
å
->
fs
, 
FR_INT_ERR
);

2582 
£ù
 +ğ
c£ù
;

2583 
cc
 = 
btw
 / 
	`SS
(
å
->
fs
);

2584 ià(
cc
) {

2585 ià(
c£ù
 + 
cc
 > 
å
->
fs
->
csize
)

2586 
cc
 = 
å
->
fs
->
csize
 - 
c£ù
;

2587 ià(
	`disk_wr™e
(
å
->
fs
->
drv
, 
wbuff
, 
£ù
, (
BYTE
)
cc
è!ğ
RES_OK
)

2588 
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

2589 #ià
_FS_TINY


2590 ià(
å
->
fs
->
wš£ù
 - 
£ù
 < 
cc
) {

2591 
	`mem_ıy
(
å
->
fs
->
wš
, 
wbuff
 + ((å->fs->
wš£ù
 - 
£ù
è* 
	`SS
(fp->fs)), SS(fp->fs));

2592 
å
->
fs
->
wæag
 = 0;

2595 ià(
å
->
d£ù
 - 
£ù
 < 
cc
) {

2596 
	`mem_ıy
(
å
->
buf
, 
wbuff
 + ((å->
d£ù
 - 
£ù
è* 
	`SS
(å->
fs
)), SS(fp->fs));

2597 
å
->
æag
 &ğ~
FA__DIRTY
;

2600 
wút
 = 
	`SS
(
å
->
fs
è* 
cc
;

2601 #ifdeà
FLUSH_ON_NEW_SECTOR


2602 
Ãed_sync
 = 
Œue
;

2606 #ià
_FS_TINY


2607 ià(
å
->
åŒ
 >ğå->
fsize
) {

2608 ià(
	`move_wšdow
(
å
->
fs
, 0)è
	`ABORT
(å->fs, 
FR_DISK_ERR
);

2609 
å
->
fs
->
wš£ù
 = 
£ù
;

2612 ià(
å
->
d£ù
 !ğ
£ù
) {

2613 ià(
å
->
åŒ
 < fp->
fsize
 &&

2614 
	`disk_»ad
(
å
->
fs
->
drv
, fp->
buf
, 
£ù
, 1è!ğ
RES_OK
)

2615 
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

2618 
å
->
d£ù
 = 
£ù
;

2620 
wút
 = 
	`SS
(
å
->
fs
è- ((
UINT
)å->
åŒ
 % SS(fp->fs));

2621 ià(
wút
 > 
btw
) wcnt = btw;

2622 #ià
_FS_TINY


2623 ià(
	`move_wšdow
(
å
->
fs
, fp->
d£ù
))

2624 
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

2625 
	`mem_ıy
(&
å
->
fs
->
wš
[å->
åŒ
 % 
	`SS
(å->fs)], 
wbuff
, 
wút
);

2626 
å
->
fs
->
wæag
 = 1;

2628 
	`mem_ıy
(&
å
->
buf
[å->
åŒ
 % 
	`SS
(å->
fs
)], 
wbuff
, 
wút
);

2629 
å
->
æag
 |ğ
FA__DIRTY
;

2633 ià(
å
->
åŒ
 > fp->
fsize
) fp->fsize = fp->fptr;

2634 
å
->
æag
 |ğ
FA__WRITTEN
;

2636 ià(
Ãed_sync
) {

2637 
	`f_sync
 (
å
);

2640 
	`LEAVE_FF
(
å
->
fs
, 
FR_OK
);

2641 
	}
}

2650 
FRESULT
 
	$f_sync
 (

2651 
FIL
 *
å


2654 
FRESULT
 
»s
;

2655 
DWORD
 
tim
;

2656 
BYTE
 *
dœ
;

2659 
»s
 = 
	`v®id©e
(
å
);

2660 ià(
»s
 =ğ
FR_OK
) {

2661 ià(
å
->
æag
 & 
FA__WRITTEN
) {

2662 #ià!
_FS_TINY


2663 ià(
å
->
æag
 & 
FA__DIRTY
) {

2664 ià(
	`disk_wr™e
(
å
->
fs
->
drv
, fp->
buf
, fp->
d£ù
, 1è!ğ
RES_OK
)

2665 
	`LEAVE_FF
(
å
->
fs
, 
FR_DISK_ERR
);

2666 
å
->
æag
 &ğ~
FA__DIRTY
;

2670 
»s
 = 
	`move_wšdow
(
å
->
fs
, fp->
dœ_£ù
);

2671 ià(
»s
 =ğ
FR_OK
) {

2672 
dœ
 = 
å
->
dœ_±r
;

2673 
dœ
[
DIR_A‰r
] |ğ
AM_ARC
;

2674 
	`ST_DWORD
(
dœ
+
DIR_FeSize
, 
å
->
fsize
);

2675 
	`¡_şu¡
(
dœ
, 
å
->
sşu¡
);

2676 
tim
 = 
	`g‘_ç‰ime
();

2677 
	`ST_DWORD
(
dœ
+
DIR_W¹Time
, 
tim
);

2678 
	`ST_WORD
(
dœ
+
DIR_L¡AccD©e
, 0);

2679 
å
->
æag
 &ğ~
FA__WRITTEN
;

2680 
å
->
fs
->
wæag
 = 1;

2681 
»s
 = 
	`sync
(
å
->
fs
);

2686 
	`LEAVE_FF
(
å
->
fs
, 
»s
);

2687 
	}
}

2698 
FRESULT
 
	$f_şo£
 (

2699 
FIL
 *
å


2702 
FRESULT
 
»s
;

2705 #ià
_FS_READONLY


2706 
»s
 = 
	`v®id©e
(
å
);

2708 #ià
_FS_REENTRANT


2709 
FATFS
 *
fs
 = 
å
->fs;

2711 ià(
»s
 =ğ
FR_OK
è
å
->
fs
 = 0;

2712 
	`LEAVE_FF
(
fs
, 
»s
);

2715 
»s
 = 
	`f_sync
(
å
);

2716 #ià
_FS_LOCK


2717 ià(
»s
 =ğ
FR_OK
) {

2718 #ià
_FS_REENTRANT


2719 
FATFS
 *
fs
 = 
å
->fs;;

2720 
»s
 = 
	`v®id©e
(
å
);

2721 ià(
»s
 =ğ
FR_OK
) {

2722 
»s
 = 
	`dec_lock
(
å
->
lockid
);

2723 
	`uÆock_fs
(
fs
, 
FR_OK
);

2726 
»s
 = 
	`dec_lock
(
å
->
lockid
);

2730 ià(
»s
 =ğ
FR_OK
è
å
->
fs
 = 0;

2731  
»s
;

2733 
	}
}

2742 #ià
_FS_RPATH
 >= 1

2744 
FRESULT
 
	$f_chdrive
 (

2745 
BYTE
 
drv


2748 ià(
drv
 >ğ
_VOLUMES
è 
FR_INVALID_DRIVE
;

2750 
Cu¼VŞ
 = 
drv
;

2752  
FR_OK
;

2753 
	}
}

2757 
FRESULT
 
	$f_chdœ
 (

2758 cÚ¡ 
TCHAR
 *
·th


2761 
FRESULT
 
»s
;

2762 
DIR
 
dj
;

2763 
DEF_NAMEBUF
;

2766 
»s
 = 
	`chk_mouÁed
(&
·th
, &
dj
.
fs
, 0);

2767 ià(
»s
 =ğ
FR_OK
) {

2768 
	`INIT_BUF
(
dj
);

2769 
»s
 = 
	`fŞlow_·th
(&
dj
, 
·th
);

2770 
	`FREE_BUF
();

2771 ià(
»s
 =ğ
FR_OK
) {

2772 ià(!
dj
.
dœ
) {

2773 
dj
.
fs
->
cdœ
 = dj.
sşu¡
;

2775 ià(
dj
.
dœ
[
DIR_A‰r
] & 
AM_DIR
)

2776 
dj
.
fs
->
cdœ
 = 
	`ld_şu¡
(dj.fs, dj.
dœ
);

2778 
»s
 = 
FR_NO_PATH
;

2781 ià(
»s
 =ğ
FR_NO_FILE
è» ğ
FR_NO_PATH
;

2784 
	`LEAVE_FF
(
dj
.
fs
, 
»s
);

2785 
	}
}

2788 #ià
_FS_RPATH
 >= 2

2789 
FRESULT
 
	$f_g‘cwd
 (

2790 
TCHAR
 *
·th
,

2791 
UINT
 
sz_·th


2794 
FRESULT
 
»s
;

2795 
DIR
 
dj
;

2796 
UINT
 
i
, 
n
;

2797 
DWORD
 
cş
;

2798 
TCHAR
 *

;

2799 
FILINFO
 
âo
;

2800 
DEF_NAMEBUF
;

2803 *
·th
 = 0;

2804 
»s
 = 
	`chk_mouÁed
((cÚ¡ 
TCHAR
**)&
·th
, &
dj
.
fs
, 0);

2805 ià(
»s
 =ğ
FR_OK
) {

2806 
	`INIT_BUF
(
dj
);

2807 
i
 = 
sz_·th
;

2808 
dj
.
sşu¡
 = dj.
fs
->
cdœ
;

2809 (
cş
 = 
dj
.
sşu¡
) != 0) {

2810 
»s
 = 
	`dœ_sdi
(&
dj
, 1);

2811 ià(
»s
 !ğ
FR_OK
) ;

2812 
»s
 = 
	`dœ_»ad
(&
dj
);

2813 ià(
»s
 !ğ
FR_OK
) ;

2814 
dj
.
sşu¡
 = 
	`ld_şu¡
(dj.
fs
, dj.
dœ
);

2815 
»s
 = 
	`dœ_sdi
(&
dj
, 0);

2816 ià(
»s
 !ğ
FR_OK
) ;

2818 
»s
 = 
	`dœ_»ad
(&
dj
);

2819 ià(
»s
 !ğ
FR_OK
) ;

2820 ià(
cş
 =ğ
	`ld_şu¡
(
dj
.
fs
, dj.
dœ
)) ;

2821 
»s
 = 
	`dœ_Ãxt
(&
dj
, 0);

2822 } 
»s
 =ğ
FR_OK
);

2823 ià(
»s
 =ğ
FR_NO_FILE
è» ğ
FR_INT_ERR
;

2824 ià(
»s
 !ğ
FR_OK
) ;

2825 #ià
_USE_LFN


2826 
âo
.
lâame
 = 
·th
;

2827 
âo
.
lfsize
 = 
i
;

2829 
	`g‘_fešfo
(&
dj
, &
âo
);

2830 

 = 
âo
.
âame
;

2831 ià(
_USE_LFN
 && *
·th
è

 =…ath;

2832 
n
 = 0; 

[n];‚++) ;

2833 ià(
i
 < 
n
 + 3) {

2834 
»s
 = 
FR_NOT_ENOUGH_CORE
; ;

2836 
n
è
·th
[--
i
] = 

[--n];

2837 
·th
[--
i
] = '/';

2839 

 = 
·th
;

2840 ià(
»s
 =ğ
FR_OK
) {

2841 *

++ = '0' + 
Cu¼VŞ
;

2842 *

++ = ':';

2843 ià(
i
 =ğ
sz_·th
) {

2844 *

++ = '/';

2847 *

++ = 
·th
[
i
++];

2848 
i
 < 
sz_·th
);

2851 *

 = 0;

2852 
	`FREE_BUF
();

2855 
	`LEAVE_FF
(
dj
.
fs
, 
»s
);

2856 
	}
}

2862 #ià
_FS_MINIMIZE
 <= 2

2867 
FRESULT
 
	$f_l£ek
 (

2868 
FIL
 *
å
,

2869 
DWORD
 
ofs


2872 
FRESULT
 
»s
;

2875 
»s
 = 
	`v®id©e
(
å
);

2876 ià(
»s
 !ğ
FR_OK
è
	`LEAVE_FF
(
å
->
fs
,„es);

2877 ià(
å
->
æag
 & 
FA__ERROR
)

2878 
	`LEAVE_FF
(
å
->
fs
, 
FR_INT_ERR
);

2880 #ià
_USE_FASTSEEK


2881 ià(
å
->
ştbl
) {

2882 
DWORD
 
ş
, 
pş
, 
nş
, 
tş
, 
dsc
, 
’
, 
uËn
, *
tbl
;

2884 ià(
ofs
 =ğ
CREATE_LINKMAP
) {

2885 
tbl
 = 
å
->
ştbl
;

2886 
’
 = *
tbl
++; 
uËn
 = 2;

2887 
ş
 = 
å
->
sşu¡
;

2888 ià(
ş
) {

2891 
tş
 = 
ş
; 
nş
 = 0; 
uËn
 += 2;

2893 
pş
 = 
ş
; 
nş
++;

2894 
ş
 = 
	`g‘_çt
(
å
->
fs
, cl);

2895 ià(
ş
 <ğ1è
	`ABORT
(
å
->
fs
, 
FR_INT_ERR
);

2896 ià(
ş
 =ğ0xFFFFFFFFè
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

2897 } 
ş
 =ğ
pş
 + 1);

2898 ià(
uËn
 <ğ
’
) {

2899 *
tbl
++ = 
nş
; *tbl++ = 
tş
;

2901 } 
ş
 < 
å
->
fs
->
n_ç‹Á
);

2903 *
å
->
ştbl
 = 
uËn
;

2904 ià(
uËn
 <ğ
’
)

2905 *
tbl
 = 0;

2907 
»s
 = 
FR_NOT_ENOUGH_CORE
;

2910 ià(
ofs
 > 
å
->
fsize
)

2911 
ofs
 = 
å
->
fsize
;

2912 
å
->
åŒ
 = 
ofs
;

2913 ià(
ofs
) {

2914 
å
->
şu¡
 = 
	`şmt_şu¡
(å, 
ofs
 - 1);

2915 
dsc
 = 
	`şu¡2£ù
(
å
->
fs
, fp->
şu¡
);

2916 ià(!
dsc
è
	`ABORT
(
å
->
fs
, 
FR_INT_ERR
);

2917 
dsc
 +ğ(
ofs
 - 1è/ 
	`SS
(
å
->
fs
è& (å->fs->
csize
 - 1);

2918 ià(
å
->
åŒ
 % 
	`SS
(å->
fs
è&& 
dsc
 !ğå->
d£ù
) {

2919 #ià!
_FS_TINY


2920 #ià!
_FS_READONLY


2921 ià(
å
->
æag
 & 
FA__DIRTY
) {

2922 ià(
	`disk_wr™e
(
å
->
fs
->
drv
, fp->
buf
, fp->
d£ù
, 1è!ğ
RES_OK
)

2923 
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

2924 
å
->
æag
 &ğ~
FA__DIRTY
;

2927 ià(
	`disk_»ad
(
å
->
fs
->
drv
, fp->
buf
, 
dsc
, 1è!ğ
RES_OK
)

2928 
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

2930 
å
->
d£ù
 = 
dsc
;

2939 
DWORD
 
ş¡
, 
bcs
, 
n£ù
, 
iåŒ
;

2941 ià(
ofs
 > 
å
->
fsize


2942 #ià!
_FS_READONLY


2943 && !(
å
->
æag
 & 
FA_WRITE
)

2945 è
ofs
 = 
å
->
fsize
;

2947 
iåŒ
 = 
å
->
åŒ
;

2948 
å
->
åŒ
 = 
n£ù
 = 0;

2949 ià(
ofs
) {

2950 
bcs
 = (
DWORD
)
å
->
fs
->
csize
 * 
	`SS
(fp->fs);

2951 ià(
iåŒ
 > 0 &&

2952 (
ofs
 - 1è/ 
bcs
 >ğ(
iåŒ
 - 1) / bcs) {

2953 
å
->
åŒ
 = (
iåŒ
 - 1è& ~(
bcs
 - 1);

2954 
ofs
 -ğ
å
->
åŒ
;

2955 
ş¡
 = 
å
->
şu¡
;

2957 
ş¡
 = 
å
->
sşu¡
;

2958 #ià!
_FS_READONLY


2959 ià(
ş¡
 == 0) {

2960 
ş¡
 = 
	`ü—‹_chaš
(
å
->
fs
, 0);

2961 ià(
ş¡
 =ğ1è
	`ABORT
(
å
->
fs
, 
FR_INT_ERR
);

2962 ià(
ş¡
 =ğ0xFFFFFFFFè
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

2963 
å
->
sşu¡
 = 
ş¡
;

2966 
å
->
şu¡
 = 
ş¡
;

2968 ià(
ş¡
 != 0) {

2969 
ofs
 > 
bcs
) {

2970 #ià!
_FS_READONLY


2971 ià(
å
->
æag
 & 
FA_WRITE
) {

2972 
ş¡
 = 
	`ü—‹_chaš
(
å
->
fs
, clst);

2973 ià(
ş¡
 == 0) {

2974 
ofs
 = 
bcs
; ;

2978 
ş¡
 = 
	`g‘_çt
(
å
->
fs
, clst);

2979 ià(
ş¡
 =ğ0xFFFFFFFFè
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

2980 ià(
ş¡
 <ğ1 || cl¡ >ğ
å
->
fs
->
n_ç‹Á
è
	`ABORT
(å->fs, 
FR_INT_ERR
);

2981 
å
->
şu¡
 = 
ş¡
;

2982 
å
->
åŒ
 +ğ
bcs
;

2983 
ofs
 -ğ
bcs
;

2985 
å
->
åŒ
 +ğ
ofs
;

2986 ià(
ofs
 % 
	`SS
(
å
->
fs
)) {

2987 
n£ù
 = 
	`şu¡2£ù
(
å
->
fs
, 
ş¡
);

2988 ià(!
n£ù
è
	`ABORT
(
å
->
fs
, 
FR_INT_ERR
);

2989 
n£ù
 +ğ
ofs
 / 
	`SS
(
å
->
fs
);

2993 ià(
å
->
åŒ
 % 
	`SS
(å->
fs
è&& 
n£ù
 !ğå->
d£ù
) {

2994 #ià!
_FS_TINY


2995 #ià!
_FS_READONLY


2996 ià(
å
->
æag
 & 
FA__DIRTY
) {

2997 ià(
	`disk_wr™e
(
å
->
fs
->
drv
, fp->
buf
, fp->
d£ù
, 1è!ğ
RES_OK
)

2998 
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

2999 
å
->
æag
 &ğ~
FA__DIRTY
;

3002 ià(
	`disk_»ad
(
å
->
fs
->
drv
, fp->
buf
, 
n£ù
, 1è!ğ
RES_OK
)

3003 
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

3005 
å
->
d£ù
 = 
n£ù
;

3007 #ià!
_FS_READONLY


3008 ià(
å
->
åŒ
 > fp->
fsize
) {

3009 
å
->
fsize
 = fp->
åŒ
;

3010 
å
->
æag
 |ğ
FA__WRITTEN
;

3015 
	`LEAVE_FF
(
å
->
fs
, 
»s
);

3016 
	}
}

3020 #ià
_FS_MINIMIZE
 <= 1

3025 
FRESULT
 
	$f_İ’dœ
 (

3026 
FATFS_DIR
 *
dj
,

3027 cÚ¡ 
TCHAR
 *
·th


3030 
FRESULT
 
»s
;

3031 
FATFS
 *
fs
;

3032 
DEF_NAMEBUF
;

3035 ià(!
dj
è 
FR_INVALID_OBJECT
;

3037 
»s
 = 
	`chk_mouÁed
(&
·th
, &
dj
->
fs
, 0);

3038 
fs
 = 
dj
->fs;

3039 ià(
»s
 =ğ
FR_OK
) {

3040 
	`INIT_BUF
(*
dj
);

3041 
»s
 = 
	`fŞlow_·th
(
dj
, 
·th
);

3042 
	`FREE_BUF
();

3043 ià(
»s
 =ğ
FR_OK
) {

3044 ià(
dj
->
dœ
) {

3045 ià(
dj
->
dœ
[
DIR_A‰r
] & 
AM_DIR
) {

3046 
dj
->
sşu¡
 = 
	`ld_şu¡
(
fs
, dj->
dœ
);

3048 
»s
 = 
FR_NO_PATH
;

3051 ià(
»s
 =ğ
FR_OK
) {

3052 
dj
->
id
 = 
fs
->id;

3053 
»s
 = 
	`dœ_sdi
(
dj
, 0);

3056 ià(
»s
 =ğ
FR_NO_FILE
è» ğ
FR_NO_PATH
;

3057 ià(
»s
 !ğ
FR_OK
è
dj
->
fs
 = 0;

3059 
dj
->
fs
 = 0;

3062 
	`LEAVE_FF
(
fs
, 
»s
);

3063 
	}
}

3072 
FRESULT
 
	$f_»addœ
 (

3073 
FATFS_DIR
 *
dj
,

3074 
FILINFO
 *
âo


3077 
FRESULT
 
»s
;

3078 
DEF_NAMEBUF
;

3081 
»s
 = 
	`v®id©e
(
dj
);

3082 ià(
»s
 =ğ
FR_OK
) {

3083 ià(!
âo
) {

3084 
»s
 = 
	`dœ_sdi
(
dj
, 0);

3086 
	`INIT_BUF
(*
dj
);

3087 
»s
 = 
	`dœ_»ad
(
dj
);

3088 ià(
»s
 =ğ
FR_NO_FILE
) {

3089 
dj
->
£ù
 = 0;

3090 
»s
 = 
FR_OK
;

3092 ià(
»s
 =ğ
FR_OK
) {

3093 
	`g‘_fešfo
(
dj
, 
âo
);

3094 
»s
 = 
	`dœ_Ãxt
(
dj
, 0);

3095 ià(
»s
 =ğ
FR_NO_FILE
) {

3096 
dj
->
£ù
 = 0;

3097 
»s
 = 
FR_OK
;

3100 
	`FREE_BUF
();

3104 
	`LEAVE_FF
(
dj
->
fs
, 
»s
);

3105 
	}
}

3109 #ià
_FS_MINIMIZE
 == 0

3114 
FRESULT
 
	$f_¡©
 (

3115 cÚ¡ 
TCHAR
 *
·th
,

3116 
FILINFO
 *
âo


3119 
FRESULT
 
»s
;

3120 
FATFS_DIR
 
dj
;

3121 
DEF_NAMEBUF
;

3124 
»s
 = 
	`chk_mouÁed
(&
·th
, &
dj
.
fs
, 0);

3125 ià(
»s
 =ğ
FR_OK
) {

3126 
	`INIT_BUF
(
dj
);

3127 
»s
 = 
	`fŞlow_·th
(&
dj
, 
·th
);

3128 ià(
»s
 =ğ
FR_OK
) {

3129 ià(
dj
.
dœ
)

3130 
	`g‘_fešfo
(&
dj
, 
âo
);

3132 
»s
 = 
FR_INVALID_NAME
;

3134 
	`FREE_BUF
();

3137 
	`LEAVE_FF
(
dj
.
fs
, 
»s
);

3138 
	}
}

3142 #ià!
_FS_READONLY


3147 
FRESULT
 
	$f_g‘ä“
 (

3148 cÚ¡ 
TCHAR
 *
·th
,

3149 
DWORD
 *
nş¡
,

3150 
FATFS
 **
çtfs


3153 
FRESULT
 
»s
;

3154 
FATFS
 *
fs
;

3155 
DWORD
 
n
, 
ş¡
, 
£ù
, 
¡©
;

3156 
UINT
 
i
;

3157 
BYTE
 
çt
, *
p
;

3161 
»s
 = 
	`chk_mouÁed
(&
·th
, 
çtfs
, 0);

3162 
fs
 = *
çtfs
;

3163 ià(
»s
 =ğ
FR_OK
) {

3165 ià(
fs
->
ä“_şu¡
 <ğfs->
n_ç‹Á
 - 2) {

3166 *
nş¡
 = 
fs
->
ä“_şu¡
;

3169 
çt
 = 
fs
->
fs_ty³
;

3170 
n
 = 0;

3171 ià(
çt
 =ğ
FS_FAT12
) {

3172 
ş¡
 = 2;

3174 
¡©
 = 
	`g‘_çt
(
fs
, 
ş¡
);

3175 ià(
¡©
 =ğ0xFFFFFFFFè{ 
»s
 = 
FR_DISK_ERR
; ; }

3176 ià(
¡©
 =ğ1è{ 
»s
 = 
FR_INT_ERR
; ; }

3177 ià(
¡©
 =ğ0è
n
++;

3178 } ++
ş¡
 < 
fs
->
n_ç‹Á
);

3180 
ş¡
 = 
fs
->
n_ç‹Á
;

3181 
£ù
 = 
fs
->
çtba£
;

3182 
i
 = 0; 
p
 = 0;

3184 ià(!
i
) {

3185 
»s
 = 
	`move_wšdow
(
fs
, 
£ù
++);

3186 ià(
»s
 !ğ
FR_OK
) ;

3187 
p
 = 
fs
->
wš
;

3188 
i
 = 
	`SS
(
fs
);

3190 ià(
çt
 =ğ
FS_FAT16
) {

3191 ià(
	`LD_WORD
(
p
è=ğ0è
n
++;

3192 
p
 +ğ2; 
i
 -= 2;

3194 ià((
	`LD_DWORD
(
p
è& 0x0FFFFFFFè=ğ0è
n
++;

3195 
p
 +ğ4; 
i
 -= 4;

3197 } --
ş¡
);

3199 
fs
->
ä“_şu¡
 = 
n
;

3200 ià(
çt
 =ğ
FS_FAT32
è
fs
->
fsi_æag
 = 1;

3201 *
nş¡
 = 
n
;

3204 
	`LEAVE_FF
(
fs
, 
»s
);

3205 
	}
}

3214 
FRESULT
 
	$f_Œunÿ‹
 (

3215 
FIL
 *
å


3218 
FRESULT
 
»s
;

3219 
DWORD
 
nş
;

3222 ià(!
å
è 
FR_INVALID_OBJECT
;

3224 
»s
 = 
	`v®id©e
(
å
);

3225 ià(
»s
 =ğ
FR_OK
) {

3226 ià(
å
->
æag
 & 
FA__ERROR
) {

3227 
»s
 = 
FR_INT_ERR
;

3229 ià(!(
å
->
æag
 & 
FA_WRITE
))

3230 
»s
 = 
FR_DENIED
;

3233 ià(
»s
 =ğ
FR_OK
) {

3234 ià(
å
->
fsize
 > fp->
åŒ
) {

3235 
å
->
fsize
 = fp->
åŒ
;

3236 
å
->
æag
 |ğ
FA__WRITTEN
;

3237 ià(
å
->
åŒ
 == 0) {

3238 
»s
 = 
	`»move_chaš
(
å
->
fs
, fp->
sşu¡
);

3239 
å
->
sşu¡
 = 0;

3241 
nş
 = 
	`g‘_çt
(
å
->
fs
, fp->
şu¡
);

3242 
»s
 = 
FR_OK
;

3243 ià(
nş
 =ğ0xFFFFFFFFè
»s
 = 
FR_DISK_ERR
;

3244 ià(
nş
 =ğ1è
»s
 = 
FR_INT_ERR
;

3245 ià(
»s
 =ğ
FR_OK
 && 
nş
 < 
å
->
fs
->
n_ç‹Á
) {

3246 
»s
 = 
	`put_çt
(
å
->
fs
, fp->
şu¡
, 0x0FFFFFFF);

3247 ià(
»s
 =ğ
FR_OK
è» ğ
	`»move_chaš
(
å
->
fs
, 
nş
);

3251 ià(
»s
 !ğ
FR_OK
è
å
->
æag
 |ğ
FA__ERROR
;

3254 
	`LEAVE_FF
(
å
->
fs
, 
»s
);

3255 
	}
}

3264 
FRESULT
 
	$f_uÆšk
 (

3265 cÚ¡ 
TCHAR
 *
·th


3268 
FRESULT
 
»s
;

3269 
FATFS_DIR
 
dj
, 
sdj
;

3270 
BYTE
 *
dœ
;

3271 
DWORD
 
dş¡
;

3272 
DEF_NAMEBUF
;

3275 
»s
 = 
	`chk_mouÁed
(&
·th
, &
dj
.
fs
, 1);

3276 ià(
»s
 =ğ
FR_OK
) {

3277 
	`INIT_BUF
(
dj
);

3278 
»s
 = 
	`fŞlow_·th
(&
dj
, 
·th
);

3279 ià(
_FS_RPATH
 && 
»s
 =ğ
FR_OK
 && (
dj
.
â
[
NS
] & 
NS_DOT
))

3280 
»s
 = 
FR_INVALID_NAME
;

3281 #ià
_FS_LOCK


3282 ià(
»s
 =ğ
FR_OK
è» ğ
	`chk_lock
(&
dj
, 2);

3284 ià(
»s
 =ğ
FR_OK
) {

3285 
dœ
 = 
dj
.dir;

3286 ià(!
dœ
) {

3287 
»s
 = 
FR_INVALID_NAME
;

3289 ià(
dœ
[
DIR_A‰r
] & 
AM_RDO
)

3290 
»s
 = 
FR_DENIED
;

3292 
dş¡
 = 
	`ld_şu¡
(
dj
.
fs
, 
dœ
);

3293 ià(
»s
 =ğ
FR_OK
 && (
dœ
[
DIR_A‰r
] & 
AM_DIR
)) {

3294 ià(
dş¡
 < 2) {

3295 
»s
 = 
FR_INT_ERR
;

3297 
	`mem_ıy
(&
sdj
, &
dj
,  (
FATFS_DIR
));

3298 
sdj
.
sşu¡
 = 
dş¡
;

3299 
»s
 = 
	`dœ_sdi
(&
sdj
, 2);

3300 ià(
»s
 =ğ
FR_OK
) {

3301 
»s
 = 
	`dœ_»ad
(&
sdj
);

3302 ià(
»s
 =ğ
FR_OK


3303 #ià
_FS_RPATH


3304 || 
dş¡
 =ğ
dj
.
fs
->
cdœ


3306 è
»s
 = 
FR_DENIED
;

3307 ià(
»s
 =ğ
FR_NO_FILE
è» ğ
FR_OK
;

3311 ià(
»s
 =ğ
FR_OK
) {

3312 
»s
 = 
	`dœ_»move
(&
dj
);

3313 ià(
»s
 =ğ
FR_OK
) {

3314 ià(
dş¡
)

3315 
»s
 = 
	`»move_chaš
(
dj
.
fs
, 
dş¡
);

3316 ià(
»s
 =ğ
FR_OK
è» ğ
	`sync
(
dj
.
fs
);

3320 
	`FREE_BUF
();

3322 
	`LEAVE_FF
(
dj
.
fs
, 
»s
);

3323 
	}
}

3332 
FRESULT
 
	$f_mkdœ
 (

3333 cÚ¡ 
TCHAR
 *
·th


3336 
FRESULT
 
»s
;

3337 
FATFS_DIR
 
dj
;

3338 
BYTE
 *
dœ
, 
n
;

3339 
DWORD
 
dsc
, 
dş
, 
pş
, 
tim
 = 
	`g‘_ç‰ime
();

3340 
DEF_NAMEBUF
;

3343 
»s
 = 
	`chk_mouÁed
(&
·th
, &
dj
.
fs
, 1);

3344 ià(
»s
 =ğ
FR_OK
) {

3345 
	`INIT_BUF
(
dj
);

3346 
»s
 = 
	`fŞlow_·th
(&
dj
, 
·th
);

3347 ià(
»s
 =ğ
FR_OK
è» ğ
FR_EXIST
;

3348 ià(
_FS_RPATH
 && 
»s
 =ğ
FR_NO_FILE
 && (
dj
.
â
[
NS
] & 
NS_DOT
))

3349 
»s
 = 
FR_INVALID_NAME
;

3350 ià(
»s
 =ğ
FR_NO_FILE
) {

3351 
dş
 = 
	`ü—‹_chaš
(
dj
.
fs
, 0);

3352 
»s
 = 
FR_OK
;

3353 ià(
dş
 =ğ0è
»s
 = 
FR_DENIED
;

3354 ià(
dş
 =ğ1è
»s
 = 
FR_INT_ERR
;

3355 ià(
dş
 =ğ0xFFFFFFFFè
»s
 = 
FR_DISK_ERR
;

3356 ià(
»s
 =ğ
FR_OK
)

3357 
»s
 = 
	`move_wšdow
(
dj
.
fs
, 0);

3358 ià(
»s
 =ğ
FR_OK
) {

3359 
dsc
 = 
	`şu¡2£ù
(
dj
.
fs
, 
dş
);

3360 
dœ
 = 
dj
.
fs
->
wš
;

3361 
	`mem_£t
(
dœ
, 0, 
	`SS
(
dj
.
fs
));

3362 
	`mem_£t
(
dœ
+
DIR_Name
, ' ', 8+3);

3363 
dœ
[
DIR_Name
] = '.';

3364 
dœ
[
DIR_A‰r
] = 
AM_DIR
;

3365 
	`ST_DWORD
(
dœ
+
DIR_W¹Time
, 
tim
);

3366 
	`¡_şu¡
(
dœ
, 
dş
);

3367 
	`mem_ıy
(
dœ
+
SZ_DIR
, dir, SZ_DIR);

3368 
dœ
[33] = '.'; 
pş
 = 
dj
.
sşu¡
;

3369 ià(
dj
.
fs
->
fs_ty³
 =ğ
FS_FAT32
 && 
pş
 =ğdj.fs->
dœba£
)

3370 
pş
 = 0;

3371 
	`¡_şu¡
(
dœ
+
SZ_DIR
, 
pş
);

3372 
n
 = 
dj
.
fs
->
csize
;‚;‚--) {

3373 
dj
.
fs
->
wš£ù
 = 
dsc
++;

3374 
dj
.
fs
->
wæag
 = 1;

3375 
»s
 = 
	`move_wšdow
(
dj
.
fs
, 0);

3376 ià(
»s
 !ğ
FR_OK
) ;

3377 
	`mem_£t
(
dœ
, 0, 
	`SS
(
dj
.
fs
));

3380 ià(
»s
 =ğ
FR_OK
è» ğ
	`dœ_»gi¡”
(&
dj
);

3381 ià(
»s
 !ğ
FR_OK
) {

3382 
	`»move_chaš
(
dj
.
fs
, 
dş
);

3384 
dœ
 = 
dj
.dir;

3385 
dœ
[
DIR_A‰r
] = 
AM_DIR
;

3386 
	`ST_DWORD
(
dœ
+
DIR_W¹Time
, 
tim
);

3387 
	`¡_şu¡
(
dœ
, 
dş
);

3388 
dj
.
fs
->
wæag
 = 1;

3389 
»s
 = 
	`sync
(
dj
.
fs
);

3392 
	`FREE_BUF
();

3395 
	`LEAVE_FF
(
dj
.
fs
, 
»s
);

3396 
	}
}

3405 
FRESULT
 
	$f_chmod
 (

3406 cÚ¡ 
TCHAR
 *
·th
,

3407 
BYTE
 
v®ue
,

3408 
BYTE
 
mask


3411 
FRESULT
 
»s
;

3412 
FATFS_DIR
 
dj
;

3413 
BYTE
 *
dœ
;

3414 
DEF_NAMEBUF
;

3417 
»s
 = 
	`chk_mouÁed
(&
·th
, &
dj
.
fs
, 1);

3418 ià(
»s
 =ğ
FR_OK
) {

3419 
	`INIT_BUF
(
dj
);

3420 
»s
 = 
	`fŞlow_·th
(&
dj
, 
·th
);

3421 
	`FREE_BUF
();

3422 ià(
_FS_RPATH
 && 
»s
 =ğ
FR_OK
 && (
dj
.
â
[
NS
] & 
NS_DOT
))

3423 
»s
 = 
FR_INVALID_NAME
;

3424 ià(
»s
 =ğ
FR_OK
) {

3425 
dœ
 = 
dj
.dir;

3426 ià(!
dœ
) {

3427 
»s
 = 
FR_INVALID_NAME
;

3429 
mask
 &ğ
AM_RDO
|
AM_HID
|
AM_SYS
|
AM_ARC
;

3430 
dœ
[
DIR_A‰r
] = (
v®ue
 & 
mask
è| (dœ[DIR_A‰r] & (
BYTE
)~mask);

3431 
dj
.
fs
->
wæag
 = 1;

3432 
»s
 = 
	`sync
(
dj
.
fs
);

3437 
	`LEAVE_FF
(
dj
.
fs
, 
»s
);

3438 
	}
}

3447 
FRESULT
 
	$f_utime
 (

3448 cÚ¡ 
TCHAR
 *
·th
,

3449 cÚ¡ 
FILINFO
 *
âo


3452 
FRESULT
 
»s
;

3453 
FATFS_DIR
 
dj
;

3454 
BYTE
 *
dœ
;

3455 
DEF_NAMEBUF
;

3458 
»s
 = 
	`chk_mouÁed
(&
·th
, &
dj
.
fs
, 1);

3459 ià(
»s
 =ğ
FR_OK
) {

3460 
	`INIT_BUF
(
dj
);

3461 
»s
 = 
	`fŞlow_·th
(&
dj
, 
·th
);

3462 
	`FREE_BUF
();

3463 ià(
_FS_RPATH
 && 
»s
 =ğ
FR_OK
 && (
dj
.
â
[
NS
] & 
NS_DOT
))

3464 
»s
 = 
FR_INVALID_NAME
;

3465 ià(
»s
 =ğ
FR_OK
) {

3466 
dœ
 = 
dj
.dir;

3467 ià(!
dœ
) {

3468 
»s
 = 
FR_INVALID_NAME
;

3470 
	`ST_WORD
(
dœ
+
DIR_W¹Time
, 
âo
->
áime
);

3471 
	`ST_WORD
(
dœ
+
DIR_W¹D©e
, 
âo
->
fd©e
);

3472 
dj
.
fs
->
wæag
 = 1;

3473 
»s
 = 
	`sync
(
dj
.
fs
);

3478 
	`LEAVE_FF
(
dj
.
fs
, 
»s
);

3479 
	}
}

3488 
FRESULT
 
	$f_»Çme
 (

3489 cÚ¡ 
TCHAR
 *
·th_Şd
,

3490 cÚ¡ 
TCHAR
 *
·th_Ãw


3493 
FRESULT
 
»s
;

3494 
FATFS_DIR
 
djo
, 
djn
;

3495 
BYTE
 
buf
[21], *
dœ
;

3496 
DWORD
 
dw
;

3497 
DEF_NAMEBUF
;

3500 
»s
 = 
	`chk_mouÁed
(&
·th_Şd
, &
djo
.
fs
, 1);

3501 ià(
»s
 =ğ
FR_OK
) {

3502 
djn
.
fs
 = 
djo
.fs;

3503 
	`INIT_BUF
(
djo
);

3504 
»s
 = 
	`fŞlow_·th
(&
djo
, 
·th_Şd
);

3505 ià(
_FS_RPATH
 && 
»s
 =ğ
FR_OK
 && (
djo
.
â
[
NS
] & 
NS_DOT
))

3506 
»s
 = 
FR_INVALID_NAME
;

3507 #ià
_FS_LOCK


3508 ià(
»s
 =ğ
FR_OK
è» ğ
	`chk_lock
(&
djo
, 2);

3510 ià(
»s
 =ğ
FR_OK
) {

3511 ià(!
djo
.
dœ
) {

3512 
»s
 = 
FR_NO_FILE
;

3514 
	`mem_ıy
(
buf
, 
djo
.
dœ
+
DIR_A‰r
, 21);

3515 
	`mem_ıy
(&
djn
, &
djo
,  (
FATFS_DIR
));

3516 
»s
 = 
	`fŞlow_·th
(&
djn
, 
·th_Ãw
);

3517 ià(
»s
 =ğ
FR_OK
è» ğ
FR_EXIST
;

3518 ià(
»s
 =ğ
FR_NO_FILE
) {

3520 
»s
 = 
	`dœ_»gi¡”
(&
djn
);

3521 ià(
»s
 =ğ
FR_OK
) {

3522 
dœ
 = 
djn
.dir;

3523 
	`mem_ıy
(
dœ
+13, 
buf
+2, 19);

3524 
dœ
[
DIR_A‰r
] = 
buf
[0] | 
AM_ARC
;

3525 
djo
.
fs
->
wæag
 = 1;

3526 ià(
djo
.
sşu¡
 !ğ
djn
.sşu¡ && (
dœ
[
DIR_A‰r
] & 
AM_DIR
)) {

3527 
dw
 = 
	`şu¡2£ù
(
djo
.
fs
, 
	`ld_şu¡
(djo.fs, 
dœ
));

3528 ià(!
dw
) {

3529 
»s
 = 
FR_INT_ERR
;

3531 
»s
 = 
	`move_wšdow
(
djo
.
fs
, 
dw
);

3532 
dœ
 = 
djo
.
fs
->
wš
+
SZ_DIR
;

3533 ià(
»s
 =ğ
FR_OK
 && 
dœ
[1] == '.') {

3534 
dw
 = (
djo
.
fs
->
fs_ty³
 =ğ
FS_FAT32
 && 
djn
.
sşu¡
 =ğdjo.fs->
dœba£
) ? 0 : djn.sclust;

3535 
	`¡_şu¡
(
dœ
, 
dw
);

3536 
djo
.
fs
->
wæag
 = 1;

3540 ià(
»s
 =ğ
FR_OK
) {

3541 
»s
 = 
	`dœ_»move
(&
djo
);

3542 ià(
»s
 =ğ
FR_OK
)

3543 
»s
 = 
	`sync
(
djo
.
fs
);

3550 
	`FREE_BUF
();

3552 
	`LEAVE_FF
(
djo
.
fs
, 
»s
);

3553 
	}
}

3565 #ià
_USE_FORWARD
 && 
_FS_TINY


3567 
FRESULT
 
f_fÜw¬d
 (

3568 
FIL
 *
å
,

3569 
	$UINT
 (*
func
)(cÚ¡ 
BYTE
*,
UINT
),

3570 
UINT
 
bŒ
,

3571 
UINT
 *
bf


3574 
FRESULT
 
»s
;

3575 
DWORD
 
»maš
, 
ş¡
, 
£ù
;

3576 
UINT
 
rút
;

3577 
BYTE
 
c£ù
;

3580 *
bf
 = 0;

3582 ià(!
å
è 
FR_INVALID_OBJECT
;

3584 
»s
 = 
	`v®id©e
(
å
);

3585 ià(
»s
 !ğ
FR_OK
è
	`LEAVE_FF
(
å
->
fs
,„es);

3586 ià(
å
->
æag
 & 
FA__ERROR
)

3587 
	`LEAVE_FF
(
å
->
fs
, 
FR_INT_ERR
);

3588 ià(!(
å
->
æag
 & 
FA_READ
))

3589 
	`LEAVE_FF
(
å
->
fs
, 
FR_DENIED
);

3591 
»maš
 = 
å
->
fsize
 - fp->
åŒ
;

3592 ià(
bŒ
 > 
»maš
èbŒ = (
UINT
)remain;

3594  ; 
bŒ
 && (*
func
)(0, 0);

3595 
å
->
åŒ
 +ğ
rút
, *
bf
 +ğrút, 
bŒ
 -=„cnt) {

3596 
c£ù
 = (
BYTE
)(
å
->
åŒ
 / 
	`SS
(å->
fs
è& (å->fs->
csize
 - 1));

3597 ià((
å
->
åŒ
 % 
	`SS
(å->
fs
)) == 0) {

3598 ià(!
c£ù
) {

3599 
ş¡
 = (
å
->
åŒ
 == 0) ?

3600 
å
->
sşu¡
 : 
	`g‘_çt
(å->
fs
, fp->
şu¡
);

3601 ià(
ş¡
 <ğ1è
	`ABORT
(
å
->
fs
, 
FR_INT_ERR
);

3602 ià(
ş¡
 =ğ0xFFFFFFFFè
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

3603 
å
->
şu¡
 = 
ş¡
;

3606 
£ù
 = 
	`şu¡2£ù
(
å
->
fs
, fp->
şu¡
);

3607 ià(!
£ù
è
	`ABORT
(
å
->
fs
, 
FR_INT_ERR
);

3608 
£ù
 +ğ
c£ù
;

3609 ià(
	`move_wšdow
(
å
->
fs
, 
£ù
))

3610 
	`ABORT
(
å
->
fs
, 
FR_DISK_ERR
);

3611 
å
->
d£ù
 = 
£ù
;

3612 
rút
 = 
	`SS
(
å
->
fs
è- (
WORD
)(å->
åŒ
 % SS(fp->fs));

3613 ià(
rút
 > 
bŒ
)„cnt = btr;

3614 
rút
 = (*
func
)(&
å
->
fs
->
wš
[(
WORD
)å->
åŒ
 % 
	`SS
(fp->fs)],„cnt);

3615 ià(!
rút
è
	`ABORT
(
å
->
fs
, 
FR_INT_ERR
);

3618 
	`LEAVE_FF
(
å
->
fs
, 
FR_OK
);

3619 
	}
}

3624 #ià
_USE_MKFS
 && !
_FS_READONLY


3628 
	#N_ROOTDIR
 512

	)

3629 
	#N_FATS
 1

	)

3632 
FRESULT
 
	$f_mkfs
 (

3633 
BYTE
 
drv
,

3634 
BYTE
 
sfd
,

3635 
UINT
 
au


3638 cÚ¡ 
WORD
 
v¡
[] = { 1024, 512, 256, 128, 64, 32, 16, 8, 4, 2, 0};

3639 cÚ¡ 
WORD
 
c¡
[] = {32768, 16384, 8192, 4096, 2048, 16384, 8192, 4096, 2048, 1024, 512};

3640 
BYTE
 
fmt
, 
md
, 
sys
, *
tbl
, 
pdrv
, 
·¹
;

3641 
DWORD
 
n_ş¡
, 
vs
, 
n
, 
w£ù
;

3642 
UINT
 
i
;

3643 
DWORD
 
b_vŞ
, 
b_çt
, 
b_dœ
, 
b_d©a
;

3644 
DWORD
 
n_vŞ
, 
n_rsv
, 
n_çt
, 
n_dœ
;

3645 
FATFS
 *
fs
;

3646 
DSTATUS
 
¡©
;

3650 ià(
drv
 >ğ
_VOLUMES
è 
FR_INVALID_DRIVE
;

3651 ià(
sfd
 > 1è 
FR_INVALID_PARAMETER
;

3652 ià(
au
 & (au - 1)è 
FR_INVALID_PARAMETER
;

3653 
fs
 = 
F©Fs
[
drv
];

3654 ià(!
fs
è 
FR_NOT_ENABLED
;

3655 
fs
->
fs_ty³
 = 0;

3656 
pdrv
 = 
	`LD2PD
(
drv
);

3657 
·¹
 = 
	`LD2PT
(
drv
);

3660 
¡©
 = 
	`disk_š™Ÿlize
(
pdrv
);

3661 ià(
¡©
 & 
STA_NOINIT
è 
FR_NOT_READY
;

3662 ià(
¡©
 & 
STA_PROTECT
è 
FR_WRITE_PROTECTED
;

3663 #ià
_MAX_SS
 != 512

3664 ià(
	`disk_ioùl
(
pdrv
, 
GET_SECTOR_SIZE
, &
	`SS
(
fs
)è!ğ
RES_OK
 || SS(fsè> 
_MAX_SS
)

3665  
FR_DISK_ERR
;

3667 ià(
_MULTI_PARTITION
 && 
·¹
) {

3669 ià(
	`disk_»ad
(
pdrv
, 
fs
->
wš
, 0, 1è!ğ
RES_OK
è 
FR_DISK_ERR
;

3670 ià(
	`LD_WORD
(
fs
->
wš
+
BS_55AA
è!ğ0xAA55è 
FR_MKFS_ABORTED
;

3671 
tbl
 = &
fs
->
wš
[
MBR_TabË
 + (
·¹
 - 1è* 
SZ_PTE
];

3672 ià(!
tbl
[4]è 
FR_MKFS_ABORTED
;

3673 
b_vŞ
 = 
	`LD_DWORD
(
tbl
+8);

3674 
n_vŞ
 = 
	`LD_DWORD
(
tbl
+12);

3677 ià(
	`disk_ioùl
(
pdrv
, 
GET_SECTOR_COUNT
, &
n_vŞ
è!ğ
RES_OK
 ||‚_vol < 128)

3678  
FR_DISK_ERR
;

3679 
b_vŞ
 = (
sfd
) ? 0 : 63;

3680 
n_vŞ
 -ğ
b_vŞ
;

3683 ià(!
au
) {

3684 
vs
 = 
n_vŞ
 / (2000 / (
	`SS
(
fs
) / 512));

3685 
i
 = 0; 
vs
 < 
v¡
[i]; i++) ;

3686 
au
 = 
c¡
[
i
];

3688 
au
 /ğ
	`SS
(
fs
);

3689 ià(
au
 == 0)‡u = 1;

3690 ià(
au
 > 128)‡u = 128;

3693 
n_ş¡
 = 
n_vŞ
 / 
au
;

3694 
fmt
 = 
FS_FAT12
;

3695 ià(
n_ş¡
 >ğ
MIN_FAT16
è
fmt
 = 
FS_FAT16
;

3696 ià(
n_ş¡
 >ğ
MIN_FAT32
è
fmt
 = 
FS_FAT32
;

3699 ià(
fmt
 =ğ
FS_FAT32
) {

3700 
n_çt
 = ((
n_ş¡
 * 4è+ 8 + 
	`SS
(
fs
) - 1) / SS(fs);

3701 
n_rsv
 = 32;

3702 
n_dœ
 = 0;

3704 
n_çt
 = (
fmt
 =ğ
FS_FAT12
è? (
n_ş¡
 * 3 + 1) / 2 + 3 : (n_clst * 2) + 4;

3705 
n_çt
 = (n_çˆ+ 
	`SS
(
fs
) - 1) / SS(fs);

3706 
n_rsv
 = 1;

3707 
n_dœ
 = (
DWORD
)
N_ROOTDIR
 * 
SZ_DIR
 / 
	`SS
(
fs
);

3709 
b_çt
 = 
b_vŞ
 + 
n_rsv
;

3710 
b_dœ
 = 
b_çt
 + 
n_çt
 * 
N_FATS
;

3711 
b_d©a
 = 
b_dœ
 + 
n_dœ
;

3712 ià(
n_vŞ
 < 
b_d©a
 + 
au
 - 
b_vŞ
è 
FR_MKFS_ABORTED
;

3715 ià(
	`disk_ioùl
(
pdrv
, 
GET_BLOCK_SIZE
, &
n
è!ğ
RES_OK
 || !n ||‚ > 32768)‚ = 1;

3716 
n
 = (
b_d©a
 +‚ - 1) & ~(n - 1);

3717 
n
 = (À- 
b_d©a
è/ 
N_FATS
;

3718 ià(
fmt
 =ğ
FS_FAT32
) {

3719 
n_rsv
 +ğ
n
;

3720 
b_çt
 +ğ
n
;

3722 
n_çt
 +ğ
n
;

3726 
n_ş¡
 = (
n_vŞ
 - 
n_rsv
 - 
n_çt
 * 
N_FATS
 - 
n_dœ
è/ 
au
;

3727 iàĞ(
fmt
 =ğ
FS_FAT16
 && 
n_ş¡
 < 
MIN_FAT16
)

3728 || (
fmt
 =ğ
FS_FAT32
 && 
n_ş¡
 < 
MIN_FAT32
))

3729  
FR_MKFS_ABORTED
;

3731 
fmt
) {

3732 
FS_FAT12
: 
sys
 = 0x01; ;

3733 
FS_FAT16
: 
sys
 = (
n_vŞ
 < 0x10000) ? 0x04 : 0x06; ;

3734 : 
sys
 = 0x0C;

3737 ià(
_MULTI_PARTITION
 && 
·¹
) {

3739 
tbl
 = &
fs
->
wš
[
MBR_TabË
 + (
·¹
 - 1è* 
SZ_PTE
];

3740 
tbl
[4] = 
sys
;

3741 ià(
	`disk_wr™e
(
pdrv
, 
fs
->
wš
, 0, 1è!ğ
RES_OK
è 
FR_DISK_ERR
;

3742 
md
 = 0xF8;

3744 ià(
sfd
) {

3745 
md
 = 0xF0;

3747 
	`mem_£t
(
fs
->
wš
, 0, 
	`SS
(fs));

3748 
tbl
 = 
fs
->
wš
+
MBR_TabË
;

3749 
tbl
[1] = 1;

3750 
tbl
[2] = 1;

3751 
tbl
[3] = 0;

3752 
tbl
[4] = 
sys
;

3753 
tbl
[5] = 254;

3754 
n
 = (
b_vŞ
 + 
n_vŞ
) / 63 / 255;

3755 
tbl
[6] = (
BYTE
)((
n
 >> 2) | 63);

3756 
tbl
[7] = (
BYTE
)
n
;

3757 
	`ST_DWORD
(
tbl
+8, 63);

3758 
	`ST_DWORD
(
tbl
+12, 
n_vŞ
);

3759 
	`ST_WORD
(
fs
->
wš
+
BS_55AA
, 0xAA55);

3760 ià(
	`disk_wr™e
(
pdrv
, 
fs
->
wš
, 0, 1è!ğ
RES_OK
)

3761  
FR_DISK_ERR
;

3762 
md
 = 0xF8;

3767 
tbl
 = 
fs
->
wš
;

3768 
	`mem_£t
(
tbl
, 0, 
	`SS
(
fs
));

3769 
	`mem_ıy
(
tbl
, "\xEB\xFE\x90" "MSDOS5.0", 11);

3770 
i
 = 
	`SS
(
fs
);

3771 
	`ST_WORD
(
tbl
+
BPB_BytsP”Sec
, 
i
);

3772 
tbl
[
BPB_SecP”Clus
] = (
BYTE
)
au
;

3773 
	`ST_WORD
(
tbl
+
BPB_RsvdSecCÁ
, 
n_rsv
);

3774 
tbl
[
BPB_NumFATs
] = 
N_FATS
;

3775 
i
 = (
fmt
 =ğ
FS_FAT32
è? 0 : 
N_ROOTDIR
;

3776 
	`ST_WORD
(
tbl
+
BPB_RoÙEÁCÁ
, 
i
);

3777 ià(
n_vŞ
 < 0x10000) {

3778 
	`ST_WORD
(
tbl
+
BPB_TÙSec16
, 
n_vŞ
);

3780 
	`ST_DWORD
(
tbl
+
BPB_TÙSec32
, 
n_vŞ
);

3782 
tbl
[
BPB_MedŸ
] = 
md
;

3783 
	`ST_WORD
(
tbl
+
BPB_SecP”Trk
, 63);

3784 
	`ST_WORD
(
tbl
+
BPB_NumH—ds
, 255);

3785 
	`ST_DWORD
(
tbl
+
BPB_HiddSec
, 
b_vŞ
);

3786 
n
 = 
	`g‘_ç‰ime
();

3787 ià(
fmt
 =ğ
FS_FAT32
) {

3788 
	`ST_DWORD
(
tbl
+
BS_VŞID32
, 
n
);

3789 
	`ST_DWORD
(
tbl
+
BPB_FATSz32
, 
n_çt
);

3790 
	`ST_DWORD
(
tbl
+
BPB_RoÙClus
, 2);

3791 
	`ST_WORD
(
tbl
+
BPB_FSInfo
, 1);

3792 
	`ST_WORD
(
tbl
+
BPB_BkBoÙSec
, 6);

3793 
tbl
[
BS_DrvNum32
] = 0x80;

3794 
tbl
[
BS_BoÙSig32
] = 0x29;

3795 
	`mem_ıy
(
tbl
+
BS_VŞLab32
, "NO NAME " "FAT32 ", 19);

3797 
	`ST_DWORD
(
tbl
+
BS_VŞID
, 
n
);

3798 
	`ST_WORD
(
tbl
+
BPB_FATSz16
, 
n_çt
);

3799 
tbl
[
BS_DrvNum
] = 0x80;

3800 
tbl
[
BS_BoÙSig
] = 0x29;

3801 
	`mem_ıy
(
tbl
+
BS_VŞLab
, "NO NAME " "FAT ", 19);

3803 
	`ST_WORD
(
tbl
+
BS_55AA
, 0xAA55);

3804 ià(
	`disk_wr™e
(
pdrv
, 
tbl
, 
b_vŞ
, 1è!ğ
RES_OK
)

3805  
FR_DISK_ERR
;

3806 ià(
fmt
 =ğ
FS_FAT32
)

3807 
	`disk_wr™e
(
pdrv
, 
tbl
, 
b_vŞ
 + 6, 1);

3810 
w£ù
 = 
b_çt
;

3811 
i
 = 0; i < 
N_FATS
; i++) {

3812 
	`mem_£t
(
tbl
, 0, 
	`SS
(
fs
));

3813 
n
 = 
md
;

3814 ià(
fmt
 !ğ
FS_FAT32
) {

3815 
n
 |ğ(
fmt
 =ğ
FS_FAT12
) ? 0x00FFFF00 : 0xFFFFFF00;

3816 
	`ST_DWORD
(
tbl
+0, 
n
);

3818 
n
 |= 0xFFFFFF00;

3819 
	`ST_DWORD
(
tbl
+0, 
n
);

3820 
	`ST_DWORD
(
tbl
+4, 0xFFFFFFFF);

3821 
	`ST_DWORD
(
tbl
+8, 0x0FFFFFFF);

3823 ià(
	`disk_wr™e
(
pdrv
, 
tbl
, 
w£ù
++, 1è!ğ
RES_OK
)

3824  
FR_DISK_ERR
;

3825 
	`mem_£t
(
tbl
, 0, 
	`SS
(
fs
));

3826 
n
 = 1;‚ < 
n_çt
;‚++) {

3827 ià(
	`disk_wr™e
(
pdrv
, 
tbl
, 
w£ù
++, 1è!ğ
RES_OK
)

3828  
FR_DISK_ERR
;

3833 
i
 = (
fmt
 =ğ
FS_FAT32
è? 
au
 : 
n_dœ
;

3835 ià(
	`disk_wr™e
(
pdrv
, 
tbl
, 
w£ù
++, 1è!ğ
RES_OK
)

3836  
FR_DISK_ERR
;

3837 } --
i
);

3839 #ià
_USE_ERASE


3841 
DWORD
 
eb
[2];

3843 
eb
[0] = 
w£ù
;ƒb[1] = w£ù + (
n_ş¡
 - ((
fmt
 =ğ
FS_FAT32
è? 1 : 0)è* 
au
 - 1;

3844 
	`disk_ioùl
(
pdrv
, 
CTRL_ERASE_SECTOR
, 
eb
);

3849 ià(
fmt
 =ğ
FS_FAT32
) {

3850 
	`ST_DWORD
(
tbl
+
FSI_L—dSig
, 0x41615252);

3851 
	`ST_DWORD
(
tbl
+
FSI_SŒucSig
, 0x61417272);

3852 
	`ST_DWORD
(
tbl
+
FSI_F»e_CouÁ
, 
n_ş¡
 - 1);

3853 
	`ST_DWORD
(
tbl
+
FSI_Nxt_F»e
, 2);

3854 
	`ST_WORD
(
tbl
+
BS_55AA
, 0xAA55);

3855 
	`disk_wr™e
(
pdrv
, 
tbl
, 
b_vŞ
 + 1, 1);

3856 
	`disk_wr™e
(
pdrv
, 
tbl
, 
b_vŞ
 + 7, 1);

3859  (
	`disk_ioùl
(
pdrv
, 
CTRL_SYNC
, 0è=ğ
RES_OK
è? 
FR_OK
 : 
FR_DISK_ERR
;

3860 
	}
}

3863 #ià
_MULTI_PARTITION
 == 2

3868 
FRESULT
 
	$f_fdisk
 (

3869 
BYTE
 
pdrv
,

3870 cÚ¡ 
DWORD
 
szt
[],

3871 * 
wÜk


3874 
UINT
 
i
, 
n
, 
sz_cyl
, 
tÙ_cyl
, 
b_cyl
, 
e_cyl
, 
p_cyl
;

3875 
BYTE
 
s_hd
, 
e_hd
, *
p
, *
buf
 = (BYTE*)
wÜk
;

3876 
DSTATUS
 
¡©
;

3877 
DWORD
 
sz_disk
, 
sz_·¹
, 
s_·¹
;

3880 
¡©
 = 
	`disk_š™Ÿlize
(
pdrv
);

3881 ià(
¡©
 & 
STA_NOINIT
è 
FR_NOT_READY
;

3882 ià(
¡©
 & 
STA_PROTECT
è 
FR_WRITE_PROTECTED
;

3883 ià(
	`disk_ioùl
(
pdrv
, 
GET_SECTOR_COUNT
, &
sz_disk
)è 
FR_DISK_ERR
;

3886 
n
 = 16;‚ < 256 && 
sz_disk
 /‚ / 63 > 1024;‚ *= 2) ;

3887 ià(
n
 == 256)‚--;

3888 
e_hd
 = 
n
 - 1;

3889 
sz_cyl
 = 63 * 
n
;

3890 
tÙ_cyl
 = 
sz_disk
 / 
sz_cyl
;

3893 
	`mem_£t
(
buf
, 0, 
_MAX_SS
);

3894 
p
 = 
buf
 + 
MBR_TabË
; 
b_cyl
 = 0;

3895 
i
 = 0; i < 4; i++, 
p
 +ğ
SZ_PTE
) {

3896 
p_cyl
 = (
szt
[
i
] <ğ100è? (
DWORD
)
tÙ_cyl
 * szt[i] / 100 : szt[i] / 
sz_cyl
;

3897 ià(!
p_cyl
) ;

3898 
s_·¹
 = (
DWORD
)
sz_cyl
 * 
b_cyl
;

3899 
sz_·¹
 = (
DWORD
)
sz_cyl
 * 
p_cyl
;

3900 ià(
i
 == 0) {

3901 
s_hd
 = 1;

3902 
s_·¹
 +ğ63; 
sz_·¹
 -= 63;

3904 
s_hd
 = 0;

3906 
e_cyl
 = 
b_cyl
 + 
p_cyl
 - 1;

3907 ià(
e_cyl
 >ğ
tÙ_cyl
è 
FR_INVALID_PARAMETER
;

3910 
p
[1] = 
s_hd
;

3911 
p
[2] = (
BYTE
)((
b_cyl
 >> 2) + 1);

3912 
p
[3] = (
BYTE
)
b_cyl
;

3913 
p
[4] = 0x06;

3914 
p
[5] = 
e_hd
;

3915 
p
[6] = (
BYTE
)((
e_cyl
 >> 2) + 63);

3916 
p
[7] = (
BYTE
)
e_cyl
;

3917 
	`ST_DWORD
(
p
 + 8, 
s_·¹
);

3918 
	`ST_DWORD
(
p
 + 12, 
sz_·¹
);

3921 
b_cyl
 +ğ
p_cyl
;

3923 
	`ST_WORD
(
p
, 0xAA55);

3926  (
	`disk_wr™e
(
pdrv
, 
buf
, 0, 1è|| 
	`disk_ioùl
Õdrv, 
CTRL_SYNC
, 0)è? 
FR_DISK_ERR
 : 
FR_OK
;

3927 
	}
}

3936 #ià
_USE_STRFUNC


3940 
TCHAR
* 
	$f_g‘s
 (

3941 
TCHAR
* 
buff
,

3942 
Ën
,

3943 
FIL
* 
f


3946 
n
 = 0;

3947 
TCHAR
 
c
, *
p
 = 
buff
;

3948 
BYTE
 
s
[2];

3949 
UINT
 
rc
;

3952 
n
 < 
Ën
 - 1) {

3953 
	`f_»ad
(
f
, 
s
, 1, &
rc
);

3954 ià(
rc
 != 1) ;

3955 
c
 = 
s
[0];

3956 #ià
_LFN_UNICODE


3957 ià(
c
 >= 0x80) {

3958 ià(
c
 < 0xC0) ;

3959 ià(
c
 < 0xE0) {

3960 
	`f_»ad
(
f
, 
s
, 1, &
rc
);

3961 ià(
rc
 != 1) ;

3962 
c
 = ((ø& 0x1Fè<< 6è| (
s
[0] & 0x3F);

3963 ià(
c
 < 0x80) c = '?';

3965 ià(
c
 < 0xF0) {

3966 
	`f_»ad
(
f
, 
s
, 2, &
rc
);

3967 ià(
rc
 != 2) ;

3968 
c
 = (ø<< 12è| ((
s
[0] & 0x3F) << 6) | (s[1] & 0x3F);

3969 ià(
c
 < 0x800) c = '?';

3971 
c
 = '?';

3976 #ià
_USE_STRFUNC
 >= 2

3977 ià(
c
 == '\r') ;

3979 *
p
++ = 
c
;

3980 
n
++;

3981 ià(
c
 == '\n') ;

3983 *
p
 = 0;

3984  
n
 ? 
buff
 : 0;

3985 
	}
}

3989 #ià!
_FS_READONLY


3990 
	~<¡d¬g.h
>

3994 
	$f_putc
 (

3995 
TCHAR
 
c
,

3996 
FIL
* 
f


3999 
UINT
 
bw
, 
btw
;

4000 
BYTE
 
s
[3];

4003 #ià
_USE_STRFUNC
 >= 2

4004 ià(
c
 =ğ'\n'è
	`f_putc
 ('\r', 
f
);

4007 #ià
_LFN_UNICODE


4008 ià(
c
 < 0x80) {

4009 
s
[0] = (
BYTE
)
c
;

4010 
btw
 = 1;

4012 ià(
c
 < 0x800) {

4013 
s
[0] = (
BYTE
)(0xC0 | (
c
 >> 6));

4014 
s
[1] = (
BYTE
)(0x80 | (
c
 & 0x3F));

4015 
btw
 = 2;

4017 
s
[0] = (
BYTE
)(0xE0 | (
c
 >> 12));

4018 
s
[1] = (
BYTE
)(0x80 | ((
c
 >> 6) & 0x3F));

4019 
s
[2] = (
BYTE
)(0x80 | (
c
 & 0x3F));

4020 
btw
 = 3;

4024 
s
[0] = (
BYTE
)
c
;

4025 
btw
 = 1;

4027 
	`f_wr™e
(
f
, 
s
, 
btw
, &
bw
);

4028  (
bw
 =ğ
btw
è? 1 : 
EOF
;

4029 
	}
}

4037 
	$f_puts
 (

4038 cÚ¡ 
TCHAR
* 
¡r
,

4039 
FIL
* 
f


4042 
n
;

4045 
n
 = 0; *
¡r
; str++,‚++) {

4046 ià(
	`f_putc
(*
¡r
, 
f
è=ğ
EOF
)  EOF;

4048  
n
;

4049 
	}
}

4057 
	$f_´štf
 (

4058 
FIL
* 
f
,

4059 cÚ¡ 
TCHAR
* 
¡r
,

4063 
va_li¡
 
¬p
;

4064 
BYTE
 
f
, 
r
;

4065 
UINT
 
i
, 
j
, 
w
;

4066 
ULONG
 
v
;

4067 
TCHAR
 
c
, 
d
, 
s
[16], *
p
;

4068 
»s
, 
chc
, 
cc
;

4071 
	`va_¡¬t
(
¬p
, 
¡r
);

4073 
cc
 = 
»s
 = 0; cø!ğ
EOF
;„es += cc) {

4074 
c
 = *
¡r
++;

4075 ià(
c
 == 0) ;

4076 ià(
c
 != '%') {

4077 
cc
 = 
	`f_putc
(
c
, 
f
);

4078 ià(
cc
 !ğ
EOF
) cc = 1;

4081 
w
 = 
f
 = 0;

4082 
c
 = *
¡r
++;

4083 ià(
c
 == '0') {

4084 
f
 = 1; 
c
 = *
¡r
++;

4086 ià(
c
 == '-') {

4087 
f
 = 2; 
c
 = *
¡r
++;

4090 
	`IsDig™
(
c
)) {

4091 
w
 = w * 10 + 
c
 - '0';

4092 
c
 = *
¡r
++;

4094 ià(
c
 == 'l' || c == 'L') {

4095 
f
 |ğ4; 
c
 = *
¡r
++;

4097 ià(!
c
) ;

4098 
d
 = 
c
;

4099 ià(
	`IsLow”
(
d
)) d -= 0x20;

4100 
d
) {

4102 
p
 = 
	`va_¬g
(
¬p
, 
TCHAR
*);

4103 
j
 = 0; 
p
[j]; j++) ;

4104 
chc
 = 0;

4105 ià(!(
f
 & 2)) {

4106 
j
++ < 
w
è
chc
 +ğ(
cc
 = 
	`f_putc
(' ', 
f
));

4108 
chc
 +ğ(
cc
 = 
	`f_puts
(
p
, 
f
));

4109 
j
++ < 
w
è
chc
 +ğ(
cc
 = 
	`f_putc
(' ', 
f
));

4110 ià(
cc
 !ğ
EOF
ècøğ
chc
;

4113 
cc
 = 
	`f_putc
((
TCHAR
)
	`va_¬g
(
¬p
, ), 
f
); ;

4115 
r
 = 2; ;

4117 
r
 = 8; ;

4120 
r
 = 10; ;

4122 
r
 = 16; ;

4124 
cc
 = 
	`f_putc
(
c
, 
f
); ;

4128 
v
 = (
f
 & 4è? (
ULONG
)
	`va_¬g
(
¬p
, è: ((
d
 == 'D') ? (ULONG)()va_arg(arp, ) : (ULONG)va_arg(arp, ));

4129 ià(
d
 =ğ'D' && (
v
 & 0x80000000)) {

4130 
v
 = 0 - v;

4131 
f
 |= 8;

4133 
i
 = 0;

4135 
d
 = (
TCHAR
)(
v
 % 
r
); v /=„;

4136 ià(
d
 > 9èd +ğ(
c
 == 'x') ? 0x27 : 0x07;

4137 
s
[
i
++] = 
d
 + '0';

4138 } 
v
 && 
i
 <  
s
 /  s[0]);

4139 ià(
f
 & 8è
s
[
i
++] = '-';

4140 
j
 = 
i
; 
d
 = (
f
 & 1) ? '0' : ' ';

4141 
»s
 = 0;

4142 !(
f
 & 2è&& 
j
++ < 
w
è
»s
 +ğ(
cc
 = 
	`f_putc
(
d
, 
f
));

4143 dØ
»s
 +ğ(
cc
 = 
	`f_putc
(
s
[--
i
], 
f
)); i);

4144 
j
++ < 
w
è
»s
 +ğ(
cc
 = 
	`f_putc
(' ', 
f
));

4145 ià(
cc
 !ğ
EOF
ècøğ
»s
;

4148 
	`va_’d
(
¬p
);

4149  (
cc
 =ğ
EOF
è? cø: 
»s
;

4150 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\ChaN\ff.h

17 #iâdeà
_FATFS


18 
	#_FATFS
 4004

	)

20 #ifdeà
__ılu¥lus


24 
	~"š‹g”.h
"

25 
	~"ffcÚf.h
"

27 #ià
_FATFS
 !ğ
_FFCONF


28 #”rÜ 
WrÚg
 
cÚfigu¿tiÚ
 
fe
 (
ffcÚf
.
h
).

35 #ià
_MULTI_PARTITION


37 
BYTE
 
pd
;

38 
BYTE
 
±
;

39 } 
	tPARTITION
;

40 
PARTITION
 
VŞToP¬t
[];

41 
	#LD2PD
(
vŞ
è(
VŞToP¬t
[vŞ].
pd
è

	)

42 
	#LD2PT
(
vŞ
è(
VŞToP¬t
[vŞ].
±
è

	)

45 
	#LD2PD
(
vŞ
è(
BYTE
)(vŞè

	)

46 
	#LD2PT
(
vŞ
è0

	)

54 #ià
_LFN_UNICODE


55 #ià!
_USE_LFN


56 #”rÜ 
_LFN_UNICODE
 
mu¡
 
be
 0 
š
 
nÚ
-
LFN
 
cfg
.

58 #iâdeà
_INC_TCHAR


59 
WCHAR
 
	tTCHAR
;

60 
	#_T
(
x
è
L
 ## 
	)
x

61 
	#_TEXT
(
x
è
L
 ## 
	)
x

65 #iâdeà
_INC_TCHAR


66 
	tTCHAR
;

67 
	#_T
(
x
è
	)
x

68 
	#_TEXT
(
x
è
	)
x

78 
BYTE
 
	gfs_ty³
;

79 
BYTE
 
	gdrv
;

80 
BYTE
 
	gcsize
;

81 
BYTE
 
	gn_çts
;

82 
BYTE
 
	gwæag
;

83 
BYTE
 
	gfsi_æag
;

84 
WORD
 
	gid
;

85 
WORD
 
	gn_roÙdœ
;

86 #ià
_MAX_SS
 != 512

87 
WORD
 
	gssize
;

89 #ià
_FS_REENTRANT


90 
_SYNC_t
 
	gsobj
;

92 #ià!
_FS_READONLY


93 
DWORD
 
	gÏ¡_şu¡
;

94 
DWORD
 
	gä“_şu¡
;

95 
DWORD
 
	gfsi_£ùÜ
;

97 #ià
_FS_RPATH


98 
DWORD
 
	gcdœ
;

100 
DWORD
 
	gn_ç‹Á
;

101 
DWORD
 
	gfsize
;

102 
DWORD
 
	gçtba£
;

103 
DWORD
 
	gdœba£
;

104 
DWORD
 
	gd©aba£
;

105 
DWORD
 
	gwš£ù
;

106 
BYTE
 
	gwš
[
_MAX_SS
];

107 } 
	tFATFS
;

114 
FATFS
* 
	gfs
;

115 
WORD
 
	gid
;

116 
BYTE
 
	gæag
;

117 
BYTE
 
	g·d1
;

118 
DWORD
 
	gåŒ
;

119 
DWORD
 
	gfsize
;

120 
DWORD
 
	gsşu¡
;

121 
DWORD
 
	gşu¡
;

122 
DWORD
 
	gd£ù
;

123 #ià!
_FS_READONLY


124 
DWORD
 
	gdœ_£ù
;

125 
BYTE
* 
	gdœ_±r
;

127 #ià
_USE_FASTSEEK


128 
DWORD
* 
	gştbl
;

130 #ià
_FS_LOCK


131 
UINT
 
	glockid
;

133 #ià!
_FS_TINY


134 
BYTE
 
	gbuf
[
_MAX_SS
];

136 } 
	tFIL
;

143 
FATFS
* 
	gfs
;

144 
WORD
 
	gid
;

145 
WORD
 
	gšdex
;

146 
DWORD
 
	gsşu¡
;

147 
DWORD
 
	gşu¡
;

148 
DWORD
 
	g£ù
;

149 
BYTE
* 
	gdœ
;

150 
BYTE
* 
	gâ
;

151 #ià
_USE_LFN


152 
WCHAR
* 
	glâ
;

153 
WORD
 
	glâ_idx
;

155 } 
	tFATFS_DIR
;

162 
DWORD
 
	gfsize
;

163 
WORD
 
	gfd©e
;

164 
WORD
 
	gáime
;

165 
BYTE
 
	gç‰rib
;

166 
TCHAR
 
	gâame
[13];

167 #ià
_USE_LFN


168 
TCHAR
* 
	glâame
;

169 
UINT
 
	glfsize
;

171 } 
	tFILINFO
;

178 
	gFR_OK
 = 0,

179 
	gFR_DISK_ERR
,

180 
	gFR_INT_ERR
,

181 
	gFR_NOT_READY
,

182 
	gFR_NO_FILE
,

183 
	gFR_NO_PATH
,

184 
	gFR_INVALID_NAME
,

185 
	gFR_DENIED
,

186 
	gFR_EXIST
,

187 
	gFR_INVALID_OBJECT
,

188 
	gFR_WRITE_PROTECTED
,

189 
	gFR_INVALID_DRIVE
,

190 
	gFR_NOT_ENABLED
,

191 
	gFR_NO_FILESYSTEM
,

192 
	gFR_MKFS_ABORTED
,

193 
	gFR_TIMEOUT
,

194 
	gFR_LOCKED
,

195 
	gFR_NOT_ENOUGH_CORE
,

196 
	gFR_TOO_MANY_OPEN_FILES
,

197 
	gFR_INVALID_PARAMETER


198 } 
	tFRESULT
;

205 
FRESULT
 
f_mouÁ
 (
BYTE
, 
FATFS
*);

206 
FRESULT
 
f_İ’
 (
FIL
*, cÚ¡ 
TCHAR
*, 
BYTE
);

207 
FRESULT
 
f_»ad
 (
FIL
*, *, 
UINT
, UINT*);

208 
FRESULT
 
f_l£ek
 (
FIL
*, 
DWORD
);

209 
FRESULT
 
f_şo£
 (
FIL
*);

210 
FRESULT
 
f_İ’dœ
 (
FATFS_DIR
*, cÚ¡ 
TCHAR
*);

211 
FRESULT
 
f_»addœ
 (
FATFS_DIR
*, 
FILINFO
*);

212 
FRESULT
 
f_¡©
 (cÚ¡ 
TCHAR
*, 
FILINFO
*);

213 
FRESULT
 
f_wr™e
 (
FIL
*, cÚ¡ *, 
UINT
, UINT*);

214 
FRESULT
 
f_g‘ä“
 (cÚ¡ 
TCHAR
*, 
DWORD
*, 
FATFS
**);

215 
FRESULT
 
f_Œunÿ‹
 (
FIL
*);

216 
FRESULT
 
f_sync
 (
FIL
*);

217 
FRESULT
 
f_uÆšk
 (cÚ¡ 
TCHAR
*);

218 
FRESULT
 
f_mkdœ
 (cÚ¡ 
TCHAR
*);

219 
FRESULT
 
f_chmod
 (cÚ¡ 
TCHAR
*, 
BYTE
, BYTE);

220 
FRESULT
 
f_utime
 (cÚ¡ 
TCHAR
*, cÚ¡ 
FILINFO
*);

221 
FRESULT
 
f_»Çme
 (cÚ¡ 
TCHAR
*, const TCHAR*);

222 
FRESULT
 
f_chdrive
 (
BYTE
);

223 
FRESULT
 
f_chdœ
 (cÚ¡ 
TCHAR
*);

224 
FRESULT
 
f_g‘cwd
 (
TCHAR
*, 
UINT
);

225 
FRESULT
 
f_fÜw¬d
 (
FIL
*, 
UINT
(*)(cÚ¡ 
BYTE
*,UINT), UINT, UINT*);

226 
FRESULT
 
f_mkfs
 (
BYTE
, BYTE, 
UINT
);

227 
FRESULT
 
f_fdisk
 (
BYTE
, cÚ¡ 
DWORD
[], *);

228 
f_putc
 (
TCHAR
, 
FIL
*);

229 
f_puts
 (cÚ¡ 
TCHAR
*, 
FIL
*);

230 
f_´štf
 (
FIL
*, cÚ¡ 
TCHAR
*, ...);

231 
TCHAR
* 
f_g‘s
 (TCHAR*, , 
FIL
*);

233 
	#f_eof
(
å
è(((å)->
åŒ
 =ğ(å)->
fsize
è? 1 : 0)

	)

234 
	#f_”rÜ
(
å
è(((å)->
æag
 & 
FA__ERROR
è? 1 : 0)

	)

235 
	#f_‹Î
(
å
è((å)->
åŒ
)

	)

236 
	#f_size
(
å
è((å)->
fsize
)

	)

238 #iâdeà
EOF


239 
	#EOF
 (-1)

	)

249 #ià!
_FS_READONLY


250 
DWORD
 
g‘_ç‰ime
 ();

254 #ià
_USE_LFN


255 
WCHAR
 
ff_cÚv”t
 (WCHAR, 
UINT
);

256 
WCHAR
 
ff_wtouµ”
 (WCHAR);

257 #ià
_USE_LFN
 == 3

258 * 
ff_mem®loc
 (
UINT
);

259 
ff_memä“
 (*);

264 #ià
_FS_REENTRANT


265 
ff_üe_syncobj
 (
BYTE
, 
_SYNC_t
*);

266 
ff_»q_g¿Á
 (
_SYNC_t
);

267 
ff_»l_g¿Á
 (
_SYNC_t
);

268 
ff_d–_syncobj
 (
_SYNC_t
);

280 
	#FA_READ
 0x01

	)

281 
	#FA_OPEN_EXISTING
 0x00

	)

282 
	#FA__ERROR
 0x80

	)

284 #ià!
_FS_READONLY


285 
	#FA_WRITE
 0x02

	)

286 
	#FA_CREATE_NEW
 0x04

	)

287 
	#FA_CREATE_ALWAYS
 0x08

	)

288 
	#FA_OPEN_ALWAYS
 0x10

	)

289 
	#FA__WRITTEN
 0x20

	)

290 
	#FA__DIRTY
 0x40

	)

296 
	#FS_FAT12
 1

	)

297 
	#FS_FAT16
 2

	)

298 
	#FS_FAT32
 3

	)

303 
	#AM_RDO
 0x01

	)

304 
	#AM_HID
 0x02

	)

305 
	#AM_SYS
 0x04

	)

306 
	#AM_VOL
 0x08

	)

307 
	#AM_LFN
 0x0F

	)

308 
	#AM_DIR
 0x10

	)

309 
	#AM_ARC
 0x20

	)

310 
	#AM_MASK
 0x3F

	)

314 
	#CREATE_LINKMAP
 0xFFFFFFFF

	)

321 #ià
_WORD_ACCESS
 == 1

322 
	#LD_WORD
(
±r
è(
WORD
)(*(WORD*)(
BYTE
*)ÕŒ))

	)

323 
	#LD_DWORD
(
±r
è(
DWORD
)(*(DWORD*)(
BYTE
*)ÕŒ))

	)

324 
	#ST_WORD
(
±r
,
v®
è*(
WORD
*)(
BYTE
*)ÕŒ)=(WORD)(v®)

	)

325 
	#ST_DWORD
(
±r
,
v®
è*(
DWORD
*)(
BYTE
*)ÕŒ)=(DWORD)(v®)

	)

327 
	#LD_WORD
(
±r
è(
WORD
)(((WORD)*((
BYTE
*)ÕŒ)+1)<<8)|(WORD)*(BYTE*)ÕŒ))

	)

328 
	#LD_DWORD
(
±r
è(
DWORD
)(((DWORD)*((
BYTE
*)ÕŒ)+3)<<24)|((DWORD)*((BYTE*)ÕŒ)+2)<<16)|((
WORD
)*((BYTE*)ÕŒ)+1)<<8)|*(BYTE*)ÕŒ))

	)

329 
	#ST_WORD
(
±r
,
v®
è*(
BYTE
*)ÕŒ)=(BYTE)(v®); *((BYTE*)ÕŒ)+1)=(BYTE)((
WORD
)(v®)>>8)

	)

330 
	#ST_DWORD
(
±r
,
v®
è*(
BYTE
*)ÕŒ)=(BYTE)(v®); *((BYTE*)ÕŒ)+1)=(BYTE)((
WORD
)(v®)>>8); *((BYTE*)ÕŒ)+2)=(BYTE)((
DWORD
)(v®)>>16); *((BYTE*)ÕŒ)+3)=(BYTE)((DWORD)(v®)>>24)

	)

333 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\ChaN\ffconf.h

9 #iâdeà
_FFCONF


10 
	#_FFCONF
 4004

	)

12 
	#FFS_DBG
 0

	)

18 
	#_FS_TINY
 0

	)

24 
	#_FS_READONLY
 0

	)

30 
	#_FS_MINIMIZE
 0

	)

40 
	#_USE_STRFUNC
 0

	)

44 
	#_USE_MKFS
 1

	)

48 
	#_USE_FORWARD
 0

	)

52 
	#_USE_FASTSEEK
 0

	)

61 
	#_CODE_PAGE
 858

	)

94 
	#_USE_LFN
 1

	)

95 
	#_MAX_LFN
 255

	)

109 
	#_LFN_UNICODE
 0

	)

114 
	#_FS_RPATH
 0

	)

129 
	#_VOLUMES
 1

	)

133 
	#_MAX_SS
 512

	)

141 
	#_MULTI_PARTITION
 0

	)

147 
	#_USE_ERASE
 0

	)

157 
	#_WORD_ACCESS
 0

	)

174 
	#_FS_REENTRANT
 0

	)

175 
	#_FS_TIMEOUT
 1000

	)

176 
	#_SYNC_t
 
HANDLE


	)

186 
	#_FS_LOCK
 0

	)

190 
	#FLUSH_ON_NEW_CLUSTER
 0

	)

191 
	#FLUSH_ON_NEW_SECTOR
 1

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\ChaN\integer.h

5 #iâdeà
_INTEGER


6 
	#_INTEGER


	)

8 #ifdeà
_WIN32


10 
	~<wšdows.h
>

11 
	~<tch¬.h
>

16 
	tINT
;

17 
	tUINT
;

20 
	tCHAR
;

21 
	tUCHAR
;

22 
	tBYTE
;

25 
	tSHORT
;

26 
	tUSHORT
;

27 
	tWORD
;

28 
	tWCHAR
;

31 
	tLONG
;

32 
	tULONG
;

33 
	tDWORD
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\FATDirHandle.cpp

22 
	~<¡ršg.h
>

23 
	~"ff.h
"

24 
	~"FATDœHªdË.h
"

26 
usšg
 
Çme¥aû
 
	gmbed
;

28 
	gFATDœHªdË
::
	$FATDœHªdË
(cÚ¡ 
FATFS_DIR
 &
the_dœ
) {

29 
dœ
 = 
the_dœ
;

30 
	}
}

32 
	gFATDœHªdË
::
	$şo£dœ
() {

33 
d–‘e
 
this
;

35 
	}
}

37 
dœ’t
 *
	gFATDœHªdË
::
	$»addœ
() {

38 
FILINFO
 
fšfo
;

40 #ià
_USE_LFN


41 
fšfo
.
lâame
 = 
cur_’Œy
.
d_Çme
;

42 
fšfo
.
lfsize
 = (
cur_’Œy
.
d_Çme
);

45 
FRESULT
 
»s
 = 
	`f_»addœ
(&
dœ
, &
fšfo
);

47 #ià
_USE_LFN


48 if(
»s
 !ğ0 || 
fšfo
.
âame
[0]==0) {

49  
NULL
;

51 if(
cur_’Œy
.
d_Çme
[0]==0) {

53 
	`memıy
(
cur_’Œy
.
d_Çme
, 
fšfo
.
âame
, (finfo.fname));

55  &
cur_’Œy
;

58 if(
»s
 !ğ0 || 
fšfo
.
âame
[0]==0) {

59  
NULL
;

61 
	`memıy
(
cur_’Œy
.
d_Çme
, 
fšfo
.
âame
, (finfo.fname));

62  &
cur_’Œy
;

65 
	}
}

67 
	gFATDœHªdË
::
	$»wšddœ
() {

68 
dœ
.
šdex
 = 0;

69 
	}
}

71 
off_t
 
	gFATDœHªdË
::
	$‹Îdœ
() {

72  
dœ
.
šdex
;

73 
	}
}

75 
	gFATDœHªdË
::
	$£ekdœ
(
off_t
 
loÿtiÚ
) {

76 
dœ
.
šdex
 = 
loÿtiÚ
;

77 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\FATDirHandle.h

22 #iâdeà
MBED_FATDIRHANDLE_H


23 
	#MBED_FATDIRHANDLE_H


	)

25 
	~"DœHªdË.h
"

27 
usšg
 
Çme¥aû
 
	gmbed
;

29 şas 
	cFATDœHªdË
 : 
public
 
DœHªdË
 {

31 
public
:

32 
FATDœHªdË
(cÚ¡ 
FATFS_DIR
 &
the_dœ
);

33 
vœtu®
 
şo£dœ
();

34 
vœtu®
 
dœ’t
 *
»addœ
();

35 
vœtu®
 
»wšddœ
();

36 
vœtu®
 
off_t
 
‹Îdœ
();

37 
vœtu®
 
£ekdœ
(
off_t
 
loÿtiÚ
);

39 
	m´iv©e
:

40 
FATFS_DIR
 
dœ
;

41 
dœ’t
 
	mcur_’Œy
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\FATFileHandle.cpp

22 
	~"ff.h
"

23 
	~"ffcÚf.h
"

24 
	~"mbed_debug.h
"

26 
	~"FATFeHªdË.h
"

28 
	gFATFeHªdË
::
	$FATFeHªdË
(
FIL
 
fh
) {

29 
_fh
 = 
fh
;

30 
	}
}

32 
	gFATFeHªdË
::
	$şo£
() {

33 
»tv®
 = 
	`f_şo£
(&
_fh
);

34 
d–‘e
 
this
;

35  
»tv®
;

36 
	}
}

38 
ssize_t
 
	gFATFeHªdË
::
	$wr™e
(cÚ¡ * 
bufãr
, 
size_t
 
Ëngth
) {

39 
UINT
 
n
;

40 
FRESULT
 
»s
 = 
	`f_wr™e
(&
_fh
, 
bufãr
, 
Ëngth
, &
n
);

41 ià(
»s
) {

42 
	`debug_if
(
FFS_DBG
, "f_wr™e(èçed: %d", 
»s
);

45  
n
;

46 
	}
}

48 
ssize_t
 
	gFATFeHªdË
::
	$»ad
(* 
bufãr
, 
size_t
 
Ëngth
) {

49 
	`debug_if
(
FFS_DBG
, "»ad(%d)\n", 
Ëngth
);

50 
UINT
 
n
;

51 
FRESULT
 
»s
 = 
	`f_»ad
(&
_fh
, 
bufãr
, 
Ëngth
, &
n
);

52 ià(
»s
) {

53 
	`debug_if
(
FFS_DBG
, "f_»ad(èçed: %d\n", 
»s
);

56  
n
;

57 
	}
}

59 
	gFATFeHªdË
::
	$i§‰y
() {

61 
	}
}

63 
off_t
 
	gFATFeHªdË
::
	$l£ek
(
off_t
 
pos™iÚ
, 
wh’û
) {

64 ià(
wh’û
 =ğ
SEEK_END
) {

65 
pos™iÚ
 +ğ
_fh
.
fsize
;

66 } if(
wh’û
==
SEEK_CUR
) {

67 
pos™iÚ
 +ğ
_fh
.
åŒ
;

69 
FRESULT
 
»s
 = 
	`f_l£ek
(&
_fh
, 
pos™iÚ
);

70 ià(
»s
) {

71 
	`debug_if
(
FFS_DBG
, "l£ek faed: %d\n", 
»s
);

74 
	`debug_if
(
FFS_DBG
, "l£ek OK,„‘uºšg %i\n", 
_fh
.
åŒ
);

75  
_fh
.
åŒ
;

77 
	}
}

79 
	gFATFeHªdË
::
	$fsync
() {

80 
FRESULT
 
»s
 = 
	`f_sync
(&
_fh
);

81 ià(
»s
) {

82 
	`debug_if
(
FFS_DBG
, "f_sync(èçed: %d\n", 
»s
);

86 
	}
}

88 
off_t
 
	gFATFeHªdË
::
	$æ’
() {

89  
_fh
.
fsize
;

90 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\FATFileHandle.h

22 #iâdeà
MBED_FATFILEHANDLE_H


23 
	#MBED_FATFILEHANDLE_H


	)

25 
	~"FeHªdË.h
"

27 
usšg
 
Çme¥aû
 
	gmbed
;

29 şas 
	cFATFeHªdË
 : 
public
 
FeHªdË
 {

30 
public
:

32 
FATFeHªdË
(
FIL
 
fh
);

33 
vœtu®
 
şo£
();

34 
vœtu®
 
ssize_t
 
wr™e
(cÚ¡ * 
bufãr
, 
size_t
 
Ëngth
);

35 
vœtu®
 
ssize_t
 
»ad
(* 
bufãr
, 
size_t
 
Ëngth
);

36 
vœtu®
 
i§‰y
();

37 
vœtu®
 
off_t
 
l£ek
(off_ˆ
pos™iÚ
, 
wh’û
);

38 
vœtu®
 
fsync
();

39 
vœtu®
 
off_t
 
æ’
();

41 
	m´Ùeùed
:

43 
FIL
 
_fh
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\FATFileSystem.cpp

22 
	~"mbed.h
"

24 
	~"ffcÚf.h
"

25 
	~"mbed_debug.h
"

27 
	~"FATFeSy¡em.h
"

28 
	~"FATFeHªdË.h
"

29 
	~"FATDœHªdË.h
"

31 
DWORD
 
	$g‘_ç‰ime
() {

32 
time_t
 
¿wtime
;

33 
	`time
(&
¿wtime
);

34 
tm
 *
±m
 = 
	`loÿÉime
(&
¿wtime
);

35  (
DWORD
)(
±m
->
tm_y—r
 - 80) << 25

36 | (
DWORD
)(
±m
->
tm_mÚ
 + 1 ) << 21

37 | (
DWORD
)(
±m
->
tm_mday
 ) << 16

38 | (
DWORD
)(
±m
->
tm_hour
 ) << 11

39 | (
DWORD
)(
±m
->
tm_mš
 ) << 5

40 | (
DWORD
)(
±m
->
tm_£c
/2 );

41 
	}
}

43 
FATFeSy¡em
 *
	gFATFeSy¡em
::
_ffs
[
_VOLUMES
] = {0};

45 
	gFATFeSy¡em
::
	$FATFeSy¡em
(cÚ¡ * 
n
è: 
	$FeSy¡emLike
(
n
) {

46 
	`debug_if
(
FFS_DBG
, "FATFeSy¡em(%s)\n", 
n
);

47 
i
=0; i<
_VOLUMES
; i++) {

48 if(
_ffs
[
i
] == 0) {

49 
_ffs
[
i
] = 
this
;

50 
_fsid
 = 
i
;

51 
	`debug_if
(
FFS_DBG
, "MouÁšg [%s] oÀff driv[%d]\n", 
_Çme
, 
_fsid
);

52 
	`f_mouÁ
(
i
, &
_fs
);

56 
	`”rÜ
("Couldn'ˆü—‹ % š FATFeSy¡em::FATFeSy¡em\n", 
n
);

57 
	}
}

59 
	gFATFeSy¡em
::~
	$FATFeSy¡em
() {

60 
i
=0; i<
_VOLUMES
; i++) {

61 ià(
_ffs
[
i
] =ğ
this
) {

62 
_ffs
[
i
] = 0;

63 
	`f_mouÁ
(
i
, 
NULL
);

66 
	}
}

68 
FeHªdË
 *
	gFATFeSy¡em
::
	$İ’
(cÚ¡ * 
Çme
, 
æags
) {

69 
	`debug_if
(
FFS_DBG
, "İ’(%sèÚ fesy¡em [%s], drv [%d]\n", 
Çme
, 
_Çme
, 
_fsid
);

70 
n
[64];

71 
	`¥rštf
(
n
, "%d:/%s", 
_fsid
, 
Çme
);

74 
BYTE
 
İ’mode
;

75 ià(
æags
 & 
O_RDWR
) {

76 
İ’mode
 = 
FA_READ
|
FA_WRITE
;

77 } if(
æags
 & 
O_WRONLY
) {

78 
İ’mode
 = 
FA_WRITE
;

80 
İ’mode
 = 
FA_READ
;

82 if(
æags
 & 
O_CREAT
) {

83 if(
æags
 & 
O_TRUNC
) {

84 
İ’mode
 |ğ
FA_CREATE_ALWAYS
;

86 
İ’mode
 |ğ
FA_OPEN_ALWAYS
;

90 
FIL
 
fh
;

91 
FRESULT
 
»s
 = 
	`f_İ’
(&
fh
, 
n
, 
İ’mode
);

92 ià(
»s
) {

93 
	`debug_if
(
FFS_DBG
, "f_İ’('w'èçed: %d\n", 
»s
);

94  
NULL
;

96 ià(
æags
 & 
O_APPEND
) {

97 
	`f_l£ek
(&
fh
, fh.
fsize
);

99  
Ãw
 
	`FATFeHªdË
(
fh
);

100 
	}
}

102 
	gFATFeSy¡em
::
	$»move
(cÚ¡ *
f’ame
) {

103 
FRESULT
 
»s
 = 
	`f_uÆšk
(
f’ame
);

104 ià(
»s
) {

105 
	`debug_if
(
FFS_DBG
, "f_uÆšk(èçed: %d\n", 
»s
);

109 
	}
}

111 
	gFATFeSy¡em
::
	$»Çme
(cÚ¡ *
ŞdÇme
, cÚ¡ *
ÃwÇme
) {

112 
FRESULT
 
»s
 = 
	`f_»Çme
(
ŞdÇme
, 
ÃwÇme
);

113 ià(
»s
) {

114 
	`debug_if
(
FFS_DBG
, "f_»Çme(èçed: %d\n", 
»s
);

118 
	}
}

120 
	gFATFeSy¡em
::
	$fÜm©
() {

121 
FRESULT
 
»s
 = 
	`f_mkfs
(
_fsid
, 0, 512);

122 ià(
»s
) {

123 
	`debug_if
(
FFS_DBG
, "f_mkfs(èçed: %d\n", 
»s
);

127 
	}
}

129 
DœHªdË
 *
	gFATFeSy¡em
::
	$İ’dœ
(cÚ¡ *
Çme
) {

130 
FATFS_DIR
 
dœ
;

131 
FRESULT
 
»s
 = 
	`f_İ’dœ
(&
dœ
, 
Çme
);

132 ià(
»s
 != 0) {

133  
NULL
;

135  
Ãw
 
	`FATDœHªdË
(
dœ
);

136 
	}
}

138 
	gFATFeSy¡em
::
	$mkdœ
(cÚ¡ *
Çme
, 
mode_t
 
mode
) {

139 
FRESULT
 
»s
 = 
	`f_mkdœ
(
Çme
);

140  
»s
 == 0 ? 0 : -1;

141 
	}
}

143 
	gFATFeSy¡em
::
	$mouÁ
() {

144 
FRESULT
 
»s
 = 
	`f_mouÁ
(
_fsid
, &
_fs
);

145  
»s
 == 0 ? 0 : -1;

146 
	}
}

148 
	gFATFeSy¡em
::
	$unmouÁ
() {

149 ià(
	`disk_sync
())

151 
FRESULT
 
»s
 = 
	`f_mouÁ
(
_fsid
, 
NULL
);

152  
»s
 == 0 ? 0 : -1;

153 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\FATFileSystem.h

22 #iâdeà
MBED_FATFILESYSTEM_H


23 
	#MBED_FATFILESYSTEM_H


	)

25 
	~"FeSy¡emLike.h
"

26 
	~"FeHªdË.h
"

27 
	~"ff.h
"

28 
	~"ffcÚf.h
"

29 
	~<¡dšt.h
>

31 
usšg
 
Çme¥aû
 
	gmbed
;

36 şas 
	cFATFeSy¡em
 : 
public
 
FeSy¡emLike
 {

37 
public
:

39 
FATFeSy¡em
(cÚ¡ * 
n
);

40 
	mvœtu®
 ~
FATFeSy¡em
();

42 
FATFeSy¡em
 * 
	m_ffs
[
_VOLUMES
];

43 
FATFS
 
	m_fs
;

44 
	m_fsid
;

49 
vœtu®
 
FeHªdË
 *
İ’
(cÚ¡ * 
Çme
, 
æags
);

54 
vœtu®
 
»move
(cÚ¡ *
f’ame
);

59 
vœtu®
 
»Çme
(cÚ¡ *
ŞdÇme
, cÚ¡ *
ÃwÇme
);

64 
vœtu®
 
fÜm©
();

69 
vœtu®
 
DœHªdË
 *
İ’dœ
(cÚ¡ *
Çme
);

74 
vœtu®
 
mkdœ
(cÚ¡ *
Çme
, 
mode_t
 
mode
);

79 
vœtu®
 
mouÁ
();

84 
vœtu®
 
unmouÁ
();

86 
vœtu®
 
	$disk_š™Ÿlize
() {  0; }

87 
vœtu®
 
	$disk_¡©us
(è{  0; 
	}
}

88 
vœtu®
 
disk_»ad
(
ušt8_t
 * 
bufãr
, 
ušt64_t
 
£ùÜ
, ušt8_ˆ
couÁ
) = 0;

89 
vœtu®
 
disk_wr™e
(cÚ¡ 
ušt8_t
 * 
bufãr
, 
ušt64_t
 
£ùÜ
, ušt8_ˆ
couÁ
) = 0;

90 
vœtu®
 
	$disk_sync
(è{  0; 
	}
}

91 
vœtu®
 
ušt64_t
 
disk_£ùÜs
() = 0;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\MemFileSystem.h

6 #iâdeà
MBED_MEMFILESYSTEM_H


7 
	#MBED_MEMFILESYSTEM_H


	)

9 
	~"FATFeSy¡em.h
"

11 
Çme¥aû
 
	gmbed


14 şas 
	cMemFeSy¡em
 : 
public
 
FATFeSy¡em


16 
public
:

19 *
£ùÜs
[2000];

21 
MemFeSy¡em
(cÚ¡ * 
Çme
è: 
FATFeSy¡em
(name) {

22 
mem£t
(
£ùÜs
, 0, (sectors));

25 
	gvœtu®
 ~
MemFeSy¡em
() {

26 
	gi
 = 0; i < 2000; i++) {

27 if(
	g£ùÜs
[
i
]) {

28 
ä“
(
£ùÜs
[
i
]);

34 
vœtu®
 
disk_»ad
(*
bufãr
, 
£ùÜ
) {

35 if(
	g£ùÜs
[
£ùÜ
] == 0) {

37 
mem£t
(
bufãr
, 0, 512);

39 
memıy
(
bufãr
, 
£ùÜs
[
£ùÜ
], 512);

45 
vœtu®
 
disk_wr™e
(cÚ¡ *
bufãr
, 
£ùÜ
) {

47 
	gz”o
[512];

48 
mem£t
(
z”o
, 0, 512);

49 if(
memcmp
(
z”o
, 
bufãr
, 512)==0) {

50 if(
£ùÜs
[
£ùÜ
] != 0) {

51 
ä“
(
£ùÜs
[
£ùÜ
]);

52 
	g£ùÜs
[
£ùÜ
] = 0;

57 if(
	g£ùÜs
[
£ùÜ
] == 0) {

58 *
£c
 = (*)
m®loc
(512);

59 if(
	g£c
==0) {

62 
	g£ùÜs
[
£ùÜ
] = 
£c
;

64 
memıy
(
£ùÜs
[
£ùÜ
], 
bufãr
, 512);

69 
vœtu®
 
disk_£ùÜs
() {

70  (
	g£ùÜs
)/(sectors[0]);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\SDFileSystem.cpp

17 
	~"SDFeSy¡em.h
"

18 
	~"pšm­.h
"

19 
	~"diskio.h
"

20 
	~"CRC7.h
"

21 
	~"CRC16.h
"

23 
	gSDFeSy¡em
::
	$SDFeSy¡em
(
PšName
 
mosi
, PšNam
miso
, PšNam
sşk
, PšNam
cs
, cÚ¡ * 
Çme
, PšNam
cd
, 
Sw™chTy³
 
cdty³
, 
hz
è: 
	`FATFeSy¡em
Òame), 
	`m_Spi
(mosi, miso, sşk), 
	`m_Cs
(cs, 1), 
	`m_Cd
(cd), 
	$m_FREQ
(
hz
)

26 
m_C¬dTy³
 = 
CARD_NONE
;

27 
m_Crc
 = 
Œue
;

28 
m_L¬geF¿mes
 = 
çl£
;

29 
m_Wr™eV®id©iÚ
 = 
Œue
;

30 
m_Stus
 = 
STA_NOINIT
;

33 
	`pš_mode
(
miso
, 
PuÎUp
);

36 
m_Spi
.
	`fÜm©
(8, 0);

39 
m_Spi
.
	`äequ’cy
(
m_FREQ
);

42 ià(
cdty³
 =ğ
SWITCH_POS_NO
) {

43 
m_Cd
.
	`mode
(
PuÎDown
);

44 
m_CdAs£¹
 = 1;

45 
m_Cd
.
	`çÎ
(
this
, &
SDFeSy¡em
::
ÚC¬dRemov®
);

46 } ià(
cdty³
 =ğ
SWITCH_POS_NC
) {

47 
m_Cd
.
	`mode
(
PuÎDown
);

48 
m_CdAs£¹
 = 0;

49 
m_Cd
.
	`ri£
(
this
, &
SDFeSy¡em
::
ÚC¬dRemov®
);

50 } ià(
cdty³
 =ğ
SWITCH_NEG_NO
) {

51 
m_Cd
.
	`mode
(
PuÎUp
);

52 
m_CdAs£¹
 = 0;

53 
m_Cd
.
	`ri£
(
this
, &
SDFeSy¡em
::
ÚC¬dRemov®
);

54 } ià(
cdty³
 =ğ
SWITCH_NEG_NC
) {

55 
m_Cd
.
	`mode
(
PuÎUp
);

56 
m_CdAs£¹
 = 1;

57 
m_Cd
.
	`çÎ
(
this
, &
SDFeSy¡em
::
ÚC¬dRemov®
);

59 
m_CdAs£¹
 = -1;

61 
	}
}

63 
	gSDFeSy¡em
::
C¬dTy³
 
SDFeSy¡em
::
	$ÿrd_ty³
()

66 
	`checkSock‘
();

69 ià(!(
m_Stus
 & 
STA_NODISK
è&& (m_Stu & 
STA_NOINIT
))

70 
	`disk_š™Ÿlize
();

73  
m_C¬dTy³
;

74 
	}
}

76 
boŞ
 
	gSDFeSy¡em
::
	$üc
()

79  
m_Crc
;

80 
	}
}

82 
	gSDFeSy¡em
::
	$üc
(
boŞ
 
’abËd
)

85 
	`checkSock‘
();

88 ià(
m_Stus
 & 
STA_NOINIT
) {

89 
m_Crc
 = 
’abËd
;

94 ià(
’abËd
 && !
m_Crc
) {

96 
m_Crc
 = 
Œue
;

97 
	`commªdT¿n§ùiÚ
(
CMD59
, 0x00000001);

98 } ià(!
’abËd
 && 
m_Crc
) {

100 
	`commªdT¿n§ùiÚ
(
CMD59
, 0x00000000);

101 
m_Crc
 = 
çl£
;

103 
	}
}

105 
boŞ
 
	gSDFeSy¡em
::
	$Ïrge_äames
()

108  
m_L¬geF¿mes
;

109 
	}
}

111 
	gSDFeSy¡em
::
	$Ïrge_äames
(
boŞ
 
’abËd
)

114 
m_L¬geF¿mes
 = 
’abËd
;

115 
	}
}

117 
boŞ
 
	gSDFeSy¡em
::
	$wr™e_v®id©iÚ
()

120  
m_Wr™eV®id©iÚ
;

121 
	}
}

123 
	gSDFeSy¡em
::
	$wr™e_v®id©iÚ
(
boŞ
 
’abËd
)

126 
m_Wr™eV®id©iÚ
 = 
’abËd
;

127 
	}
}

129 
	gSDFeSy¡em
::
	$unmouÁ
()

132 
FATFeSy¡em
::
	`unmouÁ
();

135 
m_Stus
 |ğ
STA_NOINIT
;

136 
m_C¬dTy³
 = 
CARD_NONE
;

140 
	}
}

142 
	gSDFeSy¡em
::
	$disk_š™Ÿlize
()

144 
tok’
;

145 
»¥
;

148 
	`checkSock‘
();

149 ià(
m_Stus
 & 
STA_NODISK
)

150  
m_Stus
;

153 ià(!(
m_Stus
 & 
STA_NOINIT
))

154  
m_Stus
;

157 
m_Spi
.
	`äequ’cy
(400000);

160 
m_Cs
 = 1;

161 
i
 = 0; i < 10; i++)

162 
m_Spi
.
	`wr™e
(0xFF);

165 ià(
	`commªdT¿n§ùiÚ
(
CMD0
, 0x00000000) != 0x01) {

167 
m_C¬dTy³
 = 
CARD_UNKNOWN
;

168  
m_Stus
;

172 ià(
m_Crc
) {

173 ià(
	`commªdT¿n§ùiÚ
(
CMD59
, 0x00000001) != 0x01) {

175 
m_C¬dTy³
 = 
CARD_UNKNOWN
;

176  
m_Stus
;

181 ià(
	`commªdT¿n§ùiÚ
(
CMD8
, 0x000001AA, &
»¥
) == 0x01) {

183 ià((
»¥
 & 0xFFF) != 0x1AA) {

185 
m_C¬dTy³
 = 
CARD_UNKNOWN
;

186  
m_Stus
;

190 ià(
	`commªdT¿n§ùiÚ
(
CMD58
, 0x00000000, &
»¥
) != 0x01 || !(resp & (1 << 20))) {

192 
m_C¬dTy³
 = 
CARD_UNKNOWN
;

193  
m_Stus
;

197 
m_Tim”
.
	`¡¬t
();

199 
tok’
 = 
	`commªdT¿n§ùiÚ
(
ACMD41
, 0x40100000);

200 } 
tok’
 =ğ0x01 && 
m_Tim”
.
	`»ad_ms
() < 1000);

201 
m_Tim”
.
	`¡İ
();

202 
m_Tim”
.
	`»£t
();

205 ià(
tok’
 != 0x00) {

207 
m_C¬dTy³
 = 
CARD_UNKNOWN
;

208  
m_Stus
;

212 ià(
	`commªdT¿n§ùiÚ
(
CMD58
, 0x00000000, &
»¥
) == 0x00) {

214 ià(
»¥
 & (1 << 30))

215 
m_C¬dTy³
 = 
CARD_SDHC
;

217 
m_C¬dTy³
 = 
CARD_SD
;

220 ià(
m_FREQ
 > 25000000)

221 
m_Spi
.
	`äequ’cy
(25000000);

223 
m_Spi
.
	`äequ’cy
(
m_FREQ
);

226 
m_C¬dTy³
 = 
CARD_UNKNOWN
;

227  
m_Stus
;

232 ià(
	`commªdT¿n§ùiÚ
(
CMD58
, 0x00000000, &
»¥
) != 0x01 || !(resp & (1 << 20))) {

234 
m_C¬dTy³
 = 
CARD_UNKNOWN
;

235  
m_Stus
;

239 
m_Tim”
.
	`¡¬t
();

241 
tok’
 = 
	`commªdT¿n§ùiÚ
(
ACMD41
, 0x00100000);

242 } 
tok’
 =ğ0x01 && 
m_Tim”
.
	`»ad_ms
() < 1000);

243 
m_Tim”
.
	`¡İ
();

244 
m_Tim”
.
	`»£t
();

247 ià(
tok’
 == 0x00) {

249 
m_C¬dTy³
 = 
CARD_SD
;

252 ià(
m_FREQ
 > 25000000)

253 
m_Spi
.
	`äequ’cy
(25000000);

255 
m_Spi
.
	`äequ’cy
(
m_FREQ
);

258 
m_Tim”
.
	`¡¬t
();

260 
tok’
 = 
	`commªdT¿n§ùiÚ
(
CMD1
, 0x00100000);

261 } 
tok’
 =ğ0x01 && 
m_Tim”
.
	`»ad_ms
() < 1000);

262 
m_Tim”
.
	`¡İ
();

263 
m_Tim”
.
	`»£t
();

266 ià(
tok’
 == 0x00) {

268 
m_C¬dTy³
 = 
CARD_MMC
;

271 ià(
m_FREQ
 > 20000000)

272 
m_Spi
.
	`äequ’cy
(20000000);

274 
m_Spi
.
	`äequ’cy
(
m_FREQ
);

277 
m_C¬dTy³
 = 
CARD_UNKNOWN
;

278  
m_Stus
;

284 ià(
m_C¬dTy³
 !ğ
CARD_MMC
) {

285 ià(
	`commªdT¿n§ùiÚ
(
ACMD42
, 0x00000000) != 0x00) {

287 
m_C¬dTy³
 = 
CARD_UNKNOWN
;

288  
m_Stus
;

293 ià(
m_C¬dTy³
 !ğ
CARD_SDHC
) {

294 ià(
	`commªdT¿n§ùiÚ
(
CMD16
, 0x00000200) != 0x00) {

296 
m_C¬dTy³
 = 
CARD_UNKNOWN
;

297  
m_Stus
;

302 
m_Stus
 &ğ~
STA_NOINIT
;

305  
m_Stus
;

306 
	}
}

308 
	gSDFeSy¡em
::
	$disk_¡©us
()

311 
	`checkSock‘
();

314  
m_Stus
;

315 
	}
}

317 
	gSDFeSy¡em
::
	$disk_»ad
(
ušt8_t
* 
bufãr
, 
ušt64_t
 
£ùÜ
, ušt8_ˆ
couÁ
)

320 ià(
m_Stus
 & 
STA_NOINIT
)

321  
RES_NOTRDY
;

324 ià(
couÁ
 > 1) {

325  
	`»adBlocks
((*)
bufãr
, 
£ùÜ
, 
couÁ
è? 
RES_OK
 : 
RES_ERROR
;

327  
	`»adBlock
((*)
bufãr
, 
£ùÜ
è? 
RES_OK
 : 
RES_ERROR
;

329 
	}
}

331 
	gSDFeSy¡em
::
	$disk_wr™e
(cÚ¡ 
ušt8_t
* 
bufãr
, 
ušt64_t
 
£ùÜ
, ušt8_ˆ
couÁ
)

334 ià(
m_Stus
 & 
STA_NOINIT
)

335  
RES_NOTRDY
;

338 ià(
m_Stus
 & 
STA_PROTECT
)

339  
RES_WRPRT
;

342 ià(
couÁ
 > 1) {

343  
	`wr™eBlocks
((cÚ¡ *)
bufãr
, 
£ùÜ
, 
couÁ
è? 
RES_OK
 : 
RES_ERROR
;

345  
	`wr™eBlock
((cÚ¡ *)
bufãr
, 
£ùÜ
è? 
RES_OK
 : 
RES_ERROR
;

347 
	}
}

349 
	gSDFeSy¡em
::
	$disk_sync
()

352 ià(
	`£Ëù
()) {

353 
	`de£Ëù
();

354  
RES_OK
;

356  
RES_ERROR
;

358 
	}
}

360 
ušt64_t
 
	gSDFeSy¡em
::
	$disk_£ùÜs
()

363 ià(
m_Stus
 & 
STA_NOINIT
)

367 
f
 = 0; f < 3; f++) {

369 if(!
	`£Ëù
())

373 ià(
	`wr™eCommªd
(
CMD9
, 0x00000000) == 0x00) {

375 
csd
[16];

376 
boŞ
 
sucûss
 = 
	`»adD©a
(
csd
, 16);

377 
	`de£Ëù
();

378 ià(
sucûss
) {

380 ià((
csd
[0] >> 6) == 0x01) {

382 
size
 = (((
csd
[7] & 0x3F) << 16) | (csd[8] << 8) | csd[9]) + 1;

383  
size
 << 10;

386 
size
 = (((
csd
[6] & 0x03) << 10) | (csd[7] << 2) | ((csd[8] & 0xC0) >> 6)) + 1;

387 
size
 <<ğ((((
csd
[9] & 0x03) << 1) | ((csd[10] & 0x80) >> 7)) + 2);

388 
size
 <<ğ(
csd
[5] & 0x0F);

389  
size
 >> 9;

399 
	`de£Ëù
();

401 
	}
}

403 
	gSDFeSy¡em
::
	$ÚC¬dRemov®
()

406 
	`checkSock‘
();

407 
	}
}

409 
šlše
 
	gSDFeSy¡em
::
	$checkSock‘
()

412 ià(
m_CdAs£¹
 =ğ-1 || 
m_Cd
 == m_CdAssert) {

414 
m_Stus
 &ğ~
STA_NODISK
;

417 
m_Stus
 |ğ(
STA_NODISK
 | 
STA_NOINIT
);

418 
m_C¬dTy³
 = 
CARD_NONE
;

420 
	}
}

422 
šlše
 
boŞ
 
	gSDFeSy¡em
::
	$wa™R—dy
(
timeout
)

424 
»¥
;

427 
m_Tim”
.
	`¡¬t
();

429 
»¥
 = 
m_Spi
.
	`wr™e
(0xFF);

430 } 
»¥
 =ğ0x00 && 
m_Tim”
.
	`»ad_ms
(è< 
timeout
);

431 
m_Tim”
.
	`¡İ
();

432 
m_Tim”
.
	`»£t
();

435  (
»¥
 > 0x00);

436 
	}
}

438 
šlše
 
boŞ
 
	gSDFeSy¡em
::
	$£Ëù
()

441 
m_Cs
 = 0;

444 
m_Spi
.
	`wr™e
(0xFF);

447 ià(
	`wa™R—dy
(500)) {

448  
Œue
;

451 
	`de£Ëù
();

452  
çl£
;

454 
	}
}

456 
šlše
 
	gSDFeSy¡em
::
	$de£Ëù
()

459 
m_Cs
 = 1;

462 
m_Spi
.
	`wr™e
(0xFF);

463 
	}
}

465 
šlše
 
	gSDFeSy¡em
::
	$commªdT¿n§ùiÚ
(
cmd
, 
¬g
, * 
»¥
)

468 if(!
	`£Ëù
())

472 
tok’
 = 
	`wr™eCommªd
(
cmd
, 
¬g
, 
»¥
);

475 
	`de£Ëù
();

476  
tok’
;

477 
	}
}

479 
	gSDFeSy¡em
::
	$wr™eCommªd
(
cmd
, 
¬g
, * 
»¥
)

481 
tok’
;

484 
f
 = 0; f < 3; f++) {

486 ià(
cmd
 =ğ
ACMD22
 || cmd =ğ
ACMD23
 || cmd =ğ
ACMD41
 || cmd =ğ
ACMD42
) {

487 
tok’
 = 
	`wr™eCommªd
(
CMD55
, 0x00000000);

488 ià(
tok’
 > 0x01)

489  
tok’
;

492 
	`de£Ëù
();

493 if(!
	`£Ëù
())

498 
cmdPack‘
[6];

499 
cmdPack‘
[0] = 
cmd
;

500 
cmdPack‘
[1] = 
¬g
 >> 24;

501 
cmdPack‘
[2] = 
¬g
 >> 16;

502 
cmdPack‘
[3] = 
¬g
 >> 8;

503 
cmdPack‘
[4] = 
¬g
;

504 ià(
m_Crc
 || 
cmd
 =ğ
CMD0
 || cmd =ğ
CMD8
)

505 
cmdPack‘
[5] = (
	`CRC7
(cmdPacket, 5) << 1) | 0x01;

507 
cmdPack‘
[5] = 0x01;

510 
i
 = 0; i < 6; i++)

511 
m_Spi
.
	`wr™e
(
cmdPack‘
[
i
]);

514 ià(
cmd
 =ğ
CMD12
)

515 
m_Spi
.
	`wr™e
(0xFF);

518 
i
 = 0; i < 9; i++) {

519 
tok’
 = 
m_Spi
.
	`wr™e
(0xFF);

520 ià(!(
tok’
 & 0x80))

525 ià(
tok’
 == 0xFF) {

528 } ià(
tok’
 & (1 << 3)) {

531 } ià(
tok’
 > 0x01) {

537 ià(
cmd
 =ğ
CMD13
 && 
»¥
 !ğ
NULL
) {

539 *
»¥
 = 
m_Spi
.
	`wr™e
(0xFF);

540 } ià((
cmd
 =ğ
CMD8
 || cmd =ğ
CMD58
è&& 
»¥
 !ğ
NULL
) {

542 *
»¥
 = (
m_Spi
.
	`wr™e
(0xFF) << 24);

543 *
»¥
 |ğ(
m_Spi
.
	`wr™e
(0xFF) << 16);

544 *
»¥
 |ğ(
m_Spi
.
	`wr™e
(0xFF) << 8);

545 *
»¥
 |ğ
m_Spi
.
	`wr™e
(0xFF);

553  
tok’
;

554 
	}
}

556 
boŞ
 
	gSDFeSy¡em
::
	$»adD©a
(* 
bufãr
, 
Ëngth
)

558 
tok’
;

559 
üc
;

562 
m_Tim”
.
	`¡¬t
();

564 
tok’
 = 
m_Spi
.
	`wr™e
(0xFF);

565 } 
tok’
 =ğ0xFF && 
m_Tim”
.
	`»ad_ms
() < 500);

566 
m_Tim”
.
	`¡İ
();

567 
m_Tim”
.
	`»£t
();

570 ià(
tok’
 != 0xFE)

571  
çl£
;

574 ià(
m_L¬geF¿mes
) {

576 
m_Spi
.
	`fÜm©
(16, 0);

579 
d©aWÜd
;

580 
i
 = 0; i < 
Ëngth
; i += 2) {

581 
d©aWÜd
 = 
m_Spi
.
	`wr™e
(0xFFFF);

582 
bufãr
[
i
] = 
d©aWÜd
 >> 8;

583 
bufãr
[
i
 + 1] = 
d©aWÜd
;

587 
üc
 = 
m_Spi
.
	`wr™e
(0xFFFF);

590 
m_Spi
.
	`fÜm©
(8, 0);

593 
i
 = 0; i < 
Ëngth
; i++)

594 
bufãr
[
i
] = 
m_Spi
.
	`wr™e
(0xFF);

597 
üc
 = (
m_Spi
.
	`wr™e
(0xFF) << 8);

598 
üc
 |ğ
m_Spi
.
	`wr™e
(0xFF);

602  (!
m_Crc
 || 
üc
 =ğ
	`CRC16
(
bufãr
, 
Ëngth
));

603 
	}
}

605 
	gSDFeSy¡em
::
	$wr™eD©a
(cÚ¡ * 
bufãr
, 
tok’
)

608 
üc
 = (
m_Crc
è? 
	`CRC16
(
bufãr
, 512) : 0xFFFF;

611 ià(!
	`wa™R—dy
(500))

612  
çl£
;

615 
m_Spi
.
	`wr™e
(
tok’
);

618 ià(
m_L¬geF¿mes
) {

620 
m_Spi
.
	`fÜm©
(16, 0);

623 
i
 = 0; i < 512; i += 2)

624 
m_Spi
.
	`wr™e
((
bufãr
[
i
] << 8) | buffer[i + 1]);

627 
m_Spi
.
	`wr™e
(
üc
);

630 
m_Spi
.
	`fÜm©
(8, 0);

633 
i
 = 0; i < 512; i++)

634 
m_Spi
.
	`wr™e
(
bufãr
[
i
]);

637 
m_Spi
.
	`wr™e
(
üc
 >> 8);

638 
m_Spi
.
	`wr™e
(
üc
);

642  (
m_Spi
.
	`wr™e
(0xFF) & 0x1F);

643 
	}
}

645 
šlše
 
boŞ
 
	gSDFeSy¡em
::
	$»adBlock
(* 
bufãr
, 
lba
)

648 
f
 = 0; f < 3; f++) {

650 if(!
	`£Ëù
())

654 ià(
	`wr™eCommªd
(
CMD17
, (
m_C¬dTy³
 =ğ
CARD_SDHC
è? 
lba
 :†ba << 9) == 0x00) {

656 
boŞ
 
sucûss
 = 
	`»adD©a
(
bufãr
, 512);

657 
	`de£Ëù
();

660 ià(
sucûss
)

661  
Œue
;

669 
	`de£Ëù
();

670  
çl£
;

671 
	}
}

673 
šlše
 
boŞ
 
	gSDFeSy¡em
::
	$»adBlocks
(* 
bufãr
, 
lba
, 
couÁ
)

676 
f
 = 0; f < 3;) {

678 if(!
	`£Ëù
())

682 ià(
	`wr™eCommªd
(
CMD18
, (
m_C¬dTy³
 =ğ
CARD_SDHC
è? 
lba
 :†ba << 9) == 0x00) {

686 ià(!
	`»adD©a
(
bufãr
, 512)) {

687 
f
++;

692 
lba
++;

693 
bufãr
 += 512;

694 
f
 = 0;

695 } --
couÁ
);

698 ià(
	`wr™eCommªd
(
CMD12
, 0x00000000) != 0x00) {

704 
	`de£Ëù
();

705 ià(
couÁ
 == 0)

706  
Œue
;

714 
	`de£Ëù
();

715  
çl£
;

716 
	}
}

718 
šlše
 
boŞ
 
	gSDFeSy¡em
::
	$wr™eBlock
(cÚ¡ * 
bufãr
, 
lba
)

721 
f
 = 0; f < 3; f++) {

723 if(!
	`£Ëù
())

727 ià(
	`wr™eCommªd
(
CMD24
, (
m_C¬dTy³
 =ğ
CARD_SDHC
è? 
lba
 :†ba << 9) == 0x00) {

729 
tok’
 = 
	`wr™eD©a
(
bufãr
, 0xFE);

730 
	`de£Ëù
();

733 ià(
tok’
 == 0x0A) {

736 } ià(
tok’
 == 0x0C) {

742 ià(
m_Wr™eV®id©iÚ
) {

743 
»¥
;

744 ià(
	`commªdT¿n§ùiÚ
(
CMD13
, 0x00000000, &
»¥
) != 0x00 ||„esp != 0x00) {

751  
Œue
;

759 
	`de£Ëù
();

760  
çl£
;

761 
	}
}

763 
šlše
 
boŞ
 
	gSDFeSy¡em
::
	$wr™eBlocks
(cÚ¡ * 
bufãr
, 
lba
, 
couÁ
)

765 
tok’
;

766 cÚ¡ * 
cu¼’tBufãr
 = 
bufãr
;

767 
cu¼’tLba
 = 
lba
;

768 
cu¼’tCouÁ
 = 
couÁ
;

771 
f
 = 0; f < 3;) {

773 ià(
m_C¬dTy³
 !ğ
CARD_MMC
) {

774 ià(
	`commªdT¿n§ùiÚ
(
ACMD23
, 
cu¼’tCouÁ
) != 0x00) {

781 if(!
	`£Ëù
())

785 ià(
	`wr™eCommªd
(
CMD25
, (
m_C¬dTy³
 =ğ
CARD_SDHC
è? 
cu¼’tLba
 : currentLba << 9) == 0x00) {

789 
tok’
 = 
	`wr™eD©a
(
cu¼’tBufãr
, 0xFC);

790 ià(
tok’
 != 0x05) {

791 
f
++;

796 
cu¼’tBufãr
 += 512;

797 
f
 = 0;

798 } --
cu¼’tCouÁ
);

801 ià(!
	`wa™R—dy
(500))

805 ià(
cu¼’tCouÁ
 == 0) {

807 
m_Spi
.
	`wr™e
(0xFD);

808 
	`de£Ëù
();

811 ià(
m_Wr™eV®id©iÚ
) {

812 
»¥
;

813 ià(
	`commªdT¿n§ùiÚ
(
CMD13
, 0x00000000, &
»¥
) != 0x00 ||„esp != 0x00) {

820  
Œue
;

823 ià(
	`wr™eCommªd
(
CMD12
, 0x00000000) != 0x00) {

829 
	`de£Ëù
();

832 ià(
tok’
 == 0x0A) {

834 
wr™‹nBlocks
 = 0;

835 ià(
m_C¬dTy³
 !ğ
CARD_MMC
 && 
	`£Ëù
()) {

837 ià(
	`wr™eCommªd
(
ACMD22
, 0x00000000) == 0x00) {

839 
acmdD©a
[4];

840 ià(
	`»adD©a
(
acmdD©a
, 4)) {

842 
wr™‹nBlocks
 = 
acmdD©a
[0] << 24;

843 
wr™‹nBlocks
 |ğ
acmdD©a
[1] << 16;

844 
wr™‹nBlocks
 |ğ
acmdD©a
[2] << 8;

845 
wr™‹nBlocks
 |ğ
acmdD©a
[3];

848 
	`de£Ëù
();

852 
cu¼’tBufãr
 = 
bufãr
 + (
wr™‹nBlocks
 << 9);

853 
cu¼’tLba
 = 
lba
 + 
wr™‹nBlocks
;

854 
cu¼’tCouÁ
 = 
couÁ
 - 
wr™‹nBlocks
;

870 
	`de£Ëù
();

871  
çl£
;

872 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\SDFileSystem.h

17 #iâdeà
SD_FILE_SYSTEM_H


18 
	#SD_FILE_SYSTEM_H


	)

20 
	~"mbed.h
"

21 
	~"FATFeSy¡em.h
"

22 
	~<¡dšt.h
>

70 şas 
	cSDFeSy¡em
 : 
public
 
FATFeSy¡em


72 
public
:

75 
	eSw™chTy³
 {

76 
SWITCH_NONE
,

77 
	mSWITCH_POS_NO
,

78 
	mSWITCH_POS_NC
,

79 
	mSWITCH_NEG_NO
,

80 
	mSWITCH_NEG_NC


85 
	eC¬dTy³
 {

86 
	gCARD_NONE
,

87 
	gCARD_MMC
,

88 
	gCARD_SD
,

89 
	gCARD_SDHC
,

90 
	gCARD_UNKNOWN


104 
SDFeSy¡em
(
PšName
 
mosi
, PšNam
miso
, PšNam
sşk
, PšNam
cs
, cÚ¡ * 
Çme
, PšNam
cd
 = 
NC
, 
Sw™chTy³
 
cdty³
 = 
SWITCH_NONE
, 
hz
 = 1000000);

110 
	gSDFeSy¡em
::
C¬dTy³
 
ÿrd_ty³
();

118 
boŞ
 
üc
();

124 
üc
(
boŞ
 
’abËd
);

132 
boŞ
 
Ïrge_äames
();

138 
Ïrge_äames
(
boŞ
 
’abËd
);

146 
boŞ
 
wr™e_v®id©iÚ
();

152 
wr™e_v®id©iÚ
(
boŞ
 
’abËd
);

154 
vœtu®
 
unmouÁ
();

155 
vœtu®
 
disk_š™Ÿlize
();

156 
vœtu®
 
disk_¡©us
();

157 
vœtu®
 
disk_»ad
(
ušt8_t
* 
bufãr
, 
ušt64_t
 
£ùÜ
, ušt8_ˆ
couÁ
);

158 
vœtu®
 
disk_wr™e
(cÚ¡ 
ušt8_t
* 
bufãr
, 
ušt64_t
 
£ùÜ
, ušt8_ˆ
couÁ
);

159 
vœtu®
 
disk_sync
();

160 
vœtu®
 
ušt64_t
 
disk_£ùÜs
();

162 
	g´iv©e
:

164 
	eCommªd
 {

165 
CMD0
 = (0x40 | 0),

166 
	gCMD1
 = (0x40 | 1),

167 
	gCMD8
 = (0x40 | 8),

168 
	gCMD9
 = (0x40 | 9),

169 
	gCMD12
 = (0x40 | 12),

170 
	gCMD13
 = (0x40 | 13),

171 
	gCMD16
 = (0x40 | 16),

172 
	gCMD17
 = (0x40 | 17),

173 
	gCMD18
 = (0x40 | 18),

174 
	gACMD22
 = (0x40 | 22),

175 
	gACMD23
 = (0x40 | 23),

176 
	gCMD24
 = (0x40 | 24),

177 
	gCMD25
 = (0x40 | 25),

178 
	gACMD41
 = (0x40 | 41),

179 
	gACMD42
 = (0x40 | 42),

180 
	gCMD55
 = (0x40 | 55),

181 
	gCMD58
 = (0x40 | 58),

182 
	gCMD59
 = (0x40 | 59)

186 
Tim”
 
	gm_Tim”
;

187 
SPI
 
	gm_Spi
;

188 
Dig™®Out
 
	gm_Cs
;

189 
IÁ”ru±In
 
	gm_Cd
;

190 
	gm_CdAs£¹
;

191 cÚ¡ 
	gm_FREQ
;

192 
	gSDFeSy¡em
::
C¬dTy³
 
m_C¬dTy³
;

193 
boŞ
 
	gm_Crc
;

194 
boŞ
 
	gm_L¬geF¿mes
;

195 
boŞ
 
	gm_Wr™eV®id©iÚ
;

196 
	gm_Stus
;

199 
ÚC¬dRemov®
();

200 
checkSock‘
();

201 
boŞ
 
wa™R—dy
(
timeout
);

202 
boŞ
 
£Ëù
();

203 
de£Ëù
();

204 
commªdT¿n§ùiÚ
(
cmd
, 
¬g
, * 
»¥
 = 
NULL
);

205 
wr™eCommªd
(
cmd
, 
¬g
, * 
»¥
 = 
NULL
);

206 
boŞ
 
»adD©a
(* 
bufãr
, 
Ëngth
);

207 
wr™eD©a
(cÚ¡ * 
bufãr
, 
tok’
);

208 
boŞ
 
»adBlock
(* 
bufãr
, 
lba
);

209 
boŞ
 
»adBlocks
(* 
bufãr
, 
lba
, 
couÁ
);

210 
boŞ
 
wr™eBlock
(cÚ¡ * 
bufãr
, 
lba
);

211 
boŞ
 
wr™eBlocks
(cÚ¡ * 
bufãr
, 
lba
, 
couÁ
);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth.cpp

37 
	~"Pok™to.h
"

38 
	~"SyÁh.h
"

39 
	~"¡dšt.h
"

40 
	~"My_£‰šgs.h
"

44 
boŞ
 
	g¶ayšg
=
çl£
;

45 
boŞ
 
	gŒack1Ú
 = 
Œue
, 
	gŒack2Ú
 =rue, 
	gŒack3Ú
 =rue, 
	gbËReäesh
 = 
çl£
;

47 
ušt8_t
 
	g£qu’ûpos
=0, 
	g‹mpo
 = 120;

48 
	gwr™ešdex
=0, 
	g»adšdex
=0;

49 
ušt16_t
 
	g¶ay”pos
=0;

50 
ušt16_t
 
	g§m¶e¥”tick
 = ()((60.0f/()
‹mpo
)*
POK_AUD_FREQ
)/16;

51 
ušt16_t
 
	gnÙ‘ick
=0;

52 
	g§m¶e¥”·‰”n
=0;

54 
ušt8_t
 
	gtick
=3;

57 
SONG
 
	gsÚg
;

58 
OSC
 
	gosc1
,
	gosc2
,
	gosc3
;

59 
OSC
 
	g·tch
[15];

60 
BLOCK
 
	gblock
[30];

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth.h

21 #iâdeà
SYNTH_H


22 
	#SYNTH_H


	)

24 
	~"SyÁh_osc.h
"

25 
	~"SyÁh_sÚg.h
"

39 
	#OPT_ADSR
 1

	)

40 
	#OPT_LOOP
 2

	)

41 
	#OPT_ECHO
 4

	)

42 
	#OPT_OVERDRIVE
 8

	)

43 
	#OPT_NORMALIZE
 0x10

	)

45 
	#OVERDRIVE
 4

	)

49 (*
	twaveFunùiÚ
)(
	tOSC
*);

50 (*
	t’vFunùiÚ
)(
	tOSC
*);

51 (*
	tmixFunùiÚ
)();

52 (*
	t¡»amsFunùiÚ
)();

54 
waveFunùiÚ
 
F¬r
 [];

55 
’vFunùiÚ
 
E¬r
 [];

56 
mixFunùiÚ
 
M¬r
 [];

57 
mixFunùiÚ
 
HWM¬r
 [];

60 
	#RBTRACKER_VERSION
 0.03f

	)

62 
	#WOFF
 0

	)

63 
	#WSQUARE
 1

	)

64 
	#WSAW
 2

	)

65 
	#WTRI
 3

	)

66 
	#WNOISE
 4

	)

67 
	#WSAMPLE
 5

	)

68 
	#WPNOISE
 5

	)

70 
	#OVERDRIVE
 4

	)

72 
	#ARPSTEPMAX
 4

73 
	#PATTERNLENGTH
 64

	)

74 
	#MAXPATTERNS
 10

	)

75 
	#MAXBLOCKS
 30

76 

	)

77 
	#VOLTICK
 
POK_AUD_FREQ
/8820

78 
	#ARPTICK
 
POK_AUD_FREQ
/441

79 

	)

80 
	#NUMWAVES
 5

	)

81 
	#NUMENVELOPES
 3

	)

82 
	#NUMMIXES
 4

	)

84 
	`g‘NÙeSŒšg
(*, 
ušt8_t
);

86 
	`¶ayNÙe
(
ušt8_t
,uint8_t,uint8_t);

87 
	`makeSam¶eIn¡rum’ts
();

89 
	`£tP™ch
();

90 
	`£tWave
();

91 
	`£tVŞume
();

92 
	`š™Audio
();

93 
	`‹¡Osc
();

94 
	`‹rmš©eSound
();

95 
	`klSound
();

96 
	`¡¬tSound
();

97 
	`¡İSound
();

98 
	`upd©ePÏyback
();

99 
	`upd©ePÏybackSD
(
ušt8_t
);

100 
	`š™SŒ—ms
(
ušt8_t
);

101 
	`em±yOscÏtÜs
();

102 
	`em±yP©ches
();

103 
	`em±yBlocks
();

104 
	`em±ySÚg
();

105 
	`İ’SÚgFromSD
(*);

106 
	`wr™eChunkToSD
(
ušt8_t
 *);

107 
	`»adChunkFromSD
(
ušt8_t
 *);

108 
	`»gi¡”SŒ—msC®lback
(
¡»amsFunùiÚ
);

109 
¡»amsFunùiÚ
 
¡»amC®lbackPŒ
;

111 
boŞ
 
¶ayšg
, 
Œack1Ú
, 
Œack2Ú
, 
Œack3Ú
, 
bËReäesh
;

112 
ušt16_t
 
¶ay”pos
;

113 
ušt16_t
 
§m¶e¥”tick
, 
nÙ‘ick
;

114 
§m¶e¥”·‰”n
;

116 
»adšdex
, 
wr™ešdex
;

117 
ušt8_t
 
tick
, 
£qu’ûpos
;

119 
SONG
 
sÚg
;

120 
OSC
 
osc1
,
osc2
,
osc3
;

121 
OSC
 
·tch
[];

122 
BLOCK
 
block
[];

124 
	#MAX_ARPMODE
 16

	)

126 
št8_t
 
¬±abË
[][5];

128 
ušt16_t
 
äeqs
[];

130 
ušt32_t
 
cšcs
[];

132 
ušt8_t
 
	`xÜshiá8
();

133 
ušt16_t
 
	`xÜshiá16
();

135 
ušt16_t
 
noi£v®
;

137 
	`£tOSC
(
OSC
*,
by‹
, byte, byte, byte, byte,

138 
ušt8_t
, 
ušt16_t
,

139 
ušt16_t
, uint16_t, uint16_t, uint16_t,

140 
št16_t
, iÁ16_t, 
ušt8_t
, uint8_t, uint8_t);

142 
	`£tOSC
(
OSC
*,
by‹
,by‹,
ušt16_t
, 
ušt8_t
, 
ušt32_t
);

144 
	`waveoff
(
OSC
*);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth_envfuncs.cpp

37 
	~"SyÁh.h
"

41 
	$noADSR
(
OSC
* 
o
){

42 
	}
}

44 
	$©ckFunc
(
OSC
* 
o
){

45 ià(
o
->
ad¤vŞ
 >ğo->
vŞ
) {

46 ià(
o
->
deÿy
) {

47 
o
->
ad¤vŞ
 = o->
vŞ
;

48 
o
->
ad¤pha£
 = 2;

50 
o
->
ad¤vŞ
 = o->
su¡aš
;

51 
o
->
ad¤pha£
 = 3;

55 
o
->
ad¤vŞ
 +ğo->
©ck
;

56 
	}
}

58 
	$deÿyFunc
(
OSC
* 
o
){

59 ià(
o
->
ad¤vŞ
 >ğo->
su¡aš
 + o->
deÿy
) {

60 
o
->
ad¤vŞ
 -ğo->
deÿy
;

63 
o
->
ad¤vŞ
 = o->
su¡aš
;

64 
o
->
ad¤pha£
 = 3;

66 
	}
}

68 
	$»Ëa£Func
(
OSC
* 
o
){

69 ià(
o
->
ad¤vŞ
 > o->
»Ëa£
) o->adsrvol -= o->release;

70 
o
->
ad¤vŞ
 = 0;

71 ià(!
o
->
ad¤vŞ
) {

72 ià(
o
->
loİ
) {

73 ià(
o
->
©ck
) {

74 
o
->
ad¤vŞ
 = 0;

76 
o
->
ad¤vŞ
 = o->
vŞ
;

78 ià(
o
->
echo
èo->
echodiv
++;

79 
o
->
ad¤pha£
 = 1;

83 
o
->
ad¤pha£
 = 0;

84 
o
->
ad¤vŞ
 = 0;

88 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth_helpers.cpp

21 
	~"Pok™to.h
"

22 
	~"SyÁh.h
"

23 
	~"Pok™to_£‰šgs.h
"

25 
	#PROGMEM


	)

26 
	#pgm_»ad_by‹
(
addr
è(*(cÚ¡ *)×ddr))

	)

27 #iâdeà
WIN32


28 #iâdeà
pgm_»ad_wÜd


29 
	#pgm_»ad_wÜd
(
addr
è(*(cÚ¡ *)×ddr))

	)

32 
	#pgm_»ad_wÜd
(
addr
è(*(cÚ¡ *)×ddr))

	)

36 
ušt8_t
 
	gy8
 = 1;

37 
ušt16_t
 
	gy16
 = 1;

40 
ušt8_t
 
	$xÜshiá8
() {

42 
y8
 ^= (y8 * 128);

43 
y8
 ^= (y8 >> 5);

45  
y8
 ^= (y8 * 8);

46 
	}
}

49 
ušt16_t
 
	$xÜshiá16
() {

51 
y16
 ^= (y16 * 8192);

52 
y16
 ^= (y16 >> 9);

54  
y16
 ^= (y16 * 128);

55 
	}
}

58 
št8_t
 
	g¬±abË
[
MAX_ARPMODE
][5] = {

70 #ià(
POK_AUD_FREQ
==8000)

72 
ušt32_t
 
	gcšcs
[] ={

164 #–ià(
POK_AUD_FREQ
==11025)

166 
ušt32_t
 
	gcšcs
[] ={

258 #–ià(
POK_AUD_FREQ
==16000)

260 
ušt32_t
 
	gcšcs
[] ={

352 #–ià(
POK_AUD_FREQ
==22050)

354 
ušt32_t
 
	gcšcs
[] ={

447 #–ià(
POK_AUD_FREQ
==32000)

449 
ušt32_t
 
	gcšcs
[] ={

542 #–ià(
POK_AUD_FREQ
==44100)

544 
ušt32_t
 
	gcšcs
[] ={

642 cÚ¡ 
	gnÙe_0
[] = "B-0";

643 cÚ¡ 
	gnÙe_1
[] = "C-1";

644 cÚ¡ 
	gnÙe_2
[] = "C#1";

645 cÚ¡ 
	gnÙe_3
[] = "D-1";

646 cÚ¡ 
	gnÙe_4
[] = "D#1";

647 cÚ¡ 
	gnÙe_5
[] = "E-1";

648 cÚ¡ 
	gnÙe_6
[] = "F-1";

649 cÚ¡ 
	gnÙe_7
[] = "F#1";

650 cÚ¡ 
	gnÙe_8
[] = "G-1";

651 cÚ¡ 
	gnÙe_9
[] = "G#1";

652 cÚ¡ 
	gnÙe_10
[] = "A-1";

653 cÚ¡ 
	gnÙe_11
[] = "A#1";

654 cÚ¡ 
	gnÙe_12
[] = "B-1";

655 cÚ¡ 
	gnÙe_13
[] = "C-2";

656 cÚ¡ 
	gnÙe_14
[] = "C#2";

657 cÚ¡ 
	gnÙe_15
[] = "D-2";

658 cÚ¡ 
	gnÙe_16
[] = "D#2";

659 cÚ¡ 
	gnÙe_17
[] = "E-2";

660 cÚ¡ 
	gnÙe_18
[] = "F-2";

661 cÚ¡ 
	gnÙe_19
[] = "F#2";

662 cÚ¡ 
	gnÙe_20
[] = "G-2";

663 cÚ¡ 
	gnÙe_21
[] = "G#2";

664 cÚ¡ 
	gnÙe_22
[] = "A-2";

665 cÚ¡ 
	gnÙe_23
[] = "A#2";

666 cÚ¡ 
	gnÙe_24
[] = "B-2";

667 cÚ¡ 
	gnÙe_25
[] = "C-3";

668 cÚ¡ 
	gnÙe_26
[] = "C#3";

669 cÚ¡ 
	gnÙe_27
[] = "D-3";

670 cÚ¡ 
	gnÙe_28
[] = "D#3";

671 cÚ¡ 
	gnÙe_29
[] = "E-3";

672 cÚ¡ 
	gnÙe_30
[] = "F-3";

673 cÚ¡ 
	gnÙe_31
[] = "F#3";

674 cÚ¡ 
	gnÙe_32
[] = "G-3";

675 cÚ¡ 
	gnÙe_33
[] = "G#3";

676 cÚ¡ 
	gnÙe_34
[] = "A-3";

677 cÚ¡ 
	gnÙe_35
[] = "A#3";

678 cÚ¡ 
	gnÙe_36
[] = "B-3";

679 cÚ¡ 
	gnÙe_37
[] = "C-4";

680 cÚ¡ 
	gnÙe_38
[] = "C#4";

681 cÚ¡ 
	gnÙe_39
[] = "D-4";

682 cÚ¡ 
	gnÙe_40
[] = "D#4";

683 cÚ¡ 
	gnÙe_41
[] = "E-4";

684 cÚ¡ 
	gnÙe_42
[] = "F-4";

685 cÚ¡ 
	gnÙe_43
[] = "F#4";

686 cÚ¡ 
	gnÙe_44
[] = "G-4";

687 cÚ¡ 
	gnÙe_45
[] = "G#4";

688 cÚ¡ 
	gnÙe_46
[] = "A-4";

689 cÚ¡ 
	gnÙe_47
[] = "A#4";

690 cÚ¡ 
	gnÙe_48
[] = "B-4";

691 cÚ¡ 
	gnÙe_49
[] = "C-5";

692 cÚ¡ 
	gnÙe_50
[] = "C#5";

693 cÚ¡ 
	gnÙe_51
[] = "D-5";

694 cÚ¡ 
	gnÙe_52
[] = "D#5";

695 cÚ¡ 
	gnÙe_53
[] = "E-5";

696 cÚ¡ 
	gnÙe_54
[] = "F-5";

697 cÚ¡ 
	gnÙe_55
[] = "F#5";

698 cÚ¡ 
	gnÙe_56
[] = "G-5";

699 cÚ¡ 
	gnÙe_57
[] = "G#5";

700 cÚ¡ 
	gnÙe_58
[] = "A-5";

701 cÚ¡ 
	gnÙe_59
[] = "A#5";

702 cÚ¡ 
	gnÙe_60
[] = "B-5";

703 cÚ¡ 
	gnÙe_61
[] = "C-6";

704 cÚ¡ 
	gnÙe_62
[] = "C#6";

705 cÚ¡ 
	gnÙe_63
[] = "D-6";

706 cÚ¡ 
	gnÙe_64
[] = "D#6";

707 cÚ¡ 
	gnÙe_65
[] = "E-6";

708 cÚ¡ 
	gnÙe_66
[] = "F-6";

709 cÚ¡ 
	gnÙe_67
[] = "F#6";

710 cÚ¡ 
	gnÙe_68
[] = "G-6";

711 cÚ¡ 
	gnÙe_69
[] = "G#6";

712 cÚ¡ 
	gnÙe_70
[] = "A-6";

713 cÚ¡ 
	gnÙe_71
[] = "A#6";

714 cÚ¡ 
	gnÙe_72
[] = "B-6";

715 cÚ¡ 
	gnÙe_73
[] = "C-7";

716 cÚ¡ 
	gnÙe_74
[] = "C#7";

717 cÚ¡ 
	gnÙe_75
[] = "D-7";

718 cÚ¡ 
	gnÙe_76
[] = "D#7";

719 cÚ¡ 
	gnÙe_77
[] = "E-7";

720 cÚ¡ 
	gnÙe_78
[] = "F-7";

721 cÚ¡ 
	gnÙe_79
[] = "F#7";

722 cÚ¡ 
	gnÙe_80
[] = "G-7";

723 cÚ¡ 
	gnÙe_81
[] = "G#7";

724 cÚ¡ 
	gnÙe_82
[] = "A-7";

725 cÚ¡ 
	gnÙe_83
[] = "A#7";

726 cÚ¡ 
	gnÙe_84
[] = "B-7";

727 cÚ¡ 
	gnÙe_85
[] = "C-8";

728 cÚ¡ 
	gnÙe_86
[] = "C#8";

729 cÚ¡ 
	gnÙe_87
[] = "D-8";

730 cÚ¡ 
	gnÙe_88
[] = "D#8";

732 cÚ¡ * 
	gnÙe_bË
[] = {

733 
nÙe_0
,

734 
nÙe_1
,

735 
nÙe_2
,

736 
nÙe_3
,

737 
nÙe_4
,

738 
nÙe_5
,

739 
nÙe_6
,

740 
nÙe_7
,

741 
nÙe_8
,

742 
nÙe_9
,

743 
nÙe_10
,

744 
nÙe_11
,

745 
nÙe_12
,

746 
nÙe_13
,

747 
nÙe_14
,

748 
nÙe_15
,

749 
nÙe_16
,

750 
nÙe_17
,

751 
nÙe_18
,

752 
nÙe_19
,

753 
nÙe_20
,

754 
nÙe_21
,

755 
nÙe_22
,

756 
nÙe_23
,

757 
nÙe_24
,

758 
nÙe_25
,

759 
nÙe_26
,

760 
nÙe_27
,

761 
nÙe_28
,

762 
nÙe_29
,

763 
nÙe_30
,

764 
nÙe_31
,

765 
nÙe_32
,

766 
nÙe_33
,

767 
nÙe_34
,

768 
nÙe_35
,

769 
nÙe_36
,

770 
nÙe_37
,

771 
nÙe_38
,

772 
nÙe_39
,

773 
nÙe_40
,

774 
nÙe_41
,

775 
nÙe_42
,

776 
nÙe_43
,

777 
nÙe_44
,

778 
nÙe_45
,

779 
nÙe_46
,

780 
nÙe_47
,

781 
nÙe_48
,

782 
nÙe_49
,

783 
nÙe_50
,

784 
nÙe_51
,

785 
nÙe_52
,

786 
nÙe_53
,

787 
nÙe_54
,

788 
nÙe_55
,

789 
nÙe_56
,

790 
nÙe_57
,

791 
nÙe_58
,

792 
nÙe_59
,

793 
nÙe_60
,

794 
nÙe_61
,

795 
nÙe_62
,

796 
nÙe_63
,

797 
nÙe_64
,

798 
nÙe_65
,

799 
nÙe_66
,

800 
nÙe_67
,

801 
nÙe_68
,

802 
nÙe_69
,

803 
nÙe_70
,

804 
nÙe_71
,

805 
nÙe_72
,

806 
nÙe_73
,

807 
nÙe_74
,

808 
nÙe_75
,

809 
nÙe_76
,

810 
nÙe_77
,

811 
nÙe_78
,

812 
nÙe_79
,

813 
nÙe_80
,

814 
nÙe_81
,

815 
nÙe_82
,

816 
nÙe_83
,

817 
nÙe_84
,

818 
nÙe_85
,

819 
nÙe_86
,

820 
nÙe_87
,

821 
nÙe_88
,

824 
	$g‘NÙeSŒšg
(* 
bufãr
, 
ušt8_t
 
i
) {

825 ià(
i
>88è
	`¡rıy
(
bufãr
,"@@@");

826 
	`¡rıy
(
bufãr
, 
nÙe_bË
[
i
]);

827 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth_mixfuncs.cpp

37 
	~"Pok™toGlobs.h
"

38 
	~"SyÁh.h
"

42 
	gvŞtick
=0;

43 
ušt16_t
 
	g¬±ick
=0;

44 
št8_t
 
	gb’dtick
 = 0;

47 
	$mix1
(){

49 ià(
osc1
.
Ú
) {

50 
F¬r
[
osc1
.
wave
](&osc1);

51 #ià
PROJ_ARDUBOY
 > 0

52 ià(
osc1
.
du¿tiÚ
) {

54 
osc1
.
du¿tiÚ
--;

55 } 
osc1
.
Ú
 = 0;

58 #ifdeà
POK_SIM


59 
soundby‹
 = (((
osc1
.
ouut
>>8è* (osc1.
ad¤vŞ
 >>8 )è>> 8è>> osc1.
echodiv
;

60 ià(
osc1
.
ov”drive
è
soundby‹
 *ğ
OVERDRIVE
;

61 ià(
osc1
.
kick
 ) 
soundby‹
 >>= 2;

62 
osc1
.
ouut
 = 
soundby‹
;

65 #ià
POK_ENABLE_SOUND
 > 0

66 
soundby‹
 = (((
osc1
.
ouut
>>8è* (osc1.
ad¤vŞ
 >>8 )è>> 8è>> osc1.
echodiv
;

67 ià(
osc1
.
ov”drive
è
soundby‹
 *ğ
OVERDRIVE
;

68 ià(
osc1
.
kick
 ) 
soundby‹
 >>= 2;

69 
osc1
.
ouut
 = 
soundby‹
;

73 
	}
}

75 
	$mix2
(){

77 ià(
osc2
.
Ú
) {

78 
F¬r
[
osc2
.
wave
](&osc2);

79 #ifdeà
POK_SIM


80 
soundby‹
 = (((
osc2
.
ouut
>>8è* (osc2.
ad¤vŞ
 >>8 )è>> 8è>> osc2.
echodiv
;

81 ià(
osc2
.
ov”drive
è
soundby‹
 *ğ
OVERDRIVE
;

82 ià(
osc2
.
kick
 ) 
soundby‹
 >>= 2;

83 
osc2
.
ouut
 = 
soundby‹
;

86 #ià
POK_ENABLE_SOUND
 > 0

87 
soundby‹
 = (((
osc2
.
ouut
>>8è* (osc2.
ad¤vŞ
 >>8 )è>> 8è>> osc2.
echodiv
;

88 ià(
osc2
.
ov”drive
è
soundby‹
 *ğ
OVERDRIVE
;

89 ià(
osc2
.
kick
 ) 
soundby‹
 >>= 2;

90 
osc2
.
ouut
 = 
soundby‹
;

94 
	}
}

96 
	$mix3
(){

98 ià(
osc3
.
Ú
) {

99 
F¬r
[
osc3
.
wave
](&osc3);

100 #ifdeà
POK_SIM


101 
soundby‹
 = (((
osc3
.
ouut
>>8è* (osc3.
ad¤vŞ
 >>8 )è>> 8è>> osc3.
echodiv
;

102 ià(
osc3
.
ov”drive
è
soundby‹
 *ğ
OVERDRIVE
;

103 ià(
osc3
.
kick
 ) 
soundby‹
 >>= 2;

104 
osc3
.
ouut
 = 
soundby‹
;

107 #ià
POK_ENABLE_SOUND
 > 0

108 
soundby‹
 = (((
osc3
.
ouut
>>8è* (osc3.
ad¤vŞ
 >>8 )è>> 8è>> osc3.
echodiv
;

109 ià(
osc3
.
ov”drive
è
soundby‹
 *ğ
OVERDRIVE
;

110 ià(
osc3
.
kick
 ) 
soundby‹
 >>= 2;

111 
osc3
.
ouut
 = 
soundby‹
;

115 
	}
}

117 
	$upd©eEnv–İes
(){

119 ià(
¬±ick
) --arptick;

121 ià(
osc1
.
¬pmode
 && osc1.
Ú
) {

122 
osc1
.
cšc
 = 
cšcs
[osc1.
tÚic
+
¬±abË
[osc1.
¬pmode
][osc1.
¬p¡•
]];

123 
osc1
.
¬p¡•
++;

124 ià(
osc1
.
¬p¡•
==
ARPSTEPMAX
) osc1.arpstep = 0;

125 
¬±ick
 = 
ARPTICK
 << (3-
osc1
.
¬p¥“d
);

127 ià(
osc2
.
¬pmode
 && osc2.
Ú
) {

128 
osc2
.
cšc
 = 
cšcs
[osc2.
tÚic
+
¬±abË
[osc2.
¬pmode
][osc2.
¬p¡•
]];

129 
osc2
.
¬p¡•
++;

130 ià(
osc2
.
¬p¡•
==
ARPSTEPMAX
) osc2.arpstep = 0;

131 
¬±ick
 = 
ARPTICK
 << (3-
osc2
.
¬p¥“d
);

133 ià(
osc3
.
¬pmode
 && osc3.
Ú
) {

134 
osc3
.
cšc
 = 
cšcs
[osc3.
tÚic
+
¬±abË
[osc3.
¬pmode
][osc3.
¬p¡•
]];

135 
osc3
.
¬p¡•
++;

136 ià(
osc3
.
¬p¡•
==
ARPSTEPMAX
) osc3.arpstep = 0;

137 
¬±ick
 = 
ARPTICK
 << (3-
osc3
.
¬p¥“d
);

142 ià(
vŞtick
) --voltick;

144 
b’dtick
 = !bendtick;

145 ià(
osc1
.
Ú
è
E¬r
[osc1.
ad¤pha£
](&osc1);

146 ià(
b’dtick
è
osc1
.
p™chb’d
 +ğosc1.
b’d¿‹
;

147 ià(
osc1
.
b’d¿‹
 > 0 && osc1.
p™chb’d
 > osc1.
maxb’d
) {

148 
osc1
.
p™chb’d
 = osc1.
maxb’d
;

149 
osc1
.
b’d¿‹
 = 0;

151 ià(
osc1
.
b’d¿‹
 < 0 && osc1.
p™chb’d
 < osc1.
maxb’d
) {

152 
osc1
.
p™chb’d
 = osc1.
maxb’d
;

153 
osc1
.
b’d¿‹
 = 0;

156 ià(
osc2
.
Ú
è
E¬r
[osc2.
ad¤pha£
](&osc2);

157 ià(
b’dtick
è
osc2
.
p™chb’d
 +ğosc2.
b’d¿‹
;

158 ià(
osc2
.
b’d¿‹
 > 0 && osc2.
p™chb’d
 > osc2.
maxb’d
) osc2.pitchbend = osc2.maxbend;

159 ià(
osc2
.
b’d¿‹
 < 0 && osc2.
p™chb’d
 < osc2.
maxb’d
) osc2.pitchbend = osc2.maxbend;

161 ià(
osc3
.
Ú
è
E¬r
[osc3.
ad¤pha£
](&osc3);

162 ià(
b’dtick
è
osc3
.
p™chb’d
 +ğosc3.
b’d¿‹
;

163 ià(
osc3
.
b’d¿‹
 > 0 && osc3.
p™chb’d
 > osc3.
maxb’d
) osc3.pitchbend = osc3.maxbend;

164 ià(
osc3
.
b’d¿‹
 < 0 && osc3.
p™chb’d
 < osc3.
maxb’d
) osc3.pitchbend = osc3.maxbend;

166 
vŞtick
 = 
VOLTICK
;

168 
tick
 = 4;

169 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth_osc.h

21 #iâdeà
SYNTH_OSC_H


22 
	#SYNTH_OSC_H


	)

24 
	~"Pok™to.h
"

26 
ušt8_t
 
	tby‹
;

28 
	sOSC
 {

29 
by‹
 
	mÚ
;

30 
by‹
 
	mwave
;

31 
by‹
 
	mloİ
;

32 
by‹
 
	mecho
;

33 
by‹
 
	mechodiv
;

34 
by‹
 
	mad¤
;

35 
by‹
 
	mtÚic
;

38 
ušt32_t
 
	mcouÁ
;

40 
ušt16_t
 
	mvŞ
;

42 
ušt32_t
 
	mcšc
;

43 
ušt16_t
 
	mouut
;

45 
ušt8_t
 
	mad¤pha£
;

46 
ušt16_t
 
	mad¤vŞ
;

47 
ušt16_t
 
	m©ck
;

48 
ušt16_t
 
	mdeÿy
;

49 
ušt16_t
 
	msu¡aš
;

50 
ušt16_t
 
	m»Ëa£
;

52 
št32_t
 
	mp™chb’d
;

53 
št32_t
 
	mmaxb’d
;

54 
št32_t
 
	mb’d¿‹
;

56 
ušt8_t
 
	mvib¿‹
;

57 
ušt8_t
 
	m¬pmode
;

58 
ušt8_t
 
	m¬p¥“d
;

59 
ušt8_t
 
	m¬p¡•
;

60 
ušt8_t
 
	mov”drive
;

61 
ušt8_t
 
	mkick
;

63 
ušt32_t
 
	mdu¿tiÚ
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth_oscfuncs.cpp

37 
	~"SyÁh.h
"

41 
	$£tOSC
(
OSC
* 
o
,
by‹
 
Ú
=1, by‹ 
wave
=1, by‹ 
loİ
=0, by‹ 
echo
=0, by‹ 
ad¤
=0,

42 
ušt8_t
 
nÙ’umb”
=25, 
ušt16_t
 
vŞume
=127,

43 
ušt16_t
 
©ck
=0, ušt16_ˆ
deÿy
=0, ušt16_ˆ
su¡aš
=0, ušt16_ˆ
»Ëa£
=0,

44 
št16_t
 
maxb’d
=0, iÁ16_ˆ
b’d¿‹
=0, 
ušt8_t
 
¬pmode
 = 0, ušt8_ˆ
ov”drive
=0, ušt8_ˆ
kick
=0){

46 
o
->
Ú
 = on;

47 
o
->
ov”drive
 = overdrive;

48 
o
->
kick
 = kick;

49 
o
->
wave
 = wave;

50 
o
->
loİ
 =†oop;

51 
o
->
echo
 =ƒcho;

52 
o
->
echodiv
 = 0;

53 
o
->
ad¤
 =‡dsr;

54 ià(
¬pmode
) {

55 ià(
¬pmode
 < 4è{
o
->¬pmodğ1; o->
¬p¥“d
 =‡rpmode;}

56 ià(
¬pmode
 < 7è{
o
->¬pmodğ2; o->
¬p¥“d
 =‡rpmode-3;}

57 ià(
¬pmode
 < 10è{
o
->¬pmodğ3; o->
¬p¥“d
 =‡rpmode-6; }

58 ià(
¬pmode
 < 13è{
o
->¬pmodğ4; o->
¬p¥“d
 =‡rpmode-9; }

59 ià(
¬pmode
 < 16è{
o
->¬pmodğ5; o->
¬p¥“d
 =‡rpmode-12; }

60 } 
o
->
¬pmode
 = 0;

61 
o
->
¬p¡•
 = 0;

62 
o
->
couÁ
 = 0;

63 
noi£v®
 = 
	`xÜshiá16
();

65 
o
->
cšc
 = 
cšcs
[
nÙ’umb”
];

66 
o
->
tÚic
 = 
nÙ’umb”
;

67 ià(
wave
 =ğ2è
o
->
cšc
 >>= 1;

68 ià(
wave
 =ğ4è
o
->
cšc
 <<= 1;

69 
o
->
vŞ
 = 
vŞume
 << 8;

71 ià(
ad¤
) {

72 
o
->
©ck
 =‡ttack;

73 
o
->
deÿy
 = decay;

74 
o
->
su¡aš
 = sustain;

75 
o
->
»Ëa£
 =„elease;

76 
o
->
ad¤pha£
 = 1;

77 ià(!
o
->
©ck
èo->
ad¤vŞ
 = o->
vŞ
;

78 
o
->
ad¤vŞ
 = 0;

80 
o
->
©ck
 = 0;

81 
o
->
deÿy
 = 0;

82 
o
->
su¡aš
 = 0;

83 
o
->
»Ëa£
 = 0;

84 
o
->
ad¤pha£
 = 0;

85 
o
->
ad¤vŞ
 = o->
vŞ
;

88 
o
->
p™chb’d
 = 0;

89 ià(
b’d¿‹
 != 0) {

90 
o
->
b’d¿‹
 = (
št32_t
)b’d¿‹*(o->
cšc
/10000);

91 
o
->
maxb’d
 = (
št32_t
)maxb’d*(o->
cšc
/100);

93 
o
->
b’d¿‹
 = 0;

94 
o
->
maxb’d
 = 0;

96 
	}
}

98 
	$£tOSC
(
OSC
* 
o
,
by‹
 
Ú
, by‹ 
wave
, 
ušt16_t
 
äq
, 
ušt8_t
 
vŞume
, 
ušt32_t
 
du¿tiÚ
){

99 
o
->
Ú
 = on;

100 
o
->
ov”drive
 = 0;

101 
o
->
kick
 = 0;

102 
o
->
wave
 = wave;

103 
o
->
loİ
 = 0;

104 
o
->
echo
 = 0;

105 
o
->
echodiv
 = 0;

106 
o
->
ad¤
 = 0;

107 
o
->
©ck
 = 0;

108 
o
->
deÿy
 = 0;

109 
o
->
su¡aš
 = 0;

110 
o
->
»Ëa£
 = 0;

111 
o
->
ad¤pha£
 = 0;

112 
o
->
¬pmode
 = 0;

113 
o
->
couÁ
 = 0;

114 
noi£v®
 = 
	`xÜshiá16
();

115 
o
->
cšc
 = (()0xFFFFFFFF/()
POK_AUD_FREQ
)*
äq
;

116 ià(
wave
 =ğ2è
o
->
cšc
 >>= 1;

117 ià(
wave
 =ğ4è
o
->
cšc
 <<= 1;

118 
o
->
vŞ
 = 
vŞume
 << 8;

119 
o
->
ad¤vŞ
 = o->
vŞ
;

120 
o
->
du¿tiÚ
 = 0;

121 
o
->
maxb’d
 = 0;

122 
o
->
b’d¿‹
 = 0;

123 
	}
}

127 
	$em±yOscÏtÜs
(){

128 
osc1
.
Ú
 = 
çl£
; osc1.
wave
 = 0; osc1.
echo
 = 0; osc1.
couÁ
 = 0; osc1.
cšc
 =0;

129 
osc1
.
©ck
 = 0; osc1.
loİ
 = 0; osc1.
ad¤pha£
 = 1; osc1.
ad¤
 = 1; osc1.
deÿy
 = 100;

130 
osc1
.
p™chb’d
 = 0; osc1.
b’d¿‹
 = 0; osc1.
maxb’d
 = 0; osc1.
su¡aš
 = 0; osc1.
»Ëa£
 = 0;

132 
osc2
.
Ú
 = 
çl£
; osc2.
wave
 = 0; osc2.
echo
 = 0; osc2.
couÁ
 = 0; osc2.
cšc
 =0;

133 
osc2
.
©ck
 = 0; osc2.
loİ
 = 0; osc2.
ad¤pha£
 = 1; osc2.
ad¤
 = 1; osc2.
deÿy
 = 100;

134 
osc2
.
p™chb’d
 = 0; osc2.
b’d¿‹
 = 0; osc2.
maxb’d
 = 0; osc2.
su¡aš
 = 0; osc2.
»Ëa£
 = 0;

136 
osc3
.
Ú
 = 
çl£
; osc3.
wave
 = 0; osc3.
echo
 = 0; osc3.
couÁ
 = 0; osc3.
cšc
 =0;

137 
osc3
.
©ck
 = 0; osc3.
loİ
 = 0; osc3.
ad¤pha£
 = 1; osc3.
ad¤
 = 1; osc3.
deÿy
 = 100;

138 
osc3
.
p™chb’d
 = 0; osc3.
b’d¿‹
 = 0; osc3.
maxb’d
 = 0; osc3.
su¡aš
 = 0; osc3.
»Ëa£
 = 0;

139 
	}
}

142 
	$‹¡Osc
(){

143 
	`£tOSC
(&
osc1
,1,
WTRI
,1,0,1,25,127,10,10,20,2,0,0,0,0,0);

144 
	`£tOSC
(&
osc2
,1,
WTRI
,1,0,1,29-12,63,2,1,20,2,0,0,14,0,0);

145 
	`£tOSC
(&
osc3
,1,
WSAW
,1,0,1,25,15,30,30,20,2,-1,-1000,12,0,0);

146 
	}
}

148 
	$¶ayNÙe
(
ušt8_t
 
osúum
, ušt8_ˆ
nÙ’um
, ušt8_ˆ
i
) {

149 
OSC
* 
o
;

150 ià(
osúum
 =ğ1è
o
 = &
osc1
; ià(osúum =ğ2èØğ&
osc2
; Øğ&
osc3
;

151 
	`£tOSC
(
o
,1,
·tch
[
i
].
wave
,·tch[i].
loİ
,·tch[i].
echo
,·tch[i].
ad¤
,
nÙ’um
,·tch[i].
vŞ
,

152 
·tch
[
i
].
©ck
,·tch[i].
deÿy
,·tch[i].
su¡aš
,·tch[i].
»Ëa£
,

153 
·tch
[
i
].
maxb’d
,·tch[i].
b’d¿‹
,·tch[i].
¬pmode
,·tch[i].
ov”drive
,·tch[i].
kick
);

154 
	}
}

156 
	$makeSam¶eIn¡rum’ts
() {

158 
·tch
[0].
wave
 = 
WSQUARE
;

159 
·tch
[0].
Ú
 = 1;

160 
·tch
[0].
vŞ
 = 127;

161 
·tch
[0].
loİ
 = 0;

162 
·tch
[0].
echo
 = 0;

164 
·tch
[0].
ad¤
 = 0;

165 
·tch
[0].
©ck
 = 0;

166 
·tch
[0].
deÿy
 = 0;

167 
·tch
[0].
su¡aš
 = 0;

168 
·tch
[0].
»Ëa£
 = 0;

170 
·tch
[0].
maxb’d
 = -1000;

171 
·tch
[0].
b’d¿‹
 = 100;

172 
·tch
[0].
¬pmode
 = 3;

173 
·tch
[0].
ov”drive
 = 0;

174 
·tch
[0].
kick
 = 0;

176 
·tch
[1].
wave
 = 
WSAW
;

177 
·tch
[1].
Ú
 = 1;

178 
·tch
[1].
vŞ
 = 200;

179 
·tch
[1].
loİ
 = 0;

180 
·tch
[1].
echo
 = 0;

182 
·tch
[1].
ad¤
 = 0;

183 
·tch
[1].
©ck
 = 0;

184 
·tch
[1].
deÿy
 = 0;

185 
·tch
[1].
su¡aš
 = 0;

186 
·tch
[1].
»Ëa£
 = 0;

188 
·tch
[1].
maxb’d
 = 0;

189 
·tch
[1].
b’d¿‹
 = 0;

190 
·tch
[1].
¬pmode
 = 1;

191 
·tch
[1].
ov”drive
 = 0;

192 
·tch
[1].
kick
 = 0;

194 
·tch
[2].
wave
 = 
WTRI
;

195 
·tch
[2].
Ú
 = 1;

196 
·tch
[2].
vŞ
 = 127;

197 
·tch
[2].
loİ
 = 0;

198 
·tch
[2].
echo
 = 0;

200 
·tch
[2].
ad¤
 = 1;

201 
·tch
[2].
©ck
 = 10;

202 
·tch
[2].
deÿy
 = 0;

203 
·tch
[2].
su¡aš
 = 0;

204 
·tch
[2].
»Ëa£
 = 0;

206 
·tch
[2].
maxb’d
 = 0;

207 
·tch
[2].
b’d¿‹
 = 0;

208 
·tch
[2].
¬pmode
 = 1;

209 
·tch
[2].
ov”drive
 = 0;

210 
·tch
[2].
kick
 = 0;

212 
·tch
[3].
wave
 = 
WNOISE
;

213 
·tch
[3].
Ú
 = 1;

214 
·tch
[3].
vŞ
 = 127;

215 
·tch
[3].
loİ
 = 1;

216 
·tch
[3].
echo
 = 1;

218 
·tch
[3].
ad¤
 = 1;

219 
·tch
[3].
©ck
 = 0;

220 
·tch
[3].
deÿy
 = 30;

221 
·tch
[3].
su¡aš
 = 30;

222 
·tch
[3].
»Ëa£
 = 5;

224 
·tch
[3].
maxb’d
 = 0;

225 
·tch
[3].
b’d¿‹
 = 0;

226 
·tch
[3].
¬pmode
 = 0;

227 
·tch
[3].
ov”drive
 = 0;

228 
·tch
[3].
kick
 = 0;

230 
·tch
[4].
wave
 = 
WPNOISE
;

231 
·tch
[4].
Ú
 = 1;

232 
·tch
[4].
vŞ
 = 127;

233 
·tch
[4].
loİ
 = 0;

234 
·tch
[4].
echo
 = 0;

236 
·tch
[4].
ad¤
 = 1;

237 
·tch
[4].
©ck
 = 0;

238 
·tch
[4].
deÿy
 = 30;

239 
·tch
[4].
su¡aš
 = 30;

240 
·tch
[4].
»Ëa£
 = 5;

242 
·tch
[4].
maxb’d
 = 0;

243 
·tch
[4].
b’d¿‹
 = 0;

244 
·tch
[4].
¬pmode
 = 1;

245 
·tch
[4].
ov”drive
 = 0;

246 
·tch
[4].
kick
 = 0;

247 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth_song.h

21 #iâdeà
SYNTH_SONG_H


22 
	#SYNTH_SONG_H


	)

24 
	#CHUNKSIZE
 8*3*2

26 
ušt8_t
 
chunk
[2][
CHUNKSIZE
];

	)

27 
ušt8_t
 
cc
;

29 
	sSONG
 {

30 
by‹
 
	mrb_v”siÚ
;

31 
ušt16_t
 
	msÚg_bpm
;

32 
by‹
 
	mnum_·tches
;

33 
by‹
 
	mnum_chªÃls
;

34 
by‹
 
	mnum_·‰”ns
;

35 
by‹
 
	msÚg_’d
;

36 
št8_t
 
	msÚg_loİ
;

37 
by‹
 
	mblock_£qu’û
[3][10];

38 cÚ¡ 
ušt8_t
 * 
	mš¡rum’t_¡»am
[3];

39 cÚ¡ 
ušt8_t
 * 
	mnÙe_¡»am
[3];

42 
	sBLOCK
 {

43 
ušt8_t
 
	mnÙ’umb”
[64];

44 
ušt8_t
 
	mš¡rum’t
[64];

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth_songfuncs.cpp

37 
	~"Pok™toDisk.h
"

38 
	~"SyÁh.h
"

39 #ifdeà
TRACKER_EXAMPLE


40 
	~"T¿ck”.h
"

42 #ifdeà
POK_SIM


43 
	~"FeIO.h
"

49 
ušt8_t
 
	gchunk
[2][
CHUNKSIZE
];

50 
ušt8_t
 
	gcc
 = 0;

52 
¡»amsFunùiÚ
 
	g¡»amC®lbackPŒ
;

55 #ià
POK_ENABLE_SOUND
 > 0

56 #ià
POK_ENABLE_SD
 > 0

57 
	$upd©ePÏybackSD
(
ušt8_t
 
row
) {

59 
ušt8_t
 
i
=0;

61 ià(
nÙ‘ick
 > 
§m¶e¥”tick
 ) {

64 
i
 = 0xF;

65 ià(
Œack1Ú
è
i
 = 
chunk
[
cc
][
row
+1]>>4;

66 ià(
i
!=0xF) {

67 
	`£tOSC
(&
osc1
,1,
·tch
[
i
].
wave
,·tch[i].
loİ
,…©ch[i].
echo
,…©ch[i].
ad¤
,

68 
chunk
[
cc
][
row
],
·tch
[
i
].
vŞ
,

69 
·tch
[
i
].
©ck
,…©ch[i].
deÿy
,…©ch[i].
su¡aš
,·tch[i].
»Ëa£
,

70 
·tch
[
i
].
maxb’d
,…©ch[i].
b’d¿‹
,…©ch[i].
¬pmode
,…©ch[i].
ov”drive
,…©ch[i].
kick
 );

74 
i
 = 0xF;

75 ià(
Œack2Ú
è
i
 = 
chunk
[
cc
][
row
+3]>>4;

76 ià(
i
!=0xF) {

77 
	`£tOSC
(&
osc2
,1,
·tch
[
i
].
wave
,·tch[i].
loİ
,…©ch[i].
echo
,…©ch[i].
ad¤
,

78 
chunk
[
cc
][
row
+2],
·tch
[
i
].
vŞ
,

79 
·tch
[
i
].
©ck
,…©ch[i].
deÿy
,…©ch[i].
su¡aš
,·tch[i].
»Ëa£
,

80 
·tch
[
i
].
maxb’d
,…©ch[i].
b’d¿‹
,…©ch[i].
¬pmode
,…©ch[i].
ov”drive
,…©ch[i].
kick
 );

83 
i
 = 0xF;

84 ià(
Œack3Ú
è
i
 = 
chunk
[
cc
][
row
+5]>>4;

85 ià(
i
!=0xF) {

86 
	`£tOSC
(&
osc3
,1,
·tch
[
i
].
wave
,·tch[i].
loİ
,…©ch[i].
echo
,…©ch[i].
ad¤
,

87 
chunk
[
cc
][
row
]+4,
·tch
[
i
].
vŞ
,

88 
·tch
[
i
].
©ck
,…©ch[i].
deÿy
,…©ch[i].
su¡aš
,·tch[i].
»Ëa£
,

89 
·tch
[
i
].
maxb’d
,…©ch[i].
b’d¿‹
,…©ch[i].
¬pmode
,…©ch[i].
ov”drive
,…©ch[i].
kick
 );

91 
¶ay”pos
++;

92 ià(
¶ay”pos
 =ğ
PATTERNLENGTH
) {

94 
¶ay”pos
 = 0;

109 
nÙ‘ick
 =0;

111 
	}
}

113 
	$upd©ePÏyback
() {

115 
ušt8_t
 
i
=0;

117 ià(
nÙ‘ick
 > 
§m¶e¥”tick
 ) {

119 ià(
Œack1Ú
è
i
 = *
sÚg
.
š¡rum’t_¡»am
[0];

120 
i
 = 0;

121 ià(
i
) {

122 
	`£tOSC
(&
osc1
,1,
·tch
[
i
].
wave
,·tch[i].
loİ
,…©ch[i].
echo
,…©ch[i].
ad¤
,

123 *
sÚg
.
nÙe_¡»am
[0],
·tch
[
i
].
vŞ
,

124 
·tch
[
i
].
©ck
,…©ch[i].
deÿy
,…©ch[i].
su¡aš
,·tch[i].
»Ëa£
,

125 
·tch
[
i
].
maxb’d
,…©ch[i].
b’d¿‹
,…©ch[i].
¬pmode
,…©ch[i].
ov”drive
,…©ch[i].
kick
 );

128 ià(
Œack2Ú
è
i
 = *
sÚg
.
š¡rum’t_¡»am
[1];

129 
i
 = 0;

130 ià(
i
) {

131 
	`£tOSC
(&
osc2
,1,
·tch
[
i
].
wave
,·tch[i].
loİ
,…©ch[i].
echo
,…©ch[i].
ad¤
,

132 *
sÚg
.
nÙe_¡»am
[1],
·tch
[
i
].
vŞ
,

133 
·tch
[
i
].
©ck
,…©ch[i].
deÿy
,…©ch[i].
su¡aš
,·tch[i].
»Ëa£
,

134 
·tch
[
i
].
maxb’d
,…©ch[i].
b’d¿‹
,…©ch[i].
¬pmode
,…©ch[i].
ov”drive
,…©ch[i].
kick
 );

137 ià(
Œack3Ú
è
i
 = *
sÚg
.
š¡rum’t_¡»am
[2];

138 
i
 = 0;

139 ià(
i
) {

140 
	`£tOSC
(&
osc3
,1,
·tch
[
i
].
wave
,·tch[i].
loİ
,…©ch[i].
echo
,…©ch[i].
ad¤
,

141 *
sÚg
.
nÙe_¡»am
[2],
·tch
[
i
].
vŞ
,

142 
·tch
[
i
].
©ck
,…©ch[i].
deÿy
,…©ch[i].
su¡aš
,·tch[i].
»Ëa£
,

143 
·tch
[
i
].
maxb’d
,…©ch[i].
b’d¿‹
,…©ch[i].
¬pmode
,…©ch[i].
ov”drive
,…©ch[i].
kick
 );

145 
¶ay”pos
++;

146 
sÚg
.
š¡rum’t_¡»am
[0]++;

147 
sÚg
.
nÙe_¡»am
[0]++;

148 
sÚg
.
š¡rum’t_¡»am
[1]++;

149 
sÚg
.
nÙe_¡»am
[1]++;

150 
sÚg
.
š¡rum’t_¡»am
[2]++;

151 
sÚg
.
nÙe_¡»am
[2]++;

152 ià(
¶ay”pos
 =ğ
PATTERNLENGTH
) {

154 
£qu’ûpos
++;

155 ià(
£qu’ûpos
 > 
sÚg
.
sÚg_’d
) {

156 ià(
sÚg
.
sÚg_loİ
 == -1) {

157 
	`em±yOscÏtÜs
();

158 
¶ayšg
 = 
çl£
;

159 
£qu’ûpos
--;

161 
£qu’ûpos
 = 
sÚg
.
sÚg_loİ
;

164 
¶ay”pos
 = 0;

165 #ifdeà
TRACKER_EXAMPLE


166 
Œack”
.
	`š™SŒ—ms
();

168 
	`š™SŒ—ms
(
£qu’ûpos
);

171 
bËReäesh
=
Œue
;

173 
nÙ‘ick
 =0;

175 
	}
}

177 
	$em±yP©ches
(){

178 
i
=0; i<16; i++) {

179 
·tch
[
i
].
vŞ
 = 127;

180 
·tch
[
i
].
Ú
 = 
Œue
;…©ch[i].
wave
 = 1;…©ch[i].
echo
 = 0;…©ch[i].
couÁ
 = 0;…©ch[i].
cšc
 =0;

181 
·tch
[
i
].
©ck
 = 0;…©ch[i].
loİ
 = 0;…©ch[i].
ad¤pha£
 = 0;…©ch[i].
ad¤
 = 0;…©ch[i].
deÿy
 = 20;

182 
·tch
[
i
].
p™chb’d
 = 0;…©ch[i].
b’d¿‹
 = 0;…©ch[i].
maxb’d
 = 0;…©ch[i].
su¡aš
 = 0;…©ch[i].
»Ëa£
 = 0,…©ch[i].
ov”drive
 = 0,…©ch[i].
kick
 = 0;

184 
	}
}

186 
	$em±yBlocks
(){

187 
i
=0; i<
MAXBLOCKS
; i++) {

188 
j
 = 0; j < 
PATTERNLENGTH
; j++) {

189 
block
[
i
].
š¡rum’t
[
j
] = 0;

190 
block
[
i
].
nÙ’umb”
[
j
] = 255;

193 
	}
}

195 
	$š™SŒ—ms
(
ušt8_t
 
£qpos
){

196 
ušt8_t
 
blocknum
;

199 
blocknum
=
sÚg
.
block_£qu’û
[0][
£qpos
];

201 
sÚg
.
š¡rum’t_¡»am
[0]=&
block
[
blocknum
].
š¡rum’t
[0];

202 
sÚg
.
nÙe_¡»am
[0]=&
block
[
blocknum
].
nÙ’umb”
[0];

204 
blocknum
=
sÚg
.
block_£qu’û
[1][
£qpos
];

205 
sÚg
.
š¡rum’t_¡»am
[1]=&
block
[
blocknum
].
š¡rum’t
[0];

206 
sÚg
.
nÙe_¡»am
[1]=&
block
[
blocknum
].
nÙ’umb”
[0];

208 
blocknum
=
sÚg
.
block_£qu’û
[2][
£qpos
];

209 
sÚg
.
š¡rum’t_¡»am
[2]=&
block
[
blocknum
].
š¡rum’t
[0];

210 
sÚg
.
nÙe_¡»am
[2]=&
block
[
blocknum
].
nÙ’umb”
[0];

211 
	}
}

213 
	$em±ySÚg
(){

214 
sÚg
.
num_chªÃls
 = 3;

215 
sÚg
.
num_·tches
 = 1;

216 
sÚg
.
sÚg_bpm
 = 120;

217 
sÚg
.
num_·‰”ns
 = 1;

218 
sÚg
.
sÚg_’d
 = 0;

219 
sÚg
.
sÚg_loİ
 = 0;

220 
sÚg
.
rb_v”siÚ
 = 
RBTRACKER_VERSION
;

221 
ušt8_t
 
i
 = 0; i<10; i++) {

222 
sÚg
.
block_£qu’û
[0][
i
]=i*3;

223 
sÚg
.
block_£qu’û
[1][
i
]=i*3+1;

224 
sÚg
.
block_£qu’û
[2][
i
]=i*3+2;

226 
sÚg
.
š¡rum’t_¡»am
[0] = &
block
[0].
š¡rum’t
[0];

227 
sÚg
.
nÙe_¡»am
[0] = &
block
[0].
nÙ’umb”
[0];

228 
sÚg
.
š¡rum’t_¡»am
[1] = &
block
[1].
š¡rum’t
[0];

229 
sÚg
.
nÙe_¡»am
[1] = &
block
[1].
nÙ’umb”
[0];

230 
sÚg
.
š¡rum’t_¡»am
[2] = &
block
[2].
š¡rum’t
[0];

231 
sÚg
.
nÙe_¡»am
[2] = &
block
[2].
nÙ’umb”
[0];

232 
£qu’ûpos
 = 0;

233 
	}
}

235 
	$İ’SÚgFromSD
(* 
bufãr
) {

236 ià(!
	`isThisFeO³n
(
bufãr
)) {

237 
	`feClo£
();

238 
	`feO³n
(
bufãr
,
FILE_MODE_OVERWRITE
 | 
FILE_MODE_BINARY
);

240  
	`isThisFeO³n
(
bufãr
);

241 
	}
}

243 
	$wr™eChunkToSD
(
ušt8_t
* 
bufãr
) {

244 ià(
	`feOK
()) {

245 
	`feWr™eBy‹s
(
bufãr
, 
CHUNKSIZE
);

247 
	}
}

249 
	$»adChunkFromSD
(
ušt8_t
* 
bufãr
) {

250 ià(
	`feOK
()) {

251 
	`feR—dBy‹s
(
bufãr
, 
CHUNKSIZE
);

253 
	}
}

255 
	$»gi¡”SŒ—msC®lback
(
¡»amsFunùiÚ
 
±r
) {

256 
¡»amC®lbackPŒ
 = 
±r
;

257 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth_wavefuncs.cpp

37 
	~"SyÁh.h
"

39 
ušt16_t
 
	gnoi£v®
, 
	gnoi£v®2
;

41 
waveoff
(
OSC
* 
o
); 
sqwave
(OSC* o); 
§wwave
(OSC* o); 
Œiwave
(OSC* o); 
noi£
(OSC* o); 
tÚ’oi£
(OSC* o); 
§m¶e
(OSC* o);

42 
noADSR
(
OSC
* 
o
); 
©ckFunc
(OSC* o); 
deÿyFunc
(OSC* o); 
»Ëa£Func
(OSC* o);

43 
mix1
(); 
mix2
(); 
mix3
(); 
upd©eEnv–İes
();

45 
waveFunùiÚ
 
	gF¬r
 [] = {
waveoff
, 
sqwave
, 
§wwave
, 
Œiwave
, 
noi£
, 
tÚ’oi£
};

46 
’vFunùiÚ
 
	gE¬r
 [] = {
noADSR
, 
©ckFunc
, 
deÿyFunc
, 
»Ëa£Func
};

47 
mixFunùiÚ
 
	gM¬r
 [] = {
upd©eEnv–İes
,
mix3
,
mix2
,
mix1
};

48 
mixFunùiÚ
 
	gHWM¬r
 [] = {
upd©eEnv–İes
,
mix3
,
mix2
,
mix1
};

52 
	$waveoff
(
OSC
* 
o
){

53 
o
->
ouut
 = 0;

54 
	}
}

56 
	$sqwave
(
OSC
* 
o
){

58 ià(
o
->
couÁ
 & 0x80000000èo->
ouut
 = 0;

60 
o
->
ouut
 = 0xFFFF;

61 
	}
}

63 
	$§wwave
(
OSC
* 
o
){

65 
o
->
ouut
 = (o->
couÁ
 >>15);

66 
	}
}

68 
	$Œiwave
(
OSC
* 
o
){

70 ià(
o
->
couÁ
 & 0x80000000èo->
ouut
 = (~o->count) >>15;

71 
o
->
ouut
 = o->
couÁ
 >>15;

72 
	}
}

74 
	$noi£
(
OSC
* 
o
){

79 ià(
o
->
couÁ
 > 0x80000000) {

80 
o
->
ouut
 = 
noi£v®2
;

82 
noi£v®
 = 
	`xÜshiá16
();

86 
o
->
ouut
 = 
noi£v®
;

88 
noi£v®2
 = 
	`xÜshiá16
();

91 
	}
}

93 
	$tÚ’oi£
(
OSC
* 
o
){

95 ià(
o
->
couÁ
 & 0x80000000èo->
ouut
 = (
	`xÜshiá16
()>>6);

96 
o
->
ouut
 = (
	`xÜshiá16
()>>1) + 0x4000;

97 
	}
}

99 
	$§m¶e
(
OSC
* 
o
) {

108 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBDescriptor.h

20 
	#DEVICE_DESCRIPTOR
 (1)

	)

21 
	#CONFIGURATION_DESCRIPTOR
 (2)

	)

22 
	#STRING_DESCRIPTOR
 (3)

	)

23 
	#INTERFACE_DESCRIPTOR
 (4)

	)

24 
	#ENDPOINT_DESCRIPTOR
 (5)

	)

25 
	#QUALIFIER_DESCRIPTOR
 (6)

	)

28 
	#DEVICE_DESCRIPTOR_LENGTH
 (0x12)

	)

29 
	#CONFIGURATION_DESCRIPTOR_LENGTH
 (0x09)

	)

30 
	#INTERFACE_DESCRIPTOR_LENGTH
 (0x09)

	)

31 
	#ENDPOINT_DESCRIPTOR_LENGTH
 (0x07)

	)

35 
	#STRING_OFFSET_LANGID
 (0)

	)

36 
	#STRING_OFFSET_IMANUFACTURER
 (1)

	)

37 
	#STRING_OFFSET_IPRODUCT
 (2)

	)

38 
	#STRING_OFFSET_ISERIAL
 (3)

	)

39 
	#STRING_OFFSET_ICONFIGURATION
 (4)

	)

40 
	#STRING_OFFSET_IINTERFACE
 (5)

	)

43 
	#USB_VERSION_2_0
 (0x0200)

	)

46 
	#LSB
(
n
è(Ò)&0xff)

	)

47 
	#MSB
(
n
è((Ò)&0xff00)>>8)

	)

50 
	#PHY_TO_DESC
(
’dpošt
è((Óndpošt)>>1è| ((Óndpoštè& 1è? 0x80:0))

	)

54 
	#C_RESERVED
 (1U<<7)

	)

55 
	#C_SELF_POWERED
 (1U<<6)

	)

56 
	#C_REMOTE_WAKEUP
 (1U<<5)

	)

59 
	#C_POWER
(
mA
è((mA)/2)

	)

62 
	#E_CONTROL
 (0x00)

	)

63 
	#E_ISOCHRONOUS
 (0x01)

	)

64 
	#E_BULK
 (0x02)

	)

65 
	#E_INTERRUPT
 (0x03)

	)

68 
	#E_NO_SYNCHRONIZATION
 (0x00)

	)

69 
	#E_ASYNCHRONOUS
 (0x04)

	)

70 
	#E_ADAPTIVE
 (0x08)

	)

71 
	#E_SYNCHRONOUS
 (0x0C)

	)

72 
	#E_DATA
 (0x00)

	)

73 
	#E_FEEDBACK
 (0x10)

	)

74 
	#E_IMPLICIT_FEEDBACK
 (0x20)

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBDevice.cpp

19 
	~"¡dšt.h
"

21 
	~"USBEndpošts.h
"

22 
	~"USBDeviû.h
"

23 
	~"USBDesütÜ.h
"

28 
	#DEVICE_STATUS_SELF_POWERED
 (1U<<0)

	)

29 
	#DEVICE_STATUS_REMOTE_WAKEUP
 (1U<<1)

	)

32 
	#ENDPOINT_STATUS_HALT
 (1U<<0)

	)

35 
	#DEVICE_REMOTE_WAKEUP
 (1)

	)

36 
	#ENDPOINT_HALT
 (0)

	)

39 
	#WINDEX_TO_PHYSICAL
(
’dpošt
) (((endpoint & 0x0f) << 1) + \

40 ((
’dpošt
 & 0x80è? 1 : 0))

	)

43 
boŞ
 
	gUSBDeviû
::
	$»que¡G‘DesütÜ
()

45 
boŞ
 
sucûss
 = 
çl£
;

46 #ifdeà
DEBUG


47 
	`´štf
("g‘ desü:y³: %d\r\n", 
	`DESCRIPTOR_TYPE
(
Œªsãr
.
£tup
.
wV®ue
));

49 
	`DESCRIPTOR_TYPE
(
Œªsãr
.
£tup
.
wV®ue
))

51 
DEVICE_DESCRIPTOR
:

52 ià(
	`deviûDesc
(è!ğ
NULL
)

54 ià((
	`deviûDesc
()[0] =ğ
DEVICE_DESCRIPTOR_LENGTH
) \

55 && (
	`deviûDesc
()[1] =ğ
DEVICE_DESCRIPTOR
))

57 #ifdeà
DEBUG


58 
	`´štf
("device descr\r\n");

60 
Œªsãr
.
»maššg
 = 
DEVICE_DESCRIPTOR_LENGTH
;

61 
Œªsãr
.
±r
 = 
	`deviûDesc
();

62 
Œªsãr
.
dœeùiÚ
 = 
DEVICE_TO_HOST
;

63 
sucûss
 = 
Œue
;

67 
CONFIGURATION_DESCRIPTOR
:

68 ià(
	`cÚfigu¿tiÚDesc
(è!ğ
NULL
)

70 ià((
	`cÚfigu¿tiÚDesc
()[0] =ğ
CONFIGURATION_DESCRIPTOR_LENGTH
) \

71 && (
	`cÚfigu¿tiÚDesc
()[1] =ğ
CONFIGURATION_DESCRIPTOR
))

73 #ifdeà
DEBUG


74 
	`´štf
("conf descr„equest\r\n");

77 
Œªsãr
.
»maššg
 = 
	`cÚfigu¿tiÚDesc
()[2] \

78 | (
	`cÚfigu¿tiÚDesc
()[3] << 8);

80 
Œªsãr
.
±r
 = 
	`cÚfigu¿tiÚDesc
();

81 
Œªsãr
.
dœeùiÚ
 = 
DEVICE_TO_HOST
;

82 
sucûss
 = 
Œue
;

86 
STRING_DESCRIPTOR
:

87 #ifdeà
DEBUG


88 
	`´štf
("str descriptor\r\n");

90 
	`DESCRIPTOR_INDEX
(
Œªsãr
.
£tup
.
wV®ue
))

92 
STRING_OFFSET_LANGID
:

93 #ifdeà
DEBUG


94 
	`´štf
("1\r\n");

96 
Œªsãr
.
»maššg
 = 
	`¡ršgLªgidDesc
()[0];

97 
Œªsãr
.
±r
 = 
	`¡ršgLªgidDesc
();

98 
Œªsãr
.
dœeùiÚ
 = 
DEVICE_TO_HOST
;

99 
sucûss
 = 
Œue
;

101 
STRING_OFFSET_IMANUFACTURER
:

102 #ifdeà
DEBUG


103 
	`´štf
("2\r\n");

105 
Œªsãr
.
»maššg
 = 
	`¡ršgImªuçùu»rDesc
()[0];

106 
Œªsãr
.
±r
 = 
	`¡ršgImªuçùu»rDesc
();

107 
Œªsãr
.
dœeùiÚ
 = 
DEVICE_TO_HOST
;

108 
sucûss
 = 
Œue
;

110 
STRING_OFFSET_IPRODUCT
:

111 #ifdeà
DEBUG


112 
	`´štf
("3\r\n");

114 
Œªsãr
.
»maššg
 = 
	`¡ršgI´oduùDesc
()[0];

115 
Œªsãr
.
±r
 = 
	`¡ršgI´oduùDesc
();

116 
Œªsãr
.
dœeùiÚ
 = 
DEVICE_TO_HOST
;

117 
sucûss
 = 
Œue
;

119 
STRING_OFFSET_ISERIAL
:

120 #ifdeà
DEBUG


121 
	`´štf
("4\r\n");

123 
Œªsãr
.
»maššg
 = 
	`¡ršgI£rŸlDesc
()[0];

124 
Œªsãr
.
±r
 = 
	`¡ršgI£rŸlDesc
();

125 
Œªsãr
.
dœeùiÚ
 = 
DEVICE_TO_HOST
;

126 
sucûss
 = 
Œue
;

128 
STRING_OFFSET_ICONFIGURATION
:

129 #ifdeà
DEBUG


130 
	`´štf
("5\r\n");

132 
Œªsãr
.
»maššg
 = 
	`¡ršgICÚfigu¿tiÚDesc
()[0];

133 
Œªsãr
.
±r
 = 
	`¡ršgICÚfigu¿tiÚDesc
();

134 
Œªsãr
.
dœeùiÚ
 = 
DEVICE_TO_HOST
;

135 
sucûss
 = 
Œue
;

137 
STRING_OFFSET_IINTERFACE
:

138 #ifdeà
DEBUG


139 
	`´štf
("6\r\n");

141 
Œªsãr
.
»maššg
 = 
	`¡ršgIš‹rçûDesc
()[0];

142 
Œªsãr
.
±r
 = 
	`¡ršgIš‹rçûDesc
();

143 
Œªsãr
.
dœeùiÚ
 = 
DEVICE_TO_HOST
;

144 
sucûss
 = 
Œue
;

148 
INTERFACE_DESCRIPTOR
:

149 #ifdeà
DEBUG


150 
	`´štf
("interface descr\r\n");

152 
ENDPOINT_DESCRIPTOR
:

153 #ifdeà
DEBUG


154 
	`´štf
("endpoint descr\r\n");

159 #ifdeà
DEBUG


160 
	`´štf
("ERROR\r\n");

165  
sucûss
;

166 
	}
}

168 
	gUSBDeviû
::
	$decodeS‘upPack‘
(
ušt8_t
 *
d©a
, 
SETUP_PACKET
 *
·ck‘
)

171 
·ck‘
->
bmReque¡Ty³
.
d©aT¿nsãrDœeùiÚ
 = (
d©a
[0] & 0x80) >> 7;

172 
·ck‘
->
bmReque¡Ty³
.
Ty³
 = (
d©a
[0] & 0x60) >> 5;

173 
·ck‘
->
bmReque¡Ty³
.
Rec›Á
 = 
d©a
[0] & 0x1f;

174 
·ck‘
->
bReque¡
 = 
d©a
[1];

175 
·ck‘
->
wV®ue
 = (
d©a
[2] | (
ušt16_t
)data[3] << 8);

176 
·ck‘
->
wIndex
 = (
d©a
[4] | (
ušt16_t
)data[5] << 8);

177 
·ck‘
->
wL’gth
 = (
d©a
[6] | (
ušt16_t
)data[7] << 8);

178 
	}
}

181 
boŞ
 
	gUSBDeviû
::
	$cÚŒŞOut
()

184 
ušt8_t
 
bufãr
[
MAX_PACKET_SIZE_EP0
];

185 
ušt32_t
 
·ck‘Size
;

188 ià(
Œªsãr
.
dœeùiÚ
 !ğ
HOST_TO_DEVICE
)

190 #ià
	`defšed
(
TARGET_KL25Z
è| defšed(
TARGET_KL43Z
è| defšed(
TARGET_KL46Z
è| defšed(
TARGET_K20D5M
è| defšed(
TARGET_K64F
è| defšed(
TARGET_K22F
è| defšed(
TARGET_TEENSY3_1
)

199 
ušt8_t
 
buf
[1] = { 0 };

200 
	`EP0wr™e
(
buf
, 0);

203 
	`cÚŒŞIn
();

206  
Œue
;

209  
çl£
;

214 
·ck‘Size
 = 
	`EP0g‘R—dResuÉ
(
bufãr
);

217 ià(
·ck‘Size
 > 
Œªsãr
.
»maššg
)

220  
çl£
;

224 
Œªsãr
.
±r
 +ğ
·ck‘Size
;

225 
Œªsãr
.
»maššg
 -ğ
·ck‘Size
;

228 ià(
Œªsãr
.
»maššg
 == 0)

231 ià(
Œªsãr
.
nÙify
)

234 
	`USBC®lback_»que¡Com¶‘ed
(
bufãr
, 
·ck‘Size
);

235 
Œªsãr
.
nÙify
 = 
çl£
;

238 
	`EP0wr™e
(
NULL
, 0);

242 
	`EP0»ad
();

245  
Œue
;

246 
	}
}

248 
boŞ
 
	gUSBDeviû
::
	$cÚŒŞIn
()

251 
ušt32_t
 
·ck‘Size
;

255 ià(
Œªsãr
.
»maššg
 == 0)

257 ià(
Œªsãr
.
zÍ
)

260 
	`EP0wr™e
(
NULL
, 0);

261 
Œªsãr
.
zÍ
 = 
çl£
;

265 ià(
Œªsãr
.
nÙify
)

268 
	`USBC®lback_»que¡Com¶‘ed
(
NULL
, 0);

269 
Œªsãr
.
nÙify
 = 
çl£
;

272 
	`EP0»ad
();

273 
	`EP0»adSge
();

276  
Œue
;

280 ià(
Œªsãr
.
dœeùiÚ
 !ğ
DEVICE_TO_HOST
)

282  
çl£
;

285 
·ck‘Size
 = 
Œªsãr
.
»maššg
;

287 ià(
·ck‘Size
 > 
MAX_PACKET_SIZE_EP0
)

289 
·ck‘Size
 = 
MAX_PACKET_SIZE_EP0
;

293 
	`EP0wr™e
(
Œªsãr
.
±r
, 
·ck‘Size
);

296 
Œªsãr
.
±r
 +ğ
·ck‘Size
;

297 
Œªsãr
.
»maššg
 -ğ
·ck‘Size
;

299  
Œue
;

300 
	}
}

302 
boŞ
 
	gUSBDeviû
::
	$»que¡S‘Add»ss
()

305 
	`£tAdd»ss
(
Œªsãr
.
£tup
.
wV®ue
);

307 ià(
Œªsãr
.
£tup
.
wV®ue
 == 0)

309 
deviû
.
¡©e
 = 
DEFAULT
;

313 
deviû
.
¡©e
 = 
ADDRESS
;

316  
Œue
;

317 
	}
}

319 
boŞ
 
	gUSBDeviû
::
	$»que¡S‘CÚfigu¿tiÚ
()

322 
deviû
.
cÚfigu¿tiÚ
 = 
Œªsãr
.
£tup
.
wV®ue
;

324 ià(
deviû
.
cÚfigu¿tiÚ
 == 0)

327 
	`uncÚfigu»Deviû
();

328 
deviû
.
¡©e
 = 
ADDRESS
;

332 ià(
	`USBC®lback_£tCÚfigu¿tiÚ
(
deviû
.
cÚfigu¿tiÚ
))

335 
	`cÚfigu»Deviû
();

336 
deviû
.
¡©e
 = 
CONFIGURED
;

340  
çl£
;

344  
Œue
;

345 
	}
}

347 
boŞ
 
	gUSBDeviû
::
	$»que¡G‘CÚfigu¿tiÚ
()

350 
Œªsãr
.
±r
 = &
deviû
.
cÚfigu¿tiÚ
;

351 
Œªsãr
.
»maššg
 = (
deviû
.
cÚfigu¿tiÚ
);

352 
Œªsãr
.
dœeùiÚ
 = 
DEVICE_TO_HOST
;

353  
Œue
;

354 
	}
}

356 
boŞ
 
	gUSBDeviû
::
	$»que¡G‘IÁ”çû
()

360 ià(
deviû
.
¡©e
 !ğ
CONFIGURED
)

362  
çl£
;

366 
Œªsãr
.
£tup
.
wIndex
 = 
cu¼’tIÁ”çû
;

367 
Œªsãr
.
±r
 = &
cu¼’tAÉ”Ç‹
;

368 
Œªsãr
.
»maššg
 = (
cu¼’tAÉ”Ç‹
);

369 
Œªsãr
.
dœeùiÚ
 = 
DEVICE_TO_HOST
;

370  
Œue
;

371 
	}
}

373 
boŞ
 
	gUSBDeviû
::
	$»que¡S‘IÁ”çû
()

375 
boŞ
 
sucûss
 = 
çl£
;

376 if(
	`USBC®lback_£tIÁ”çû
(
Œªsãr
.
£tup
.
wIndex
,¿nsãr.£tup.
wV®ue
))

378 
sucûss
 = 
Œue
;

379 
cu¼’tIÁ”çû
 = 
Œªsãr
.
£tup
.
wIndex
;

380 
cu¼’tAÉ”Ç‹
 = 
Œªsãr
.
£tup
.
wV®ue
;

382  
sucûss
;

383 
	}
}

385 
boŞ
 
	gUSBDeviû
::
	$»que¡S‘F—tu»
()

387 
boŞ
 
sucûss
 = 
çl£
;

389 ià(
deviû
.
¡©e
 !ğ
CONFIGURED
)

392 ià(
Œªsãr
.
£tup
.
wIndex
 != 0)

394  
çl£
;

398 
Œªsãr
.
£tup
.
bmReque¡Ty³
.
Rec›Á
)

400 
DEVICE_RECIPIENT
:

403 
ENDPOINT_RECIPIENT
:

404 ià(
Œªsãr
.
£tup
.
wV®ue
 =ğ
ENDPOINT_HALT
)

407 
	`¡®lEndpošt
(

408 
	`WINDEX_TO_PHYSICAL
(
Œªsãr
.
£tup
.
wIndex
));

409 
sucûss
 = 
Œue
;

416  
sucûss
;

417 
	}
}

419 
boŞ
 
	gUSBDeviû
::
	$»que¡CË¬F—tu»
()

421 
boŞ
 
sucûss
 = 
çl£
;

423 ià(
deviû
.
¡©e
 !ğ
CONFIGURED
)

426 ià(
Œªsãr
.
£tup
.
wIndex
 != 0)

428  
çl£
;

432 
Œªsãr
.
£tup
.
bmReque¡Ty³
.
Rec›Á
)

434 
DEVICE_RECIPIENT
:

437 
ENDPOINT_RECIPIENT
:

439 ià(
Œªsãr
.
£tup
.
wV®ue
 =ğ
ENDPOINT_HALT
)

441 
	`un¡®lEndpošt
Ğ
	`WINDEX_TO_PHYSICAL
(
Œªsãr
.
£tup
.
wIndex
));

442 
sucûss
 = 
Œue
;

449  
sucûss
;

450 
	}
}

452 
boŞ
 
	gUSBDeviû
::
	$»que¡G‘Stus
()

454 
ušt16_t
 
¡©us
;

455 
boŞ
 
sucûss
 = 
çl£
;

457 ià(
deviû
.
¡©e
 !ğ
CONFIGURED
)

460 ià(
Œªsãr
.
£tup
.
wIndex
 != 0)

462  
çl£
;

466 
Œªsãr
.
£tup
.
bmReque¡Ty³
.
Rec›Á
)

468 
DEVICE_RECIPIENT
:

470 
¡©us
 = 
DEVICE_STATUS_SELF_POWERED
;

471 
sucûss
 = 
Œue
;

473 
INTERFACE_RECIPIENT
:

474 
¡©us
 = 0;

475 
sucûss
 = 
Œue
;

477 
ENDPOINT_RECIPIENT
:

479 ià(
	`g‘EndpoštSÎS‹
(

480 
	`WINDEX_TO_PHYSICAL
(
Œªsãr
.
£tup
.
wIndex
)))

482 
¡©us
 = 
ENDPOINT_STATUS_HALT
;

486 
¡©us
 = 0;

488 
sucûss
 = 
Œue
;

494 ià(
sucûss
)

497 
Œªsãr
.
±r
 = (
ušt8_t
 *)&
¡©us
;

498 
Œªsãr
.
»maššg
 = (
¡©us
);

499 
Œªsãr
.
dœeùiÚ
 = 
DEVICE_TO_HOST
;

502  
sucûss
;

503 
	}
}

505 
boŞ
 
	gUSBDeviû
::
	$»que¡S‘up
()

507 
boŞ
 
sucûss
 = 
çl£
;

510 ià((
Œªsãr
.
£tup
.
bmReque¡Ty³
.
Ty³
 =ğ
STANDARD_TYPE
))

512 
Œªsãr
.
£tup
.
bReque¡
)

514 
GET_STATUS
:

515 
sucûss
 = 
	`»que¡G‘Stus
();

517 
CLEAR_FEATURE
:

518 
sucûss
 = 
	`»que¡CË¬F—tu»
();

520 
SET_FEATURE
:

521 
sucûss
 = 
	`»que¡S‘F—tu»
();

523 
SET_ADDRESS
:

524 
sucûss
 = 
	`»que¡S‘Add»ss
();

526 
GET_DESCRIPTOR
:

527 
sucûss
 = 
	`»que¡G‘DesütÜ
();

529 
SET_DESCRIPTOR
:

531 
sucûss
 = 
çl£
;

533 
GET_CONFIGURATION
:

534 
sucûss
 = 
	`»que¡G‘CÚfigu¿tiÚ
();

536 
SET_CONFIGURATION
:

537 
sucûss
 = 
	`»que¡S‘CÚfigu¿tiÚ
();

539 
GET_INTERFACE
:

540 
sucûss
 = 
	`»que¡G‘IÁ”çû
();

542 
SET_INTERFACE
:

543 
sucûss
 = 
	`»que¡S‘IÁ”çû
();

550  
sucûss
;

551 
	}
}

553 
boŞ
 
	gUSBDeviû
::
	$cÚŒŞS‘up
()

555 
boŞ
 
sucûss
 = 
çl£
;

558 
ušt8_t
 
bufãr
[
MAX_PACKET_SIZE_EP0
];

560 
	`EP0£tup
(
bufãr
);

563 
	`decodeS‘upPack‘
(
bufãr
, &
Œªsãr
.
£tup
);

564 
Œªsãr
.
±r
 = 
NULL
;

565 
Œªsãr
.
»maššg
 = 0;

566 
Œªsãr
.
dœeùiÚ
 = 0;

567 
Œªsãr
.
zÍ
 = 
çl£
;

568 
Œªsãr
.
nÙify
 = 
çl£
;

570 #ifdeà
DEBUG


571 
	`´štf
("d©aT¿nsãrDœeùiÚ: %d\r\nTy³: %d\r\nRec›Á: %d\r\nbReque¡: %d\r\nwV®ue: %d\r\nwIndex: %d\r\nwL’gth: %d\r\n",
Œªsãr
.
£tup
.
bmReque¡Ty³
.
d©aT¿nsãrDœeùiÚ
,

572 
Œªsãr
.
£tup
.
bmReque¡Ty³
.
Ty³
,

573 
Œªsãr
.
£tup
.
bmReque¡Ty³
.
Rec›Á
,

574 
Œªsãr
.
£tup
.
bReque¡
,

575 
Œªsãr
.
£tup
.
wV®ue
,

576 
Œªsãr
.
£tup
.
wIndex
,

577 
Œªsãr
.
£tup
.
wL’gth
);

581 
sucûss
 = 
	`USBC®lback_»que¡
();

583 ià(!
sucûss
)

586 ià(!
	`»que¡S‘up
())

588 #ifdeà
DEBUG


589 
	`´štf
("fail!!!!\r\n");

591  
çl£
;

596 ià(
Œªsãr
.
£tup
.
wL’gth
>0)

598 ià(
Œªsãr
.
£tup
.
bmReque¡Ty³
.
d©aT¿nsãrDœeùiÚ
 \

599 =ğ
DEVICE_TO_HOST
)

602 ià(
Œªsãr
.
dœeùiÚ
 !ğ
DEVICE_TO_HOST
)

604  
çl£
;

609 ià(
Œªsãr
.
»maššg
 >¿nsãr.
£tup
.
wL’gth
)

611 
Œªsãr
.
»maššg
 =¿nsãr.
£tup
.
wL’gth
;

618 ià(
Œªsãr
.
dœeùiÚ
 !ğ
HOST_TO_DEVICE
)

620  
çl£
;

624 ià(
Œªsãr
.
»maššg
 !ğŒªsãr.
£tup
.
wL’gth
)

626  
çl£
;

633 ià(
Œªsãr
.
»maššg
 != 0)

635  
çl£
;

640 ià(
Œªsãr
.
£tup
.
wL’gth
>0)

642 ià(
Œªsãr
.
£tup
.
bmReque¡Ty³
.
d©aT¿nsãrDœeùiÚ
 \

643 =ğ
DEVICE_TO_HOST
)

647 ià(
Œªsãr
.
£tup
.
wL’gth
 >¿nsãr.
»maššg
)

650 ià((
Œªsãr
.
»maššg
 % 
MAX_PACKET_SIZE_EP0
) == 0)

653 
Œªsãr
.
zÍ
 = 
Œue
;

658 
	`cÚŒŞIn
();

663 
	`EP0»ad
();

669 
	`EP0wr™e
(
NULL
, 0);

672  
Œue
;

673 
	}
}

675 
	gUSBDeviû
::
	$busRe£t
()

677 
deviû
.
¡©e
 = 
DEFAULT
;

678 
deviû
.
cÚfigu¿tiÚ
 = 0;

679 
deviû
.
su¥’ded
 = 
çl£
;

682 
	`USBC®lback_busRe£t
();

683 
	}
}

685 
	gUSBDeviû
::
	$EP0£tupC®lback
()

688 ià(!
	`cÚŒŞS‘up
())

691 
	`EP0¡®l
();

695 
	}
}

697 
	gUSBDeviû
::
	$EP0out
()

700 ià(!
	`cÚŒŞOut
())

703 
	`EP0¡®l
();

705 
	}
}

707 
	gUSBDeviû
::
	$EP0š
()

709 #ifdeà
DEBUG


710 
	`´štf
("EP0IN\r\n");

713 ià(!
	`cÚŒŞIn
())

716 
	`EP0¡®l
();

718 
	}
}

720 
boŞ
 
	gUSBDeviû
::
	$cÚfigu»d
()

723  (
deviû
.
¡©e
 =ğ
CONFIGURED
);

724 
	}
}

726 
	gUSBDeviû
::
	$cÚÃù
(
boŞ
 
blockšg
)

729 
USBHAL
::
	`cÚÃù
();

731 ià(
blockšg
) {

733 !
	`cÚfigu»d
());

735 
	}
}

737 
	gUSBDeviû
::
	$discÚÃù
()

740 
USBHAL
::
	`discÚÃù
();

743 
deviû
.
¡©e
 = 
POWERED
;

744 
deviû
.
cÚfigu¿tiÚ
 = 0;

745 
deviû
.
su¥’ded
 = 
çl£
;

746 
	}
}

748 
CONTROL_TRANSFER
 * 
	gUSBDeviû
::
	$g‘T¿nsãrPŒ
()

750  &
Œªsãr
;

751 
	}
}

753 
boŞ
 
	gUSBDeviû
::
	$addEndpošt
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maxPack‘
)

755  
	`»®i£Endpošt
(
’dpošt
, 
maxPack‘
, 0);

756 
	}
}

758 
boŞ
 
	gUSBDeviû
::
	$addR©eF“dbackEndpošt
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maxPack‘
)

761  
	`»®i£Endpošt
(
’dpošt
, 
maxPack‘
, 
RATE_FEEDBACK_MODE
);

762 
	}
}

764 
ušt8_t
 * 
	gUSBDeviû
::
	$fšdDesütÜ
(
ušt8_t
 
desütÜTy³
)

768 
ušt16_t
 
wTÙ®L’gth
;

769 
ušt8_t
 *
±r
;

771 ià(
	`cÚfigu¿tiÚDesc
(è=ğ
NULL
)

773  
NULL
;

777 ià((
	`cÚfigu¿tiÚDesc
()[0] !ğ
CONFIGURATION_DESCRIPTOR_LENGTH
) \

778 || (
	`cÚfigu¿tiÚDesc
()[1] !ğ
CONFIGURATION_DESCRIPTOR
))

780  
NULL
;

783 
wTÙ®L’gth
 = 
	`cÚfigu¿tiÚDesc
()[2] | (configurationDesc()[3] << 8);

786 ià(
wTÙ®L’gth
 <ğ(
CONFIGURATION_DESCRIPTOR_LENGTH
+2))

789  
NULL
;

793 
±r
 = &(
	`cÚfigu¿tiÚDesc
()[
CONFIGURATION_DESCRIPTOR_LENGTH
]);

796 ià(
±r
[1] =ğ
desütÜTy³
)

799  
±r
;

803 
±r
 +=…tr[0];

804 } 
±r
 < (
	`cÚfigu¿tiÚDesc
(è+ 
wTÙ®L’gth
));

807  
NULL
;

808 
	}
}

811 
	gUSBDeviû
::
	$cÚÃùS‹Chªged
(
cÚÃùed
)

813 
	}
}

815 
USBDeviû
::
	$su¥’dS‹Chªged
(
su¥’ded
)

817 
	}
}

820 
USBDeviû
::
	$USBDeviû
(
ušt16_t
 
v’dÜ_id
, ušt16_ˆ
´oduù_id
, ušt16_ˆ
´oduù_»Ëa£
){

821 
VENDOR_ID
 = 
v’dÜ_id
;

822 
PRODUCT_ID
 = 
´oduù_id
;

823 
PRODUCT_RELEASE
 = 
´oduù_»Ëa£
;

826 
deviû
.
¡©e
 = 
POWERED
;

827 
deviû
.
cÚfigu¿tiÚ
 = 0;

828 
deviû
.
su¥’ded
 = 
çl£
;

829 
	}
};

832 
boŞ
 
	gUSBDeviû
::
	$»adS¹
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maxSize
)

834  
	`’dpoštR—d
(
’dpošt
, 
maxSize
è=ğ
EP_PENDING
;

835 
	}
}

838 
boŞ
 
	gUSBDeviû
::
	$wr™e
(
ušt8_t
 
’dpošt
, ušt8_ˆ* 
bufãr
, 
ušt32_t
 
size
, ušt32_ˆ
maxSize
)

840 
EP_STATUS
 
»suÉ
;

842 ià(
size
 > 
maxSize
)

844  
çl£
;

848 if(!
	`cÚfigu»d
()) {

849  
çl£
;

853 
»suÉ
 = 
	`’dpoštWr™e
(
’dpošt
, 
bufãr
, 
size
);

855 ià(
»suÉ
 !ğ
EP_PENDING
)

857  
çl£
;

862 
»suÉ
 = 
	`’dpoštWr™eResuÉ
(
’dpošt
);

863 } (
»suÉ
 =ğ
EP_PENDING
è&& 
	`cÚfigu»d
());

865  (
»suÉ
 =ğ
EP_COMPLETED
);

866 
	}
}

869 
boŞ
 
	gUSBDeviû
::
	$wr™eNB
(
ušt8_t
 
’dpošt
, ušt8_ˆ* 
bufãr
, 
ušt32_t
 
size
, ušt32_ˆ
maxSize
)

871 
EP_STATUS
 
»suÉ
;

873 ià(
size
 > 
maxSize
)

875  
çl£
;

878 if(!
	`cÚfigu»d
()) {

879  
çl£
;

883 
»suÉ
 = 
	`’dpoštWr™e
(
’dpošt
, 
bufãr
, 
size
);

885 ià(
»suÉ
 !ğ
EP_PENDING
)

887  
çl£
;

890 
»suÉ
 = 
	`’dpoštWr™eResuÉ
(
’dpošt
);

892  (
»suÉ
 =ğ
EP_COMPLETED
);

893 
	}
}

897 
boŞ
 
	gUSBDeviû
::
	$»adEP
(
ušt8_t
 
’dpošt
, ušt8_ˆ* 
bufãr
, 
ušt32_t
 * 
size
, ušt32_ˆ
maxSize
)

899 
EP_STATUS
 
»suÉ
;

901 if(!
	`cÚfigu»d
()) {

902  
çl£
;

907 
»suÉ
 = 
	`’dpoštR—dResuÉ
(
’dpošt
, 
bufãr
, 
size
);

908 } (
»suÉ
 =ğ
EP_PENDING
è&& 
	`cÚfigu»d
());

910  (
»suÉ
 =ğ
EP_COMPLETED
);

911 
	}
}

914 
boŞ
 
	gUSBDeviû
::
	$»adEP_NB
(
ušt8_t
 
’dpošt
, ušt8_ˆ* 
bufãr
, 
ušt32_t
 * 
size
, ušt32_ˆ
maxSize
)

916 
EP_STATUS
 
»suÉ
;

918 if(!
	`cÚfigu»d
()) {

919  
çl£
;

922 
»suÉ
 = 
	`’dpoštR—dResuÉ
(
’dpošt
, 
bufãr
, 
size
);

924  (
»suÉ
 =ğ
EP_COMPLETED
);

925 
	}
}

929 
ušt8_t
 * 
	gUSBDeviû
::
	$deviûDesc
() {

930 
ušt8_t
 
deviûDesütÜ
[] = {

931 
DEVICE_DESCRIPTOR_LENGTH
,

932 
DEVICE_DESCRIPTOR
,

933 
	`LSB
(
USB_VERSION_2_0
),

934 
	`MSB
(
USB_VERSION_2_0
),

938 
MAX_PACKET_SIZE_EP0
,

939 (
ušt8_t
)(
	`LSB
(
VENDOR_ID
)),

940 (
ušt8_t
)(
	`MSB
(
VENDOR_ID
)),

941 (
ušt8_t
)(
	`LSB
(
PRODUCT_ID
)),

942 (
ušt8_t
)(
	`MSB
(
PRODUCT_ID
)),

943 (
ušt8_t
)(
	`LSB
(
PRODUCT_RELEASE
)),

944 (
ušt8_t
)(
	`MSB
(
PRODUCT_RELEASE
)),

945 
STRING_OFFSET_IMANUFACTURER
,

946 
STRING_OFFSET_IPRODUCT
,

947 
STRING_OFFSET_ISERIAL
,

950  
deviûDesütÜ
;

951 
	}
}

953 
ušt8_t
 * 
	gUSBDeviû
::
	$¡ršgLªgidDesc
() {

954 
ušt8_t
 
¡ršgLªgidDesütÜ
[] = {

956 
STRING_DESCRIPTOR
,

959  
¡ršgLªgidDesütÜ
;

960 
	}
}

962 
ušt8_t
 * 
	gUSBDeviû
::
	$¡ršgImªuçùu»rDesc
() {

963 
ušt8_t
 
¡ršgImªuçùu»rDesütÜ
[] = {

965 
STRING_DESCRIPTOR
,

968  
¡ršgImªuçùu»rDesütÜ
;

969 
	}
}

971 
ušt8_t
 * 
	gUSBDeviû
::
	$¡ršgI£rŸlDesc
() {

972 
ušt8_t
 
¡ršgI£rŸlDesütÜ
[] = {

974 
STRING_DESCRIPTOR
,

977  
¡ršgI£rŸlDesütÜ
;

978 
	}
}

980 
ušt8_t
 * 
	gUSBDeviû
::
	$¡ršgICÚfigu¿tiÚDesc
() {

981 
ušt8_t
 
¡ršgIcÚfigu¿tiÚDesütÜ
[] = {

983 
STRING_DESCRIPTOR
,

986  
¡ršgIcÚfigu¿tiÚDesütÜ
;

987 
	}
}

989 
ušt8_t
 * 
	gUSBDeviû
::
	$¡ršgIš‹rçûDesc
() {

990 
ušt8_t
 
¡ršgIš‹rçûDesütÜ
[] = {

992 
STRING_DESCRIPTOR
,

995  
¡ršgIš‹rçûDesütÜ
;

996 
	}
}

998 
ušt8_t
 * 
	gUSBDeviû
::
	$¡ršgI´oduùDesc
() {

999 
ušt8_t
 
¡ršgI´oduùDesütÜ
[] = {

1001 
STRING_DESCRIPTOR
,

1004  
¡ršgI´oduùDesütÜ
;

1005 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBDevice.h

19 #iâdeà
USBDEVICE_H


20 
	#USBDEVICE_H


	)

22 
	~"mbed.h
"

23 
	~"USBDeviû_Ty³s.h
"

24 
	~"USBHAL.h
"

26 şas 
	cUSBDeviû
: 
public
 
USBHAL


28 
public
:

29 
USBDeviû
(
ušt16_t
 
v’dÜ_id
, ušt16_ˆ
´oduù_id
, ušt16_ˆ
´oduù_»Ëa£
);

36 
boŞ
 
cÚfigu»d
();

43 
cÚÃù
(
boŞ
 
blockšg
 = 
Œue
);

48 
discÚÃù
();

57 
boŞ
 
addEndpošt
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maxPack‘
);

67 
boŞ
 
»adS¹
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maxSize
);

81 
boŞ
 
»adEP
(
ušt8_t
 
’dpošt
, ušt8_ˆ* 
bufãr
, 
ušt32_t
 * 
size
, ušt32_ˆ
maxSize
);

94 
boŞ
 
»adEP_NB
(
ušt8_t
 
’dpošt
, ušt8_ˆ* 
bufãr
, 
ušt32_t
 * 
size
, ušt32_ˆ
maxSize
);

106 
boŞ
 
wr™e
(
ušt8_t
 
’dpošt
, ušt8_ˆ* 
bufãr
, 
ušt32_t
 
size
, ušt32_ˆ
maxSize
);

119 
boŞ
 
wr™eNB
(
ušt8_t
 
’dpošt
, ušt8_ˆ* 
bufãr
, 
ušt32_t
 
size
, ušt32_ˆ
maxSize
);

127 
vœtu®
 
	$USBC®lback_busRe£t
() {};

136 
vœtu®
 
boŞ
 
	$USBC®lback_»que¡
(è{  
çl£
; 
	}
};

148 
vœtu®
 
	$USBC®lback_»que¡Com¶‘ed
(
ušt8_t
 * 
buf
, 
ušt32_t
 
Ëngth
è{
	}
};

156 
vœtu®
 
boŞ
 
	$USBC®lback_£tCÚfigu¿tiÚ
(
ušt8_t
 
cÚfigu¿tiÚ
è{  
çl£
; 
	}
};

165 
vœtu®
 
boŞ
 
	$USBC®lback_£tIÁ”çû
(
ušt16_t
 
š‹rçû
, 
ušt8_t
 
®‹º©e
è{  
çl£
; 
	}
};

172 
vœtu®
 
ušt8_t
 * 
deviûDesc
();

179 
vœtu®
 
ušt8_t
 * 
	$cÚfigu¿tiÚDesc
(){ 
NULL
;
	}
};

186 
vœtu®
 
ušt8_t
 * 
¡ršgLªgidDesc
();

193 
vœtu®
 
ušt8_t
 * 
¡ršgImªuçùu»rDesc
();

200 
vœtu®
 
ušt8_t
 * 
¡ršgI´oduùDesc
();

207 
vœtu®
 
ušt8_t
 * 
¡ršgI£rŸlDesc
();

214 
vœtu®
 
ušt8_t
 * 
¡ršgICÚfigu¿tiÚDesc
();

221 
vœtu®
 
ušt8_t
 * 
¡ršgIš‹rçûDesc
();

228 
vœtu®
 
ušt16_t
 
	$»pÜtDescL’gth
(è{  0; 
	}
};

232 
	g´Ùeùed
:

233 
vœtu®
 
busRe£t
();

234 
vœtu®
 
EP0£tupC®lback
();

235 
vœtu®
 
EP0out
();

236 
vœtu®
 
EP0š
();

237 
vœtu®
 
cÚÃùS‹Chªged
(
cÚÃùed
);

238 
vœtu®
 
su¥’dS‹Chªged
(
su¥’ded
);

239 
ušt8_t
 * 
fšdDesütÜ
(ušt8_ˆ
desütÜTy³
);

240 
CONTROL_TRANSFER
 * 
g‘T¿nsãrPŒ
();

242 
ušt16_t
 
	gVENDOR_ID
;

243 
ušt16_t
 
	gPRODUCT_ID
;

244 
ušt16_t
 
	gPRODUCT_RELEASE
;

246 
	g´iv©e
:

247 
boŞ
 
addR©eF“dbackEndpošt
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maxPack‘
);

248 
boŞ
 
»que¡G‘DesütÜ
();

249 
boŞ
 
cÚŒŞOut
();

250 
boŞ
 
cÚŒŞIn
();

251 
boŞ
 
»que¡S‘Add»ss
();

252 
boŞ
 
»que¡S‘CÚfigu¿tiÚ
();

253 
boŞ
 
»que¡S‘F—tu»
();

254 
boŞ
 
»que¡CË¬F—tu»
();

255 
boŞ
 
»que¡G‘Stus
();

256 
boŞ
 
»que¡S‘up
();

257 
boŞ
 
cÚŒŞS‘up
();

258 
decodeS‘upPack‘
(
ušt8_t
 *
d©a
, 
SETUP_PACKET
 *
·ck‘
);

259 
boŞ
 
»que¡G‘CÚfigu¿tiÚ
();

260 
boŞ
 
»que¡G‘IÁ”çû
();

261 
boŞ
 
»que¡S‘IÁ”çû
();

263 
CONTROL_TRANSFER
 
	gŒªsãr
;

264 
USB_DEVICE
 
	gdeviû
;

266 
ušt16_t
 
	gcu¼’tIÁ”çû
;

267 
ušt8_t
 
	gcu¼’tAÉ”Ç‹
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBDevice_Types.h

19 #iâdeà
USBDEVICE_TYPES_H


20 
	#USBDEVICE_TYPES_H


	)

23 
	#GET_STATUS
 (0)

	)

24 
	#CLEAR_FEATURE
 (1)

	)

25 
	#SET_FEATURE
 (3)

	)

26 
	#SET_ADDRESS
 (5)

	)

27 
	#GET_DESCRIPTOR
 (6)

	)

28 
	#SET_DESCRIPTOR
 (7)

	)

29 
	#GET_CONFIGURATION
 (8)

	)

30 
	#SET_CONFIGURATION
 (9)

	)

31 
	#GET_INTERFACE
 (10)

	)

32 
	#SET_INTERFACE
 (11)

	)

35 
	#HOST_TO_DEVICE
 (0)

	)

36 
	#DEVICE_TO_HOST
 (1)

	)

39 
	#STANDARD_TYPE
 (0)

	)

40 
	#CLASS_TYPE
 (1)

	)

41 
	#VENDOR_TYPE
 (2)

	)

42 
	#RESERVED_TYPE
 (3)

	)

45 
	#DEVICE_RECIPIENT
 (0)

	)

46 
	#INTERFACE_RECIPIENT
 (1)

	)

47 
	#ENDPOINT_RECIPIENT
 (2)

	)

48 
	#OTHER_RECIPIENT
 (3)

	)

51 
	#DESCRIPTOR_TYPE
(
wV®ue
è(wV®u>> 8)

	)

52 
	#DESCRIPTOR_INDEX
(
wV®ue
è(wV®u& 0xff)

	)

56 
ušt8_t
 
	md©aT¿nsãrDœeùiÚ
;

57 
ušt8_t
 
	mTy³
;

58 
ušt8_t
 
	mRec›Á
;

59 } 
	mbmReque¡Ty³
;

60 
ušt8_t
 
	mbReque¡
;

61 
ušt16_t
 
	mwV®ue
;

62 
ušt16_t
 
	mwIndex
;

63 
ušt16_t
 
	mwL’gth
;

64 } 
	tSETUP_PACKET
;

67 
SETUP_PACKET
 
	m£tup
;

68 
ušt8_t
 *
	m±r
;

69 
ušt32_t
 
	m»maššg
;

70 
ušt8_t
 
	mdœeùiÚ
;

71 
boŞ
 
	mzÍ
;

72 
boŞ
 
	mnÙify
;

73 } 
	tCONTROL_TRANSFER
;

75 ’um {
	mATTACHED
, 
	mPOWERED
, 
	mDEFAULT
, 
	mADDRESS
, 
	mCONFIGURED
} 
	tDEVICE_STATE
;

78 vŞ©
DEVICE_STATE
 
	m¡©e
;

79 
ušt8_t
 
	mcÚfigu¿tiÚ
;

80 
boŞ
 
	msu¥’ded
;

81 } 
	tUSB_DEVICE
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBEndpoints.h

19 #iâdeà
USBENDPOINTS_H


20 
	#USBENDPOINTS_H


	)

23 
	#SETUP_PACKET_SIZE
 (8)

	)

26 
	#DEFAULT_OPTIONS
 (0)

	)

27 
	#SINGLE_BUFFERED
 (1U << 0)

	)

28 
	#ISOCHRONOUS
 (1U << 1)

	)

29 
	#RATE_FEEDBACK_MODE
 (1U << 2è

	)

33 
	mEP_COMPLETED
,

34 
	mEP_PENDING
,

35 
	mEP_INVALID
,

36 
	mEP_STALLED
,

37 } 
	tEP_STATUS
;

40 #ià
defšed
(
TARGET_LPC1768
è|| defšed(
TARGET_LPC2368
è|| defšed(
TARGET_LPC4088
è|| defšed(
TARGET_LPC2460
è|| defšed(
TARGET_LPC4088_DM
)

41 
	~"USBEndpošts_LPC17_LPC23.h
"

42 #–ià
defšed
(
TARGET_LPC11UXX
è|| defšed(
TARGET_LPC1347
è|| defšed (
TARGET_LPC11U6X
è|| defšed (
TARGET_LPC1549
)

43 
	~"USBEndpošts_LPC11U.h
"

44 #–ià
defšed
(
TARGET_KL25Z
è| defšed(
TARGET_KL26Z
è| defšed(
TARGET_KL27Z
è| defšed(
TARGET_KL43Z
è| defšed(
TARGET_KL46Z
è| defšed(
TARGET_K20D50M
è| defšed(
TARGET_K64F
è| defšed(
TARGET_K22F
è| defšed(
TARGET_TEENSY3_1
)

45 
	~"USBEndpošts_KL25Z.h
"

46 #–ià
defšed
 (
TARGET_STM32F4
)

47 
	~"USBEndpošts_STM32F4.h
"

48 #–ià
defšed
 (
TARGET_RZ_A1H
è|| defšed (
TARGET_VK_RZ_A1H
)

49 
	~"USBEndpošts_RZ_A1H.h
"

50 #–ià
defšed
(
TARGET_Maxim
)

51 
	~"USBEndpošts_Maxim.h
"

52 #–ià
defšed
(
TARGET_EFM32GG_STK3700
è|| defšed(
TARGET_EFM32LG_STK3600
è|| defšed(
TARGET_EFM32WG_STK3800
è|| defšed(
TARGET_EFM32HG_STK3400
)

53 
	~"USBEndpošts_EFM32.h
"

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBEndpoints_EFM32.h

2 #iâdeà
TARGET_EFM32HG_STK3400


3 
	#NUMBER_OF_LOGICAL_ENDPOINTS
 (6)

	)

5 
	#NUMBER_OF_LOGICAL_ENDPOINTS
 (3)

	)

8 
	#NUMBER_OF_PHYSICAL_ENDPOINTS
 (
NUMBER_OF_LOGICAL_ENDPOINTS
 * 2)

	)

9 
	#NUMBER_OF_ENDPOINTS
 (
NUMBER_OF_PHYSICAL_ENDPOINTS
 + 2è

	)

11 
	#EP0OUT
 (0)

	)

12 
	#EP0IN
 (1)

	)

13 
	#EP1OUT
 (2)

	)

14 
	#EP1IN
 (3)

	)

15 
	#EP2OUT
 (4)

	)

16 
	#EP2IN
 (5)

	)

17 
	#EP3OUT
 (6)

	)

18 
	#EP3IN
 (7)

	)

19 #iâdeà
TARGET_EFM32HG_STK3400


20 
	#EP4OUT
 (8)

	)

21 
	#EP4IN
 (9)

	)

22 
	#EP5OUT
 (10)

	)

23 
	#EP5IN
 (11)

	)

24 
	#EP6OUT
 (12)

	)

25 
	#EP6IN
 (13)

	)

28 
	#USB_EP_TO_INDEX
(
•
èÓp)

	)

29 
	#USB_EP_TO_ADDR
(
•
è((Óp)>>1è| ((Ópè& 1 ) ? 0x80 : 0x00))

	)

30 
	#USB_ADDR_TO_EP
(
•
è((Óp)<<1è| ((Ópè& 0x80è? 0x01 : 0x00))

	)

34 
	#MAX_PACKET_SIZE_EP0
 64

	)

35 
	#MAX_PACKET_SIZE_EP1
 64

	)

36 
	#MAX_PACKET_SIZE_EP2
 64

	)

37 
	#MAX_PACKET_SIZE_EP3
 64

	)

38 #iâdeà
TARGET_EFM32HG_STK3400


39 
	#MAX_PACKET_SIZE_EP4
 64

	)

40 
	#MAX_PACKET_SIZE_EP5
 64

	)

41 
	#MAX_PACKET_SIZE_EP6
 64

	)

48 
	#EPBULK_OUT
 
EP2OUT


	)

49 
	#EPBULK_IN
 
EP2IN


	)

50 
	#EPBULK_OUT_ÿÎback
 
EP2_OUT_ÿÎback


	)

51 
	#EPBULK_IN_ÿÎback
 
EP2_IN_ÿÎback


	)

53 
	#EPINT_OUT
 
EP1OUT


	)

54 
	#EPINT_IN
 
EP1IN


	)

55 
	#EPINT_OUT_ÿÎback
 
EP1_OUT_ÿÎback


	)

56 
	#EPINT_IN_ÿÎback
 
EP1_IN_ÿÎback


	)

58 
	#EPISO_OUT
 
EP3OUT


	)

59 
	#EPISO_IN
 
EP3IN


	)

60 
	#EPISO_OUT_ÿÎback
 
EP3_OUT_ÿÎback


	)

61 
	#EPISO_IN_ÿÎback
 
EP3_IN_ÿÎback


	)

63 
	#MAX_PACKET_SIZE_EPBULK
 64

	)

64 
	#MAX_PACKET_SIZE_EPINT
 64

	)

65 
	#MAX_PACKET_SIZE_EPISO
 1023

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBEndpoints_KL25Z.h

19 
	#NUMBER_OF_LOGICAL_ENDPOINTS
 (16)

	)

20 
	#NUMBER_OF_PHYSICAL_ENDPOINTS
 (
NUMBER_OF_LOGICAL_ENDPOINTS
 * 2)

	)

26 
	#EP0OUT
 (0)

	)

27 
	#EP0IN
 (1)

	)

28 
	#EP1OUT
 (2)

	)

29 
	#EP1IN
 (3)

	)

30 
	#EP2OUT
 (4)

	)

31 
	#EP2IN
 (5)

	)

32 
	#EP3OUT
 (6)

	)

33 
	#EP3IN
 (7)

	)

34 
	#EP4OUT
 (8)

	)

35 
	#EP4IN
 (9)

	)

36 
	#EP5OUT
 (10)

	)

37 
	#EP5IN
 (11)

	)

38 
	#EP6OUT
 (12)

	)

39 
	#EP6IN
 (13)

	)

40 
	#EP7OUT
 (14)

	)

41 
	#EP7IN
 (15)

	)

42 
	#EP8OUT
 (16)

	)

43 
	#EP8IN
 (17)

	)

44 
	#EP9OUT
 (18)

	)

45 
	#EP9IN
 (19)

	)

46 
	#EP10OUT
 (20)

	)

47 
	#EP10IN
 (21)

	)

48 
	#EP11OUT
 (22)

	)

49 
	#EP11IN
 (23)

	)

50 
	#EP12OUT
 (24)

	)

51 
	#EP12IN
 (25)

	)

52 
	#EP13OUT
 (26)

	)

53 
	#EP13IN
 (27)

	)

54 
	#EP14OUT
 (28)

	)

55 
	#EP14IN
 (29)

	)

56 
	#EP15OUT
 (30)

	)

57 
	#EP15IN
 (31)

	)

61 
	#MAX_PACKET_SIZE_EP0
 (64)

	)

62 
	#MAX_PACKET_SIZE_EP1
 (64)

	)

63 
	#MAX_PACKET_SIZE_EP2
 (64)

	)

64 
	#MAX_PACKET_SIZE_EP3
 (1023)

	)

65 
	#MAX_PACKET_SIZE_EP4
 (64)

	)

66 
	#MAX_PACKET_SIZE_EP5
 (64)

	)

67 
	#MAX_PACKET_SIZE_EP6
 (64)

	)

68 
	#MAX_PACKET_SIZE_EP7
 (64)

	)

69 
	#MAX_PACKET_SIZE_EP8
 (64)

	)

70 
	#MAX_PACKET_SIZE_EP9
 (64)

	)

71 
	#MAX_PACKET_SIZE_EP10
 (64)

	)

72 
	#MAX_PACKET_SIZE_EP11
 (64)

	)

73 
	#MAX_PACKET_SIZE_EP12
 (64)

	)

74 
	#MAX_PACKET_SIZE_EP13
 (64)

	)

75 
	#MAX_PACKET_SIZE_EP14
 (64)

	)

76 
	#MAX_PACKET_SIZE_EP15
 (64)

	)

82 
	#EPBULK_OUT
 (
EP2OUT
)

	)

83 
	#EPBULK_IN
 (
EP2IN
)

	)

84 
	#EPBULK_OUT_ÿÎback
 
EP2_OUT_ÿÎback


	)

85 
	#EPBULK_IN_ÿÎback
 
EP2_IN_ÿÎback


	)

87 
	#EPINT_OUT
 (
EP1OUT
)

	)

88 
	#EPINT_IN
 (
EP1IN
)

	)

89 
	#EPINT_OUT_ÿÎback
 
EP1_OUT_ÿÎback


	)

90 
	#EPINT_IN_ÿÎback
 
EP1_IN_ÿÎback


	)

92 
	#EPISO_OUT
 (
EP3OUT
)

	)

93 
	#EPISO_IN
 (
EP3IN
)

	)

94 
	#EPISO_OUT_ÿÎback
 
EP3_OUT_ÿÎback


	)

95 
	#EPISO_IN_ÿÎback
 
EP3_IN_ÿÎback


	)

97 
	#MAX_PACKET_SIZE_EPBULK
 (
MAX_PACKET_SIZE_EP2
)

	)

98 
	#MAX_PACKET_SIZE_EPINT
 (
MAX_PACKET_SIZE_EP1
)

	)

99 
	#MAX_PACKET_SIZE_EPISO
 (
MAX_PACKET_SIZE_EP3
)

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBEndpoints_LPC11U.h

19 
	#NUMBER_OF_LOGICAL_ENDPOINTS
 (5)

	)

20 
	#NUMBER_OF_PHYSICAL_ENDPOINTS
 (
NUMBER_OF_LOGICAL_ENDPOINTS
 * 2)

	)

26 
	#EP0OUT
 (0è

	)

27 
	#EP0IN
 (1è

	)

28 
	#EP1OUT
 (2è

	)

29 
	#EP1IN
 (3è

	)

30 
	#EP2OUT
 (4è

	)

31 
	#EP2IN
 (5è

	)

32 
	#EP3OUT
 (6è

	)

33 
	#EP3IN
 (7è

	)

34 
	#EP4OUT
 (8è

	)

35 
	#EP4IN
 (9è

	)

39 
	#MAX_PACKET_SIZE_EP0
 (64)

	)

40 
	#MAX_PACKET_SIZE_EP1
 (64è

	)

41 
	#MAX_PACKET_SIZE_EP2
 (64è

	)

42 
	#MAX_PACKET_SIZE_EP3
 (64è

	)

43 
	#MAX_PACKET_SIZE_EP4
 (64è

	)

45 
	#MAX_PACKET_SIZE_EP1_ISO
 (1023è

	)

46 
	#MAX_PACKET_SIZE_EP2_ISO
 (1023è

	)

47 
	#MAX_PACKET_SIZE_EP3_ISO
 (1023è

	)

48 
	#MAX_PACKET_SIZE_EP4_ISO
 (1023è

	)

54 
	#EPBULK_OUT
 (
EP2OUT
)

	)

55 
	#EPBULK_IN
 (
EP2IN
)

	)

56 
	#EPBULK_OUT_ÿÎback
 
EP2_OUT_ÿÎback


	)

57 
	#EPBULK_IN_ÿÎback
 
EP2_IN_ÿÎback


	)

59 
	#EPINT_OUT
 (
EP1OUT
)

	)

60 
	#EPINT_IN
 (
EP1IN
)

	)

61 
	#EPINT_OUT_ÿÎback
 
EP1_OUT_ÿÎback


	)

62 
	#EPINT_IN_ÿÎback
 
EP1_IN_ÿÎback


	)

64 
	#EPISO_OUT
 (
EP3OUT
)

	)

65 
	#EPISO_IN
 (
EP3IN
)

	)

66 
	#EPISO_OUT_ÿÎback
 
EP3_OUT_ÿÎback


	)

67 
	#EPISO_IN_ÿÎback
 
EP3_IN_ÿÎback


	)

69 
	#MAX_PACKET_SIZE_EPBULK
 (
MAX_PACKET_SIZE_EP2
)

	)

70 
	#MAX_PACKET_SIZE_EPINT
 (
MAX_PACKET_SIZE_EP1
)

	)

71 
	#MAX_PACKET_SIZE_EPISO
 (
MAX_PACKET_SIZE_EP3_ISO
)

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBEndpoints_LPC17_LPC23.h

19 
	#NUMBER_OF_LOGICAL_ENDPOINTS
 (16)

	)

20 
	#NUMBER_OF_PHYSICAL_ENDPOINTS
 (
NUMBER_OF_LOGICAL_ENDPOINTS
 * 2)

	)

26 
	#EP0OUT
 (0è

	)

27 
	#EP0IN
 (1è

	)

28 
	#EP1OUT
 (2è

	)

29 
	#EP1IN
 (3è

	)

30 
	#EP2OUT
 (4è

	)

31 
	#EP2IN
 (5è

	)

32 
	#EP3OUT
 (6è

	)

33 
	#EP3IN
 (7è

	)

34 
	#EP4OUT
 (8è

	)

35 
	#EP4IN
 (9è

	)

36 
	#EP5OUT
 (10è

	)

37 
	#EP5IN
 (11è

	)

38 
	#EP6OUT
 (12è

	)

39 
	#EP6IN
 (13è

	)

40 
	#EP7OUT
 (14è

	)

41 
	#EP7IN
 (15è

	)

42 
	#EP8OUT
 (16è

	)

43 
	#EP8IN
 (17è

	)

44 
	#EP9OUT
 (18è

	)

45 
	#EP9IN
 (19è

	)

46 
	#EP10OUT
 (20è

	)

47 
	#EP10IN
 (21è

	)

48 
	#EP11OUT
 (22è

	)

49 
	#EP11IN
 (23è

	)

50 
	#EP12OUT
 (24è

	)

51 
	#EP12IN
 (25è

	)

52 
	#EP13OUT
 (26è

	)

53 
	#EP13IN
 (27è

	)

54 
	#EP14OUT
 (28è

	)

55 
	#EP14IN
 (29è

	)

56 
	#EP15OUT
 (30è

	)

57 
	#EP15IN
 (31è

	)

61 
	#MAX_PACKET_SIZE_EP0
 (64)

	)

62 
	#MAX_PACKET_SIZE_EP1
 (64)

	)

63 
	#MAX_PACKET_SIZE_EP2
 (64)

	)

64 
	#MAX_PACKET_SIZE_EP3
 (1023)

	)

65 
	#MAX_PACKET_SIZE_EP4
 (64)

	)

66 
	#MAX_PACKET_SIZE_EP5
 (64)

	)

67 
	#MAX_PACKET_SIZE_EP6
 (1023)

	)

68 
	#MAX_PACKET_SIZE_EP7
 (64)

	)

69 
	#MAX_PACKET_SIZE_EP8
 (64)

	)

70 
	#MAX_PACKET_SIZE_EP9
 (1023)

	)

71 
	#MAX_PACKET_SIZE_EP10
 (64)

	)

72 
	#MAX_PACKET_SIZE_EP11
 (64)

	)

73 
	#MAX_PACKET_SIZE_EP12
 (1023)

	)

74 
	#MAX_PACKET_SIZE_EP13
 (64)

	)

75 
	#MAX_PACKET_SIZE_EP14
 (64)

	)

76 
	#MAX_PACKET_SIZE_EP15
 (64)

	)

82 
	#EPBULK_OUT
 (
EP2OUT
)

	)

83 
	#EPBULK_IN
 (
EP2IN
)

	)

84 
	#EPBULK_OUT_ÿÎback
 
EP2_OUT_ÿÎback


	)

85 
	#EPBULK_IN_ÿÎback
 
EP2_IN_ÿÎback


	)

87 
	#EPINT_OUT
 (
EP1OUT
)

	)

88 
	#EPINT_IN
 (
EP1IN
)

	)

89 
	#EPINT_OUT_ÿÎback
 
EP1_OUT_ÿÎback


	)

90 
	#EPINT_IN_ÿÎback
 
EP1_IN_ÿÎback


	)

92 
	#EPISO_OUT
 (
EP3OUT
)

	)

93 
	#EPISO_IN
 (
EP3IN
)

	)

94 
	#EPISO_OUT_ÿÎback
 
EP3_OUT_ÿÎback


	)

95 
	#EPISO_IN_ÿÎback
 
EP3_IN_ÿÎback


	)

97 
	#MAX_PACKET_SIZE_EPBULK
 (
MAX_PACKET_SIZE_EP2
)

	)

98 
	#MAX_PACKET_SIZE_EPINT
 (
MAX_PACKET_SIZE_EP1
)

	)

99 
	#MAX_PACKET_SIZE_EPISO
 (
MAX_PACKET_SIZE_EP3
)

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBEndpoints_Maxim.h

34 
	#NUMBER_OF_LOGICAL_ENDPOINTS
 (8)

	)

35 
	#NUMBER_OF_PHYSICAL_ENDPOINTS
 (
NUMBER_OF_LOGICAL_ENDPOINTS
 * 2)

	)

37 
	#DIR_OUT
 0x00

	)

38 
	#DIR_IN
 0x01

	)

39 
	#EP_NUM
(
•
èÓ°>> 1)

	)

40 
	#IN_EP
(
•
èÓ°& 
DIR_IN
)

	)

41 
	#OUT_EP
(
•
è(!Ó°& 
DIR_IN
))

	)

47 
	#EP0OUT
 ((0 << 1è| 
DIR_OUT
)

	)

48 
	#EP0IN
 ((0 << 1è| 
DIR_IN
)

	)

49 
	#EP1OUT
 ((1 << 1è| 
DIR_OUT
)

	)

50 
	#EP1IN
 ((1 << 1è| 
DIR_IN
)

	)

51 
	#EP2OUT
 ((2 << 1è| 
DIR_OUT
)

	)

52 
	#EP2IN
 ((2 << 1è| 
DIR_IN
)

	)

53 
	#EP3OUT
 ((3 << 1è| 
DIR_OUT
)

	)

54 
	#EP3IN
 ((3 << 1è| 
DIR_IN
)

	)

55 
	#EP4OUT
 ((4 << 1è| 
DIR_OUT
)

	)

56 
	#EP4IN
 ((4 << 1è| 
DIR_IN
)

	)

57 
	#EP5OUT
 ((5 << 1è| 
DIR_OUT
)

	)

58 
	#EP5IN
 ((5 << 1è| 
DIR_IN
)

	)

59 
	#EP6OUT
 ((6 << 1è| 
DIR_OUT
)

	)

60 
	#EP6IN
 ((6 << 1è| 
DIR_IN
)

	)

61 
	#EP7OUT
 ((7 << 1è| 
DIR_OUT
)

	)

62 
	#EP7IN
 ((7 << 1è| 
DIR_IN
)

	)

66 
	#MAX_PACKET_SIZE_EP0
 (64)

	)

67 
	#MAX_PACKET_SIZE_EP1
 (64)

	)

68 
	#MAX_PACKET_SIZE_EP2
 (64)

	)

69 
	#MAX_PACKET_SIZE_EP3
 (64)

	)

70 
	#MAX_PACKET_SIZE_EP4
 (64)

	)

71 
	#MAX_PACKET_SIZE_EP5
 (64)

	)

72 
	#MAX_PACKET_SIZE_EP6
 (64)

	)

73 
	#MAX_PACKET_SIZE_EP7
 (64)

	)

79 
	#EPBULK_OUT
 (
EP1OUT
)

	)

80 
	#EPBULK_IN
 (
EP2IN
)

	)

81 
	#EPBULK_OUT_ÿÎback
 
EP1_OUT_ÿÎback


	)

82 
	#EPBULK_IN_ÿÎback
 
EP2_IN_ÿÎback


	)

84 
	#EPINT_OUT
 (
EP3OUT
)

	)

85 
	#EPINT_IN
 (
EP4IN
)

	)

86 
	#EPINT_OUT_ÿÎback
 
EP3_OUT_ÿÎback


	)

87 
	#EPINT_IN_ÿÎback
 
EP4_IN_ÿÎback


	)

90 
	#EPISO_OUT
 (
EP0OUT
)

	)

91 
	#EPISO_IN
 (
EP0IN
)

	)

93 
	#MAX_PACKET_SIZE_EPBULK
 (64)

	)

94 
	#MAX_PACKET_SIZE_EPINT
 (64)

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBEndpoints_RZ_A1H.h

19 
	#NUMBER_OF_LOGICAL_ENDPOINTS
 (16)

	)

20 
	#NUMBER_OF_PHYSICAL_ENDPOINTS
 (
NUMBER_OF_LOGICAL_ENDPOINTS
 * 2)

	)

26 
	#EP0OUT
 (0è

	)

27 
	#EP0IN
 (1è

	)

28 
	#EP1OUT
 (2è

	)

29 
	#EP1IN
 (3è

	)

30 
	#EP2OUT
 (4è

	)

31 
	#EP2IN
 (5è

	)

32 
	#EP3OUT
 (6è

	)

33 
	#EP3IN
 (7è

	)

35 
	#EP6IN
 (8è

	)

36 
	#EP8IN
 (9è

	)

37 
	#EP9IN
 (10è

	)

38 
	#EP10IN
 (11è

	)

39 
	#EP11IN
 (12è

	)

40 
	#EP12IN
 (13è

	)

41 
	#EP13IN
 (14è

	)

42 
	#EP14IN
 (15è

	)

43 
	#EP15IN
 (16è

	)

46 
	#MAX_PACKET_SIZE_EP0
 (64è

	)

47 
	#MAX_PACKET_SIZE_EP1
 (64è

	)

48 
	#MAX_PACKET_SIZE_EP2
 (512è

	)

49 
	#MAX_PACKET_SIZE_EP3
 (512è

	)

50 
	#MAX_PACKET_SIZE_EP6
 (64è

	)

51 
	#MAX_PACKET_SIZE_EP8
 (64è

	)

52 
	#MAX_PACKET_SIZE_EP9
 (512è

	)

53 
	#MAX_PACKET_SIZE_EP10
 (512è

	)

54 
	#MAX_PACKET_SIZE_EP11
 (512è

	)

55 
	#MAX_PACKET_SIZE_EP12
 (512è

	)

56 
	#MAX_PACKET_SIZE_EP13
 (512è

	)

57 
	#MAX_PACKET_SIZE_EP14
 (512è

	)

58 
	#MAX_PACKET_SIZE_EP15
 (512è

	)

66 
	#EPBULK_OUT
 (
EP2OUT
)

	)

67 
	#EPBULK_IN
 (
EP2IN
)

	)

68 
	#EPBULK_OUT_ÿÎback
 
EP2_OUT_ÿÎback


	)

69 
	#EPBULK_IN_ÿÎback
 
EP2_IN_ÿÎback


	)

71 
	#EPINT_OUT
 (
EP1OUT
)

	)

72 
	#EPINT_IN
 (
EP1IN
)

	)

73 
	#EPINT_OUT_ÿÎback
 
EP1_OUT_ÿÎback


	)

74 
	#EPINT_IN_ÿÎback
 
EP1_IN_ÿÎback


	)

76 
	#EPISO_OUT
 (
EP3OUT
)

	)

77 
	#EPISO_IN
 (
EP3IN
)

	)

78 
	#EPISO_OUT_ÿÎback
 
EP3_OUT_ÿÎback


	)

79 
	#EPISO_IN_ÿÎback
 
EP3_IN_ÿÎback


	)

81 
	#MAX_PACKET_SIZE_EPBULK
 (
MAX_PACKET_SIZE_EP2
)

	)

82 
	#MAX_PACKET_SIZE_EPINT
 (
MAX_PACKET_SIZE_EP1
)

	)

83 
	#MAX_PACKET_SIZE_EPISO
 (
MAX_PACKET_SIZE_EP3
)

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBEndpoints_STM32F4.h

19 
	#NUMBER_OF_LOGICAL_ENDPOINTS
 (4)

	)

20 
	#NUMBER_OF_PHYSICAL_ENDPOINTS
 (
NUMBER_OF_LOGICAL_ENDPOINTS
 * 2)

	)

26 
	#EP0OUT
 (0è

	)

27 
	#EP0IN
 (1è

	)

28 
	#EP1OUT
 (2è

	)

29 
	#EP1IN
 (3è

	)

30 
	#EP2OUT
 (4è

	)

31 
	#EP2IN
 (5è

	)

32 
	#EP3OUT
 (6è

	)

33 
	#EP3IN
 (7è

	)

37 
	#MAX_PACKET_SIZE_EP0
 (64)

	)

38 
	#MAX_PACKET_SIZE_EP1
 (64è

	)

39 
	#MAX_PACKET_SIZE_EP2
 (64è

	)

40 
	#MAX_PACKET_SIZE_EP3
 (64è

	)

42 
	#MAX_PACKET_SIZE_EP1_ISO
 (1023è

	)

43 
	#MAX_PACKET_SIZE_EP2_ISO
 (1023è

	)

44 
	#MAX_PACKET_SIZE_EP3_ISO
 (1023è

	)

50 
	#EPBULK_OUT
 (
EP2OUT
)

	)

51 
	#EPBULK_IN
 (
EP2IN
)

	)

52 
	#EPBULK_OUT_ÿÎback
 
EP2_OUT_ÿÎback


	)

53 
	#EPBULK_IN_ÿÎback
 
EP2_IN_ÿÎback


	)

55 
	#EPINT_OUT
 (
EP1OUT
)

	)

56 
	#EPINT_IN
 (
EP1IN
)

	)

57 
	#EPINT_OUT_ÿÎback
 
EP1_OUT_ÿÎback


	)

58 
	#EPINT_IN_ÿÎback
 
EP1_IN_ÿÎback


	)

60 
	#EPISO_OUT
 (
EP3OUT
)

	)

61 
	#EPISO_IN
 (
EP3IN
)

	)

62 
	#EPISO_OUT_ÿÎback
 
EP3_OUT_ÿÎback


	)

63 
	#EPISO_IN_ÿÎback
 
EP3_IN_ÿÎback


	)

65 
	#MAX_PACKET_SIZE_EPBULK
 (
MAX_PACKET_SIZE_EP2
)

	)

66 
	#MAX_PACKET_SIZE_EPINT
 (
MAX_PACKET_SIZE_EP1
)

	)

67 
	#MAX_PACKET_SIZE_EPISO
 (
MAX_PACKET_SIZE_EP3_ISO
)

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBHAL.h

19 #iâdeà
USBBUSINTERFACE_H


20 
	#USBBUSINTERFACE_H


	)

22 
	~"mbed.h
"

23 
	~"USBEndpošts.h
"

24 
	~"toŞchaš.h
"

30 şas 
	cUSBHAL
 {

31 
	mpublic
:

33 
USBHAL
();

34 ~
USBHAL
();

35 
cÚÃù
();

36 
discÚÃù
();

37 
cÚfigu»Deviû
();

38 
uncÚfigu»Deviû
();

39 
£tAdd»ss
(
ušt8_t
 
add»ss
);

40 
»mÙeWakeup
();

43 
EP0£tup
(
ušt8_t
 *
bufãr
);

44 
EP0»ad
();

45 
EP0»adSge
();

46 
ušt32_t
 
EP0g‘R—dResuÉ
(
ušt8_t
 *
bufãr
);

47 
EP0wr™e
(
ušt8_t
 *
bufãr
, 
ušt32_t
 
size
);

48 
EP0g‘Wr™eResuÉ
();

49 
EP0¡®l
();

52 
EP_STATUS
 
’dpoštR—d
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maximumSize
);

53 
EP_STATUS
 
’dpoštR—dResuÉ
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
d©a
, 
ušt32_t
 *
by‹sR—d
);

54 
EP_STATUS
 
’dpoštWr™e
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
d©a
, 
ušt32_t
 
size
);

55 
EP_STATUS
 
’dpoštWr™eResuÉ
(
ušt8_t
 
’dpošt
);

56 
¡®lEndpošt
(
ušt8_t
 
’dpošt
);

57 
un¡®lEndpošt
(
ušt8_t
 
’dpošt
);

58 
boŞ
 
»®i£Endpošt
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maxPack‘
, ušt32_ˆ
İtiÚs
);

59 
boŞ
 
g‘EndpoštSÎS‹
(
’dpošt
);

60 
ušt32_t
 
’dpoštR—dcÜe
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
bufãr
);

62 
	m´Ùeùed
:

63 
vœtu®
 
	$busRe£t
(){};

64 
vœtu®
 
	$EP0£tupC®lback
(){
	}
};

65 
vœtu®
 
	$EP0out
(){
	}
};

66 
vœtu®
 
	$EP0š
(){
	}
};

67 
vœtu®
 
	$cÚÃùS‹Chªged
(
cÚÃùed
){
	}
};

68 
vœtu®
 
	$su¥’dS‹Chªged
(
su¥’ded
){
	}
};

69 
vœtu®
 
	$SOF
(
äameNumb”
){
	}
};

71 
vœtu®
 
boŞ
 
	$EP1_OUT_ÿÎback
(){ 
çl£
;
	}
};

72 
vœtu®
 
boŞ
 
	$EP1_IN_ÿÎback
(){ 
çl£
;
	}
};

73 
vœtu®
 
boŞ
 
	$EP2_OUT_ÿÎback
(){ 
çl£
;
	}
};

74 
vœtu®
 
boŞ
 
	$EP2_IN_ÿÎback
(){ 
çl£
;
	}
};

75 
vœtu®
 
boŞ
 
	$EP3_OUT_ÿÎback
(){ 
çl£
;
	}
};

76 
vœtu®
 
boŞ
 
	$EP3_IN_ÿÎback
(){ 
çl£
;
	}
};

77 #ià!
	$defšed
(
TARGET_STM32F4
)

78 
vœtu®
 
boŞ
 
	$EP4_OUT_ÿÎback
(){ 
çl£
;
	}
};

79 
vœtu®
 
boŞ
 
	$EP4_IN_ÿÎback
(){ 
çl£
;
	}
};

80 #ià!(
defšed
(
TARGET_LPC11UXX
è|| defšed(
TARGET_LPC11U6X
è|| defšed(
TARGET_LPC1347
è|| 
	$defšed
(
TARGET_LPC1549
))

81 
vœtu®
 
boŞ
 
	$EP5_OUT_ÿÎback
(){ 
çl£
;
	}
};

82 
vœtu®
 
boŞ
 
	$EP5_IN_ÿÎback
(){ 
çl£
;
	}
};

83 
vœtu®
 
boŞ
 
	$EP6_OUT_ÿÎback
(){ 
çl£
;
	}
};

84 
vœtu®
 
boŞ
 
	$EP6_IN_ÿÎback
(){ 
çl£
;
	}
};

85 
vœtu®
 
boŞ
 
	$EP7_OUT_ÿÎback
(){ 
çl£
;
	}
};

86 
vœtu®
 
boŞ
 
	$EP7_IN_ÿÎback
(){ 
çl£
;
	}
};

87 
vœtu®
 
boŞ
 
	$EP8_OUT_ÿÎback
(){ 
çl£
;
	}
};

88 
vœtu®
 
boŞ
 
	$EP8_IN_ÿÎback
(){ 
çl£
;
	}
};

89 
vœtu®
 
boŞ
 
	$EP9_OUT_ÿÎback
(){ 
çl£
;
	}
};

90 
vœtu®
 
boŞ
 
	$EP9_IN_ÿÎback
(){ 
çl£
;
	}
};

91 
vœtu®
 
boŞ
 
	$EP10_OUT_ÿÎback
(){ 
çl£
;
	}
};

92 
vœtu®
 
boŞ
 
	$EP10_IN_ÿÎback
(){ 
çl£
;
	}
};

93 
vœtu®
 
boŞ
 
	$EP11_OUT_ÿÎback
(){ 
çl£
;
	}
};

94 
vœtu®
 
boŞ
 
	$EP11_IN_ÿÎback
(){ 
çl£
;
	}
};

95 
vœtu®
 
boŞ
 
	$EP12_OUT_ÿÎback
(){ 
çl£
;
	}
};

96 
vœtu®
 
boŞ
 
	$EP12_IN_ÿÎback
(){ 
çl£
;
	}
};

97 
vœtu®
 
boŞ
 
	$EP13_OUT_ÿÎback
(){ 
çl£
;
	}
};

98 
vœtu®
 
boŞ
 
	$EP13_IN_ÿÎback
(){ 
çl£
;
	}
};

99 
vœtu®
 
boŞ
 
	$EP14_OUT_ÿÎback
(){ 
çl£
;
	}
};

100 
vœtu®
 
boŞ
 
	$EP14_IN_ÿÎback
(){ 
çl£
;
	}
};

101 
vœtu®
 
boŞ
 
	$EP15_OUT_ÿÎback
(){ 
çl£
;
	}
};

102 
vœtu®
 
boŞ
 
	$EP15_IN_ÿÎback
(){ 
çl£
;
	}
};

106 
	g´iv©e
:

107 
usbi¤
();

108 
_usbi¤
();

109 
USBHAL
 * 
	gš¡ªû
;

111 #ià
defšed
(
TARGET_LPC11UXX
è|| defšed(
TARGET_LPC11U6X
è|| defšed(
TARGET_LPC1347
è|| 
	$defšed
(
TARGET_LPC1549
)

112 
	`boŞ
 (
USBHAL
::*
•C®lback
[10 - 2])();

113 #–ià
	$defšed
(
TARGET_STM32F4
)

114 
	`boŞ
 (
USBHAL
::*
•C®lback
[8 - 2])();

116 
	`boŞ
 (
USBHAL
::*
•C®lback
[32 - 2])();

120 
	}
};

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBHAL_EFM32.cpp

16 #ià
defšed
 
TARGET_EFM32GG_STK3700
 || \

17 
defšed
 
	gTARGET_EFM32LG_STK3600
 || \

18 
defšed
 
	gTARGET_EFM32WG_STK3800
 || \

19 
defšed
 
	gTARGET_EFM32HG_STK3400


21 
	~"USBHAL.h
"

22 
	~"em_usb.h
"

23 
	~"em_usbty³s.h
"

24 
	~"em_usbh®.h
"

25 
	~"em_usbd.h
"

27 
	~"¦“pmodes.h
"

29 
	eUSBISRCommªd
 {

30 
	mCMD_HANDLED
 = 0,

31 
	mCMD_EP0SETUP
,

32 
	mCMD_EP0IN
,

33 
	mCMD_EP0OUT
,

34 
	mCMD_EP_XFER_COMPLETED
,

35 
	mCMD_SOF
,

36 
	mCMD_BUSRESET
,

37 
	mCMD_SUSPEND_STATE_CHANGED
,

38 
	mCMD_ENUM_END_MARKER


41 
	eIEPStus
 {

42 
	mNOT_CONFIGURED
 = 0,

43 
	mIDLE
 = 1,

44 
	mREAD_PENDING
 = 2,

45 
	mWRITE_PENDING
 = 3,

46 
	mREAD_COMPLETE
 = 4,

47 
	mWRITE_COMPLETE
 = 5,

48 
	mFAILED_INVALID
 = 6,

49 
	mFAILED_STALLED
 = 7

53 
IEPStus
 
	m¡©us
;

54 
ušt32_t
 
	mby‹_couÁ
;

55 
ušt32_t
 
	mmax_·ck‘
;

56 
USB_XãrCom¶‘eCb_Ty³Def
 
	mš‹º_cb
;

57 
ušt8_t
 *
	md©a_buf
;

58 } 
	t•_¡©e_t
;

60 
USBHAL
 * 
	gUSBHAL
::
š¡ªû
;

61 
ušt8_t
 
	g•0£tupd©a
[8];

62 
•_¡©e_t
 
	g•_¡©e
[
NUMBER_OF_ENDPOINTS
];

63 #ifdeà
USB_USE_DYNAMIC_MEMORY


64 
ušt8_t
 
	g•0š_d©a_buf
[
MAX_PACKET_SIZE_EP0
] 
__©Œibu‹__
 ((
®igÃd
 (4)));

65 
ušt8_t
 
	g•0out_d©a_buf
[
MAX_PACKET_SIZE_EP0
];

67 
ušt8_t
 
	g•_d©a_buf
[
NUMBER_OF_ENDPOINTS
][64] 
__©Œibu‹__
 ((
®igÃd
 (4)));

70 
run_cmd
(
USBISRCommªd
 
cmd
, 
ušt32_t
 
·¿m
);

71 (*
	gi¤±r
)(èğ
NULL
;

72 
USBISRCommªd
 
	gusb_i¤cmd
 = 
CMD_HANDLED
;

73 
ušt32_t
 
	gusb_i¤cmd_·¿m
 = 0;

75 "C" 
usbh®_®low_em2
(
boŞ
 
®low_em2
);

77 #ifdeà
DEBUG_USB_API


78 
	#TRACE
(
fmt
,...è
	`´štf
("USB: %s: " fmˆ"\n", 
__func__
, 
__VA_ARGS__
);

	)

79 
	#TRACE_FUNC_IN
 
	`´štf
("USB: > %s\n",
__func__
);

	)

80 
	#TRACE_FUNC_IN_P
(
fmt
, ...è
	`´štf
("USB: > %s: " fmˆ"\n", 
__func__
, 
__VA_ARGS__
);

	)

82 
	#TRACE
(
fmt
,...)

	)

83 
	#TRACE_FUNC_IN


	)

84 
	#TRACE_FUNC_IN_P
(
fmt
, ...)

	)

87 
EP_STATUS
 
š‹ºEndpoštR—d
(
ušt8_t
 
•
, 
ušt32_t
 
maxSize
);

89 
usbh®_xãr_com¶‘e_cb
(
ušt8_t
 
•addr
, 
USB_Stus_Ty³Def
 
¡©us
,

90 
ušt32_t
 
xã¼ed
, ušt32_ˆ
»maššg
);

91 
usbh®_ä“_bufãrs
();

94 
	#EPCB
(
n
è
usbh®_xãr_com¶‘e_cb_
##
	`n
(
USB_Stus_Ty³Def
 
¡©us
, \

95 
ušt32_t
 
xã¼ed
, ušt32_ˆ
»maššg
) { \

96  
	`usbh®_xãr_com¶‘e_cb
(
n
, 
¡©us
, 
xã¼ed
, 
»maššg
); \

97 }

	)

99 
	$EPCB
(
EP0OUT
)

100 
	$EPCB
(
EP0IN
)

101 
	$EPCB
(
EP1OUT
)

102 
	$EPCB
(
EP1IN
)

103 
	$EPCB
(
EP2OUT
)

104 
	$EPCB
(
EP2IN
)

105 
	$EPCB
(
EP3OUT
)

106 
	$EPCB
(
EP3IN
)

107 #iâdeà
TARGET_EFM32HG_STK3400


108 
	$EPCB
(
EP4OUT
)

109 
	$EPCB
(
EP4IN
)

110 
	$EPCB
(
EP5OUT
)

111 
	$EPCB
(
EP5IN
)

112 
	$EPCB
(
EP6OUT
)

113 
	$EPCB
(
EP6IN
)

116 
šlše
 
boŞ
 
	$is_®igÃd
(cÚ¡ *
poš‹r
, 
size_t
 
by‹_couÁ
)

118  ((
ušŒ_t
)
poš‹r
 % 
by‹_couÁ
 == 0);

119 
	}
}

121 
	gUSBHAL
::
	$USBHAL
()

123 
TRACE_FUNC_IN
;

125 
i¤±r
 = &
USBHAL
::
_usbi¤
;

127 ià(
š¡ªû
) {

128 
	`TRACE
("As£¹ s–àçed! in¡ªû=%p", 
š¡ªû
);

129 
	`abÜt
();

131 
š¡ªû
 = 
this
;

135 
	`usbh®_®low_em2
(
çl£
);

140 
	`blockSË•Mode
(
EM2
);

142 
•C®lback
[
EP0OUT
] = 
NULL
;

143 
•C®lback
[
EP0IN
 ] = 
NULL
;

144 
•C®lback
[
EP1OUT
] = &
USBHAL
::
EP1_OUT_ÿÎback
;

145 
•C®lback
[
EP1IN
 ] = &
USBHAL
::
EP1_IN_ÿÎback
;

146 
•C®lback
[
EP2OUT
] = &
USBHAL
::
EP2_OUT_ÿÎback
;

147 
•C®lback
[
EP2IN
 ] = &
USBHAL
::
EP2_IN_ÿÎback
;

148 
•C®lback
[
EP3OUT
] = &
USBHAL
::
EP3_OUT_ÿÎback
;

149 
•C®lback
[
EP3IN
 ] = &
USBHAL
::
EP3_IN_ÿÎback
;

150 #iâdeà
TARGET_EFM32HG_STK3400


151 
•C®lback
[
EP4OUT
] = &
USBHAL
::
EP4_OUT_ÿÎback
;

152 
•C®lback
[
EP4IN
 ] = &
USBHAL
::
EP4_IN_ÿÎback
;

153 
•C®lback
[
EP5OUT
] = &
USBHAL
::
EP5_OUT_ÿÎback
;

154 
•C®lback
[
EP5IN
 ] = &
USBHAL
::
EP5_IN_ÿÎback
;

155 
•C®lback
[
EP6OUT
] = &
USBHAL
::
EP6_OUT_ÿÎback
;

156 
•C®lback
[
EP6IN
 ] = &
USBHAL
::
EP6_IN_ÿÎback
;

159 
	`mem£t
(
•_¡©e
, 0, (ep_state));

161 
•_¡©e
[
EP0OUT
].
š‹º_cb
 = 
usbh®_xãr_com¶‘e_cb_EP0OUT
;

162 
•_¡©e
[
EP0IN
 ].
š‹º_cb
 = 
usbh®_xãr_com¶‘e_cb_EP0IN
;

163 
•_¡©e
[
EP1OUT
].
š‹º_cb
 = 
usbh®_xãr_com¶‘e_cb_EP1OUT
;

164 
•_¡©e
[
EP1IN
 ].
š‹º_cb
 = 
usbh®_xãr_com¶‘e_cb_EP1IN
;

165 
•_¡©e
[
EP2OUT
].
š‹º_cb
 = 
usbh®_xãr_com¶‘e_cb_EP2OUT
;

166 
•_¡©e
[
EP2IN
 ].
š‹º_cb
 = 
usbh®_xãr_com¶‘e_cb_EP2IN
;

167 
•_¡©e
[
EP3OUT
].
š‹º_cb
 = 
usbh®_xãr_com¶‘e_cb_EP3OUT
;

168 
•_¡©e
[
EP3IN
 ].
š‹º_cb
 = 
usbh®_xãr_com¶‘e_cb_EP3IN
;

169 #iâdeà
TARGET_EFM32HG_STK3400


170 
•_¡©e
[
EP4OUT
].
š‹º_cb
 = 
usbh®_xãr_com¶‘e_cb_EP4OUT
;

171 
•_¡©e
[
EP4IN
 ].
š‹º_cb
 = 
usbh®_xãr_com¶‘e_cb_EP4IN
;

172 
•_¡©e
[
EP5OUT
].
š‹º_cb
 = 
usbh®_xãr_com¶‘e_cb_EP5OUT
;

173 
•_¡©e
[
EP5IN
 ].
š‹º_cb
 = 
usbh®_xãr_com¶‘e_cb_EP5IN
;

174 
•_¡©e
[
EP6OUT
].
š‹º_cb
 = 
usbh®_xãr_com¶‘e_cb_EP6OUT
;

175 
•_¡©e
[
EP6IN
 ].
š‹º_cb
 = 
usbh®_xãr_com¶‘e_cb_EP6IN
;

178 #ifdeà
USB_USE_DYNAMIC_MEMORY


179 
•_¡©e
[
EP0OUT
].
d©a_buf
 = 
•0out_d©a_buf
;

180 
•_¡©e
[
EP0IN
].
d©a_buf
 = 
•0š_d©a_buf
;

182 
i
=0 ; i<
NUMBER_OF_ENDPOINTS
 ; i++) {

183 
•_¡©e
[
i
].
d©a_buf
 = 
•_d©a_buf
[i];

186 
	}
}

188 
	gUSBHAL
::~
	$USBHAL
()

190 
TRACE_FUNC_IN
;

191 
	`USBD_AbÜtAÎT¿nsãrs
();

192 
	`USBD_DiscÚÃù
();

193 
	`usbh®_ä“_bufãrs
();

195 
	`usbh®_®low_em2
(
Œue
);

196 
	`unblockSË•Mode
(
EM2
);

197 
	}
}

199 "C" 
	$usbh®_®low_em2
(
boŞ
 
®low_em2
)

201 ià(
®low_em2
) {

204 
	`unblockSË•Mode
(
EM1
);

206 
	`blockSË•Mode
(
EM1
);

208 
	}
}

210 
	$usbh®_»£t_cb
()

212 
TRACE_FUNC_IN
;

213 
	`run_cmd
(
CMD_BUSRESET
, 0);

214 
	}
}

216 #ifdeà
DEBUG_USB_API


217 cÚ¡ *
usb¡©e
[] = { "NONE", "ATTACHED", "POWERED", "DEFAULT",

221 
	$usbh®_¡©e_chªge_cb
(
USBD_S‹_Ty³Def
 
ŞdS‹
,

222 
USBD_S‹_Ty³Def
 
ÃwS‹
)

224 
	`TRACE
("¡©chªged % -> %s", 
usb¡©e
[
ŞdS‹
], usb¡©e[
ÃwS‹
]);

226 ià(
ŞdS‹
 =ğ
USBD_STATE_SUSPENDED
) {

227 
	`run_cmd
(
CMD_SUSPEND_STATE_CHANGED
, 0);

230 ià(
ÃwS‹
 =ğ
USBD_STATE_SUSPENDED
) {

231 
	`run_cmd
(
CMD_SUSPEND_STATE_CHANGED
, 1);

242 ià(
ÃwS‹
 =ğ
USBD_STATE_NONE
) {

243 
	`run_cmd
(
CMD_BUSRESET
, 0);

245 
	}
}

247 
	$usbh®_£tupcmd_cb
(cÚ¡ 
USB_S‘up_Ty³Def
 *
£tup
)

249 
TRACE_FUNC_IN
;

250 ià(!
£tup
) {

251 
	`EFM_ASSERT
(
çl£
);

252  
USB_STATUS_REQ_ERR
;

255 
	`memıy
(
•0£tupd©a
, 
£tup
, 8);

256 
	`run_cmd
(
CMD_EP0SETUP
, 0);

258  
USB_STATUS_OK
;

259 
	}
}

261 
	$usbh®_sof_cb
(
ušt16_t
 
äameNum
)

263 
	`run_cmd
(
CMD_SOF
, 
äameNum
);

264 
	}
}

266 
	$usbh®_ä“_bufãrs
()

268 #ifdeà
USB_USE_DYNAMIC_MEMORY


269 
TRACE_FUNC_IN
;

271 
i
=
EP1OUT
 ; i<
NUMBER_OF_ENDPOINTS
 ; i++ ) {

272 ià(
•_¡©e
[
i
].
d©a_buf
) {

273 
	`ä“
(
•_¡©e
[
i
].
d©a_buf
);

274 
•_¡©e
[
i
].
d©a_buf
 = 
NULL
;

278 
	}
}

280 
	gUSBHAL
::
	$cÚÃù
()

282 
TRACE_FUNC_IN
;

286 cÚ¡ 
ušt8_t
 
bufãr_muÉl›r
[] = { 1 };

287 cÚ¡ 
USBD_C®lbacks_Ty³Def
 
usbd_ÿÎbacks
 = {

288 .
usbRe£t
 = 
usbh®_»£t_cb
,

289 .
usbS‹Chªge
 = 
usbh®_¡©e_chªge_cb
,

290 .
£tupCmd
 = 
usbh®_£tupcmd_cb
,

291 .
isS–fPow”ed
 = 
NULL
,

292 .
sofIÁ
 = 
usbh®_sof_cb


295 
USBD_In™_Ty³Def
 
š™d©a
 = {

296 .
deviûDesütÜ
 = 
NULL
,

297 .
cÚfigDesütÜ
 = 
NULL
,

298 .
¡ršgDesütÜs
 = 
NULL
,

299 .
numb”OfSŒšgs
 = 0,

300 .
bufãršgMuÉl›r
 = 
bufãr_muÉl›r
,

301 .
ÿÎbacks
 = &
usbd_ÿÎbacks
,

302 .
»£rved
 = 0

305 
»t
 = 
	`USBD_In™
(&
š™d©a
);

307 
	`TRACE
("š™ = %d, deviûdesøğ%lx, cÚfigdesøğ%lx", 
»t
,

308 (
ušt32_t
è
š™d©a
.
deviûDesütÜ
,

309 (
ušt32_t
è
š™d©a
.
cÚfigDesütÜ
);

311 
	`EFM_ASSERT
(
»t
 =ğ
USB_STATUS_OK
);

312 
	}
}

314 
	gUSBHAL
::
	$discÚÃù
()

316 
TRACE_FUNC_IN
;

317 
	`USBD_DiscÚÃù
();

318 
	}
}

320 
	gUSBHAL
::
	$cÚfigu»Deviû
()

322 
TRACE_FUNC_IN
;

323 
	`USBD_S‘UsbS‹
(
USBD_STATE_CONFIGURED
);

324 
	}
}

326 
	gUSBHAL
::
	$uncÚfigu»Deviû
()

328 
TRACE_FUNC_IN
;

329 
	`USBD_S‘UsbS‹
(
USBD_STATE_DEFAULT
);

330 
	`usbh®_ä“_bufãrs
();

331 
	}
}

333 
	gUSBHAL
::
	$£tAdd»ss
(
ušt8_t
 
add»ss
)

335 
	`TRACE_FUNC_IN_P
("add¸0x%x", ()
add»ss
);

336 
	`USBD_S‘Add»ss
(
add»ss
);

337 
	}
}

339 
	gUSBHAL
::
	$»mÙeWakeup
()

341 
TRACE_FUNC_IN
;

342 
	`USBD_RemÙeWakeup
();

343 
	}
}

345 
	gUSBHAL
::
	$EP0£tup
(
ušt8_t
 *
bufãr
)

347 
TRACE_FUNC_IN
;

348 
	`EFM_ASSERT
(
bufãr
);

349 ià(
bufãr
) {

350 
	`memıy
(
bufãr
, 
•0£tupd©a
, 8);

352 
	}
}

354 
	gUSBHAL
::
	$EP0»ad
()

356 
TRACE_FUNC_IN
;

357 ()
	`š‹ºEndpoštR—d
(0, 
MAX_PACKET_SIZE_EP0
);

358 
	}
}

360 
	gUSBHAL
::
	$EP0»adSge
()

362 
TRACE_FUNC_IN
;

364 
	}
}

366 
ušt32_t
 
	gUSBHAL
::
	$EP0g‘R—dResuÉ
(
ušt8_t
 *
bufãr
)

368 
TRACE_FUNC_IN
;

369 
	`EFM_ASSERT
(
bufãr
);

371 
ušt32_t
 
»ad
 = 0;

372 
	`’dpoštR—dResuÉ
(0, 
bufãr
, &
»ad
);

373  
»ad
;

374 
	}
}

376 
	$usbh®_xãr_com¶‘e_cb
(
ušt8_t
 
•
, 
USB_Stus_Ty³Def
 
¡©us
,

377 
ušt32_t
 
xã¼ed
, ušt32_ˆ
»maššg
)

379 
	`TRACE_FUNC_IN_P
("ep 0x%x, status %u, xferred %lu,„em %lu",

380 
•
, 
¡©us
, 
xã¼ed
, 
»maššg
);

382 ià(
•
 >ğ
NUMBER_OF_ENDPOINTS
) {

383 
	`EFM_ASSERT
(
çl£
);

384  
USB_STATUS_REQ_ERR
;

387 
•
) {

388 
EP0OUT
:

389 ià(
•_¡©e
[
EP0OUT
].
¡©us
 =ğ
READ_PENDING
) {

390 
•_¡©e
[
EP0OUT
].
¡©us
 = 
READ_COMPLETE
;

391 
•_¡©e
[
EP0OUT
].
by‹_couÁ
 = 
xã¼ed
;

393 ià(
xã¼ed
 == 0) {

397 
	`run_cmd
(
CMD_EP0OUT
, 0);

400 
EP0IN
:

401 
	`run_cmd
(
CMD_EP0IN
, 0);

405 
boŞ
 
wr™e
 = 
•
 & 1;

407 ià(
¡©us
 =ğ
USB_STATUS_OK
) {

408 ià(!
wr™e
 && 
•_¡©e
[
•
].
¡©us
 =ğ
READ_PENDING
) {

409 
•_¡©e
[
•
].
¡©us
 = 
READ_COMPLETE
;

410 
•_¡©e
[
•
].
by‹_couÁ
 = 
xã¼ed
;

411 } ià(
wr™e
 && 
•_¡©e
[
•
].
¡©us
 =ğ
WRITE_PENDING
) {

412 
•_¡©e
[
•
].
¡©us
 = 
WRITE_COMPLETE
;

414 
•_¡©e
[
•
].
¡©us
 = 
FAILED_INVALID
;

417 
•_¡©e
[
•
].
¡©us
 = 
FAILED_INVALID
;

420 ià(
•_¡©e
[
•
].
¡©us
 !ğ
FAILED_INVALID
) {

421 
	`run_cmd
(
CMD_EP_XFER_COMPLETED
, 
•
);

426  
USB_STATUS_OK
;

427 
	}
}

429 
	gUSBHAL
::
	$EP0wr™e
(
ušt8_t
 *
bufãr
, 
ušt32_t
 
size
)

433 
»t
;

434 
USB_XãrCom¶‘eCb_Ty³Def
 
cb
 = 
•_¡©e
[
EP0IN
].
š‹º_cb
;

436 
	`EFM_ASSERT
((
bufãr
 !ğ
NULL
è|| (
size
 == 0));

437 
	`EFM_ASSERT
(
size
 <ğ
MAX_PACKET_SIZE_EP0
);

439 ià(!
bufãr
 || 
size
 == 0) {

441 
cb
 = 
NULL
;

444 ià(
bufãr
 && !
	`is_®igÃd
(buffer,4)) {

446 
	`memıy
(
•_¡©e
[
EP0IN
].
d©a_buf
, 
bufãr
, 
size
);

447 
»t
 = 
	`USBD_Wr™e
(0, 
•_¡©e
[
EP0IN
].
d©a_buf
, 
size
, 
cb
);

449 
»t
 = 
	`USBD_Wr™e
(0, 
bufãr
, 
size
, 
cb
);

452 ià(
»t
 !ğ
USB_STATUS_OK
) {

453 
	`TRACE
("FAILED -„‘ %d", 
»t
);

455 
	}
}

457 
	gUSBHAL
::
	$EP0¡®l
()

459 
TRACE_FUNC_IN
;

460 
	`USBD_SÎEp0
();

461 
	}
}

463 
EP_STATUS
 
	$š‹ºEndpoštR—d
(
ušt8_t
 
•
, 
ušt32_t
 
maxSize
)

467 ià(
•
 >ğ
NUMBER_OF_ENDPOINTS
) {

468 
	`EFM_ASSERT
(
çl£
);

469  
EP_INVALID
;

472 
•_¡©e
[
•
].
¡©us
 = 
READ_PENDING
;

474 
»t
 = 
	`USBD_R—d
(
	`USB_EP_TO_ADDR
(
•
), 
•_¡©e
[•].
d©a_buf
, 
maxSize
,

475 
•_¡©e
[
•
].
š‹º_cb
);

477 ià(
»t
 =ğ
USB_STATUS_OK
) {

478  
EP_PENDING
;

480 
	`TRACE
("FAILED -„‘ %d", 
»t
);

482 ià(
»t
 =ğ
USB_STATUS_EP_STALLED
) {

483  
EP_STALLED
;

485  
EP_INVALID
;

488 
	}
}

490 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštR—d
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maximumSize
)

492  
	`š‹ºEndpoštR—d
(
’dpošt
, 
maximumSize
);

493 
	}
}

495 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštR—dResuÉ
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
d©a
, 
ušt32_t
 *
by‹sR—d
)

497 
TRACE_FUNC_IN
;

499 ià(
’dpošt
 >ğ
NUMBER_OF_ENDPOINTS
) {

500 
	`EFM_ASSERT
(
çl£
);

501  
EP_INVALID
;

504 
	`EFM_ASSERT
(
d©a
);

505 
	`EFM_ASSERT
(
by‹sR—d
);

506 ià(!
d©a
 || !
by‹sR—d
) {

507  
EP_INVALID
;

510 
•_¡©e
[
’dpošt
].
¡©us
) {

511 
READ_PENDING
:

512  
EP_PENDING
;

514 
READ_COMPLETE
:

515 
	`memıy
(
d©a
, 
•_¡©e
[
’dpošt
].
d©a_buf
,ƒp_¡©e[’dpošt].
by‹_couÁ
);

516 *
by‹sR—d
 = 
•_¡©e
[
’dpošt
].
by‹_couÁ
;

517 
•_¡©e
[
’dpošt
].
¡©us
 = 
IDLE
;

518  
EP_COMPLETED
;

520 
FAILED_STALLED
:

521 
•_¡©e
[
’dpošt
].
¡©us
 = 
IDLE
;

522  
EP_STALLED
;

525 
•_¡©e
[
’dpošt
].
¡©us
 = 
IDLE
;

526  
EP_INVALID
;

528 
	}
}

530 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštWr™e
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
d©a
, 
ušt32_t
 
size
)

532 
	`TRACE_FUNC_IN_P
("’dpošˆ0x%x, d©¨0x%lx, siz%lu", ()
’dpošt
, (
ušt32_t
)
d©a
, 
size
);

534 
	`EFM_ASSERT
(
’dpošt
 < 
NUMBER_OF_ENDPOINTS
);

535 
	`EFM_ASSERT
(
’dpošt
 > 
EP0IN
);

536 
	`EFM_ASSERT
(
size
 <ğ
•_¡©e
[
’dpošt
].
max_·ck‘
);

537 
	`EFM_ASSERT
(
d©a
);

539 
ušt8_t
 
•
 = 
	`USB_EP_TO_INDEX
(
’dpošt
);

541 ià(
’dpošt
 >ğ
NUMBER_OF_ENDPOINTS
 ||ƒndpošˆ<ğ
EP0IN
) {

542  
EP_INVALID
;

545 ià(
size
 > 
•_¡©e
[
’dpošt
].
max_·ck‘
) {

546  
EP_INVALID
;

549 ià(!
d©a
) {

550  
EP_INVALID
;

553 
	`memıy
(
•_¡©e
[
•
].
d©a_buf
, 
d©a
, 
size
);

555 
•_¡©e
[
•
].
¡©us
 = 
WRITE_PENDING
;

556 
»t
 = 
	`USBD_Wr™e
(
	`USB_EP_TO_ADDR
(
’dpošt
), 
•_¡©e
[
•
].
d©a_buf
, 
size
,ƒp_¡©e[•].
š‹º_cb
);

558 ià(
»t
 =ğ
USB_STATUS_EP_STALLED
) {

559 
•_¡©e
[
•
].
¡©us
 = 
IDLE
;

560  
EP_STALLED
;

561 } ià(
»t
 !ğ
USB_STATUS_OK
) {

562 
•_¡©e
[
•
].
¡©us
 = 
IDLE
;

563  
EP_INVALID
;

566  
EP_PENDING
;

567 
	}
}

569 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštWr™eResuÉ
(
ušt8_t
 
’dpošt
)

571 ià(
’dpošt
 >ğ
NUMBER_OF_ENDPOINTS
) {

572 
	`EFM_ASSERT
(
çl£
);

573  
EP_INVALID
;

576 
•_¡©e
[
’dpošt
].
¡©us
) {

577 
WRITE_PENDING
:

578  
EP_PENDING
;

580 
WRITE_COMPLETE
:

581 
•_¡©e
[
’dpošt
].
¡©us
 = 
IDLE
;

582  
EP_COMPLETED
;

584 
FAILED_STALLED
:

585 
•_¡©e
[
’dpošt
].
¡©us
 = 
IDLE
;

586  
EP_STALLED
;

589 
•_¡©e
[
’dpošt
].
¡©us
 = 
IDLE
;

590  
EP_INVALID
;

592 
	}
}

594 
	gUSBHAL
::
	$¡®lEndpošt
(
ušt8_t
 
’dpošt
)

596 
TRACE_FUNC_IN
;

598 
	`EFM_ASSERT
(
’dpošt
 < 
NUMBER_OF_ENDPOINTS
);

599 
	`EFM_ASSERT
((
’dpošt
 !ğ
EP0OUT
è&& (’dpošˆ!ğ
EP0IN
));

601 
	`USBD_SÎEp
(
	`USB_EP_TO_ADDR
(
’dpošt
));

602 
	}
}

604 
	gUSBHAL
::
	$un¡®lEndpošt
(
ušt8_t
 
’dpošt
)

606 
TRACE_FUNC_IN
;

608 
	`EFM_ASSERT
(
’dpošt
 < 
NUMBER_OF_ENDPOINTS
);

609 
	`EFM_ASSERT
((
’dpošt
 !ğ
EP0OUT
è&& (’dpošˆ!ğ
EP0IN
));

611 
	`USBD_UnSÎEp
(
	`USB_EP_TO_ADDR
(
’dpošt
));

612 
	}
}

614 
boŞ
 
	gUSBHAL
::
	$»®i£Endpošt
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maxPack‘
, ušt32_ˆ
İtiÚs
)

616 
	`TRACE_FUNC_IN_P
("’dpošˆ%d,…ack‘siz%ld, o±iÚ 0x%lx", 
’dpošt
,

617 
maxPack‘
, 
İtiÚs
);

619 
muÉ
 = 1;

620 
ty³
 = 
USB_EPTYPE_INTR
;

622 ià(
’dpošt
 >ğ
NUMBER_OF_ENDPOINTS
) {

623 
	`EFM_ASSERT
(
çl£
);

624  
çl£
;

627 ià(
’dpošt
 =ğ
EP0IN
 ||ƒndpošˆ=ğ
EP0OUT
) {

628 
	`EFM_ASSERT
(
çl£
);

629  
çl£
;

632 
•_¡©e
[
’dpošt
].
max_·ck‘
 = 0;

634 ià(
’dpošt
 =ğ
EPISO_OUT
 ||ƒndpošˆ=ğ
EPISO_IN
) {

635 ià(
maxPack‘
 > 
MAX_PACKET_SIZE_EPISO
) {

636 
	`EFM_ASSERT
(
çl£
);

637  
çl£
;

639 } ià((
maxPack‘
 > 
MAX_PACKET_SIZE_EPBULK
è|| (maxPack‘ > 
MAX_PACKET_SIZE_EPINT
)) {

640 
	`EFM_ASSERT
(
çl£
);

641  
çl£
;

651 
	`USBD_S‘UsbS‹
(
USBD_STATE_CONFIGURED
);

654 
’dpošt
) {

655 
EPBULK_OUT
:

656 
EPBULK_IN
:

657 
ty³
 = 
USB_EPTYPE_BULK
;

658 
muÉ
 = 2;

660 
EPINT_OUT
:

661 
EPINT_IN
:

662 
ty³
 = 
USB_EPTYPE_INTR
;

663 
muÉ
 = 1;

665 
EPISO_OUT
:

666 
EPISO_IN
:

667 
ty³
 = 
USB_EPTYPE_ISOC
;

668 
muÉ
 = 2;

673 ifĞ
İtiÚs
 & 
ISOCHRONOUS
 ) {

674 
ty³
 = 
USB_EPTYPE_ISOC
;

675 
muÉ
 = 2;

676 } iàĞ
İtiÚs
 & 
RATE_FEEDBACK_MODE
 ) {

678 
ty³
 = 
USB_EPTYPE_INTR
;

679 
muÉ
 = 1;

682 #ifdeà
USB_USE_DYNAMIC_MEMORY


683 ià(
•_¡©e
[
’dpošt
].
d©a_buf
) {

684 
	`ä“
(
•_¡©e
[
’dpošt
].
d©a_buf
);

687 
•_¡©e
[
’dpošt
].
d©a_buf
 = (
ušt8_t
 *)
	`m®loc
(
maxPack‘
);

689 ià(!
•_¡©e
[
’dpošt
].
d©a_buf
) {

690 
	`EFM_ASSERT
(
çl£
);

691  
çl£
;

695 
»t
 = 
	`USBD_AddEndpošt
(
	`USB_EP_TO_ADDR
(
’dpošt
), 
ty³
, 
maxPack‘
, 
muÉ
);

697 ià(
»t
 =ğ
USB_STATUS_OK
) {

698 
•_¡©e
[
’dpošt
].
¡©us
 = 
IDLE
;

699 
•_¡©e
[
’dpošt
].
max_·ck‘
 = 
maxPack‘
;

700  
Œue
;

702  
çl£
;

704 
	}
}

706 
boŞ
 
	gUSBHAL
::
	$g‘EndpoštSÎS‹
(
’dpošt
)

708 
TRACE_FUNC_IN
;

709 ià(
’dpošt
 >ğ
NUMBER_OF_ENDPOINTS
) {

710 
	`EFM_ASSERT
(
çl£
);

711  
çl£
;

713  
	`USBD_EpIsSÎed
(
	`USB_EP_TO_ADDR
(
’dpošt
));

714 
	}
}

716 
	$run_cmd
(
USBISRCommªd
 
cmd
, 
ušt32_t
 
·¿m
)

718 ià(
usb_i¤cmd
 !ğ
CMD_HANDLED
 || 
cmd
 >ğ
CMD_ENUM_END_MARKER
) {

719 
	`EFM_ASSERT
(
çl£
);

720 
	`abÜt
();

723 
usb_i¤cmd
 = 
cmd
;

724 
usb_i¤cmd_·¿m
 = 
·¿m
;

725 
	`i¤±r
();

726 
	}
}

728 
	gUSBHAL
::
	$_usbi¤
()

730 
	`EFM_ASSERT
(
š¡ªû
);

731 
š¡ªû
->
	`usbi¤
();

732 
	}
}

734 
	gUSBHAL
::
	$usbi¤
()

742 
	`EFM_ASSERT
(
usb_i¤cmd
 !ğ
CMD_HANDLED
);

743 
usb_i¤cmd
) {

744 
CMD_EP0SETUP
:

745 
this
->
	`EP0£tupC®lback
();

747 
CMD_EP0IN
:

748 
this
->
	`EP0š
();

750 
CMD_EP0OUT
:

751 
this
->
	`EP0out
();

753 
CMD_BUSRESET
:

754 
this
->
	`busRe£t
();

756 
CMD_EP_XFER_COMPLETED
:

757 ià(
•C®lback
[
usb_i¤cmd_·¿m
] && 
š¡ªû
) {

758 (
š¡ªû
->*(
•C®lback
[
usb_i¤cmd_·¿m
]))();

761 
CMD_SOF
:

762 
this
->
	`SOF
(
usb_i¤cmd_·¿m
);

764 
CMD_SUSPEND_STATE_CHANGED
:

765 
this
->
	`su¥’dS‹Chªged
(
usb_i¤cmd_·¿m
);

768 
	`EFM_ASSERT
(
çl£
);

771 
usb_i¤cmd
 = 
CMD_HANDLED
;

772 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBHAL_KL25Z.cpp

19 #ià
defšed
(
TARGET_KL25Z
è| defšed(
TARGET_KL43Z
è| defšed(
TARGET_KL46Z
è| defšed(
TARGET_K20D50M
è| defšed(
TARGET_K64F
è| defšed(
TARGET_K22F
è| defšed(
TARGET_TEENSY3_1
)

21 
	~"USBHAL.h
"

23 
USBHAL
 * 
	gUSBHAL
::
š¡ªû
;

25 vŞ©
	g•Com¶‘e
 = 0;

28 
	#EP
(
’dpošt
è(1<<Óndpošt))

	)

31 
	#PHY_TO_LOG
(
’dpošt
è(Óndpošt)>>1)

	)

34 
	#IN_EP
(
’dpošt
è(Óndpoštè& 1U ? 
Œue
 : 
çl£
)

	)

35 
	#OUT_EP
(
’dpošt
è(Óndpoštè& 1U ? 
çl£
 : 
Œue
)

	)

37 
	#BD_OWN_MASK
 (1<<7)

	)

38 
	#BD_DATA01_MASK
 (1<<6)

	)

39 
	#BD_KEEP_MASK
 (1<<5)

	)

40 
	#BD_NINC_MASK
 (1<<4)

	)

41 
	#BD_DTS_MASK
 (1<<3)

	)

42 
	#BD_STALL_MASK
 (1<<2)

	)

44 
	#TX
 1

	)

45 
	#RX
 0

	)

46 
	#ODD
 0

	)

47 
	#EVEN
 1

	)

49 
	#EP_BDT_IDX
(
•
, 
dœ
, 
odd
è((Ó°* 4è+ (2 * dœè+ (1 * odd)))

	)

51 
	#SETUP_TOKEN
 0x0D

	)

52 
	#IN_TOKEN
 0x09

	)

53 
	#OUT_TOKEN
 0x01

	)

54 
	#TOK_PID
(
idx
è((
bdt
[idx].
šfo
 >> 2è& 0x0F)

	)

57 
	sBDT
 {

58 
ušt8_t
 
	mšfo
;

59 
ušt8_t
 
	mdummy
;

60 
ušt16_t
 
	mby‹_couÁ
;

61 
ušt32_t
 
	madd»ss
;

62 } 
	tBDT
;

68 
__©Œibu‹__
((
	$__®igÃd__
(512))è
BDT
 
bdt
[
NUMBER_OF_PHYSICAL_ENDPOINTS
 * 2];

69 
ušt8_t
 * 
’dpošt_bufãr
[(
NUMBER_OF_PHYSICAL_ENDPOINTS
 - 2) * 2];

70 
ušt8_t
 * 
’dpošt_bufãr_iso
[2*2];

72 
ušt8_t
 
£t_addr
 = 0;

73 
ušt8_t
 
addr
 = 0;

75 
ušt32_t
 
D©a1
 = 0x55555555;

77 
ušt32_t
 
	$äameNumb”
() {

78 ((
USB0
->
FRMNUML
 | (USB0->
FRMNUMH
 << 8)) & 0x07FF);

79 
	}
}

81 
ušt32_t
 
	gUSBHAL
::
	$’dpoštR—dcÜe
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
bufãr
) {

83 
	}
}

85 
	gUSBHAL
::
	$USBHAL
() {

87 
	`NVIC_Di§bËIRQ
(
USB0_IRQn
);

89 #ià
	`defšed
(
TARGET_K64F
)

90 
MPU
->
CESR
=0;

93 
•C®lback
[0] = &
USBHAL
::
EP1_OUT_ÿÎback
;

94 
•C®lback
[1] = &
USBHAL
::
EP1_IN_ÿÎback
;

95 
•C®lback
[2] = &
USBHAL
::
EP2_OUT_ÿÎback
;

96 
•C®lback
[3] = &
USBHAL
::
EP2_IN_ÿÎback
;

97 
•C®lback
[4] = &
USBHAL
::
EP3_OUT_ÿÎback
;

98 
•C®lback
[5] = &
USBHAL
::
EP3_IN_ÿÎback
;

99 
•C®lback
[6] = &
USBHAL
::
EP4_OUT_ÿÎback
;

100 
•C®lback
[7] = &
USBHAL
::
EP4_IN_ÿÎback
;

101 
•C®lback
[8] = &
USBHAL
::
EP5_OUT_ÿÎback
;

102 
•C®lback
[9] = &
USBHAL
::
EP5_IN_ÿÎback
;

103 
•C®lback
[10] = &
USBHAL
::
EP6_OUT_ÿÎback
;

104 
•C®lback
[11] = &
USBHAL
::
EP6_IN_ÿÎback
;

105 
•C®lback
[12] = &
USBHAL
::
EP7_OUT_ÿÎback
;

106 
•C®lback
[13] = &
USBHAL
::
EP7_IN_ÿÎback
;

107 
•C®lback
[14] = &
USBHAL
::
EP8_OUT_ÿÎback
;

108 
•C®lback
[15] = &
USBHAL
::
EP8_IN_ÿÎback
;

109 
•C®lback
[16] = &
USBHAL
::
EP9_OUT_ÿÎback
;

110 
•C®lback
[17] = &
USBHAL
::
EP9_IN_ÿÎback
;

111 
•C®lback
[18] = &
USBHAL
::
EP10_OUT_ÿÎback
;

112 
•C®lback
[19] = &
USBHAL
::
EP10_IN_ÿÎback
;

113 
•C®lback
[20] = &
USBHAL
::
EP11_OUT_ÿÎback
;

114 
•C®lback
[21] = &
USBHAL
::
EP11_IN_ÿÎback
;

115 
•C®lback
[22] = &
USBHAL
::
EP12_OUT_ÿÎback
;

116 
•C®lback
[23] = &
USBHAL
::
EP12_IN_ÿÎback
;

117 
•C®lback
[24] = &
USBHAL
::
EP13_OUT_ÿÎback
;

118 
•C®lback
[25] = &
USBHAL
::
EP13_IN_ÿÎback
;

119 
•C®lback
[26] = &
USBHAL
::
EP14_OUT_ÿÎback
;

120 
•C®lback
[27] = &
USBHAL
::
EP14_IN_ÿÎback
;

121 
•C®lback
[28] = &
USBHAL
::
EP15_OUT_ÿÎback
;

122 
•C®lback
[29] = &
USBHAL
::
EP15_IN_ÿÎback
;

124 #ià
	`defšed
(
TARGET_KL43Z
)

126 
SIM
->
SCGC4
 |ğ
SIM_SCGC4_USBFS_MASK
;

129 
USB0
->
CLK_RECOVER_IRC_EN
 |ğ
USB_CLK_RECOVER_IRC_EN_IRC_EN_MASK
;

132 
USB0
->
CLK_RECOVER_CTRL
 |ğ
USB_CLK_RECOVER_CTRL_CLOCK_RECOVER_EN_MASK
;

135 
SIM
->
SOPT2
 |ğ
SIM_SOPT2_USBSRC_MASK
;

138 
SIM
->
SOPT2
 &ğ~
SIM_SOPT2_PLLFLLSEL_MASK
;

139 
SIM
->
SOPT2
 |ğ(
SIM_SOPT2_USBSRC_MASK
 | (1 << 
SIM_SOPT2_PLLFLLSEL_SHIFT
));

142 
SIM
->
SCGC4
 |ğ
SIM_SCGC4_USBOTG_MASK
;

146 
š¡ªû
 = 
this
;

147 
	`NVIC_S‘VeùÜ
(
USB0_IRQn
, (
ušt32_t
)&
_usbi¤
);

148 
	`NVIC_EÇbËIRQ
(
USB0_IRQn
);

152 
USB0
->
USBTRC0
 |ğ
USB_USBTRC0_USBRESET_MASK
;

153 
USB0
->
USBTRC0
 & 
USB_USBTRC0_USBRESET_MASK
);

156 
USB0
->
BDTPAGE1
 = (
ušt8_t
)((
ušt32_t
)
bdt
>>8);

157 
USB0
->
BDTPAGE2
 = (
ušt8_t
)((
ušt32_t
)
bdt
>>16);

158 
USB0
->
BDTPAGE3
 = (
ušt8_t
)((
ušt32_t
)
bdt
>>24);

161 
USB0
->
ISTAT
 = 0xff;

164 
USB0
->
INTEN
 |ğ
USB_INTEN_TOKDNEEN_MASK
 |

165 
USB_INTEN_SOFTOKEN_MASK
 |

166 
USB_INTEN_ERROREN_MASK
 |

167 
USB_INTEN_USBRSTEN_MASK
;

170 
USB0
->
USBCTRL
 &ğ~(
USB_USBCTRL_PDE_MASK
 | 
USB_USBCTRL_SUSP_MASK
);

172 
USB0
->
USBTRC0
 |= 0x40;

173 
	}
}

175 
	gUSBHAL
::~
	$USBHAL
(è{ 
	}
}

177 
USBHAL
::
	$cÚÃù
() {

179 
USB0
->
CTL
 |ğ
USB_CTL_USBENSOFEN_MASK
;

181 
USB0
->
CONTROL
 |ğ
USB_CONTROL_DPPULLUPNONOTG_MASK
;

182 
	}
}

184 
	gUSBHAL
::
	$discÚÃù
() {

186 
USB0
->
CTL
 &ğ~
USB_CTL_USBENSOFEN_MASK
;

188 
USB0
->
CONTROL
 &ğ~
USB_CONTROL_DPPULLUPNONOTG_MASK
;

191 
i
 = 0; i<(
NUMBER_OF_PHYSICAL_ENDPOINTS
 - 2) * 2; i++) {

192 
	`ä“
(
’dpošt_bufãr
[
i
]);

193 
’dpošt_bufãr
[
i
] = 
NULL
;

195 
	`ä“
(
’dpošt_bufãr_iso
[2]);

196 
’dpošt_bufãr_iso
[2] = 
NULL
;

197 
	`ä“
(
’dpošt_bufãr_iso
[0]);

198 
’dpošt_bufãr_iso
[0] = 
NULL
;

199 
	}
}

201 
	gUSBHAL
::
	$cÚfigu»Deviû
() {

203 
	}
}

205 
USBHAL
::
	$uncÚfigu»Deviû
() {

207 
	}
}

209 
USBHAL
::
	$£tAdd»ss
(
ušt8_t
 
add»ss
) {

213 
£t_addr
 = 1;

214 
addr
 = 
add»ss
;

215 
	}
}

217 
boŞ
 
	gUSBHAL
::
	$»®i£Endpošt
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maxPack‘
, ušt32_ˆ
æags
) {

218 
ušt32_t
 
hªdshake_æag
 = 0;

219 
ušt8_t
 * 
buf
;

221 ià(
’dpošt
 > 
NUMBER_OF_PHYSICAL_ENDPOINTS
 - 1) {

222  
çl£
;

225 
ušt32_t
 
log_’dpošt
 = 
	`PHY_TO_LOG
(
’dpošt
);

227 ià((
æags
 & 
ISOCHRONOUS
) == 0) {

228 
hªdshake_æag
 = 
USB_ENDPT_EPHSHK_MASK
;

229 ià(
	`IN_EP
(
’dpošt
)) {

230 ià(
’dpošt_bufãr
[
	`EP_BDT_IDX
(
log_’dpošt
, 
TX
, 
ODD
)] =ğ
NULL
)

231 
’dpošt_bufãr
[
	`EP_BDT_IDX
(
log_’dpošt
, 
TX
, 
ODD
)] = (
ušt8_t
 *è
	`m®loc
 (64);

232 
buf
 = &
’dpošt_bufãr
[
	`EP_BDT_IDX
(
log_’dpošt
, 
TX
, 
ODD
)][0];

234 ià(
’dpošt_bufãr
[
	`EP_BDT_IDX
(
log_’dpošt
, 
RX
, 
ODD
)] =ğ
NULL
)

235 
’dpošt_bufãr
[
	`EP_BDT_IDX
(
log_’dpošt
, 
RX
, 
ODD
)] = (
ušt8_t
 *è
	`m®loc
 (64);

236 
buf
 = &
’dpošt_bufãr
[
	`EP_BDT_IDX
(
log_’dpošt
, 
RX
, 
ODD
)][0];

239 ià(
	`IN_EP
(
’dpošt
)) {

240 ià(
’dpošt_bufãr_iso
[2] =ğ
NULL
)

241 
’dpošt_bufãr_iso
[2] = (
ušt8_t
 *è
	`m®loc
 (1023);

242 
buf
 = &
’dpošt_bufãr_iso
[2][0];

244 ià(
’dpošt_bufãr_iso
[0] =ğ
NULL
)

245 
’dpošt_bufãr_iso
[0] = (
ušt8_t
 *è
	`m®loc
 (1023);

246 
buf
 = &
’dpošt_bufãr_iso
[0][0];

251 ià(
	`IN_EP
(
’dpošt
)) {

252 
USB0
->
ENDPOINT
[
log_’dpošt
].
ENDPT
 |ğ
hªdshake_æag
 |

253 
USB_ENDPT_EPTXEN_MASK
;

254 
bdt
[
	`EP_BDT_IDX
(
log_’dpošt
, 
TX
, 
ODD
 )].
add»ss
 = (
ušt32_t
è
buf
;

255 
bdt
[
	`EP_BDT_IDX
(
log_’dpošt
, 
TX
, 
EVEN
)].
add»ss
 = 0;

259 
USB0
->
ENDPOINT
[
log_’dpošt
].
ENDPT
 |ğ
hªdshake_æag
 |

260 
USB_ENDPT_EPRXEN_MASK
;

261 
bdt
[
	`EP_BDT_IDX
(
log_’dpošt
, 
RX
, 
ODD
 )].
by‹_couÁ
 = 
maxPack‘
;

262 
bdt
[
	`EP_BDT_IDX
(
log_’dpošt
, 
RX
, 
ODD
 )].
add»ss
 = (
ušt32_t
è
buf
;

263 
bdt
[
	`EP_BDT_IDX
(
log_’dpošt
, 
RX
, 
ODD
 )].
šfo
 = 
BD_OWN_MASK
 | 
BD_DTS_MASK
;

264 
bdt
[
	`EP_BDT_IDX
(
log_’dpošt
, 
RX
, 
EVEN
)].
šfo
 = 0;

267 
D©a1
 |ğ(1 << 
’dpošt
);

269  
Œue
;

270 
	}
}

273 
	gUSBHAL
::
	$EP0£tup
(
ušt8_t
 *
bufãr
) {

274 
ušt32_t
 
sz
;

275 
	`’dpoštR—dResuÉ
(
EP0OUT
, 
bufãr
, &
sz
);

276 
	}
}

278 
	gUSBHAL
::
	$EP0»adSge
() {

279 
D©a1
 &= ~1UL;

280 
bdt
[0].
šfo
 = (
BD_DTS_MASK
 | 
BD_OWN_MASK
);

281 
	}
}

283 
	gUSBHAL
::
	$EP0»ad
() {

284 
ušt32_t
 
idx
 = 
	`EP_BDT_IDX
(
	`PHY_TO_LOG
(
EP0OUT
), 
RX
, 0);

285 
bdt
[
idx
].
by‹_couÁ
 = 
MAX_PACKET_SIZE_EP0
;

286 
	}
}

288 
ušt32_t
 
	gUSBHAL
::
	$EP0g‘R—dResuÉ
(
ušt8_t
 *
bufãr
) {

289 
ušt32_t
 
sz
;

290 
	`’dpoštR—dResuÉ
(
EP0OUT
, 
bufãr
, &
sz
);

291  
sz
;

292 
	}
}

294 
	gUSBHAL
::
	$EP0wr™e
(
ušt8_t
 *
bufãr
, 
ušt32_t
 
size
) {

295 
	`’dpoštWr™e
(
EP0IN
, 
bufãr
, 
size
);

296 
	}
}

298 
	gUSBHAL
::
	$EP0g‘Wr™eResuÉ
() {

299 
	}
}

301 
USBHAL
::
	$EP0¡®l
() {

302 
	`¡®lEndpošt
(
EP0OUT
);

303 
	}
}

305 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštR—d
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maximumSize
) {

306 
’dpošt
 = 
	`PHY_TO_LOG
(endpoint);

307 
ušt32_t
 
idx
 = 
	`EP_BDT_IDX
(
’dpošt
, 
RX
, 0);

308 
bdt
[
idx
].
by‹_couÁ
 = 
maximumSize
;

309  
EP_PENDING
;

310 
	}
}

312 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštR—dResuÉ
(
ušt8_t
 
’dpošt
, ušt8_ˆ* 
bufãr
, 
ušt32_t
 *
by‹sR—d
) {

313 
ušt32_t
 
n
, 
sz
, 
idx
, 
£tup
 = 0;

314 
ušt8_t
 
nÙ_iso
;

315 
ušt8_t
 * 
•_buf
;

317 
ušt32_t
 
log_’dpošt
 = 
	`PHY_TO_LOG
(
’dpošt
);

319 ià(
’dpošt
 > 
NUMBER_OF_PHYSICAL_ENDPOINTS
 - 1) {

320  
EP_INVALID
;

324 ià(
	`IN_EP
(
’dpošt
)) {

325  
EP_INVALID
;

328 
idx
 = 
	`EP_BDT_IDX
(
log_’dpošt
, 
RX
, 0);

329 
sz
 = 
bdt
[
idx
].
by‹_couÁ
;

330 
nÙ_iso
 = 
USB0
->
ENDPOINT
[
log_’dpošt
].
ENDPT
 & 
USB_ENDPT_EPHSHK_MASK
;

333 ià((
log_’dpošt
 !ğ0è&& 
nÙ_iso
 && !(
•Com¶‘e
 & 
	`EP
(
’dpošt
))) {

334  
EP_PENDING
;

337 ià((
log_’dpošt
 =ğ0è&& (
	`TOK_PID
(
idx
è=ğ
SETUP_TOKEN
)) {

338 
£tup
 = 1;

342 ià(
nÙ_iso
) {

343 
•_buf
 = 
’dpošt_bufãr
[
idx
];

345 
•_buf
 = 
’dpošt_bufãr_iso
[0];

348 
n
 = 0;‚ < 
sz
;‚++) {

349 
bufãr
[
n
] = 
•_buf
[n];

352 ià(((
D©a1
 >> 
’dpošt
è& 1è=ğ((
bdt
[
idx
].
šfo
 >> 6) & 1)) {

353 ià(
£tup
 && (
bufãr
[6] == 0))

354 
D©a1
 &= ~1UL;

356 
D©a1
 ^ğ(1 << 
’dpošt
);

359 ià(((
D©a1
 >> 
’dpošt
) & 1)) {

360 
bdt
[
idx
].
šfo
 = 
BD_DTS_MASK
 | 
BD_DATA01_MASK
 | 
BD_OWN_MASK
;

363 
bdt
[
idx
].
šfo
 = 
BD_DTS_MASK
 | 
BD_OWN_MASK
;

366 
USB0
->
CTL
 &ğ~
USB_CTL_TXSUSPENDTOKENBUSY_MASK
;

367 *
by‹sR—d
 = 
sz
;

369 
•Com¶‘e
 &ğ~
	`EP
(
’dpošt
);

370  
EP_COMPLETED
;

371 
	}
}

373 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštWr™e
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
d©a
, 
ušt32_t
 
size
) {

374 
ušt32_t
 
idx
, 
n
;

375 
ušt8_t
 * 
•_buf
;

377 ià(
’dpošt
 > 
NUMBER_OF_PHYSICAL_ENDPOINTS
 - 1) {

378  
EP_INVALID
;

382 ià(
	`OUT_EP
(
’dpošt
)) {

383  
EP_INVALID
;

386 
idx
 = 
	`EP_BDT_IDX
(
	`PHY_TO_LOG
(
’dpošt
), 
TX
, 0);

387 
bdt
[
idx
].
by‹_couÁ
 = 
size
;

391 ià(
USB0
->
ENDPOINT
[
	`PHY_TO_LOG
(
’dpošt
)].
ENDPT
 & 
USB_ENDPT_EPHSHK_MASK
) {

392 
•_buf
 = 
’dpošt_bufãr
[
idx
];

394 
•_buf
 = 
’dpošt_bufãr_iso
[2];

397 
n
 = 0;‚ < 
size
;‚++) {

398 
•_buf
[
n
] = 
d©a
[n];

401 ià((
D©a1
 >> 
’dpošt
) & 1) {

402 
bdt
[
idx
].
šfo
 = 
BD_OWN_MASK
 | 
BD_DTS_MASK
;

404 
bdt
[
idx
].
šfo
 = 
BD_OWN_MASK
 | 
BD_DTS_MASK
 | 
BD_DATA01_MASK
;

407 
D©a1
 ^ğ(1 << 
’dpošt
);

409  
EP_PENDING
;

410 
	}
}

412 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštWr™eResuÉ
(
ušt8_t
 
’dpošt
) {

413 ià(
•Com¶‘e
 & 
	`EP
(
’dpošt
)) {

414 
•Com¶‘e
 &ğ~
	`EP
(
’dpošt
);

415  
EP_COMPLETED
;

418  
EP_PENDING
;

419 
	}
}

421 
	gUSBHAL
::
	$¡®lEndpošt
(
ušt8_t
 
’dpošt
) {

422 
USB0
->
ENDPOINT
[
	`PHY_TO_LOG
(
’dpošt
)].
ENDPT
 |ğ
USB_ENDPT_EPSTALL_MASK
;

423 
	}
}

425 
	gUSBHAL
::
	$un¡®lEndpošt
(
ušt8_t
 
’dpošt
) {

426 
USB0
->
ENDPOINT
[
	`PHY_TO_LOG
(
’dpošt
)].
ENDPT
 &ğ~
USB_ENDPT_EPSTALL_MASK
;

427 
	}
}

429 
boŞ
 
	gUSBHAL
::
	$g‘EndpoštSÎS‹
(
ušt8_t
 
’dpošt
) {

430 
ušt8_t
 
¡®l
 = (
USB0
->
ENDPOINT
[
	`PHY_TO_LOG
(
’dpošt
)].
ENDPT
 & 
USB_ENDPT_EPSTALL_MASK
);

431  (
¡®l
è? 
Œue
 : 
çl£
;

432 
	}
}

434 
	gUSBHAL
::
	$»mÙeWakeup
() {

436 
	}
}

439 
USBHAL
::
	$_usbi¤
() {

440 
š¡ªû
->
	`usbi¤
();

441 
	}
}

444 
	gUSBHAL
::
	$usbi¤
() {

445 
ušt8_t
 
i
;

446 
ušt8_t
 
i¡©
 = 
USB0
->
ISTAT
;

449 ià(
i¡©
 & 
USB_ISTAT_USBRST_MASK
) {

451 
i
 = 0; i < 16; i++) {

452 
USB0
->
ENDPOINT
[
i
].
ENDPT
 = 0x00;

456 
	`»®i£Endpošt
(
EP0OUT
, 
MAX_PACKET_SIZE_EP0
, 0);

457 
	`»®i£Endpošt
(
EP0IN
, 
MAX_PACKET_SIZE_EP0
, 0);

459 
D©a1
 = 0x55555555;

460 
USB0
->
CTL
 |ğ
USB_CTL_ODDRST_MASK
;

462 
USB0
->
ISTAT
 = 0xFF;

463 
USB0
->
ERRSTAT
 = 0xFF;

464 
USB0
->
ERREN
 = 0xFF;

465 
USB0
->
ADDR
 = 0x00;

471 ià(
i¡©
 & 
USB_ISTAT_RESUME_MASK
) {

472 
USB0
->
ISTAT
 = 
USB_ISTAT_RESUME_MASK
;

476 ià(
i¡©
 & 
USB_ISTAT_SOFTOK_MASK
) {

477 
USB0
->
ISTAT
 = 
USB_ISTAT_SOFTOK_MASK
;

479 
	`SOF
(
	`äameNumb”
());

483 ià(
i¡©
 & 1<<7) {

484 ià(
USB0
->
ENDPOINT
[0].
ENDPT
 & 
USB_ENDPT_EPSTALL_MASK
)

485 
USB0
->
ENDPOINT
[0].
ENDPT
 &ğ~
USB_ENDPT_EPSTALL_MASK
;

486 
USB0
->
ISTAT
 |ğ
USB_ISTAT_STALL_MASK
;

490 ià(
i¡©
 & 1<<3) {

491 
ušt32_t
 
num
 = (
USB0
->
STAT
 >> 4) & 0x0F;

492 
ušt32_t
 
dœ
 = (
USB0
->
STAT
 >> 3) & 0x01;

493 
ušt32_t
 
ev_odd
 = (
USB0
->
STAT
 >> 2) & 0x01;

494 
’dpošt
 = (
num
 << 1è| 
dœ
;

497 ià((
num
 =ğ0è&& (
	`TOK_PID
((
	`EP_BDT_IDX
Òum, 
dœ
, 
ev_odd
))è=ğ
SETUP_TOKEN
)) {

498 
D©a1
 &= ~0x02;

499 
bdt
[
	`EP_BDT_IDX
(0, 
TX
, 
EVEN
)].
šfo
 &ğ~
BD_OWN_MASK
;

500 
bdt
[
	`EP_BDT_IDX
(0, 
TX
, 
ODD
)].
šfo
 &ğ~
BD_OWN_MASK
;

503 
	`EP0£tupC®lback
();

507 ià(
	`TOK_PID
((
	`EP_BDT_IDX
(
num
, 
dœ
, 
ev_odd
))è=ğ
OUT_TOKEN
) {

508 ià(
num
 == 0)

509 
	`EP0out
();

511 
•Com¶‘e
 |ğ
	`EP
(
’dpošt
);

512 ià((
š¡ªû
->*(
•C®lback
[
’dpošt
 - 2]))()) {

513 
•Com¶‘e
 &ğ~
	`EP
(
’dpošt
);

519 ià(
	`TOK_PID
((
	`EP_BDT_IDX
(
num
, 
dœ
, 
ev_odd
))è=ğ
IN_TOKEN
) {

520 ià(
num
 == 0) {

521 
	`EP0š
();

522 ià(
£t_addr
 == 1) {

523 
USB0
->
ADDR
 = 
addr
 & 0x7F;

524 
£t_addr
 = 0;

528 
•Com¶‘e
 |ğ
	`EP
(
’dpošt
);

529 ià((
š¡ªû
->*(
•C®lback
[
’dpošt
 - 2]))()) {

530 
•Com¶‘e
 &ğ~
	`EP
(
’dpošt
);

536 
USB0
->
ISTAT
 = 
USB_ISTAT_TOKDNE_MASK
;

540 ià(
i¡©
 & 1<<4) {

541 
USB0
->
ISTAT
 |ğ
USB_ISTAT_SLEEP_MASK
;

545 ià(
i¡©
 & 
USB_ISTAT_ERROR_MASK
) {

546 
USB0
->
ERRSTAT
 = 0xFF;

547 
USB0
->
ISTAT
 |ğ
USB_ISTAT_ERROR_MASK
;

549 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBHAL_LPC11U.cpp

19 #ià
defšed
(
TARGET_LPC11UXX
è|| defšed(
TARGET_LPC11U6X
è|| defšed(
TARGET_LPC1347
è|| defšed(
TARGET_LPC1549
)

21 #ià
defšed
(
TARGET_LPC1347
è|| defšed(
TARGET_LPC1549
)

22 
	#USB_IRQ
 
USB_IRQ_IRQn


	)

24 
	#USB_IRQ
 
USB_IRQn


	)

27 
	~"USBHAL.h
"

29 
USBHAL
 * 
	gUSBHAL
::
š¡ªû
;

30 #ià
defšed
(
TARGET_LPC1549
)

31 
ušt8_t
 
	gusbmem
[2048] 
__©Œibu‹__
((
®igÃd
(2048)));

35 
	#LAST_PHYSICAL_ENDPOINT
 (
NUMBER_OF_PHYSICAL_ENDPOINTS
-1)

	)

38 
	#EP
(
’dpošt
è(1UL<<’dpošt)

	)

41 
	#PHY_TO_LOG
(
’dpošt
è(Óndpošt)>>1)

	)

44 
	#IN_EP
(
’dpošt
è(Óndpoštè& 1U ? 
Œue
 : 
çl£
)

	)

45 
	#OUT_EP
(
’dpošt
è(Óndpoštè& 1U ? 
çl£
 : 
Œue
)

	)

48 #ià
defšed
(
TARGET_LPC1549
)

49 
	#USB_RAM_START
 ((
ušt32_t
)
usbmem
)

	)

50 
	#USB_RAM_SIZE
 (
usbmem
)

	)

52 
	#USB_RAM_START
 (0x20004000)

	)

53 
	#USB_RAM_SIZE
 (0x00000800)

	)

57 #ià
defšed
(
TARGET_LPC1549
)

58 
	#CLK_USB
 (1UL<<23)

	)

60 
	#CLK_USB
 (1UL<<14)

	)

61 
	#CLK_USBRAM
 (1UL<<27)

	)

65 
	#FRAME_NR
(
a
) ((a) & 0x7ff)

66 

	)

68 
	#DEV_ADDR_MASK
 (0x7f)

69 
	#DEV_ADDR
(
a
è(×è& 
DEV_ADDR_MASK
)

	)

70 
	#DEV_EN
 (1UL<<7)

71 
	#SETUP
 (1UL<<8)

72 
	#PLL_ON
 (1UL<<9)

73 
	#DCON
 (1UL<<16)

74 
	#DSUS
 (1UL<<17)

75 
	#DCON_C
 (1UL<<24)

76 
	#DSUS_C
 (1UL<<25)

77 
	#DRES_C
 (1UL<<26)

78 
	#VBUSDEBOUNCED
 (1UL<<28)

79 

	)

81 
	#CMDSTS_A
 (1UL<<31)

82 
	#CMDSTS_D
 (1UL<<30)

83 
	#CMDSTS_S
 (1UL<<29)

84 
	#CMDSTS_TR
 (1UL<<28)

85 
	#CMDSTS_RF
 (1UL<<27)

86 
	#CMDSTS_TV
 (1UL<<27)

87 
	#CMDSTS_T
 (1UL<<26)

88 
	#CMDSTS_NBYTES
(
n
) (((n)&0x3ff)<<16)

89 
	#CMDSTS_ADDRESS_OFFSET
(
a
) (((a)>>6)&0xffff)

90 

	)

91 
	#BYTES_REMAINING
(
s
) (((s)>>16)&0x3ff)

92 

	)

94 
	#FRAME_INT
 (1UL<<30)

	)

95 
	#DEV_INT
 (1UL<<31)

	)

97 vŞ©
	g•Com¶‘e
 = 0;

103 
ušt32_t
 
	mout
[2];

104 
ušt32_t
 
	mš
[2];

105 } 
	tPACKED
 
	tEP_COMMAND_STATUS
;

108 
ušt8_t
 
	mout
[
MAX_PACKET_SIZE_EP0
];

109 
ušt8_t
 
	mš
[
MAX_PACKET_SIZE_EP0
];

110 
ušt8_t
 
	m£tup
[
SETUP_PACKET_SIZE
];

111 } 
	tPACKED
 
	tCONTROL_TRANSFER
;

114 
ušt32_t
 
	mmaxPack‘
;

115 
ušt32_t
 
	mbufãr
[2];

116 
ušt32_t
 
	mİtiÚs
;

117 } 
	tPACKED
 
	tEP_STATE
;

119 vŞ©
EP_STATE
 
	g’dpoštS‹
[
NUMBER_OF_PHYSICAL_ENDPOINTS
];

122 
EP_COMMAND_STATUS
 *
	g•
 = 
NULL
;

125 
CONTROL_TRANSFER
 *
	gù
 = 
NULL
;

129 vŞ©
ušt32_t
 
	gdevCmdSt
;

132 
ušt32_t
 
	gusbRamPŒ
 = 
USB_RAM_START
;

133 
ušt32_t
 
	g•RamPŒ
 = 0;

135 
	#ROUND_UP_TO_MULTIPLE
(
x
, 
m
è((((x)+((m)-1))/(m))*(m))

	)

137 
USBMemCİy
(
ušt8_t
 *
d¡
, ušt8_ˆ*
¤c
, 
ušt32_t
 
size
);

138 
	$USBMemCİy
(
ušt8_t
 *
d¡
, ušt8_ˆ*
¤c
, 
ušt32_t
 
size
) {

139 ià(
size
 > 0) {

141 *
d¡
++ = *
¤c
++;

142 } --
size
 > 0);

144 
	}
}

147 
	gUSBHAL
::
	$USBHAL
() {

148 
	`NVIC_Di§bËIRQ
(
USB_IRQ
);

151 
•C®lback
[0] = &
USBHAL
::
EP1_OUT_ÿÎback
;

152 
•C®lback
[1] = &
USBHAL
::
EP1_IN_ÿÎback
;

153 
•C®lback
[2] = &
USBHAL
::
EP2_OUT_ÿÎback
;

154 
•C®lback
[3] = &
USBHAL
::
EP2_IN_ÿÎback
;

155 
•C®lback
[4] = &
USBHAL
::
EP3_OUT_ÿÎback
;

156 
•C®lback
[5] = &
USBHAL
::
EP3_IN_ÿÎback
;

157 
•C®lback
[6] = &
USBHAL
::
EP4_OUT_ÿÎback
;

158 
•C®lback
[7] = &
USBHAL
::
EP4_IN_ÿÎback
;

160 #ià
	`defšed
(
TARGET_LPC1549
)

162 
LPC_SYSCON
->
USBPLLCLKSEL
 = 0x01;

168 
LPC_SYSCON
->
USBPLLCTRL
 = (0x3 | (1UL << 6));

171 
LPC_SYSCON
->
PDRUNCFG
 &ğ~(
CLK_USB
);

174 !(
LPC_SYSCON
->
USBPLLSTAT
 & 0x01));

177 
LPC_SYSCON
->
USBCLKSEL
 = 0x02;

178 
LPC_SYSCON
->
USBCLKDIV
 = 1;

181 
LPC_SYSCON
->
SYSAHBCLKCTRL1
 |ğ
CLK_USB
;

184 
LPC_SYSCON
->
PDRUNCFG
 &= ~(1UL << 9);

187 
LPC_SYSCON
->
PRESETCTRL1
 |ğ(
CLK_USB
);

188 
LPC_SYSCON
->
PRESETCTRL1
 &ğ~(
CLK_USB
);

191 #ià
	`defšed
(
TARGET_LPC11U35_401
è|| defšed(
TARGET_LPC11U35_501
è|| defšed(
TARGET_LPC11U68
)

193 
LPC_IOCON
->
PIO0_3
 = 0x00000009;

197 
LPC_IOCON
->
PIO0_6
 = 0x00000001;

200 
LPC_SYSCON
->
SYSAHBCLKCTRL
 |ğ
CLK_USB
 | 
CLK_USBRAM
;

203 
LPC_USB
->
DEVCMDSTAT
 = 0;

207 
	`wa™
(0.3);

211 
usbRamPŒ
 = 
	`ROUND_UP_TO_MULTIPLE
(usbRamPtr, 256);

212 
•
 = (
EP_COMMAND_STATUS
 *)
usbRamPŒ
;

213 
usbRamPŒ
 +ğ((
EP_COMMAND_STATUS
è* 
NUMBER_OF_LOGICAL_ENDPOINTS
);

214 
LPC_USB
->
EPLISTSTART
 = (
ušt32_t
)(
•
) & 0xffffff00;

218 
usbRamPŒ
 = 
	`ROUND_UP_TO_MULTIPLE
(usbRamPtr, 64);

219 
ù
 = (
CONTROL_TRANSFER
 *)
usbRamPŒ
;

220 
usbRamPŒ
 +ğ(
CONTROL_TRANSFER
);

221 
LPC_USB
->
DATABUFSTART
 =(
ušt32_t
)(
ù
) & 0xffc00000;

224 
•
[0].
out
[0] = 0;

225 
•
[0].
š
[0] = 0;

226 
•
[0].
out
[1] = 
	`CMDSTS_ADDRESS_OFFSET
((
ušt32_t
)
ù
->
£tup
);

230 
LPC_USB
->
INTROUTING
 = 0;

233 
devCmdSt
 = 
	`DEV_ADDR
(0è| 
DEV_EN
 | 
DSUS
;

234 
LPC_USB
->
DEVCMDSTAT
 = 
devCmdSt
;

237 
LPC_USB
->
INTEN
 = 
DEV_INT
 | 
	`EP
(
EP0IN
è| EP(
EP0OUT
è| 
FRAME_INT
;

238 
š¡ªû
 = 
this
;

241 
	`NVIC_S‘VeùÜ
(
USB_IRQ
, (
ušt32_t
)&
_usbi¤
);

242 
	}
}

244 
	gUSBHAL
::~
	$USBHAL
() {

246 
LPC_USB
->
DEVCMDSTAT
 = 0;

248 
	`NVIC_Di§bËIRQ
(
USB_IRQ
);

249 
	}
}

251 
	gUSBHAL
::
	$cÚÃù
() {

252 
	`NVIC_EÇbËIRQ
(
USB_IRQ
);

253 
devCmdSt
 |ğ
DCON
;

254 
LPC_USB
->
DEVCMDSTAT
 = 
devCmdSt
;

255 
	}
}

257 
	gUSBHAL
::
	$discÚÃù
() {

258 
	`NVIC_Di§bËIRQ
(
USB_IRQ
);

259 
devCmdSt
 &ğ~
DCON
;

260 
LPC_USB
->
DEVCMDSTAT
 = 
devCmdSt
;

261 
	}
}

263 
	gUSBHAL
::
	$cÚfigu»Deviû
() {

265 
	}
}

267 
USBHAL
::
	$uncÚfigu»Deviû
() {

269 
	}
}

271 
USBHAL
::
	$EP0£tup
(
ušt8_t
 *
bufãr
) {

273 
	`USBMemCİy
(
bufãr
, 
ù
->
£tup
, 
SETUP_PACKET_SIZE
);

274 
	}
}

276 
	gUSBHAL
::
	$EP0»ad
() {

283 
•
[0].
out
[0] = 
CMDSTS_A
 |
	`CMDSTS_NBYTES
(
MAX_PACKET_SIZE_EP0
) \

284 | 
	`CMDSTS_ADDRESS_OFFSET
((
ušt32_t
)
ù
->
out
);

285 
	}
}

287 
ušt32_t
 
	gUSBHAL
::
	$EP0g‘R—dResuÉ
(
ušt8_t
 *
bufãr
) {

289 
ušt32_t
 
by‹sR—d
;

292 
by‹sR—d
 = 
MAX_PACKET_SIZE_EP0
 - 
	`BYTES_REMAINING
(
•
[0].
out
[0]);

295 
	`USBMemCİy
(
bufãr
, 
ù
->
out
, 
by‹sR—d
);

296  
by‹sR—d
;

297 
	}
}

300 
	gUSBHAL
::
	$EP0»adSge
() {

302 
	}
}

304 
USBHAL
::
	$EP0wr™e
(
ušt8_t
 *
bufãr
, 
ušt32_t
 
size
) {

312 
	`USBMemCİy
(
ù
->
š
, 
bufãr
, 
size
);

315 
•
[0].
š
[0] = 
CMDSTS_A
 | 
	`CMDSTS_NBYTES
(
size
) \

316 | 
	`CMDSTS_ADDRESS_OFFSET
((
ušt32_t
)
ù
->
š
);

317 
	}
}

320 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštR—d
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maximumSize
) {

321 
ušt8_t
 
bf
 = 0;

322 
ušt32_t
 
æags
 = 0;

325 ià(
LPC_USB
->
EPBUFCFG
 & 
	`EP
(
’dpošt
)) {

327 ià(
LPC_USB
->
EPINUSE
 & 
	`EP
(
’dpošt
)) {

328 
bf
 = 1;

330 
bf
 = 0;

335 if(
’dpoštS‹
[
’dpošt
].
İtiÚs
 & 
ISOCHRONOUS
)

337 
æags
 |ğ
CMDSTS_T
;

341 
•
[
	`PHY_TO_LOG
(
’dpošt
)].
out
[
bf
] = 
CMDSTS_A
 | 
	`CMDSTS_NBYTES
(
maximumSize
) \

342 | 
	`CMDSTS_ADDRESS_OFFSET
((
ušt32_t
)
ù
->
out
è| 
æags
;

343  
EP_PENDING
;

344 
	}
}

346 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštR—dResuÉ
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
d©a
, 
ušt32_t
 *
by‹sR—d
) {

348 
ušt8_t
 
bf
 = 0;

350 ià(!(
•Com¶‘e
 & 
	`EP
(
’dpošt
)))

351  
EP_PENDING
;

353 
•Com¶‘e
 &ğ~
	`EP
(
’dpošt
);

356 ià(
LPC_USB
->
EPBUFCFG
 & 
	`EP
(
’dpošt
)) {

358 ià(
LPC_USB
->
EPINUSE
 & 
	`EP
(
’dpošt
)) {

359 
bf
 = 0;

361 
bf
 = 1;

366 *
by‹sR—d
 = (
ušt32_t
è(
’dpoštS‹
[
’dpošt
].
maxPack‘
 - 
	`BYTES_REMAINING
(
•
[
	`PHY_TO_LOG
Óndpošt)].
out
[
bf
]));

369 
	`USBMemCİy
(
d©a
, 
ù
->
out
, *
by‹sR—d
);

370  
EP_COMPLETED
;

372 
	}
}

374 
	gUSBHAL
::
	$EP0g‘Wr™eResuÉ
() {

376 
	}
}

378 
USBHAL
::
	$EP0¡®l
() {

379 
•
[0].
š
[0] = 
CMDSTS_S
;

380 
•
[0].
out
[0] = 
CMDSTS_S
;

381 
	}
}

383 
	gUSBHAL
::
	$£tAdd»ss
(
ušt8_t
 
add»ss
) {

384 
devCmdSt
 &ğ~
DEV_ADDR_MASK
;

385 
devCmdSt
 |ğ
	`DEV_ADDR
(
add»ss
);

386 
LPC_USB
->
DEVCMDSTAT
 = 
devCmdSt
;

387 
	}
}

389 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštWr™e
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
d©a
, 
ušt32_t
 
size
) {

390 
ušt32_t
 
æags
 = 0;

391 
ušt32_t
 
bf
;

394 ià(
d©a
 =ğ
NULL
) {

395  
EP_INVALID
;

398 ià(
’dpošt
 > 
LAST_PHYSICAL_ENDPOINT
) {

399  
EP_INVALID
;

402 ià((
’dpošt
==
EP0IN
è|| (’dpošt==
EP0OUT
)) {

403  
EP_INVALID
;

406 ià(
size
 > 
’dpoštS‹
[
’dpošt
].
maxPack‘
) {

407  
EP_INVALID
;

410 ià(
LPC_USB
->
EPBUFCFG
 & 
	`EP
(
’dpošt
)) {

412 ià(
LPC_USB
->
EPINUSE
 & 
	`EP
(
’dpošt
)) {

413 
bf
 = 1;

415 
bf
 = 0;

419 
bf
 = 0;

423 ià(
•
[
	`PHY_TO_LOG
(
’dpošt
)].
š
[
bf
] & 
CMDSTS_A
) {

424  
EP_INVALID
;

428 ià(
•
[
	`PHY_TO_LOG
(
’dpošt
)].
š
[
bf
] & 
CMDSTS_S
) {

429  
EP_STALLED
;

433 
	`USBMemCİy
((
ušt8_t
 *)
’dpoštS‹
[
’dpošt
].
bufãr
[
bf
], 
d©a
, 
size
);

436 ià(
’dpoštS‹
[
’dpošt
].
İtiÚs
 & 
RATE_FEEDBACK_MODE
) {

437 
æags
 |ğ
CMDSTS_RF
;

440 ià(
’dpoštS‹
[
’dpošt
].
İtiÚs
 & 
ISOCHRONOUS
) {

441 
æags
 |ğ
CMDSTS_T
;

445 
•
[
	`PHY_TO_LOG
(
’dpošt
)].
š
[
bf
] = 
	`CMDSTS_ADDRESS_OFFSET
( \

446 
’dpoštS‹
[
’dpošt
].
bufãr
[
bf
]) \

447 | 
	`CMDSTS_NBYTES
(
size
è| 
CMDSTS_A
 | 
æags
;

449  
EP_PENDING
;

450 
	}
}

452 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštWr™eResuÉ
(
ušt8_t
 
’dpošt
) {

453 
ušt32_t
 
bf
;

456 ià(
’dpošt
 > 
LAST_PHYSICAL_ENDPOINT
) {

457  
EP_INVALID
;

460 ià(
	`OUT_EP
(
’dpošt
)) {

461  
EP_INVALID
;

464 ià(
LPC_USB
->
EPBUFCFG
 & 
	`EP
(
’dpošt
)) {

466 ià(
LPC_USB
->
EPINUSE
 & 
	`EP
(
’dpošt
)) {

467 
bf
 = 1;

469 
bf
 = 0;

473 
bf
 = 0;

477 ià(
•
[
	`PHY_TO_LOG
(
’dpošt
)].
š
[
bf
] & 
CMDSTS_A
) {

478  
EP_PENDING
;

482 ià(
•
[
	`PHY_TO_LOG
(
’dpošt
)].
š
[
bf
] & 
CMDSTS_S
) {

483  
EP_STALLED
;

486  
EP_COMPLETED
;

487 
	}
}

489 
	gUSBHAL
::
	$¡®lEndpošt
(
ušt8_t
 
’dpošt
) {

492 ià(
	`IN_EP
(
’dpošt
)) {

493 
•
[
	`PHY_TO_LOG
(
’dpošt
)].
š
[0] |ğ
CMDSTS_S
;

494 
•
[
	`PHY_TO_LOG
(
’dpošt
)].
š
[1] |ğ
CMDSTS_S
;

496 
•
[
	`PHY_TO_LOG
(
’dpošt
)].
out
[0] |ğ
CMDSTS_S
;

497 
•
[
	`PHY_TO_LOG
(
’dpošt
)].
out
[1] |ğ
CMDSTS_S
;

499 
	}
}

501 
	gUSBHAL
::
	$un¡®lEndpošt
(
ušt8_t
 
’dpošt
) {

502 ià(
LPC_USB
->
EPBUFCFG
 & 
	`EP
(
’dpošt
)) {

504 ià(
	`IN_EP
(
’dpošt
)) {

505 
•
[
	`PHY_TO_LOG
(
’dpošt
)].
š
[0] = 0;

506 
•
[
	`PHY_TO_LOG
(
’dpošt
)].
š
[1] = 0;

508 ià(
LPC_USB
->
EPINUSE
 & 
	`EP
(
’dpošt
)) {

509 
•
[
	`PHY_TO_LOG
(
’dpošt
)].
š
[1] = 
CMDSTS_TR
;

511 
•
[
	`PHY_TO_LOG
(
’dpošt
)].
š
[0] = 
CMDSTS_TR
;

514 
•
[
	`PHY_TO_LOG
(
’dpošt
)].
out
[0] = 0;

515 
•
[
	`PHY_TO_LOG
(
’dpošt
)].
out
[1] = 0;

517 ià(
LPC_USB
->
EPINUSE
 & 
	`EP
(
’dpošt
)) {

518 
•
[
	`PHY_TO_LOG
(
’dpošt
)].
out
[1] = 
CMDSTS_TR
;

520 
•
[
	`PHY_TO_LOG
(
’dpošt
)].
out
[0] = 
CMDSTS_TR
;

525 ià(
	`IN_EP
(
’dpošt
)) {

526 
•
[
	`PHY_TO_LOG
(
’dpošt
)].
š
[0] = 
CMDSTS_TR
;

528 
•
[
	`PHY_TO_LOG
(
’dpošt
)].
out
[0] = 
CMDSTS_TR
;

531 
	}
}

533 
boŞ
 
	gUSBHAL
::
	$g‘EndpoštSÎS‹
(
’dpošt
) {

534 ià(
	`IN_EP
(
’dpošt
)) {

535 ià(
LPC_USB
->
EPINUSE
 & 
	`EP
(
’dpošt
)) {

536 ià(
•
[
	`PHY_TO_LOG
(
’dpošt
)].
š
[1] & 
CMDSTS_S
) {

537  
Œue
;

540 ià(
•
[
	`PHY_TO_LOG
(
’dpošt
)].
š
[0] & 
CMDSTS_S
) {

541  
Œue
;

545 ià(
LPC_USB
->
EPINUSE
 & 
	`EP
(
’dpošt
)) {

546 ià(
•
[
	`PHY_TO_LOG
(
’dpošt
)].
out
[1] & 
CMDSTS_S
) {

547  
Œue
;

550 ià(
•
[
	`PHY_TO_LOG
(
’dpošt
)].
out
[0] & 
CMDSTS_S
) {

551  
Œue
;

556  
çl£
;

557 
	}
}

559 
boŞ
 
	gUSBHAL
::
	$»®i£Endpošt
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maxPack‘
, ušt32_ˆ
İtiÚs
) {

560 
ušt32_t
 
tmpEpRamPŒ
;

562 ià(
’dpošt
 > 
LAST_PHYSICAL_ENDPOINT
) {

563  
çl£
;

567 ià((
’dpošt
==
EP0IN
è|| (’dpošt==
EP0OUT
)) {

568  
çl£
;

572 
tmpEpRamPŒ
 = 
•RamPŒ
;

575 
tmpEpRamPŒ
 = 
	`ROUND_UP_TO_MULTIPLE
(tmpEpRamPtr, 64);

577 ià((
tmpEpRamPŒ
 + 
maxPack‘
è> (
USB_RAM_START
 + 
USB_RAM_SIZE
)) {

579  
çl£
;

583 
’dpoštS‹
[
’dpošt
].
bufãr
[0] = 
tmpEpRamPŒ
;

584 
tmpEpRamPŒ
 +ğ
maxPack‘
;

586 ià(!(
İtiÚs
 & 
SINGLE_BUFFERED
)) {

588 
tmpEpRamPŒ
 = 
	`ROUND_UP_TO_MULTIPLE
(tmpEpRamPtr, 64);

590 ià((
tmpEpRamPŒ
 + 
maxPack‘
è> (
USB_RAM_START
 + 
USB_RAM_SIZE
)) {

592  
çl£
;

596 
’dpoštS‹
[
’dpošt
].
bufãr
[1] = 
tmpEpRamPŒ
;

597 
tmpEpRamPŒ
 +ğ
maxPack‘
;

601 
•RamPŒ
 = 
tmpEpRamPŒ
;

604 
’dpoštS‹
[
’dpošt
].
maxPack‘
 = maxPacket;

605 
’dpoštS‹
[
’dpošt
].
İtiÚs
 = options;

608 ià(
İtiÚs
 & 
SINGLE_BUFFERED
) {

609 
LPC_USB
->
EPBUFCFG
 &ğ~
	`EP
(
’dpošt
);

612 
LPC_USB
->
EPBUFCFG
 |ğ
	`EP
(
’dpošt
);

616 
LPC_USB
->
INTEN
 |ğ
	`EP
(
’dpošt
);

619 
	`un¡®lEndpošt
(
’dpošt
);

620  
Œue
;

621 
	}
}

623 
	gUSBHAL
::
	$»mÙeWakeup
() {

627 
LPC_USB
->
DEVCMDSTAT
 = 
devCmdSt
 & ~
DSUS
;

628 
	}
}

631 
	$di§bËEndpošts
() {

632 
ušt32_t
 
logEp
;

637 
logEp
 = 1;†ogE°< 
NUMBER_OF_LOGICAL_ENDPOINTS
;†ogEp++) {

638 
•
[
logEp
].
out
[0] = 
CMDSTS_D
;

639 
•
[
logEp
].
out
[1] = 
CMDSTS_D
;

640 
•
[
logEp
].
š
[0] = 
CMDSTS_D
;

641 
•
[
logEp
].
š
[1] = 
CMDSTS_D
;

645 
•RamPŒ
 = 
usbRamPŒ
;

646 
	}
}

650 
	gUSBHAL
::
	$_usbi¤
() {

651 
š¡ªû
->
	`usbi¤
();

652 
	}
}

654 
	gUSBHAL
::
	$usbi¤
() {

656 ià(
LPC_USB
->
INTSTAT
 & 
FRAME_INT
) {

658 
LPC_USB
->
INTSTAT
 = 
FRAME_INT
;

661 
	`SOF
(
	`FRAME_NR
(
LPC_USB
->
INFO
));

665 ià(
LPC_USB
->
INTSTAT
 & 
DEV_INT
) {

666 
LPC_USB
->
INTSTAT
 = 
DEV_INT
;

668 ià(
LPC_USB
->
DEVCMDSTAT
 & 
DCON_C
) {

670 
LPC_USB
->
DEVCMDSTAT
 = 
devCmdSt
 | 
DCON_C
;

673 
	`di§bËEndpošts
();

676 
	`busRe£t
();

679 ià(
LPC_USB
->
DEVCMDSTAT
 & 
DSUS_C
) {

681 
LPC_USB
->
DEVCMDSTAT
 = 
devCmdSt
 | 
DSUS_C
;

682 ià(
LPC_USB
->
DEVCMDSTAT
 & 
DSUS
) {

683 
	`su¥’dS‹Chªged
(1);

685 
	`su¥’dS‹Chªged
(0);

689 ià(
LPC_USB
->
DEVCMDSTAT
 & 
DRES_C
) {

691 
LPC_USB
->
DEVCMDSTAT
 = 
devCmdSt
 | 
DRES_C
;

694 
	`di§bËEndpošts
();

697 
	`busRe£t
();

702 ià(
LPC_USB
->
INTSTAT
 & 
	`EP
(
EP0OUT
)) {

704 
LPC_USB
->
INTSTAT
 = 
	`EP
(
EP0OUT
);

707 ià(
LPC_USB
->
DEVCMDSTAT
 & 
SETUP
) {

713 
•
[0].
š
[0] = 0;

714 
•
[0].
out
[0] = 0;

717 
LPC_USB
->
INTSTAT
 = 
	`EP
(
EP0IN
);

720 
LPC_USB
->
DEVCMDSTAT
 = 
devCmdSt
 | 
SETUP
;

723 
	`EP0£tupC®lback
();

726 
	`EP0out
();

730 ià(
LPC_USB
->
INTSTAT
 & 
	`EP
(
EP0IN
)) {

732 
LPC_USB
->
INTSTAT
 = 
	`EP
(
EP0IN
);

735 
	`EP0š
();

738 
ušt8_t
 
num
 = 2;‚um < 5*2;‚um++) {

739 ià(
LPC_USB
->
INTSTAT
 & 
	`EP
(
num
)) {

740 
LPC_USB
->
INTSTAT
 = 
	`EP
(
num
);

741 
•Com¶‘e
 |ğ
	`EP
(
num
);

742 ià((
š¡ªû
->*(
•C®lback
[
num
 - 2]))()) {

743 
•Com¶‘e
 &ğ~
	`EP
(
num
);

747 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBHAL_LPC17.cpp

19 #ià
defšed
(
TARGET_LPC1768
è|| defšed(
TARGET_LPC2368
è|| defšed(
TARGET_LPC2460
)

21 
	~"USBHAL.h
"

25 
	#IN_EP
(
’dpošt
è(Óndpoštè& 1U ? 
Œue
 : 
çl£
)

	)

26 
	#OUT_EP
(
’dpošt
è(Óndpoštè& 1U ? 
çl£
 : 
Œue
)

	)

29 
	#EP
(
’dpošt
è(1UL<<’dpošt)

	)

32 
	#PCUSB
 (1UL<<31)

	)

35 
	#DEV_CLK_EN
 (1UL<<1)

	)

36 
	#AHB_CLK_EN
 (1UL<<4)

	)

39 
	#DEV_CLK_ON
 (1UL<<1)

	)

40 
	#AHB_CLK_ON
 (1UL<<4)

	)

43 
	#FRAME
 (1UL<<0)

	)

44 
	#EP_FAST
 (1UL<<1)

	)

45 
	#EP_SLOW
 (1UL<<2)

	)

46 
	#DEV_STAT
 (1UL<<3)

	)

47 
	#CCEMPTY
 (1UL<<4)

	)

48 
	#CDFULL
 (1UL<<5)

	)

49 
	#RxENDPKT
 (1UL<<6)

	)

50 
	#TxENDPKT
 (1UL<<7)

	)

51 
	#EP_RLZED
 (1UL<<8)

	)

52 
	#ERR_INT
 (1UL<<9)

	)

55 
	#RD_EN
 (1<<0)

	)

56 
	#WR_EN
 (1<<1)

	)

57 
	#LOG_ENDPOINT
(
’dpošt
è(Óndpošt>>1)<<2)

	)

60 
	#DV
 (1UL<<10)

	)

61 
	#PKT_RDY
 (1UL<<11)

	)

62 
	#PKT_LNGTH_MASK
 (0x3ff)

	)

65 
	#SIE_WRITE
 (0x01)

	)

66 
	#SIE_READ
 (0x02)

	)

67 
	#SIE_COMMAND
 (0x05)

	)

68 
	#SIE_CMD_CODE
(
pha£
, 
d©a
è(Õha£<<8)|(d©a<<16))

	)

71 
	#SIE_CMD_SET_ADDRESS
 (0xD0)

	)

72 
	#SIE_CMD_CONFIGURE_DEVICE
 (0xD8)

	)

73 
	#SIE_CMD_SET_MODE
 (0xF3)

	)

74 
	#SIE_CMD_READ_FRAME_NUMBER
 (0xF5)

	)

75 
	#SIE_CMD_READ_TEST_REGISTER
 (0xFD)

	)

76 
	#SIE_CMD_SET_DEVICE_STATUS
 (0xFE)

	)

77 
	#SIE_CMD_GET_DEVICE_STATUS
 (0xFE)

	)

78 
	#SIE_CMD_GET_ERROR_CODE
 (0xFF)

	)

79 
	#SIE_CMD_READ_ERROR_STATUS
 (0xFB)

	)

81 
	#SIE_CMD_SELECT_ENDPOINT
(
’dpošt
è(0x00+’dpošt)

	)

82 
	#SIE_CMD_SELECT_ENDPOINT_CLEAR_INTERRUPT
(
’dpošt
è(0x40+’dpošt)

	)

83 
	#SIE_CMD_SET_ENDPOINT_STATUS
(
’dpošt
è(0x40+’dpošt)

	)

85 
	#SIE_CMD_CLEAR_BUFFER
 (0xF2)

	)

86 
	#SIE_CMD_VALIDATE_BUFFER
 (0xFA)

	)

89 
	#SIE_DS_CON
 (1<<0)

	)

90 
	#SIE_DS_CON_CH
 (1<<1)

	)

91 
	#SIE_DS_SUS
 (1<<2)

	)

92 
	#SIE_DS_SUS_CH
 (1<<3)

	)

93 
	#SIE_DS_RST
 (1<<4)

	)

96 
	#SIE_DSA_DEV_EN
 (1<<7)

	)

99 
	#SIE_CONF_DEVICE
 (1<<0)

	)

102 
	#SIE_SE_FE
 (1<<0)

	)

103 
	#SIE_SE_ST
 (1<<1)

	)

104 
	#SIE_SE_STP
 (1<<2)

	)

105 
	#SIE_SE_PO
 (1<<3)

	)

106 
	#SIE_SE_EPN
 (1<<4)

	)

107 
	#SIE_SE_B_1_FULL
 (1<<5)

	)

108 
	#SIE_SE_B_2_FULL
 (1<<6)

	)

111 
	#SIE_SES_ST
 (1<<0)

	)

112 
	#SIE_SES_DA
 (1<<5)

	)

113 
	#SIE_SES_RF_MO
 (1<<6)

	)

114 
	#SIE_SES_CND_ST
 (1<<7)

	)

117 
USBHAL
 * 
	gUSBHAL
::
š¡ªû
;

119 vŞ©
	g•Com¶‘e
;

120 
ušt32_t
 
	g’dpoštSÎS‹
;

122 
	$SIECommªd
(
ušt32_t
 
commªd
) {

124 
LPC_USB
->
USBDevIÁCÌ
 = 
CCEMPTY
;

125 
LPC_USB
->
USBCmdCode
 = 
	`SIE_CMD_CODE
(
SIE_COMMAND
, 
commªd
);

126 !(
LPC_USB
->
USBDevIÁSt
 & 
CCEMPTY
));

127 
	}
}

129 
	$SIEWr™eD©a
(
ušt8_t
 
d©a
) {

131 
LPC_USB
->
USBDevIÁCÌ
 = 
CCEMPTY
;

132 
LPC_USB
->
USBCmdCode
 = 
	`SIE_CMD_CODE
(
SIE_WRITE
, 
d©a
);

133 !(
LPC_USB
->
USBDevIÁSt
 & 
CCEMPTY
));

134 
	}
}

136 
ušt8_t
 
	$SIER—dD©a
(
ušt32_t
 
commªd
) {

138 
LPC_USB
->
USBDevIÁCÌ
 = 
CDFULL
;

139 
LPC_USB
->
USBCmdCode
 = 
	`SIE_CMD_CODE
(
SIE_READ
, 
commªd
);

140 !(
LPC_USB
->
USBDevIÁSt
 & 
CDFULL
));

141  (
ušt8_t
)
LPC_USB
->
USBCmdD©a
;

142 
	}
}

144 
	$SIE£tDeviûStus
(
ušt8_t
 
¡©us
) {

146 
	`SIECommªd
(
SIE_CMD_SET_DEVICE_STATUS
);

147 
	`SIEWr™eD©a
(
¡©us
);

148 
	}
}

150 
ušt8_t
 
	$SIEg‘DeviûStus
() {

152 
	`SIECommªd
(
SIE_CMD_GET_DEVICE_STATUS
);

153  
	`SIER—dD©a
(
SIE_CMD_GET_DEVICE_STATUS
);

154 
	}
}

156 
	$SIE£tAdd»ss
(
ušt8_t
 
add»ss
) {

158 
	`SIECommªd
(
SIE_CMD_SET_ADDRESS
);

159 
	`SIEWr™eD©a
((
add»ss
 & 0x7fè| 
SIE_DSA_DEV_EN
);

160 
	}
}

162 
ušt8_t
 
	$SIE£ËùEndpošt
(
ušt8_t
 
’dpošt
) {

164 
	`SIECommªd
(
	`SIE_CMD_SELECT_ENDPOINT
(
’dpošt
));

165  
	`SIER—dD©a
(
	`SIE_CMD_SELECT_ENDPOINT
(
’dpošt
));

166 
	}
}

168 
ušt8_t
 
	$SIEş—rBufãr
() {

170 
	`SIECommªd
(
SIE_CMD_CLEAR_BUFFER
);

171  
	`SIER—dD©a
(
SIE_CMD_CLEAR_BUFFER
);

172 
	}
}

174 
	$SIEv®id©eBufãr
() {

176 
	`SIECommªd
(
SIE_CMD_VALIDATE_BUFFER
);

177 
	}
}

179 
	$SIE£tEndpoštStus
(
ušt8_t
 
’dpošt
, ušt8_ˆ
¡©us
) {

181 
	`SIECommªd
(
	`SIE_CMD_SET_ENDPOINT_STATUS
(
’dpošt
));

182 
	`SIEWr™eD©a
(
¡©us
);

183 
	}
}

185 
ušt16_t
 
	$SIEg‘F¿meNumb”
(è
	`__©Œibu‹__
 ((
unu£d
));

186 
ušt16_t
 
	$SIEg‘F¿meNumb”
() {

188 
ušt16_t
 
lowBy‹
;

189 
ušt16_t
 
highBy‹
;

191 
	`SIECommªd
(
SIE_CMD_READ_FRAME_NUMBER
);

192 
lowBy‹
 = 
	`SIER—dD©a
(
SIE_CMD_READ_FRAME_NUMBER
);

193 
highBy‹
 = 
	`SIER—dD©a
(
SIE_CMD_READ_FRAME_NUMBER
);

195  (
highBy‹
 << 8è| 
lowBy‹
;

196 
	}
}

198 
	$SIEcÚfigu»Deviû
() {

200 
	`SIECommªd
(
SIE_CMD_CONFIGURE_DEVICE
);

201 
	`SIEWr™eD©a
(
SIE_CONF_DEVICE
);

202 
	}
}

204 
	$SIEuncÚfigu»Deviû
() {

206 
	`SIECommªd
(
SIE_CMD_CONFIGURE_DEVICE
);

207 
	`SIEWr™eD©a
(0);

208 
	}
}

210 
	$SIEcÚÃù
() {

212 
ušt8_t
 
¡©us
 = 
	`SIEg‘DeviûStus
();

213 
	`SIE£tDeviûStus
(
¡©us
 | 
SIE_DS_CON
);

214 
	}
}

217 
	$SIEdiscÚÃù
() {

219 
ušt8_t
 
¡©us
 = 
	`SIEg‘DeviûStus
();

220 
	`SIE£tDeviûStus
(
¡©us
 & ~
SIE_DS_CON
);

221 
	}
}

224 
ušt8_t
 
	$£ËùEndpoštCË¬IÁ”ru±
(
ušt8_t
 
’dpošt
) {

226 
LPC_USB
->
USBEpIÁCÌ
 = 
	`EP
(
’dpošt
);

227 !(
LPC_USB
->
USBDevIÁSt
 & 
CDFULL
));

228  (
ušt8_t
)
LPC_USB
->
USBCmdD©a
;

229 
	}
}

232 
	$’abËEndpoštEv’t
(
ušt8_t
 
’dpošt
) {

234 
LPC_USB
->
USBEpIÁEn
 |ğ
	`EP
(
’dpošt
);

235 
	}
}

237 
	$di§bËEndpoštEv’t
(
ušt8_t
 
’dpošt
è
	`__©Œibu‹__
 ((
unu£d
));

238 
	$di§bËEndpoštEv’t
(
ušt8_t
 
’dpošt
) {

240 
LPC_USB
->
USBEpIÁEn
 &ğ~
	`EP
(
’dpošt
);

241 
	}
}

243 vŞ©
ušt32_t
 
__©Œibu‹__
((
u£d
)è
	gdummyR—d
;

244 
ušt32_t
 
	gUSBHAL
::
	$’dpoštR—dcÜe
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
bufãr
) {

246 
ušt32_t
 
size
;

247 
ušt32_t
 
i
;

248 
ušt32_t
 
d©a
 = 0;

249 
ušt8_t
 
off£t
;

251 
LPC_USB
->
USBCŒl
 = 
	`LOG_ENDPOINT
(
’dpošt
è| 
RD_EN
;

252 !(
LPC_USB
->
USBRxPL’
 & 
PKT_RDY
));

254 
size
 = 
LPC_USB
->
USBRxPL’
 & 
PKT_LNGTH_MASK
;

256 
off£t
 = 0;

258 ià(
size
 > 0) {

259 
i
=0; i<
size
; i++) {

260 ià(
off£t
==0) {

262 
d©a
 = 
LPC_USB
->
USBRxD©a
;

266 *
bufãr
 = (
d©a
>>
off£t
) & 0xff;

267 
bufãr
++;

270 
off£t
 = (offset + 8) % 32;

273 
dummyR—d
 = 
LPC_USB
->
USBRxD©a
;

276 
LPC_USB
->
USBCŒl
 = 0;

278 ià((
’dpošt
 >> 1) % 3 || (endpoint >> 1) == 0) {

279 
	`SIE£ËùEndpošt
(
’dpošt
);

280 
	`SIEş—rBufãr
();

283  
size
;

284 
	}
}

286 
	$’dpoštWr™ecÜe
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
bufãr
, 
ušt32_t
 
size
) {

288 
ušt32_t
 
‹mp
, 
d©a
;

289 
ušt8_t
 
off£t
;

291 
LPC_USB
->
USBCŒl
 = 
	`LOG_ENDPOINT
(
’dpošt
è| 
WR_EN
;

293 
LPC_USB
->
USBTxPL’
 = 
size
;

294 
off£t
 = 0;

295 
d©a
 = 0;

297 ià(
size
>0) {

300 
‹mp
 = *
bufãr
++;

303 
‹mp
 =em°<< 
off£t
;

304 
d©a
 = d©¨| 
‹mp
;

307 
off£t
 = (offset + 8) % 32;

308 
size
--;

310 ià((
off£t
==0è|| (
size
==0)) {

312 
LPC_USB
->
USBTxD©a
 = 
d©a
;

313 
d©a
 = 0;

315 } 
size
>0);

317 
LPC_USB
->
USBTxD©a
 = 0;

321 
LPC_USB
->
USBCŒl
=0;

323 
	`SIE£ËùEndpošt
(
’dpošt
);

324 
	`SIEv®id©eBufãr
();

325 
	}
}

327 
	gUSBHAL
::
	$USBHAL
() {

329 
	`NVIC_Di§bËIRQ
(
USB_IRQn
);

332 
•C®lback
[0] = &
USBHAL
::
EP1_OUT_ÿÎback
;

333 
•C®lback
[1] = &
USBHAL
::
EP1_IN_ÿÎback
;

334 
•C®lback
[2] = &
USBHAL
::
EP2_OUT_ÿÎback
;

335 
•C®lback
[3] = &
USBHAL
::
EP2_IN_ÿÎback
;

336 
•C®lback
[4] = &
USBHAL
::
EP3_OUT_ÿÎback
;

337 
•C®lback
[5] = &
USBHAL
::
EP3_IN_ÿÎback
;

338 
•C®lback
[6] = &
USBHAL
::
EP4_OUT_ÿÎback
;

339 
•C®lback
[7] = &
USBHAL
::
EP4_IN_ÿÎback
;

340 
•C®lback
[8] = &
USBHAL
::
EP5_OUT_ÿÎback
;

341 
•C®lback
[9] = &
USBHAL
::
EP5_IN_ÿÎback
;

342 
•C®lback
[10] = &
USBHAL
::
EP6_OUT_ÿÎback
;

343 
•C®lback
[11] = &
USBHAL
::
EP6_IN_ÿÎback
;

344 
•C®lback
[12] = &
USBHAL
::
EP7_OUT_ÿÎback
;

345 
•C®lback
[13] = &
USBHAL
::
EP7_IN_ÿÎback
;

346 
•C®lback
[14] = &
USBHAL
::
EP8_OUT_ÿÎback
;

347 
•C®lback
[15] = &
USBHAL
::
EP8_IN_ÿÎback
;

348 
•C®lback
[16] = &
USBHAL
::
EP9_OUT_ÿÎback
;

349 
•C®lback
[17] = &
USBHAL
::
EP9_IN_ÿÎback
;

350 
•C®lback
[18] = &
USBHAL
::
EP10_OUT_ÿÎback
;

351 
•C®lback
[19] = &
USBHAL
::
EP10_IN_ÿÎback
;

352 
•C®lback
[20] = &
USBHAL
::
EP11_OUT_ÿÎback
;

353 
•C®lback
[21] = &
USBHAL
::
EP11_IN_ÿÎback
;

354 
•C®lback
[22] = &
USBHAL
::
EP12_OUT_ÿÎback
;

355 
•C®lback
[23] = &
USBHAL
::
EP12_IN_ÿÎback
;

356 
•C®lback
[24] = &
USBHAL
::
EP13_OUT_ÿÎback
;

357 
•C®lback
[25] = &
USBHAL
::
EP13_IN_ÿÎback
;

358 
•C®lback
[26] = &
USBHAL
::
EP14_OUT_ÿÎback
;

359 
•C®lback
[27] = &
USBHAL
::
EP14_IN_ÿÎback
;

360 
•C®lback
[28] = &
USBHAL
::
EP15_OUT_ÿÎback
;

361 
•C®lback
[29] = &
USBHAL
::
EP15_IN_ÿÎback
;

364 
LPC_SC
->
PCONP
 |ğ
PCUSB
;

367 
LPC_USB
->
USBClkCŒl
 |ğ
DEV_CLK_EN
 | 
AHB_CLK_EN
;

368 
LPC_USB
->
USBClkSt
 !ğ(
DEV_CLK_ON
 | 
AHB_CLK_ON
));

371 
LPC_PINCON
->
PINSEL1
 &= 0xc3ffffff;

372 
LPC_PINCON
->
PINSEL1
 |= 0x14000000;

375 
	`SIEdiscÚÃù
();

378 
LPC_PINCON
->
PINSEL4
 &= 0xfffcffff;

379 
LPC_PINCON
->
PINSEL4
 |= 0x00040000;

382 
	`wa™
(0.3);

385 
	`»®i£Endpošt
(
EP0IN
, 
MAX_PACKET_SIZE_EP0
, 0);

386 
	`»®i£Endpošt
(
EP0OUT
, 
MAX_PACKET_SIZE_EP0
, 0);

389 
š¡ªû
 = 
this
;

390 
	`NVIC_S‘VeùÜ
(
USB_IRQn
, (
ušt32_t
)&
_usbi¤
);

393 
LPC_USB
->
USBDevIÁEn
 = 
EP_SLOW
 | 
DEV_STAT
 | 
FRAME
;

394 
	`’abËEndpoštEv’t
(
EP0IN
);

395 
	`’abËEndpoštEv’t
(
EP0OUT
);

396 
	}
}

398 
	gUSBHAL
::~
	$USBHAL
() {

400 
	`SIEdiscÚÃù
();

402 
	`NVIC_Di§bËIRQ
(
USB_IRQn
);

403 
	}
}

405 
	gUSBHAL
::
	$cÚÃù
() {

406 
	`NVIC_EÇbËIRQ
(
USB_IRQn
);

408 
	`SIEcÚÃù
();

409 
	}
}

411 
	gUSBHAL
::
	$discÚÃù
() {

412 
	`NVIC_Di§bËIRQ
(
USB_IRQn
);

414 
	`SIEdiscÚÃù
();

415 
	}
}

417 
	gUSBHAL
::
	$cÚfigu»Deviû
() {

418 
	`SIEcÚfigu»Deviû
();

419 
	}
}

421 
	gUSBHAL
::
	$uncÚfigu»Deviû
() {

422 
	`SIEuncÚfigu»Deviû
();

423 
	}
}

425 
	gUSBHAL
::
	$£tAdd»ss
(
ušt8_t
 
add»ss
) {

426 
	`SIE£tAdd»ss
(
add»ss
);

427 
	}
}

429 
	gUSBHAL
::
	$EP0£tup
(
ušt8_t
 *
bufãr
) {

430 
	`’dpoštR—dcÜe
(
EP0OUT
, 
bufãr
);

431 
	}
}

433 
	gUSBHAL
::
	$EP0»ad
() {

435 
	}
}

437 
USBHAL
::
	$EP0»adSge
() {

439 
	}
}

441 
ušt32_t
 
USBHAL
::
	$EP0g‘R—dResuÉ
(
ušt8_t
 *
bufãr
) {

442  
	`’dpoštR—dcÜe
(
EP0OUT
, 
bufãr
);

443 
	}
}

445 
	gUSBHAL
::
	$EP0wr™e
(
ušt8_t
 *
bufãr
, 
ušt32_t
 
size
) {

446 
	`’dpoštWr™ecÜe
(
EP0IN
, 
bufãr
, 
size
);

447 
	}
}

449 
	gUSBHAL
::
	$EP0g‘Wr™eResuÉ
() {

451 
	}
}

453 
USBHAL
::
	$EP0¡®l
() {

455 
	`¡®lEndpošt
(
EP0OUT
);

456 
	}
}

458 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštR—d
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maximumSize
) {

459  
EP_PENDING
;

460 
	}
}

462 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštR—dResuÉ
(
ušt8_t
 
’dpošt
, ušt8_ˆ* 
bufãr
, 
ušt32_t
 *
by‹sR—d
) {

465 ià((
’dpošt
 >> 1) % 3 || (endpoint >> 1) == 0) {

466 ià(!(
•Com¶‘e
 & 
	`EP
(
’dpošt
)))

467  
EP_PENDING
;

470 *
by‹sR—d
 = 
	`’dpoštR—dcÜe
(
’dpošt
, 
bufãr
);

471 
•Com¶‘e
 &ğ~
	`EP
(
’dpošt
);

472  
EP_COMPLETED
;

473 
	}
}

475 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštWr™e
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
d©a
, 
ušt32_t
 
size
) {

476 ià(
	`g‘EndpoštSÎS‹
(
’dpošt
)) {

477  
EP_STALLED
;

480 
•Com¶‘e
 &ğ~
	`EP
(
’dpošt
);

482 
	`’dpoštWr™ecÜe
(
’dpošt
, 
d©a
, 
size
);

483  
EP_PENDING
;

484 
	}
}

486 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštWr™eResuÉ
(
ušt8_t
 
’dpošt
) {

487 ià(
•Com¶‘e
 & 
	`EP
(
’dpošt
)) {

488 
•Com¶‘e
 &ğ~
	`EP
(
’dpošt
);

489  
EP_COMPLETED
;

492  
EP_PENDING
;

493 
	}
}

495 
boŞ
 
	gUSBHAL
::
	$»®i£Endpošt
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maxPack‘
, ušt32_ˆ
æags
) {

497 
LPC_USB
->
USBDevIÁCÌ
 = 
EP_RLZED
;

498 
LPC_USB
->
USBReEp
 |ğ
	`EP
(
’dpošt
);

499 
LPC_USB
->
USBEpInd
 = 
’dpošt
;

500 
LPC_USB
->
USBMaxPSize
 = 
maxPack‘
;

502 !(
LPC_USB
->
USBDevIÁSt
 & 
EP_RLZED
));

503 
LPC_USB
->
USBDevIÁCÌ
 = 
EP_RLZED
;

506 
’dpoštSÎS‹
 &ğ~
	`EP
(
’dpošt
);

508 
	`’abËEndpoštEv’t
(
’dpošt
);

509  
Œue
;

510 
	}
}

512 
	gUSBHAL
::
	$¡®lEndpošt
(
ušt8_t
 
’dpošt
) {

514 iàĞ(
’dpošt
==
EP0IN
è|| (’dpošt==
EP0OUT
) ) {

516 
	`SIE£tEndpoštStus
(
EP0OUT
, 
SIE_SES_CND_ST
);

518 
	`SIE£tEndpoštStus
(
’dpošt
, 
SIE_SES_ST
);

521 
’dpoštSÎS‹
 |ğ
	`EP
(
’dpošt
);

523 
	}
}

525 
	gUSBHAL
::
	$un¡®lEndpošt
(
ušt8_t
 
’dpošt
) {

527 
	`SIE£tEndpoštStus
(
’dpošt
, 0);

530 
’dpoštSÎS‹
 &ğ~
	`EP
(
’dpošt
);

531 
	}
}

533 
boŞ
 
	gUSBHAL
::
	$g‘EndpoštSÎS‹
(
ušt8_t
 
’dpošt
) {

535  
’dpoštSÎS‹
 & 
	`EP
(
’dpošt
);

536 
	}
}

538 
	gUSBHAL
::
	$»mÙeWakeup
() {

540 
ušt8_t
 
¡©us
;

543 
LPC_USB
->
USBClkCŒl
 |ğ
DEV_CLK_EN
 | 
AHB_CLK_EN
;

544 
LPC_USB
->
USBClkSt
 !ğ(
DEV_CLK_ON
 | 
AHB_CLK_ON
));

546 
¡©us
 = 
	`SIEg‘DeviûStus
();

547 
	`SIE£tDeviûStus
(
¡©us
 & ~
SIE_DS_SUS
);

548 
	}
}

550 
	gUSBHAL
::
	$_usbi¤
() {

551 
š¡ªû
->
	`usbi¤
();

552 
	}
}

555 
	gUSBHAL
::
	$usbi¤
() {

556 
ušt8_t
 
devSt
;

558 ià(
LPC_USB
->
USBDevIÁSt
 & 
FRAME
) {

560 
	`SOF
(
	`SIEg‘F¿meNumb”
());

562 
LPC_USB
->
USBDevIÁCÌ
 = 
FRAME
;

565 ià(
LPC_USB
->
USBDevIÁSt
 & 
DEV_STAT
) {

568 
LPC_USB
->
USBDevIÁCÌ
 = 
DEV_STAT
;

571 
devSt
 = 
	`SIEg‘DeviûStus
();

574 ià(
devSt
 & 
SIE_DS_SUS_CH
) {

576 if((
devSt
 & 
SIE_DS_SUS
) != 0) {

577 
	`su¥’dS‹Chªged
(0);

581 ià(
devSt
 & 
SIE_DS_RST
) {

583 if((
devSt
 & 
SIE_DS_SUS
) == 0) {

584 
	`su¥’dS‹Chªged
(1);

586 
	`busRe£t
();

590 ià(
LPC_USB
->
USBDevIÁSt
 & 
EP_SLOW
) {

594 ià(
LPC_USB
->
USBEpIÁSt
 & 
	`EP
(
EP0OUT
)) {

595 ià(
	`£ËùEndpoštCË¬IÁ”ru±
(
EP0OUT
è& 
SIE_SE_STP
) {

597 
	`EP0£tupC®lback
();

599 
	`EP0out
();

601 
LPC_USB
->
USBDevIÁCÌ
 = 
EP_SLOW
;

604 ià(
LPC_USB
->
USBEpIÁSt
 & 
	`EP
(
EP0IN
)) {

605 
	`£ËùEndpoštCË¬IÁ”ru±
(
EP0IN
);

606 
LPC_USB
->
USBDevIÁCÌ
 = 
EP_SLOW
;

607 
	`EP0š
();

610 
ušt8_t
 
num
 = 2;‚um < 16*2;‚um++) {

611 ià(
LPC_USB
->
USBEpIÁSt
 & 
	`EP
(
num
)) {

612 
	`£ËùEndpoštCË¬IÁ”ru±
(
num
);

613 
•Com¶‘e
 |ğ
	`EP
(
num
);

614 
LPC_USB
->
USBDevIÁCÌ
 = 
EP_SLOW
;

615 ià((
š¡ªû
->*(
•C®lback
[
num
 - 2]))()) {

616 
•Com¶‘e
 &ğ~
	`EP
(
num
);

621 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBHAL_LPC40.cpp

19 #ià
defšed
(
TARGET_LPC4088
è|| defšed(
TARGET_LPC4088_DM
)

21 
	~"USBHAL.h
"

25 
	#IN_EP
(
’dpošt
è(Óndpoštè& 1U ? 
Œue
 : 
çl£
)

	)

26 
	#OUT_EP
(
’dpošt
è(Óndpoštè& 1U ? 
çl£
 : 
Œue
)

	)

29 
	#EP
(
’dpošt
è(1UL<<’dpošt)

	)

32 
	#PCUSB
 (1UL<<31)

	)

35 
	#DEV_CLK_EN
 (1UL<<1)

	)

36 
	#PORT_CLK_EN
 (1UL<<3)

	)

37 
	#AHB_CLK_EN
 (1UL<<4)

	)

40 
	#DEV_CLK_ON
 (1UL<<1)

	)

41 
	#AHB_CLK_ON
 (1UL<<4)

	)

44 
	#FRAME
 (1UL<<0)

	)

45 
	#EP_FAST
 (1UL<<1)

	)

46 
	#EP_SLOW
 (1UL<<2)

	)

47 
	#DEV_STAT
 (1UL<<3)

	)

48 
	#CCEMPTY
 (1UL<<4)

	)

49 
	#CDFULL
 (1UL<<5)

	)

50 
	#RxENDPKT
 (1UL<<6)

	)

51 
	#TxENDPKT
 (1UL<<7)

	)

52 
	#EP_RLZED
 (1UL<<8)

	)

53 
	#ERR_INT
 (1UL<<9)

	)

56 
	#RD_EN
 (1<<0)

	)

57 
	#WR_EN
 (1<<1)

	)

58 
	#LOG_ENDPOINT
(
’dpošt
è(Óndpošt>>1)<<2)

	)

61 
	#DV
 (1UL<<10)

	)

62 
	#PKT_RDY
 (1UL<<11)

	)

63 
	#PKT_LNGTH_MASK
 (0x3ff)

	)

66 
	#SIE_WRITE
 (0x01)

	)

67 
	#SIE_READ
 (0x02)

	)

68 
	#SIE_COMMAND
 (0x05)

	)

69 
	#SIE_CMD_CODE
(
pha£
, 
d©a
è(Õha£<<8)|(d©a<<16))

	)

72 
	#SIE_CMD_SET_ADDRESS
 (0xD0)

	)

73 
	#SIE_CMD_CONFIGURE_DEVICE
 (0xD8)

	)

74 
	#SIE_CMD_SET_MODE
 (0xF3)

	)

75 
	#SIE_CMD_READ_FRAME_NUMBER
 (0xF5)

	)

76 
	#SIE_CMD_READ_TEST_REGISTER
 (0xFD)

	)

77 
	#SIE_CMD_SET_DEVICE_STATUS
 (0xFE)

	)

78 
	#SIE_CMD_GET_DEVICE_STATUS
 (0xFE)

	)

79 
	#SIE_CMD_GET_ERROR_CODE
 (0xFF)

	)

80 
	#SIE_CMD_READ_ERROR_STATUS
 (0xFB)

	)

82 
	#SIE_CMD_SELECT_ENDPOINT
(
’dpošt
è(0x00+’dpošt)

	)

83 
	#SIE_CMD_SELECT_ENDPOINT_CLEAR_INTERRUPT
(
’dpošt
è(0x40+’dpošt)

	)

84 
	#SIE_CMD_SET_ENDPOINT_STATUS
(
’dpošt
è(0x40+’dpošt)

	)

86 
	#SIE_CMD_CLEAR_BUFFER
 (0xF2)

	)

87 
	#SIE_CMD_VALIDATE_BUFFER
 (0xFA)

	)

90 
	#SIE_DS_CON
 (1<<0)

	)

91 
	#SIE_DS_CON_CH
 (1<<1)

	)

92 
	#SIE_DS_SUS
 (1<<2)

	)

93 
	#SIE_DS_SUS_CH
 (1<<3)

	)

94 
	#SIE_DS_RST
 (1<<4)

	)

97 
	#SIE_DSA_DEV_EN
 (1<<7)

	)

100 
	#SIE_CONF_DEVICE
 (1<<0)

	)

103 
	#SIE_SE_FE
 (1<<0)

	)

104 
	#SIE_SE_ST
 (1<<1)

	)

105 
	#SIE_SE_STP
 (1<<2)

	)

106 
	#SIE_SE_PO
 (1<<3)

	)

107 
	#SIE_SE_EPN
 (1<<4)

	)

108 
	#SIE_SE_B_1_FULL
 (1<<5)

	)

109 
	#SIE_SE_B_2_FULL
 (1<<6)

	)

112 
	#SIE_SES_ST
 (1<<0)

	)

113 
	#SIE_SES_DA
 (1<<5)

	)

114 
	#SIE_SES_RF_MO
 (1<<6)

	)

115 
	#SIE_SES_CND_ST
 (1<<7)

	)

118 
USBHAL
 * 
	gUSBHAL
::
š¡ªû
;

120 vŞ©
	g•Com¶‘e
;

121 
ušt32_t
 
	g’dpoštSÎS‹
;

123 
	$SIECommªd
(
ušt32_t
 
commªd
) {

125 
LPC_USB
->
DevIÁCÌ
 = 
CCEMPTY
;

126 
LPC_USB
->
CmdCode
 = 
	`SIE_CMD_CODE
(
SIE_COMMAND
, 
commªd
);

127 !(
LPC_USB
->
DevIÁSt
 & 
CCEMPTY
));

128 
	}
}

130 
	$SIEWr™eD©a
(
ušt8_t
 
d©a
) {

132 
LPC_USB
->
DevIÁCÌ
 = 
CCEMPTY
;

133 
LPC_USB
->
CmdCode
 = 
	`SIE_CMD_CODE
(
SIE_WRITE
, 
d©a
);

134 !(
LPC_USB
->
DevIÁSt
 & 
CCEMPTY
));

135 
	}
}

137 
ušt8_t
 
	$SIER—dD©a
(
ušt32_t
 
commªd
) {

139 
LPC_USB
->
DevIÁCÌ
 = 
CDFULL
;

140 
LPC_USB
->
CmdCode
 = 
	`SIE_CMD_CODE
(
SIE_READ
, 
commªd
);

141 !(
LPC_USB
->
DevIÁSt
 & 
CDFULL
));

142  (
ušt8_t
)
LPC_USB
->
CmdD©a
;

143 
	}
}

145 
	$SIE£tDeviûStus
(
ušt8_t
 
¡©us
) {

147 
	`SIECommªd
(
SIE_CMD_SET_DEVICE_STATUS
);

148 
	`SIEWr™eD©a
(
¡©us
);

149 
	}
}

151 
ušt8_t
 
	$SIEg‘DeviûStus
() {

153 
	`SIECommªd
(
SIE_CMD_GET_DEVICE_STATUS
);

154  
	`SIER—dD©a
(
SIE_CMD_GET_DEVICE_STATUS
);

155 
	}
}

157 
	$SIE£tAdd»ss
(
ušt8_t
 
add»ss
) {

159 
	`SIECommªd
(
SIE_CMD_SET_ADDRESS
);

160 
	`SIEWr™eD©a
((
add»ss
 & 0x7fè| 
SIE_DSA_DEV_EN
);

161 
	}
}

163 
ušt8_t
 
	$SIE£ËùEndpošt
(
ušt8_t
 
’dpošt
) {

165 
	`SIECommªd
(
	`SIE_CMD_SELECT_ENDPOINT
(
’dpošt
));

166  
	`SIER—dD©a
(
	`SIE_CMD_SELECT_ENDPOINT
(
’dpošt
));

167 
	}
}

169 
ušt8_t
 
	$SIEş—rBufãr
() {

171 
	`SIECommªd
(
SIE_CMD_CLEAR_BUFFER
);

172  
	`SIER—dD©a
(
SIE_CMD_CLEAR_BUFFER
);

173 
	}
}

175 
	$SIEv®id©eBufãr
() {

177 
	`SIECommªd
(
SIE_CMD_VALIDATE_BUFFER
);

178 
	}
}

180 
	$SIE£tEndpoštStus
(
ušt8_t
 
’dpošt
, ušt8_ˆ
¡©us
) {

182 
	`SIECommªd
(
	`SIE_CMD_SET_ENDPOINT_STATUS
(
’dpošt
));

183 
	`SIEWr™eD©a
(
¡©us
);

184 
	}
}

186 
ušt16_t
 
	$SIEg‘F¿meNumb”
(è
	`__©Œibu‹__
 ((
unu£d
));

187 
ušt16_t
 
	$SIEg‘F¿meNumb”
() {

189 
ušt16_t
 
lowBy‹
;

190 
ušt16_t
 
highBy‹
;

192 
	`SIECommªd
(
SIE_CMD_READ_FRAME_NUMBER
);

193 
lowBy‹
 = 
	`SIER—dD©a
(
SIE_CMD_READ_FRAME_NUMBER
);

194 
highBy‹
 = 
	`SIER—dD©a
(
SIE_CMD_READ_FRAME_NUMBER
);

196  (
highBy‹
 << 8è| 
lowBy‹
;

197 
	}
}

199 
	$SIEcÚfigu»Deviû
() {

201 
	`SIECommªd
(
SIE_CMD_CONFIGURE_DEVICE
);

202 
	`SIEWr™eD©a
(
SIE_CONF_DEVICE
);

203 
	}
}

205 
	$SIEuncÚfigu»Deviû
() {

207 
	`SIECommªd
(
SIE_CMD_CONFIGURE_DEVICE
);

208 
	`SIEWr™eD©a
(0);

209 
	}
}

211 
	$SIEcÚÃù
() {

213 
ušt8_t
 
¡©us
 = 
	`SIEg‘DeviûStus
();

214 
	`SIE£tDeviûStus
(
¡©us
 | 
SIE_DS_CON
);

215 
	}
}

218 
	$SIEdiscÚÃù
() {

220 
ušt8_t
 
¡©us
 = 
	`SIEg‘DeviûStus
();

221 
	`SIE£tDeviûStus
(
¡©us
 & ~
SIE_DS_CON
);

222 
	}
}

225 
ušt8_t
 
	$£ËùEndpoštCË¬IÁ”ru±
(
ušt8_t
 
’dpošt
) {

227 
LPC_USB
->
EpIÁCÌ
 = 
	`EP
(
’dpošt
);

228 !(
LPC_USB
->
DevIÁSt
 & 
CDFULL
));

229  (
ušt8_t
)
LPC_USB
->
CmdD©a
;

230 
	}
}

233 
	$’abËEndpoštEv’t
(
ušt8_t
 
’dpošt
) {

235 
LPC_USB
->
EpIÁEn
 |ğ
	`EP
(
’dpošt
);

236 
	}
}

238 
	$di§bËEndpoštEv’t
(
ušt8_t
 
’dpošt
è
	`__©Œibu‹__
 ((
unu£d
));

239 
	$di§bËEndpoštEv’t
(
ušt8_t
 
’dpošt
) {

241 
LPC_USB
->
EpIÁEn
 &ğ~
	`EP
(
’dpošt
);

242 
	}
}

244 vŞ©
ušt32_t
 
__©Œibu‹__
((
u£d
)è
	gdummyR—d
;

245 
ušt32_t
 
	gUSBHAL
::
	$’dpoštR—dcÜe
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
bufãr
) {

247 
ušt32_t
 
size
;

248 
ušt32_t
 
i
;

249 
ušt32_t
 
d©a
 = 0;

250 
ušt8_t
 
off£t
;

252 
LPC_USB
->
CŒl
 = 
	`LOG_ENDPOINT
(
’dpošt
è| 
RD_EN
;

253 !(
LPC_USB
->
RxPL’
 & 
PKT_RDY
));

255 
size
 = 
LPC_USB
->
RxPL’
 & 
PKT_LNGTH_MASK
;

257 
off£t
 = 0;

259 ià(
size
 > 0) {

260 
i
=0; i<
size
; i++) {

261 ià(
off£t
==0) {

263 
d©a
 = 
LPC_USB
->
RxD©a
;

267 *
bufãr
 = (
d©a
>>
off£t
) & 0xff;

268 
bufãr
++;

271 
off£t
 = (offset + 8) % 32;

274 
dummyR—d
 = 
LPC_USB
->
RxD©a
;

277 
LPC_USB
->
CŒl
 = 0;

279 ià((
’dpošt
 >> 1) % 3 || (endpoint >> 1) == 0) {

280 
	`SIE£ËùEndpošt
(
’dpošt
);

281 
	`SIEş—rBufãr
();

284  
size
;

285 
	}
}

287 
	$’dpoštWr™ecÜe
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
bufãr
, 
ušt32_t
 
size
) {

289 
ušt32_t
 
‹mp
, 
d©a
;

290 
ušt8_t
 
off£t
;

292 
LPC_USB
->
CŒl
 = 
	`LOG_ENDPOINT
(
’dpošt
è| 
WR_EN
;

294 
LPC_USB
->
TxPL’
 = 
size
;

295 
off£t
 = 0;

296 
d©a
 = 0;

298 ià(
size
>0) {

301 
‹mp
 = *
bufãr
++;

304 
‹mp
 =em°<< 
off£t
;

305 
d©a
 = d©¨| 
‹mp
;

308 
off£t
 = (offset + 8) % 32;

309 
size
--;

311 ià((
off£t
==0è|| (
size
==0)) {

313 
LPC_USB
->
TxD©a
 = 
d©a
;

314 
d©a
 = 0;

316 } 
size
>0);

318 
LPC_USB
->
TxD©a
 = 0;

322 
LPC_USB
->
CŒl
=0;

324 
	`SIE£ËùEndpošt
(
’dpošt
);

325 
	`SIEv®id©eBufãr
();

326 
	}
}

328 
	gUSBHAL
::
	$USBHAL
() {

330 
	`NVIC_Di§bËIRQ
(
USB_IRQn
);

333 
•C®lback
[0] = &
USBHAL
::
EP1_OUT_ÿÎback
;

334 
•C®lback
[1] = &
USBHAL
::
EP1_IN_ÿÎback
;

335 
•C®lback
[2] = &
USBHAL
::
EP2_OUT_ÿÎback
;

336 
•C®lback
[3] = &
USBHAL
::
EP2_IN_ÿÎback
;

337 
•C®lback
[4] = &
USBHAL
::
EP3_OUT_ÿÎback
;

338 
•C®lback
[5] = &
USBHAL
::
EP3_IN_ÿÎback
;

339 
•C®lback
[6] = &
USBHAL
::
EP4_OUT_ÿÎback
;

340 
•C®lback
[7] = &
USBHAL
::
EP4_IN_ÿÎback
;

341 
•C®lback
[8] = &
USBHAL
::
EP5_OUT_ÿÎback
;

342 
•C®lback
[9] = &
USBHAL
::
EP5_IN_ÿÎback
;

343 
•C®lback
[10] = &
USBHAL
::
EP6_OUT_ÿÎback
;

344 
•C®lback
[11] = &
USBHAL
::
EP6_IN_ÿÎback
;

345 
•C®lback
[12] = &
USBHAL
::
EP7_OUT_ÿÎback
;

346 
•C®lback
[13] = &
USBHAL
::
EP7_IN_ÿÎback
;

347 
•C®lback
[14] = &
USBHAL
::
EP8_OUT_ÿÎback
;

348 
•C®lback
[15] = &
USBHAL
::
EP8_IN_ÿÎback
;

349 
•C®lback
[16] = &
USBHAL
::
EP9_OUT_ÿÎback
;

350 
•C®lback
[17] = &
USBHAL
::
EP9_IN_ÿÎback
;

351 
•C®lback
[18] = &
USBHAL
::
EP10_OUT_ÿÎback
;

352 
•C®lback
[19] = &
USBHAL
::
EP10_IN_ÿÎback
;

353 
•C®lback
[20] = &
USBHAL
::
EP11_OUT_ÿÎback
;

354 
•C®lback
[21] = &
USBHAL
::
EP11_IN_ÿÎback
;

355 
•C®lback
[22] = &
USBHAL
::
EP12_OUT_ÿÎback
;

356 
•C®lback
[23] = &
USBHAL
::
EP12_IN_ÿÎback
;

357 
•C®lback
[24] = &
USBHAL
::
EP13_OUT_ÿÎback
;

358 
•C®lback
[25] = &
USBHAL
::
EP13_IN_ÿÎback
;

359 
•C®lback
[26] = &
USBHAL
::
EP14_OUT_ÿÎback
;

360 
•C®lback
[27] = &
USBHAL
::
EP14_IN_ÿÎback
;

361 
•C®lback
[28] = &
USBHAL
::
EP15_OUT_ÿÎback
;

362 
•C®lback
[29] = &
USBHAL
::
EP15_IN_ÿÎback
;

365 
LPC_SC
->
PCONP
 |ğ
PCUSB
;

368 
LPC_USB
->
USBClkCŒl
 |ğ
DEV_CLK_EN
 | 
AHB_CLK_EN
 | 
PORT_CLK_EN
;

369 (
LPC_USB
->
USBClkSt
 & (
DEV_CLK_EN
 | 
AHB_CLK_EN
 | 
PORT_CLK_EN
)è!ğ(
DEV_CLK_ON
 | 
AHB_CLK_ON
 | PORT_CLK_EN));

372 
LPC_USB
->
StCŒl
 |= 3;

376 
LPC_IOCON
->
P0_31
 &= ~0x07;

377 
LPC_IOCON
->
P0_31
 |= 0x01;

380 
	`SIEdiscÚÃù
();

383 
LPC_IOCON
->
P0_14
 &= ~0x07;

384 
LPC_IOCON
->
P0_14
 |= 0x03;

387 
	`wa™
(0.3);

390 
	`»®i£Endpošt
(
EP0IN
, 
MAX_PACKET_SIZE_EP0
, 0);

391 
	`»®i£Endpošt
(
EP0OUT
, 
MAX_PACKET_SIZE_EP0
, 0);

394 
š¡ªû
 = 
this
;

395 
	`NVIC_S‘VeùÜ
(
USB_IRQn
, (
ušt32_t
)&
_usbi¤
);

398 
LPC_USB
->
DevIÁEn
 = 
EP_SLOW
 | 
DEV_STAT
 | 
FRAME
;

399 
	`’abËEndpoštEv’t
(
EP0IN
);

400 
	`’abËEndpoštEv’t
(
EP0OUT
);

401 
	}
}

403 
	gUSBHAL
::~
	$USBHAL
() {

405 
	`SIEdiscÚÃù
();

407 
	`NVIC_Di§bËIRQ
(
USB_IRQn
);

408 
	}
}

410 
	gUSBHAL
::
	$cÚÃù
() {

411 
	`NVIC_EÇbËIRQ
(
USB_IRQn
);

413 
	`SIEcÚÃù
();

414 
	}
}

416 
	gUSBHAL
::
	$discÚÃù
() {

417 
	`NVIC_Di§bËIRQ
(
USB_IRQn
);

419 
	`SIEdiscÚÃù
();

420 
	}
}

422 
	gUSBHAL
::
	$cÚfigu»Deviû
() {

423 
	`SIEcÚfigu»Deviû
();

424 
	}
}

426 
	gUSBHAL
::
	$uncÚfigu»Deviû
() {

427 
	`SIEuncÚfigu»Deviû
();

428 
	}
}

430 
	gUSBHAL
::
	$£tAdd»ss
(
ušt8_t
 
add»ss
) {

431 
	`SIE£tAdd»ss
(
add»ss
);

432 
	}
}

434 
	gUSBHAL
::
	$EP0£tup
(
ušt8_t
 *
bufãr
) {

435 
	`’dpoštR—dcÜe
(
EP0OUT
, 
bufãr
);

436 
	}
}

438 
	gUSBHAL
::
	$EP0»ad
() {

440 
	}
}

442 
USBHAL
::
	$EP0»adSge
() {

444 
	}
}

446 
ušt32_t
 
USBHAL
::
	$EP0g‘R—dResuÉ
(
ušt8_t
 *
bufãr
) {

447  
	`’dpoštR—dcÜe
(
EP0OUT
, 
bufãr
);

448 
	}
}

450 
	gUSBHAL
::
	$EP0wr™e
(
ušt8_t
 *
bufãr
, 
ušt32_t
 
size
) {

451 
	`’dpoštWr™ecÜe
(
EP0IN
, 
bufãr
, 
size
);

452 
	}
}

454 
	gUSBHAL
::
	$EP0g‘Wr™eResuÉ
() {

456 
	}
}

458 
USBHAL
::
	$EP0¡®l
() {

460 
	`¡®lEndpošt
(
EP0OUT
);

461 
	}
}

463 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštR—d
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maximumSize
) {

464  
EP_PENDING
;

465 
	}
}

467 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštR—dResuÉ
(
ušt8_t
 
’dpošt
, ušt8_ˆ* 
bufãr
, 
ušt32_t
 *
by‹sR—d
) {

470 ià((
’dpošt
 >> 1) % 3 || (endpoint >> 1) == 0) {

471 ià(!(
•Com¶‘e
 & 
	`EP
(
’dpošt
)))

472  
EP_PENDING
;

475 *
by‹sR—d
 = 
	`’dpoštR—dcÜe
(
’dpošt
, 
bufãr
);

476 
•Com¶‘e
 &ğ~
	`EP
(
’dpošt
);

477  
EP_COMPLETED
;

478 
	}
}

480 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštWr™e
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
d©a
, 
ušt32_t
 
size
) {

481 ià(
	`g‘EndpoštSÎS‹
(
’dpošt
)) {

482  
EP_STALLED
;

485 
•Com¶‘e
 &ğ~
	`EP
(
’dpošt
);

487 
	`’dpoštWr™ecÜe
(
’dpošt
, 
d©a
, 
size
);

488  
EP_PENDING
;

489 
	}
}

491 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštWr™eResuÉ
(
ušt8_t
 
’dpošt
) {

492 ià(
•Com¶‘e
 & 
	`EP
(
’dpošt
)) {

493 
•Com¶‘e
 &ğ~
	`EP
(
’dpošt
);

494  
EP_COMPLETED
;

497  
EP_PENDING
;

498 
	}
}

500 
boŞ
 
	gUSBHAL
::
	$»®i£Endpošt
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maxPack‘
, ušt32_ˆ
æags
) {

502 
LPC_USB
->
DevIÁCÌ
 = 
EP_RLZED
;

503 
LPC_USB
->
ReEp
 |ğ
	`EP
(
’dpošt
);

504 
LPC_USB
->
EpInd
 = 
’dpošt
;

505 
LPC_USB
->
MaxPSize
 = 
maxPack‘
;

507 !(
LPC_USB
->
DevIÁSt
 & 
EP_RLZED
));

508 
LPC_USB
->
DevIÁCÌ
 = 
EP_RLZED
;

511 
’dpoštSÎS‹
 &ğ~
	`EP
(
’dpošt
);

513 
	`’abËEndpoštEv’t
(
’dpošt
);

514  
Œue
;

515 
	}
}

517 
	gUSBHAL
::
	$¡®lEndpošt
(
ušt8_t
 
’dpošt
) {

519 iàĞ(
’dpošt
==
EP0IN
è|| (’dpošt==
EP0OUT
) ) {

521 
	`SIE£tEndpoštStus
(
EP0OUT
, 
SIE_SES_CND_ST
);

523 
	`SIE£tEndpoštStus
(
’dpošt
, 
SIE_SES_ST
);

526 
’dpoštSÎS‹
 |ğ
	`EP
(
’dpošt
);

528 
	}
}

530 
	gUSBHAL
::
	$un¡®lEndpošt
(
ušt8_t
 
’dpošt
) {

532 
	`SIE£tEndpoštStus
(
’dpošt
, 0);

535 
’dpoštSÎS‹
 &ğ~
	`EP
(
’dpošt
);

536 
	}
}

538 
boŞ
 
	gUSBHAL
::
	$g‘EndpoštSÎS‹
(
ušt8_t
 
’dpošt
) {

540  
’dpoštSÎS‹
 & 
	`EP
(
’dpošt
);

541 
	}
}

543 
	gUSBHAL
::
	$»mÙeWakeup
() {

545 
ušt8_t
 
¡©us
;

548 
LPC_USB
->
USBClkCŒl
 |ğ
DEV_CLK_EN
 | 
AHB_CLK_EN
;

549 
LPC_USB
->
USBClkSt
 !ğ(
DEV_CLK_ON
 | 
AHB_CLK_ON
));

551 
¡©us
 = 
	`SIEg‘DeviûStus
();

552 
	`SIE£tDeviûStus
(
¡©us
 & ~
SIE_DS_SUS
);

553 
	}
}

555 
	gUSBHAL
::
	$_usbi¤
() {

556 
š¡ªû
->
	`usbi¤
();

557 
	}
}

560 
	gUSBHAL
::
	$usbi¤
() {

561 
ušt8_t
 
devSt
;

563 ià(
LPC_USB
->
DevIÁSt
 & 
FRAME
) {

565 
	`SOF
(
	`SIEg‘F¿meNumb”
());

567 
LPC_USB
->
DevIÁCÌ
 = 
FRAME
;

570 ià(
LPC_USB
->
DevIÁSt
 & 
DEV_STAT
) {

573 
LPC_USB
->
DevIÁCÌ
 = 
DEV_STAT
;

576 
devSt
 = 
	`SIEg‘DeviûStus
();

579 ià(
devSt
 & 
SIE_DS_SUS_CH
) {

581 if((
devSt
 & 
SIE_DS_SUS
) != 0) {

582 
	`su¥’dS‹Chªged
(0);

586 ià(
devSt
 & 
SIE_DS_RST
) {

588 if((
devSt
 & 
SIE_DS_SUS
) == 0) {

589 
	`su¥’dS‹Chªged
(1);

591 
	`busRe£t
();

595 ià(
LPC_USB
->
DevIÁSt
 & 
EP_SLOW
) {

599 ià(
LPC_USB
->
EpIÁSt
 & 
	`EP
(
EP0OUT
)) {

600 ià(
	`£ËùEndpoštCË¬IÁ”ru±
(
EP0OUT
è& 
SIE_SE_STP
) {

602 
	`EP0£tupC®lback
();

604 
	`EP0out
();

606 
LPC_USB
->
DevIÁCÌ
 = 
EP_SLOW
;

609 ià(
LPC_USB
->
EpIÁSt
 & 
	`EP
(
EP0IN
)) {

610 
	`£ËùEndpoštCË¬IÁ”ru±
(
EP0IN
);

611 
LPC_USB
->
DevIÁCÌ
 = 
EP_SLOW
;

612 
	`EP0š
();

615 
ušt8_t
 
num
 = 2;‚um < 16*2;‚um++) {

616 ià(
LPC_USB
->
EpIÁSt
 & 
	`EP
(
num
)) {

617 
	`£ËùEndpoštCË¬IÁ”ru±
(
num
);

618 
•Com¶‘e
 |ğ
	`EP
(
num
);

619 
LPC_USB
->
DevIÁCÌ
 = 
EP_SLOW
;

620 ià((
š¡ªû
->*(
•C®lback
[
num
 - 2]))()) {

621 
•Com¶‘e
 &ğ~
	`EP
(
num
);

626 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBHAL_Maxim.cpp

34 #ià
defšed
(
TARGET_Maxim
)

36 
	~"USBHAL.h
"

37 
	~"usb_»gs.h
"

38 
	~"şkmª_»gs.h
"

40 
	#CONNECT_INTS
 (
MXC_F_USB_DEV_INTEN_BRST
 | 
MXC_F_USB_DEV_INTEN_SETUP
 | 
MXC_F_USB_DEV_INTEN_EP_IN
 | 
MXC_F_USB_DEV_INTEN_EP_OUT
 | 
MXC_F_USB_DEV_INTEN_DMA_ERR
)

	)

42 
USBHAL
 *
	gUSBHAL
::
š¡ªû
;

45 vŞ©
ušt32_t
 
	mbuf0_desc
;

46 vŞ©
ušt32_t
 
	mbuf0_add»ss
;

47 vŞ©
ušt32_t
 
	mbuf1_desc
;

48 vŞ©
ušt32_t
 
	mbuf1_add»ss
;

49 } 
	t•_bufãr_t
;

52 
•_bufãr_t
 
	mout_bufãr
;

53 
•_bufãr_t
 
	mš_bufãr
;

54 } 
	t•0_bufãr_t
;

57 
•0_bufãr_t
 
	m•0
;

58 
•_bufãr_t
 
	m•
[
MXC_USB_NUM_EP
 - 1];

59 } 
	t•_bufãr_desütÜ_t
;

62 #ifdeà
__IAR_SYSTEMS_ICC__


63 #´agm¨
d©a_®ignm’t
 = 512

65 
__©Œibu‹__
 ((
	$®igÃd
 (512)))

67 
•_bufãr_desütÜ_t
 
•_bufãr_desütÜ
;

70 #ifdeà
__IAR_SYSTEMS_ICC__


71 #´agm¨
d©a_®ignm’t
 = 4

73 
	`__©Œibu‹__
 ((
	$®igÃd
 (4)))

75 
ušt8_t
 
®igÃd_bufãr
[
NUMBER_OF_LOGICAL_ENDPOINTS
][
MXC_USB_MAX_PACKET
];

79 
CTRL_NONE
 = 0,

80 
CTRL_SETUP
,

81 
CTRL_OUT
,

82 
CTRL_IN
,

83 } 
cÚŒŞ_¡©e
;

85 
USBHAL
::
	$USBHAL
()

87 
	`NVIC_Di§bËIRQ
(
USB_IRQn
);

90 
	`MBED_ASSERT
(
MXC_CLKMAN
->
şk_cÚfig
 & 
MXC_F_CLKMAN_CLK_CONFIG_PLL_ENABLE
);

93 
MXC_CLKMAN
->
şk_ù¾
 |ğ
MXC_F_CLKMAN_CLK_CTRL_USB_GATE_N
;

96 
MXC_USB
->
ú
 = 0;

97 
MXC_USB
->
ú
 = 1;

98 
MXC_USB
->
dev_š‹n
 = 0;

99 
MXC_USB
->
dev_ú
 = 0;

100 
MXC_USB
->
dev_ú
 = 
MXC_F_USB_DEV_CN_URST
;

101 
MXC_USB
->
dev_ú
 = 0;

104 
•C®lback
[
EP0OUT
] = 
NULL
;

105 
•C®lback
[
EP0IN
] = 
NULL
;

106 
•C®lback
[
EP1OUT
] = &
USBHAL
::
EP1_OUT_ÿÎback
;

107 
•C®lback
[
EP1IN
 ] = &
USBHAL
::
EP1_IN_ÿÎback
;

108 
•C®lback
[
EP2OUT
] = &
USBHAL
::
EP2_OUT_ÿÎback
;

109 
•C®lback
[
EP2IN
 ] = &
USBHAL
::
EP2_IN_ÿÎback
;

110 
•C®lback
[
EP3OUT
] = &
USBHAL
::
EP3_OUT_ÿÎback
;

111 
•C®lback
[
EP3IN
 ] = &
USBHAL
::
EP3_IN_ÿÎback
;

112 
•C®lback
[
EP4OUT
] = &
USBHAL
::
EP4_OUT_ÿÎback
;

113 
•C®lback
[
EP4IN
 ] = &
USBHAL
::
EP4_IN_ÿÎback
;

114 
•C®lback
[
EP5OUT
] = &
USBHAL
::
EP5_OUT_ÿÎback
;

115 
•C®lback
[
EP5IN
 ] = &
USBHAL
::
EP5_IN_ÿÎback
;

116 
•C®lback
[
EP6OUT
] = &
USBHAL
::
EP6_OUT_ÿÎback
;

117 
•C®lback
[
EP6IN
 ] = &
USBHAL
::
EP6_IN_ÿÎback
;

118 
•C®lback
[
EP7OUT
] = &
USBHAL
::
EP7_OUT_ÿÎback
;

119 
•C®lback
[
EP7IN
 ] = &
USBHAL
::
EP7_IN_ÿÎback
;

122 
cÚŒŞ_¡©e
 = 
CTRL_NONE
;

125 
MXC_USB
->
•_ba£
 = (
ušt32_t
)&
•_bufãr_desütÜ
;

128 
š¡ªû
 = 
this
;

129 
	`NVIC_S‘VeùÜ
(
USB_IRQn
, (
ušt32_t
)&
_usbi¤
);

130 
	`NVIC_EÇbËIRQ
(
USB_IRQn
);

131 
	}
}

133 
	gUSBHAL
::~
	$USBHAL
()

135 
MXC_USB
->
dev_ú
 = 
MXC_F_USB_DEV_CN_URST
;

136 
MXC_USB
->
dev_ú
 = 0;

137 
MXC_USB
->
ú
 = 0;

138 
	}
}

140 
	gUSBHAL
::
	$cÚÃù
()

143 
MXC_USB
->
dev_š‹n
 |ğ
CONNECT_INTS
;

146 
MXC_USB
->
•
[0] |ğ
MXC_F_USB_EP_INT_EN
;

149 
MXC_USB
->
dev_ú
 |ğ(
MXC_F_USB_DEV_CN_CONNECT
 | 
MXC_F_USB_DEV_CN_FIFO_MODE
);

150 
	}
}

152 
	gUSBHAL
::
	$discÚÃù
()

155 
MXC_USB
->
dev_š‹n
 &ğ~
CONNECT_INTS
;

158 
MXC_USB
->
dev_ú
 &ğ~
MXC_F_USB_DEV_CN_CONNECT
;

159 
	}
}

161 
	gUSBHAL
::
	$cÚfigu»Deviû
()

164 
	}
}

166 
USBHAL
::
	$uncÚfigu»Deviû
()

169 
i
 = 0; i < 
MXC_USB_NUM_EP
; i++) {

171 
MXC_USB
->
•
[
i
] &ğ~
MXC_F_USB_EP_DIR
;

172 
MXC_USB
->
•
[
i
] |ğ
MXC_F_USB_EP_DT
;

174 
	}
}

176 
	gUSBHAL
::
	$£tAdd»ss
(
ušt8_t
 
add»ss
)

179 
	}
}

181 
USBHAL
::
	$»mÙeWakeup
()

184 
	}
}

186 
•_bufãr_t
 *
	$g‘_desc
(
ušt8_t
 
’dpošt
)

188 
ušt8_t
 
•num
 = 
	`EP_NUM
(
’dpošt
);

189 
•_bufãr_t
 *
desc
;

191 ià(
•num
 == 0) {

192 ià(
	`IN_EP
(
’dpošt
)) {

193 
desc
 = &
•_bufãr_desütÜ
.
•0
.
š_bufãr
;

195 
desc
 = &
•_bufãr_desütÜ
.
•0
.
out_bufãr
;

198 
desc
 = &
•_bufãr_desütÜ
.
•
[
•num
 - 1];

201  
desc
;

202 
	}
}

204 
	gUSBHAL
::
	$EP0£tup
(
ušt8_t
 *
bufãr
)

206 
	`memıy
(
bufãr
, (*)&
MXC_USB
->
£tup0
, 8);

207 
	}
}

209 
	gUSBHAL
::
	$EP0»ad
()

211 ià(
cÚŒŞ_¡©e
 =ğ
CTRL_IN
) {

213 
MXC_USB
->
•
[0] |ğ
MXC_F_USB_EP_ST_ACK
;

214 
cÚŒŞ_¡©e
 = 
CTRL_NONE
;

218 
cÚŒŞ_¡©e
 = 
CTRL_OUT
;

220 
	`’dpoštR—d
(
EP0OUT
, 
MAX_PACKET_SIZE_EP0
);

221 
	}
}

223 
	gUSBHAL
::
	$EP0»adSge
()

226 
	}
}

228 
ušt32_t
 
USBHAL
::
	$EP0g‘R—dResuÉ
(
ušt8_t
 *
bufãr
)

230 
ušt32_t
 
size
;

232 ià(
MXC_USB
->
out_owÃr
 & 1) {

237 
•_bufãr_t
 *
desc
 = 
	`g‘_desc
(
EP0OUT
);

238 
size
 = 
desc
->
buf0_desc
;

239 
	`memıy
(
bufãr
, 
®igÃd_bufãr
[0], 
size
);

241  
size
;

242 
	}
}

244 
	gUSBHAL
::
	$EP0wr™e
(
ušt8_t
 *
bufãr
, 
ušt32_t
 
size
)

246 ià((
size
 =ğ0è&& (
cÚŒŞ_¡©e
 !ğ
CTRL_IN
)) {

248 
MXC_USB
->
•
[0] |ğ
MXC_F_USB_EP_ST_ACK
;

249 
cÚŒŞ_¡©e
 = 
CTRL_NONE
;

253 
cÚŒŞ_¡©e
 = 
CTRL_IN
;

255 
	`’dpoštWr™e
(
EP0IN
, 
bufãr
, 
size
);

256 
	}
}

258 
	gUSBHAL
::
	$EP0¡®l
()

260 
	`¡®lEndpošt
(0);

261 
	}
}

263 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštR—d
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maximumSize
)

265 
ušt8_t
 
•num
 = 
	`EP_NUM
(
’dpošt
);

267 ià((
’dpošt
 >ğ
NUMBER_OF_PHYSICAL_ENDPOINTS
è|| 
	`IN_EP
(endpoint)) {

268  
EP_INVALID
;

271 ià(
maximumSize
 > 
MXC_USB_MAX_PACKET
) {

272  
EP_INVALID
;

275 
ušt32_t
 
mask
 = (1 << 
•num
);

276 ià(
MXC_USB
->
out_owÃr
 & 
mask
) {

277  
EP_INVALID
;

280 
•_bufãr_t
 *
desc
 = 
	`g‘_desc
(
’dpošt
);

281 
desc
->
buf0_desc
 = 
maximumSize
;

282 
desc
->
buf0_add»ss
 = (
ušt32_t
)
®igÃd_bufãr
[
•num
];

284 
MXC_USB
->
out_owÃr
 = 
mask
;

286  
EP_PENDING
;

287 
	}
}

289 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštR—dResuÉ
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
d©a
, 
ušt32_t
 *
by‹sR—d
)

291 ià((
’dpošt
 >ğ
NUMBER_OF_PHYSICAL_ENDPOINTS
è|| 
	`IN_EP
(endpoint)) {

292  
EP_INVALID
;

295 
ušt32_t
 
mask
 = (1 << 
	`EP_NUM
(
’dpošt
));

296 ià(
MXC_USB
->
out_owÃr
 & 
mask
) {

297  
EP_PENDING
;

301 
•_bufãr_t
 *
desc
 = 
	`g‘_desc
(
’dpošt
);

302 *
by‹sR—d
 = 
desc
->
buf0_desc
;

303 
	`memıy
(
d©a
, 
®igÃd_bufãr
[
	`EP_NUM
(
’dpošt
)], *
by‹sR—d
);

305  
EP_COMPLETED
;

306 
	}
}

308 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštWr™e
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
d©a
, 
ušt32_t
 
size
)

310 
ušt8_t
 
•num
 = 
	`EP_NUM
(
’dpošt
);

312 ià((
’dpošt
 >ğ
NUMBER_OF_PHYSICAL_ENDPOINTS
è|| 
	`OUT_EP
(endpoint)) {

313  
EP_INVALID
;

316 ià(
size
 > 
MXC_USB_MAX_PACKET
) {

317  
EP_INVALID
;

320 
ušt32_t
 
mask
 = (1 << 
•num
);

321 ià(
MXC_USB
->
š_owÃr
 & 
mask
) {

322  
EP_INVALID
;

325 
	`memıy
(
®igÃd_bufãr
[
•num
], 
d©a
, 
size
);

327 
•_bufãr_t
 *
desc
 = 
	`g‘_desc
(
’dpošt
);

328 
desc
->
buf0_desc
 = 
size
;

329 
desc
->
buf0_add»ss
 = (
ušt32_t
)
®igÃd_bufãr
[
•num
];

332 
MXC_USB
->
š_owÃr
 = 
mask
;

334  
EP_PENDING
;

335 
	}
}

337 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštWr™eResuÉ
(
ušt8_t
 
’dpošt
)

339 
ušt32_t
 
mask
 = (1 << 
	`EP_NUM
(
’dpošt
));

340 ià(
MXC_USB
->
š_owÃr
 & 
mask
) {

341  
EP_PENDING
;

344  
EP_COMPLETED
;

345 
	}
}

347 
	gUSBHAL
::
	$¡®lEndpošt
(
ušt8_t
 
’dpošt
)

349 
ušt8_t
 
•num
 = 
	`EP_NUM
(
’dpošt
);

351 ià(
•num
 == 0) {

352 
MXC_USB
->
•
[
•num
] |ğ
MXC_F_USB_EP_ST_STALL
;

355 
MXC_USB
->
•
[
•num
] |ğ
MXC_F_USB_EP_STALL
;

356 
	}
}

358 
	gUSBHAL
::
	$un¡®lEndpošt
(
ušt8_t
 
’dpošt
)

360 
MXC_USB
->
•
[
	`EP_NUM
(
’dpošt
)] &ğ~
MXC_F_USB_EP_STALL
;

361 
	}
}

363 
boŞ
 
	gUSBHAL
::
	$»®i£Endpošt
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maxPack‘
, ušt32_ˆ
İtiÚs
)

365 
ušt8_t
 
•num
 = 
	`EP_NUM
(
’dpošt
);

366 
ušt32_t
 
•_ù¾
;

368 ià(
•num
 >ğ
NUMBER_OF_PHYSICAL_ENDPOINTS
) {

369  
çl£
;

372 ià(
	`IN_EP
(
’dpošt
)) {

373 
•_ù¾
 = (
MXC_V_USB_EP_DIR_IN
 << 
MXC_F_USB_EP_DIR_POS
);

375 
•_ù¾
 = (
MXC_S_USB_EP_DIR_OUT
 << 
MXC_F_USB_EP_DIR_POS
);

378 
•_ù¾
 |ğ(
MXC_F_USB_EP_DT
 | 
MXC_F_USB_EP_INT_EN
);

380 
MXC_USB
->
•
[
•num
] = 
•_ù¾
;

382  
Œue
;

383 
	}
}

385 
boŞ
 
	gUSBHAL
::
	$g‘EndpoštSÎS‹
(
’dpošt
)

387  !!(
MXC_USB
->
•
[
’dpošt
] & 
MXC_F_USB_EP_STALL
);

388 
	}
}

390 
	gUSBHAL
::
	$_usbi¤
()

392 
š¡ªû
->
	`usbi¤
();

393 
	}
}

395 
	gUSBHAL
::
	$usbi¤
()

398 
ušt32_t
 
œq_æags
 = 
MXC_USB
->
dev_štæ
;

399 
MXC_USB
->
dev_štæ
 = 
œq_æags
;

402 
œq_æags
 &ğ
MXC_USB
->
dev_š‹n
;

405 ià(
œq_æags
 & 
MXC_F_USB_DEV_INTFL_SUSP
) {

406 
	`su¥’dS‹Chªged
(1);

410 ià(
œq_æags
 & 
MXC_F_USB_DEV_INTFL_BRST
) {

413 
i
 = 0; i < 
MXC_USB_NUM_EP
; i++) {

415 
MXC_USB
->
•
[
i
] &ğ~
MXC_F_USB_EP_DIR
;

416 
MXC_USB
->
•
[
i
] |ğ
MXC_F_USB_EP_DT
;

420 
cÚŒŞ_¡©e
 = 
CTRL_NONE
;

422 
	`busRe£t
();

429 ià(
œq_æags
 & 
MXC_F_USB_DEV_INTFL_SETUP
) {

430 
cÚŒŞ_¡©e
 = 
CTRL_SETUP
;

431 
	`EP0£tupC®lback
();

435 ià(
œq_æags
 & 
MXC_F_USB_DEV_INTFL_EP_IN
) {

437 
ušt32_t
 
š_œqs
 = 
MXC_USB
->
š_št
;

438 
MXC_USB
->
š_št
 = 
š_œqs
;

440 ià(
š_œqs
 & 1) {

441 
	`EP0š
();

444 
ušt8_t
 
•num
 = 1;ƒ²um < 
NUMBER_OF_LOGICAL_ENDPOINTS
;ƒpnum++) {

445 
ušt32_t
 
œq_mask
 = (1 << 
•num
);

446 ià(
š_œqs
 & 
œq_mask
) {

447 
ušt8_t
 
’dpošt
 = (
•num
 << 1è| 
DIR_IN
;

448 (
š¡ªû
->*(
•C®lback
[
’dpošt
]))();

454 ià(
œq_æags
 & 
MXC_F_USB_DEV_INTFL_EP_OUT
) {

456 
ušt32_t
 
out_œqs
 = 
MXC_USB
->
out_št
;

457 
MXC_USB
->
out_št
 = 
out_œqs
;

459 ià(
out_œqs
 & 1) {

460 
	`EP0out
();

463 
ušt8_t
 
•num
 = 1;ƒ²um < 
NUMBER_OF_LOGICAL_ENDPOINTS
;ƒpnum++) {

464 
ušt32_t
 
œq_mask
 = (1 << 
•num
);

465 ià(
out_œqs
 & 
œq_mask
) {

466 
ušt8_t
 
’dpošt
 = (
•num
 << 1è| 
DIR_OUT
;

467 (
š¡ªû
->*(
•C®lback
[
’dpošt
]))();

471 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBHAL_RZ_A1H.cpp

26 #ià
defšed
(
TARGET_RZ_A1H
è|| defšed(
TARGET_VK_RZ_A1H
)

36 
	~"r_ty³defs.h
"

37 
	~"iodefše.h
"

39 
	~"USBHAL.h
"

40 
	~"devdrv_usb_funùiÚ_­i.h
"

41 
	~"usb_iob™mask.h
"

42 
	~"rza_io_»grw.h
"

43 
	~"USBDeviû_Ty³s.h
"

44 
	~"usb_funùiÚ_£‰šg.h
"

49 cÚ¡ 
	sPIPECFGREC
 {

50 
ušt16_t
 
’dpošt
;

51 
ušt16_t
 
pe£l
;

52 
ušt16_t
 
pecfg
;

53 
ušt16_t
 
pebuf
;

54 
ušt16_t
 
pemaxp
;

55 
ušt16_t
 
p•”i
;

56 } 
def_pecfg
[] = {

59 
EP1OUT
,

60 6 | 
USB_FUNCTION_D0FIFO_USE
,

61 
USB_FUNCTION_INTERRUPT
 |

62 
USB_FUNCTION_BFREOFF
 |

63 
USB_FUNCTION_DBLBOFF
 |

64 
USB_FUNCTION_CNTMDON
 |

65 
USB_FUNCTION_SHTNAKOFF
 |

66 
USB_FUNCTION_DIR_P_OUT
 |

67 
USB_FUNCTION_EP1
,

69 
MAX_PACKET_SIZE_EP1
,

70 
DEVDRV_USBF_OFF
 |

71 Ğ3 << 
USB_PIPEPERI_IITV_SHIFT
 ),

74 
EP1IN
,

75 7 | 
USB_FUNCTION_D1FIFO_USE
,

76 
USB_FUNCTION_INTERRUPT
 |

77 
USB_FUNCTION_BFREOFF
 |

78 
USB_FUNCTION_DBLBOFF
 |

79 
USB_FUNCTION_CNTMDOFF
 |

80 
USB_FUNCTION_SHTNAKOFF
 |

81 
USB_FUNCTION_DIR_P_IN
 |

82 
USB_FUNCTION_EP1
,

84 
MAX_PACKET_SIZE_EP1
,

85 
DEVDRV_USBF_OFF
 |

86 Ğ3 << 
USB_PIPEPERI_IITV_SHIFT
 ),

89 
EP2OUT
,

90 3 | 
USB_FUNCTION_D0FIFO_USE
,

91 
USB_FUNCTION_BULK
 |

92 
USB_FUNCTION_BFREOFF
 |

93 
USB_FUNCTION_DBLBON
 |

94 
USB_FUNCTION_CNTMDON
 |

95 
USB_FUNCTION_SHTNAKON
 |

96 
USB_FUNCTION_DIR_P_OUT
 |

97 
USB_FUNCTION_EP2
,

99 
MAX_PACKET_SIZE_EP2
,

100 
DEVDRV_USBF_OFF
 |

101 Ğ0 << 
USB_PIPEPERI_IITV_SHIFT
 ),

104 
EP2IN
,

105 4 | 
USB_FUNCTION_D1FIFO_USE
,

106 
USB_FUNCTION_BULK
 |

107 
USB_FUNCTION_BFREOFF
 |

108 
USB_FUNCTION_DBLBOFF
 |

109 
USB_FUNCTION_CNTMDON
 |

110 
USB_FUNCTION_SHTNAKOFF
 |

111 
USB_FUNCTION_DIR_P_IN
 |

112 
USB_FUNCTION_EP2
,

114 
MAX_PACKET_SIZE_EP2
,

115 
DEVDRV_USBF_OFF
 |

116 Ğ0 << 
USB_PIPEPERI_IITV_SHIFT
 ),

119 
EP3OUT
,

120 1 | 
USB_FUNCTION_D0FIFO_USE
,

121 
USB_FUNCTION_ISO
 |

122 
USB_FUNCTION_BFREOFF
 |

123 
USB_FUNCTION_DBLBON
 |

124 
USB_FUNCTION_CNTMDOFF
 |

125 
USB_FUNCTION_SHTNAKON
 |

126 
USB_FUNCTION_DIR_P_OUT
 |

127 
USB_FUNCTION_EP3
,

129 
MAX_PACKET_SIZE_EP3
,

130 
DEVDRV_USBF_OFF
 |

131 Ğ0 << 
USB_PIPEPERI_IITV_SHIFT
 ),

134 
EP3IN
,

135 2 | 
USB_FUNCTION_D1FIFO_USE
,

136 
USB_FUNCTION_ISO
 |

137 
USB_FUNCTION_BFREOFF
 |

138 
USB_FUNCTION_DBLBON
 |

139 
USB_FUNCTION_CNTMDOFF
 |

140 
USB_FUNCTION_SHTNAKOFF
 |

141 
USB_FUNCTION_DIR_P_IN
 |

142 
USB_FUNCTION_EP3
,

144 
MAX_PACKET_SIZE_EP3
,

145 
DEVDRV_USBF_OFF
 |

146 Ğ0 << 
USB_PIPEPERI_IITV_SHIFT
 ),

156 
USBHAL
 * 
	gUSBHAL
::
š¡ªû
;

158 
IRQn_Ty³
 
	gšt_id
;

159 
ušt16_t
 
	gšt_Ëv–
;

160 
ušt16_t
 
	gşock_mode
;

161 
ušt16_t
 
	gmode
;

165 
ušt16_t
 
	gEP0_»ad_¡©us
;

166 
ušt16_t
 
	gEPx_»ad_¡©us
;

168 
ušt16_t
 
	g£tup_bufãr
[
MAX_PACKET_SIZE_EP0
 / 2];

171 
ušt8_t
 
	g»cv_bufãr
[
MAX_PACKET_SIZE_EPBULK
];

172 vŞ©
ušt16_t
 
	g»cv_”rÜ
;

178 
usbx_funùiÚ_BRDYIÁ”ru±PIPE0
 (
ušt16_t
 
¡©us
, ušt16_ˆ
š‹nb
,

179 
USBHAL
 *
objeù
, (USBHAL::*
EP0func
)());

181 
usbx_funùiÚ_BRDYIÁ”ru±
 (
ušt16_t
 
¡©us
, ušt16_ˆ
š‹nb
,

182 
USBHAL
 *
objeù
, 
boŞ
 (USBHAL::*
•C®lback
[])());

184 
usbx_funùiÚ_NRDYIÁ”ru±PIPE0
(
ušt16_t
 
¡©us
, ušt16_ˆ
š‹nb
,

185 
USBHAL
 *
objeù
, (USBHAL::*
EP0func
)());

187 
usbx_funùiÚ_NRDYIÁ”ru±
 (
ušt16_t
 
¡©us
, ušt16_ˆ
š‹nb
,

188 
USBHAL
 *
objeù
, 
boŞ
 (USBHAL::*
•C®lback
[])());

190 
usbx_funùiÚ_BEMPIÁ”ru±PIPE0
(
ušt16_t
 
¡©us
, ušt16_ˆ
š‹nb
,

191 
USBHAL
 *
objeù
, (USBHAL::*
EP0func
)());

193 
usbx_funùiÚ_BEMPIÁ”ru±
 (
ušt16_t
 
¡©us
, ušt16_ˆ
š‹nb
,

194 
USBHAL
 *
objeù
, 
boŞ
 (USBHAL::*
•C®lback
[])());

209 
usbx_funùiÚ_BRDYIÁ”ru±PIPE0
 (

210 
ušt16_t
 
¡©us
,

211 
ušt16_t
 
š‹nb
,

212 
USBHAL
 *
objeù
,

213 (
USBHAL
::*
EP0func
)()

216 vŞ©
ušt16_t
 
dumy_¡s
;

217 
ušt16_t
 
»ad_¡©us
;

219 
USB20X
.
BRDYSTS
 =

220 (
ušt16_t
)~
g_usbx_funùiÚ_b™_£t
[
USB_FUNCTION_PIPE0
];

221 
RZA_IO_RegWr™e_16
(

222 &
USB20X
.
CFIFOSEL
, 
USB_FUNCTION_PIPE0
,

223 
USB_CFIFOSEL_CURPIPE_SHIFT
, 
USB_CFIFOSEL_CURPIPE
);

225 
g_usbx_funùiÚ_PeD©aSize
[
USB_FUNCTION_PIPE0
] =

226 
g_usbx_funùiÚ_d©a_couÁ
[
USB_FUNCTION_PIPE0
];

228 
»ad_¡©us
 = 
usbx_funùiÚ_»ad_bufãr_c
(
USB_FUNCTION_PIPE0
);

230 
g_usbx_funùiÚ_PeD©aSize
[
USB_FUNCTION_PIPE0
] -=

231 
g_usbx_funùiÚ_d©a_couÁ
[
USB_FUNCTION_PIPE0
];

233 
»ad_¡©us
) {

234 
USB_FUNCTION_READING
:

235 
USB_FUNCTION_READEND
:

237 
usbx_funùiÚ_£t_pid_buf
(
USB_FUNCTION_PIPE0
);

240 (
objeù
->*
EP0func
)();

243 
USB_FUNCTION_READSHRT
:

244 
usbx_funùiÚ_di§bË_brdy_št
(
USB_FUNCTION_PIPE0
);

246 
usbx_funùiÚ_£t_pid_buf
(
USB_FUNCTION_PIPE0
);

249 (
objeù
->*
EP0func
)();

252 
USB_FUNCTION_READOVER
:

254 
USB20X
.
CFIFOCTR
 = 
USB_FUNCTION_BITBCLR
;

255 
usbx_funùiÚ_di§bË_brdy_št
(
USB_FUNCTION_PIPE0
);

257 
usbx_funùiÚ_£t_pid_¡®l
(
USB_FUNCTION_PIPE0
);

260 (
objeù
->*
EP0func
)();

263 
DEVDRV_USBF_FIFOERROR
:

265 
usbx_funùiÚ_di§bË_brdy_št
(
USB_FUNCTION_PIPE0
);

267 
usbx_funùiÚ_£t_pid_¡®l
(
USB_FUNCTION_PIPE0
);

271 
dumy_¡s
 = 
USB20X
.
BRDYSTS
;

284 
usbx_funùiÚ_BRDYIÁ”ru±
(

285 
ušt16_t
 
¡©us
,

286 
ušt16_t
 
š‹nb
,

287 
USBHAL
 *
objeù
,

288 
boŞ
 (
USBHAL
::*
•C®lback
[])()

291 vŞ©
ušt16_t
 
dumy_¡s
;

307 
ušt32_t
 
št_£n£
 = 0;

308 
ušt16_t
 
pe
;

309 
ušt16_t
 
peb™
;

310 
ušt16_t
 
•
;

312 
pe
 = 
USB_FUNCTION_PIPE1
;…<ğ
USB_FUNCTION_MAX_PIPE_NO
;…ipe++) {

313 
peb™
 = 
g_usbx_funùiÚ_b™_£t
[
pe
];

315 ià((
¡©us
 & 
peb™
è&& (
š‹nb
 &…ipebit)) {

316 
USB20X
.
BRDYSTS
 = (
ušt16_t
)~
peb™
;

317 
USB20X
.
BEMPSTS
 = (
ušt16_t
)~
peb™
;

319 
g_usbx_funùiÚ_PeTbl
[
pe
] & 
USB_FUNCTION_FIFO_USE
) {

320 
USB_FUNCTION_D0FIFO_DMA
:

321 ià(
g_usbx_funùiÚ_DmaStus
[
USB_FUNCTION_D0FIFO
] !ğ
USB_FUNCTION_DMA_READY
) {

323 
usbx_funùiÚ_dma_š‹¼u±_d0fifo
(
št_£n£
);

326 ià(
RZA_IO_RegR—d_16
(

327 &
g_usbx_funùiÚ_pecfg
[
pe
], 
USB_PIPECFG_BFRE_SHIFT
, 
USB_PIPECFG_BFRE
) == 0) {

329 
usbx_funùiÚ_»ad_dma
(
pe
);

330 
usbx_funùiÚ_di§bË_brdy_št
(
pe
);

332 
USB20X
.
D0FIFOCTR
 = 
USB_FUNCTION_BITBCLR
;

333 
g_usbx_funùiÚ_pe_¡©us
[
pe
] = 
DEVDRV_USBF_PIPE_DONE
;

337 
USB_FUNCTION_D1FIFO_DMA
:

338 ià(
g_usbx_funùiÚ_DmaStus
[
USB_FUNCTION_D1FIFO
] !ğ
USB_FUNCTION_DMA_READY
) {

340 
usbx_funùiÚ_dma_š‹¼u±_d1fifo
(
št_£n£
);

343 ià(
RZA_IO_RegR—d_16
(

344 &
g_usbx_funùiÚ_pecfg
[
pe
], 
USB_PIPECFG_BFRE_SHIFT
, 
USB_PIPECFG_BFRE
) == 0) {

346 
usbx_funùiÚ_»ad_dma
(
pe
);

347 
usbx_funùiÚ_di§bË_brdy_št
(
pe
);

349 
USB20X
.
D1FIFOCTR
 = 
USB_FUNCTION_BITBCLR
;

350 
g_usbx_funùiÚ_pe_¡©us
[
pe
] = 
DEVDRV_USBF_PIPE_DONE
;

355 
•
 = (
g_usbx_funùiÚ_pecfg
[
pe
] & 
USB_PIPECFG_EPNUM
è>> 
USB_PIPECFG_EPNUM_SHIFT
;

356 
•
 <<= 1;

357 ià(
RZA_IO_RegR—d_16
(

358 &
g_usbx_funùiÚ_pecfg
[
pe
], 
USB_PIPECFG_DIR_SHIFT
, 
USB_PIPECFG_DIR
) == 0) {

360 
EPx_»ad_¡©us
 = 
DEVDRV_USBF_PIPE_WAIT
;

361 (
objeù
->*(
•C®lback
[
•
 - 2])) ();

362 
EPx_»ad_¡©us
 = 
DEVDRV_USBF_PIPE_DONE
;

365 
EPx_»ad_¡©us
 = 
DEVDRV_USBF_PIPE_WAIT
;

366 (
objeù
->*(
•C®lback
[
•
 - 2 + 1])) ();

367 
EPx_»ad_¡©us
 = 
DEVDRV_USBF_PIPE_DONE
;

368 
usbx_funùiÚ_wr™e_bufãr
(
pe
);

374 
dumy_¡s
 = 
USB20X
.
BRDYSTS
;

387 
usbx_funùiÚ_NRDYIÁ”ru±PIPE0
(

388 
ušt16_t
 
¡©us
,

389 
ušt16_t
 
š‹nb
,

390 
USBHAL
 *
objeù
,

391 (
USBHAL
::*
EP0func
)()

394 vŞ©
ušt16_t
 
dumy_¡s
;

396 
USB20X
.
NRDYSTS
 =

397 (
ušt16_t
)~
g_usbx_funùiÚ_b™_£t
[
USB_FUNCTION_PIPE0
];

400 
dumy_¡s
 = 
USB20X
.
NRDYSTS
;

413 
usbx_funùiÚ_NRDYIÁ”ru±
(

414 
ušt16_t
 
¡©us
,

415 
ušt16_t
 
š‹nb
,

416 
USBHAL
 *
objeù
,

417 
boŞ
 (
USBHAL
::*
•C®lback
[])()

420 vŞ©
ušt16_t
 
dumy_¡s
;

438 
ušt16_t
 
u£fifo
;

440 
ušt16_t
 
pid
;

441 
ušt16_t
 
pe
;

442 
ušt16_t
 
b™check
;

444 
ušt16_t
 
mbw
;

445 
ušt32_t
 
size
;

447 
ušt16_t
 
•
;

449 
b™check
 = (
ušt16_t
)(
¡©us
 & 
š‹nb
);

451 
USB20X
.
NRDYSTS
 = (
ušt16_t
)~
¡©us
;

454 ià(
RZA_IO_RegR—d_16
(&
USB20X
.
SYSCFG0
, 
USB_SYSCFG_DCFM_SHIFT
, 
USB_SYSCFG_DCFM
) == 1) {

460 
pe
 = 
USB_FUNCTION_PIPE1
;…<ğ
USB_FUNCTION_MAX_PIPE_NO
;…ipe++) {

461 ià((
b™check
&
g_usbx_funùiÚ_b™_£t
[
pe
]) != g_usbx_function_bit_set[pipe]) {

465 ià(
g_usbx_funùiÚ_pe_¡©us
[
pe
] !ğ
DEVDRV_USBF_PIPE_WAIT
) {

470 
usbx_funùiÚ_£t_pid_Çk
(
pe
);

472 
size
 = (
ušt32_t
)
g_usbx_funùiÚ_d©a_couÁ
[
pe
];

473 
mbw
 = 
usbx_funùiÚ_g‘_mbw
(

474 
size
, (
ušt32_t
)
g_usbx_funùiÚ_d©a_poš‹r
[
pe
]);

476 
u£fifo
 = (
ušt16_t
)(
g_usbx_funùiÚ_PeTbl
[
pe
] & 
USB_FUNCTION_FIFO_USE
);

477 
u£fifo
) {

479 
USB_FUNCTION_D0FIFO_USE
:

480 
usbx_funùiÚ_£t_cu½e
(

481 
pe
, 
USB_FUNCTION_D0USE
, 
DEVDRV_USBF_NO
, 
mbw
);

482 
USB20X
.
D0FIFOCTR
 = 
USB_FUNCTION_BITBCLR
;

485 
USB_FUNCTION_D1FIFO_USE
:

486 
usbx_funùiÚ_£t_cu½e
(

487 
pe
, 
USB_FUNCTION_D1USE
, 
DEVDRV_USBF_NO
, 
mbw
);

488 
USB20X
.
D1FIFOCTR
 = 
USB_FUNCTION_BITBCLR
;

492 
usbx_funùiÚ_£t_cu½e
(

493 
pe
, 
USB_FUNCTION_CUSE
, 
USB_FUNCTION_CFIFO_READ
, 
mbw
);

494 
USB20X
.
CFIFOCTR
 = 
USB_FUNCTION_BITBCLR
;

498 
usbx_funùiÚ_aşrm
(
pe
);

500 
usbx_funùiÚ_’abË_Ädy_št
(
pe
);

501 
usbx_funùiÚ_’abË_brdy_št
(
pe
);

503 
usbx_funùiÚ_£t_pid_buf
(
pe
);

506 
pid
 = 
usbx_funùiÚ_g‘_pid
(
pe
);

507 ià((
pid
 =ğ
DEVDRV_USBF_PID_STALL
è|| (pid =ğ
DEVDRV_USBF_PID_STALL2
)) {

508 
g_usbx_funùiÚ_pe_¡©us
[
pe
] = 
DEVDRV_USBF_PIPE_STALL
;

510 
usbx_funùiÚ_£t_pid_buf
(
pe
);

513 
•
 = (
g_usbx_funùiÚ_pecfg
[
pe
] & 
USB_PIPECFG_EPNUM
è>> 
USB_PIPECFG_EPNUM_SHIFT
;

514 
•
 <<= 1;

515 ià(
RZA_IO_RegR—d_16
(

516 &
g_usbx_funùiÚ_pecfg
[
pe
], 
USB_PIPECFG_DIR_SHIFT
, 
USB_PIPECFG_DIR
) == 0) {

518 
__NOP
();

521 
__NOP
();

527 
dumy_¡s
 = 
USB20X
.
NRDYSTS
;

539 
usbx_funùiÚ_BEMPIÁ”ru±PIPE0
(

540 
ušt16_t
 
¡©us
,

541 
ušt16_t
 
š‹nb
,

542 
USBHAL
 *
objeù
,

543 (
USBHAL
::*
EP0func
)()

546 vŞ©
ušt16_t
 
dumy_¡s
;

548 
USB20X
.
BEMPSTS
 =

549 (
ušt16_t
)~
g_usbx_funùiÚ_b™_£t
[
USB_FUNCTION_PIPE0
];

550 
RZA_IO_RegWr™e_16
(

551 &
USB20X
.
CFIFOSEL
, 
USB_FUNCTION_PIPE0
,

552 
USB_CFIFOSEL_CURPIPE_SHIFT
, 
USB_CFIFOSEL_CURPIPE
);

555 (
objeù
->*
EP0func
)();

558 
dumy_¡s
 = 
USB20X
.
BEMPSTS
;

571 
usbx_funùiÚ_BEMPIÁ”ru±
(

572 
ušt16_t
 
¡©us
,

573 
ušt16_t
 
š‹nb
,

574 
USBHAL
 *
objeù
,

575 
boŞ
 (
USBHAL
::*
•C®lback
[])()

578 vŞ©
ušt16_t
 
dumy_¡s
;

588 
ušt16_t
 
pid
;

589 
ušt16_t
 
pe
;

590 
ušt16_t
 
b™check
;

591 
ušt16_t
 
šbuf
;

592 
ušt16_t
 
•
;

594 
b™check
 = (
ušt16_t
)(
¡©us
 & 
š‹nb
);

596 
USB20X
.
BEMPSTS
 = (
ušt16_t
)~
¡©us
;

598 
pe
 = 
USB_FUNCTION_PIPE1
;…<ğ
USB_FUNCTION_MAX_PIPE_NO
;…ipe++) {

599 ià((
b™check
&
g_usbx_funùiÚ_b™_£t
[
pe
]) != g_usbx_function_bit_set[pipe]) {

603 
pid
 = 
usbx_funùiÚ_g‘_pid
(
pe
);

605 ià((
pid
 =ğ
DEVDRV_USBF_PID_STALL
) ||

606 (
pid
 =ğ
DEVDRV_USBF_PID_STALL2
)) {

607 
g_usbx_funùiÚ_pe_¡©us
[
pe
] = 
DEVDRV_USBF_PIPE_STALL
;

610 
šbuf
 = 
usbx_funùiÚ_g‘_šbuf
(
pe
);

612 ià(
šbuf
 == 0) {

613 
usbx_funùiÚ_di§bË_bemp_št
(
pe
);

614 
usbx_funùiÚ_£t_pid_Çk
(
pe
);

615 
g_usbx_funùiÚ_pe_¡©us
[
pe
] = 
DEVDRV_USBF_PIPE_DONE
;

617 
g_usbx_funùiÚ_PeTbl
[
pe
] & 
USB_FUNCTION_FIFO_USE
) {

618 
USB_FUNCTION_D0FIFO_DMA
:

622 
USB_FUNCTION_D1FIFO_DMA
:

627 
•
 = (
g_usbx_funùiÚ_pecfg
[
pe
] & 
USB_PIPECFG_EPNUM
è>> 
USB_PIPECFG_EPNUM_SHIFT
;

628 
•
 <<= 1;

629 ià(
RZA_IO_RegR—d_16
(

630 &
g_usbx_funùiÚ_pecfg
[
pe
], 
USB_PIPECFG_DIR_SHIFT
, 
USB_PIPECFG_DIR
) == 0) {

632 
__NOP
();

635 
EPx_»ad_¡©us
 = 
DEVDRV_USBF_PIPE_WAIT
;

636 (
objeù
->*(
•C®lback
[
•
 - 2 + 1])) ();

637 
EPx_»ad_¡©us
 = 
DEVDRV_USBF_PIPE_DONE
;

645 
dumy_¡s
 = 
USB20X
.
BEMPSTS
;

656 
	#EP2PIPE
(
’dpošt
è((
ušt32_t
)
	`usbx_funùiÚ_EpToPe
Óndpošt))

	)

665 
	#usbx_funùiÚ_§ve_»que¡
() \

667 
ušt16_t
 *
bufO
 = &
£tup_bufãr
[0]; \

669 
USB20X
.
INTSTS0
 = (
ušt16_t
)~
USB_FUNCTION_BITVALID
; \

671 *
bufO
++ = 
USB20X
.
USBREQ
; \

673 *
bufO
++ = 
USB20X
.
USBVAL
; \

675 *
bufO
++ = 
USB20X
.
USBINDX
; \

677 *
bufO
++ = 
USB20X
.
USBLENG
; \

678 }

	)

687 
USBHAL
::
	$USBHAL
()

693 
št_id
 = 
USBIX_IRQn
;

694 
št_Ëv–
 = ( 2 << 3 );

695 
şock_mode
 = 
USBFCLOCK_X1_48MHZ
;

696 #ià(
USB_FUNCTION_HISPEED
 == 0)

697 
mode
 = 
USB_FUNCTION_FULL_SPEED
;

699 
mode
 = 
USB_FUNCTION_HIGH_SPEED
;

701 
EP0_»ad_¡©us
 = 
DEVDRV_USBF_WRITEEND
;

702 
EPx_»ad_¡©us
 = 
DEVDRV_USBF_PIPE_DONE
;

705 
	`GIC_Di§bËIRQ
(
št_id
);

708 
•C®lback
[ 0] = &
USBHAL
::
EP1_OUT_ÿÎback
;

709 
•C®lback
[ 1] = &
USBHAL
::
EP1_IN_ÿÎback
;

710 
•C®lback
[ 2] = &
USBHAL
::
EP2_OUT_ÿÎback
;

711 
•C®lback
[ 3] = &
USBHAL
::
EP2_IN_ÿÎback
;

712 
•C®lback
[ 4] = &
USBHAL
::
EP3_OUT_ÿÎback
;

713 
•C®lback
[ 5] = &
USBHAL
::
EP3_IN_ÿÎback
;

714 
•C®lback
[ 6] = &
USBHAL
::
EP4_OUT_ÿÎback
;

715 
•C®lback
[ 7] = &
USBHAL
::
EP4_IN_ÿÎback
;

716 
•C®lback
[ 8] = &
USBHAL
::
EP5_OUT_ÿÎback
;

717 
•C®lback
[ 9] = &
USBHAL
::
EP5_IN_ÿÎback
;

718 
•C®lback
[10] = &
USBHAL
::
EP6_OUT_ÿÎback
;

719 
•C®lback
[11] = &
USBHAL
::
EP6_IN_ÿÎback
;

720 
•C®lback
[12] = &
USBHAL
::
EP7_OUT_ÿÎback
;

721 
•C®lback
[13] = &
USBHAL
::
EP7_IN_ÿÎback
;

722 
•C®lback
[14] = &
USBHAL
::
EP8_OUT_ÿÎback
;

723 
•C®lback
[15] = &
USBHAL
::
EP8_IN_ÿÎback
;

724 
•C®lback
[16] = &
USBHAL
::
EP9_OUT_ÿÎback
;

725 
•C®lback
[17] = &
USBHAL
::
EP9_IN_ÿÎback
;

726 
•C®lback
[18] = &
USBHAL
::
EP10_OUT_ÿÎback
;

727 
•C®lback
[19] = &
USBHAL
::
EP10_IN_ÿÎback
;

728 
•C®lback
[20] = &
USBHAL
::
EP11_OUT_ÿÎback
;

729 
•C®lback
[21] = &
USBHAL
::
EP11_IN_ÿÎback
;

730 
•C®lback
[22] = &
USBHAL
::
EP12_OUT_ÿÎback
;

731 
•C®lback
[23] = &
USBHAL
::
EP12_IN_ÿÎback
;

732 
•C®lback
[24] = &
USBHAL
::
EP13_OUT_ÿÎback
;

733 
•C®lback
[25] = &
USBHAL
::
EP13_IN_ÿÎback
;

734 
•C®lback
[26] = &
USBHAL
::
EP14_OUT_ÿÎback
;

735 
•C®lback
[27] = &
USBHAL
::
EP14_IN_ÿÎback
;

736 
•C®lback
[28] = &
USBHAL
::
EP15_OUT_ÿÎback
;

737 
•C®lback
[29] = &
USBHAL
::
EP15_IN_ÿÎback
;

740 
š¡ªû
 = 
this
;

743 
	`usbx_funùiÚ_ş—r_pe_tbl
();

750 #ià(
USB_FUNCTION_CH
 == 0)

751 
CPG
.
STBCR7
 &ğ~(
CPG_STBCR7_MSTP71
);

753 
CPG
.
STBCR7
 &ğ~(
CPG_STBCR7_MSTP71
 | 
CPG_STBCR7_MSTP70
);

755 vŞ©
ušt8_t
 
dummy8
;

756 
dummy8
 = 
CPG
.
STBCR7
;

764 
IRQn_Ty³
 
d0fifo_dmaštid
;

765 
IRQn_Ty³
 
d1fifo_dmaštid
;

768 
	`IÁ”ru±HªdËrRegi¡”
(
št_id
, &
_usbi¤
);

769 
	`GIC_S‘PriÜ™y
(
št_id
, 
št_Ëv–
);

770 
	`GIC_EÇbËIRQ
(
št_id
);

773 
d0fifo_dmaštid
 = 
	`U£rdef_USB_usbx_funùiÚ_d0fifo_dmaštid
();

774 ià(
d0fifo_dmaštid
 != 0xFFFF) {

775 
	`IÁ”ru±HªdËrRegi¡”
(
d0fifo_dmaštid
, 
usbx_funùiÚ_dma_š‹¼u±_d0fifo
);

776 
	`GIC_S‘PriÜ™y
(
d0fifo_dmaštid
, 
št_Ëv–
);

777 
	`GIC_EÇbËIRQ
(
d0fifo_dmaštid
);

782 
d1fifo_dmaštid
 = 
	`U£rdef_USB_usbx_funùiÚ_d1fifo_dmaštid
();

783 ià(
d1fifo_dmaštid
 != 0xFFFF) {

784 
	`IÁ”ru±HªdËrRegi¡”
(
d1fifo_dmaštid
, 
usbx_funùiÚ_dma_š‹¼u±_d1fifo
);

785 
	`GIC_S‘PriÜ™y
(
d1fifo_dmaštid
, 
št_Ëv–
);

786 
	`GIC_EÇbËIRQ
(
d1fifo_dmaštid
);

793 
	`usbx_funùiÚ_»£t_moduË
(
şock_mode
);

796 
	`usbx_funùiÚ_š™_¡©us
();

800 
	`usbx_funùiÚ_In™ModuË
(
mode
);

803 
ušt16_t
 
buf
;

804 
buf
 = 
USB20X
.
INTENB0
;

805 
buf
 |ğ
USB_INTENB0_SOFE
;

806 
USB20X
.
INTENB0
 = 
buf
;

808 
	}
}

811 
USBHAL
::~
	$USBHAL
()

814 
	`GIC_Di§bËIRQ
Ğ
št_id
 );

816 
	`IÁ”ru±HªdËrRegi¡”
Ğ
št_id
, (
ušt32_t
)
NULL
 );

819 
š¡ªû
 = 
NULL
;

820 
	}
}

823 
USBHAL
::
	$cÚÃù
()

827 
	}
}

831 
USBHAL
::
	$discÚÃù
()

835 
	}
}

839 
USBHAL
::
	$cÚfigu»Deviû
()

844 
	}
}

848 
USBHAL
::
	$uncÚfigu»Deviû
()

853 
	}
}

857 
USBHAL
::
	$£tAdd»ss
(
ušt8_t
 
add»ss
)

859 ià(
add»ss
 <= 127) {

860 
	`usbx_funùiÚ_£t_pid_buf
(
USB_FUNCTION_PIPE0
);

862 
	`usbx_funùiÚ_£t_pid_¡®l
(
USB_FUNCTION_PIPE0
);

864 
	}
}

868 
boŞ
 
USBHAL
::
	$»®i£Endpošt
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maxPack‘
, ušt32_ˆ
æags
)

870 cÚ¡ 
PIPECFGREC
 *
cfg
;

871 
ušt16_t
 
pe
;

872 
ušt16_t
 
buf
;

874 iàĞ(
EP0OUT
 =ğ
’dpošt
è|| (
EP0IN
 ==ƒndpoint) ) {

875  
Œue
;

878 
cfg
 = &
def_pecfg
[0]; cfg->
pe£l
 != 0; cfg++) {

879 ià(
cfg
->
’dpošt
 ==ƒndpoint) {

883 ià(
cfg
->
pe£l
 == 0) {

884  
çl£
;

887 
pe
 = ((
cfg
->
pe£l
 & 
USB_PIPESEL_PIPESEL
è>> 
USB_PIPESEL_PIPESEL_SHIFT
);

889 
g_usbx_funùiÚ_PeTbl
[ 
pe
 ] = (
ušt16_t
)(
’dpošt
 | ((
cfg
->
pe£l
 & 
USB_FUNCTION_FIFO_USE
) << 0));

897 
buf
 = 
USB20X
.
BRDYENB
;

898 
buf
 &ğ(
ušt16_t
)~
g_usbx_funùiÚ_b™_£t
[
pe
];

899 
USB20X
.
BRDYENB
 = 
buf
;

900 
buf
 = 
USB20X
.
NRDYENB
;

901 
buf
 &ğ(
ušt16_t
)~
g_usbx_funùiÚ_b™_£t
[
pe
];

902 
USB20X
.
NRDYENB
 = 
buf
;

903 
buf
 = 
USB20X
.
BEMPENB
;

904 
buf
 &ğ(
ušt16_t
)~
g_usbx_funùiÚ_b™_£t
[
pe
];

905 
USB20X
.
BEMPENB
 = 
buf
;

907 
	`usbx_funùiÚ_£t_pid_Çk
(
pe
);

910 ià(
	`RZA_IO_RegR—d_16
(&
USB20X
.
CFIFOSEL
, 
USB_CFIFOSEL_CURPIPE_SHIFT
, 
USB_CFIFOSEL_CURPIPE
è=ğ
pe
) {

911 
	`RZA_IO_RegWr™e_16
(&
USB20X
.
CFIFOSEL
, 0, 
USB_CFIFOSEL_CURPIPE_SHIFT
, 
USB_CFIFOSEL_CURPIPE
);

914 ià(
	`RZA_IO_RegR—d_16
(&
USB20X
.
D0FIFOSEL
, 
USB_DnFIFOSEL_CURPIPE_SHIFT
, 
USB_DnFIFOSEL_CURPIPE
è=ğ
pe
) {

915 
	`RZA_IO_RegWr™e_16
(&
USB20X
.
D0FIFOSEL
, 0, 
USB_DnFIFOSEL_CURPIPE_SHIFT
, 
USB_DnFIFOSEL_CURPIPE
);

918 ià(
	`RZA_IO_RegR—d_16
(&
USB20X
.
D1FIFOSEL
, 
USB_DnFIFOSEL_CURPIPE_SHIFT
, 
USB_DnFIFOSEL_CURPIPE
è=ğ
pe
) {

919 
	`RZA_IO_RegWr™e_16
(&
USB20X
.
D1FIFOSEL
, 0, 
USB_DnFIFOSEL_CURPIPE_SHIFT
, 
USB_DnFIFOSEL_CURPIPE
);

923 
USB20X
.
PIPESEL
 = 
pe
;

924 
USB20X
.
PIPECFG
 = 
cfg
->
pecfg
;

925 
USB20X
.
PIPEBUF
 = 
cfg
->
pebuf
;

926 
USB20X
.
PIPEMAXP
 = 
cfg
->
pemaxp
;

927 
USB20X
.
PIPEPERI
 = 
cfg
->
p•”i
;

929 
g_usbx_funùiÚ_pecfg
[
pe
] = 
cfg
->
pecfg
;

930 
g_usbx_funùiÚ_pebuf
[
pe
] = 
cfg
->
pebuf
;

931 
g_usbx_funùiÚ_pemaxp
[
pe
] = 
cfg
->
pemaxp
;

932 
g_usbx_funùiÚ_p•”i
[
pe
] = 
cfg
->
p•”i
;

935 
	`usbx_funùiÚ_£t_sqşr
(
pe
);

936 
	`usbx_funùiÚ_aşrm
(
pe
);

939 
g_usbx_funùiÚ_pe_¡©us
[
pe
] = 
DEVDRV_USBF_PIPE_IDLE
;

940 
g_usbx_funùiÚ_PeD©aSize
[
pe
] = 0;

942  
Œue
;

943 
	}
}

948 
USBHAL
::
	$EP0£tup
(
ušt8_t
 *
bufãr
)

950 
	`memıy
(
bufãr
, 
£tup_bufãr
, 
MAX_PACKET_SIZE_EP0
);

951 
	}
}

955 
USBHAL
::
	$EP0»adSge
()

958 
	}
}

962 
USBHAL
::
	$EP0»ad
()

964 
ušt8_t
 *
bufãr
;

965 
ušt32_t
 
size
;

968 
EP0_»ad_¡©us
 !ğ
DEVDRV_USBF_WRITEEND
) {

969 
ušt8_t
 
bbb
[2] = { 255, 255 };

970 
	`EP0wr™e
(&
bbb
[0], 0);

973 
bufãr
 = (
ušt8_t
*)(&
£tup_bufãr
[4]);

974 
size
 = (
MAX_PACKET_SIZE_EP0
 / 2) - 8;

975 
	`usbx_­i_funùiÚ_CŒlWr™eS¹
(
size
, 
bufãr
);

976 
	}
}

980 
ušt32_t
 
USBHAL
::
	$EP0g‘R—dResuÉ
(
ušt8_t
 *
bufãr
)

982 
	`memıy
(
bufãr
, (
ušt8_t
*)(&
£tup_bufãr
[4]), 
g_usbx_funùiÚ_PeD©aSize
[
USB_FUNCTION_PIPE0
]);

984  
g_usbx_funùiÚ_PeD©aSize
[
USB_FUNCTION_PIPE0
];

985 
	}
}

989 
USBHAL
::
	$EP0wr™e
(
ušt8_t
 *
bufãr
, 
ušt32_t
 
size
)

992 iàĞ(
size
 =ğ0è&& (
EP0_»ad_¡©us
 =ğ
DEVDRV_USBF_WRITEEND
) ) {

996 ià(
EP0_»ad_¡©us
 =ğ
DEVDRV_USBF_WRITEEND
) {

998 
EP0_»ad_¡©us
 = 
	`usbx_­i_funùiÚ_CŒlR—dS¹
(
size
, 
bufãr
);

1002 
g_usbx_funùiÚ_d©a_couÁ
[ 
USB_FUNCTION_PIPE0
 ] = 
size
;

1003 
g_usbx_funùiÚ_d©a_poš‹r
 [ 
USB_FUNCTION_PIPE0
 ] = 
bufãr
;

1004 
EP0_»ad_¡©us
 = 
	`usbx_funùiÚ_wr™e_bufãr_c
(
USB_FUNCTION_PIPE0
);

1007 ià(
size
 =ğ
MAX_PACKET_SIZE_EP0
) {

1008 
EP0_»ad_¡©us
 = 
DEVDRV_USBF_WRITING
;

1010 
	}
}

1015 
USBHAL
::
	$EP0g‘Wr™eResuÉ
()

1017 
	}
}

1021 
USBHAL
::
	$EP0¡®l
()

1023 
	`¡®lEndpošt
( 0 );

1024 
	}
}

1028 
EP_STATUS
 
USBHAL
::
	$’dpoštR—d
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
max_size
)

1030 
ušt32_t
 
pe
 = 
	`EP2PIPE
(
’dpošt
);

1031 
ušt32_t
 
pe_size
;

1032 
ušt16_t
 
pe_¡©us
;

1033 
EP_STATUS
 
¡©us
 = 
EP_COMPLETED
;

1035 
pe_¡©us
 = 
	`usbx_­i_funùiÚ_check_pe_¡©us
(
pe
, &
pe_size
);

1037 
pe_¡©us
) {

1038 
DEVDRV_USBF_PIPE_IDLE
:

1039 
DEVDRV_USBF_PIPE_WAIT
:

1040 
	`usbx_­i_funùiÚ_£t_pid_Çk
(
pe
);

1041 
	`usbx_­i_funùiÚ_ş—r_pe_¡©us
(
pe
);

1043 
	`usbx_­i_funùiÚ_¡¬t_»ûive_Œªsãr
(
pe
, 
max_size
, 
»cv_bufãr
);

1047 
¡©us
 = 
EP_PENDING
;

1051  
¡©us
;

1052 
	}
}

1056 
EP_STATUS
 
USBHAL
::
	$’dpoštR—dResuÉ
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
bufãr
, 
ušt32_t
 *
by‹s_»ad
 )

1058 
ušt32_t
 
pe
 = 
	`EP2PIPE
(
’dpošt
);

1059 
ušt16_t
 
pe_¡©us
;

1060 
ušt16_t
 
”r
;

1061 
EP_STATUS
 
¡©us
 = 
EP_PENDING
;

1064 ià(
EPx_»ad_¡©us
 !ğ
DEVDRV_USBF_PIPE_WAIT
) {

1065  
¡©us
;

1068 
pe_¡©us
 = 
	`usbx_­i_funùiÚ_check_pe_¡©us
(
pe
, 
by‹s_»ad
);

1069 
pe_¡©us
) {

1070 
DEVDRV_USBF_PIPE_IDLE
:

1071  
EP_COMPLETED
;

1073 
DEVDRV_USBF_PIPE_DONE
:

1074  
EP_COMPLETED
;

1076 
DEVDRV_USBF_PIPE_WAIT
:

1080  
¡©us
;

1084 
g_usbx_funùiÚ_d©a_poš‹r
[
pe
] = 
bufãr
;

1087 
”r
 = 
	`usbx_funùiÚ_»ad_bufãr
(
pe
);

1088 
»cv_”rÜ
 = 
”r
;

1089 
”r
) {

1090 
USB_FUNCTION_READEND
:

1091 
USB_FUNCTION_READSHRT
:

1092 
USB_FUNCTION_READOVER
:

1093 *
by‹s_»ad
 = 
g_usbx_funùiÚ_PeD©aSize
[
pe
];

1096 
USB_FUNCTION_READING
:

1097 
DEVDRV_USBF_FIFOERROR
:

1101 
pe_¡©us
 = 
	`usbx_­i_funùiÚ_check_pe_¡©us
(
pe
, 
by‹s_»ad
);

1102 
pe_¡©us
) {

1103 
DEVDRV_USBF_PIPE_DONE
:

1104 
¡©us
 = 
EP_COMPLETED
;

1107 
DEVDRV_USBF_PIPE_IDLE
:

1108 
DEVDRV_USBF_PIPE_NORES
:

1109 
DEVDRV_USBF_PIPE_STALL
:

1110 
DEVDRV_USBF_FIFOERROR
:

1115  
¡©us
;

1116 
	}
}

1120 
EP_STATUS
 
USBHAL
::
	$’dpoštWr™e
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
d©a
, 
ušt32_t
 
size
)

1122 
ušt32_t
 
pe
 = 
	`EP2PIPE
(
’dpošt
);

1123 
ušt32_t
 
pe_size
;

1124 
ušt16_t
 
pe_¡©us
;

1125 
ušt16_t
 
”r
;

1126 
ušt16_t
 
couÁ
;

1127 
EP_STATUS
 
¡©us
 = 
EP_PENDING
;

1129 
pe_¡©us
 = 
	`usbx_­i_funùiÚ_check_pe_¡©us
(
pe
, &
pe_size
);

1132 
couÁ
 = 30000;

1133 (
pe_¡©us
 =ğ
DEVDRV_USBF_PIPE_WAIT
è|| (pe_¡©u =ğ
DEVDRV_USBF_PIPE_DONE
)) {

1134 
pe_¡©us
 = 
	`usbx_­i_funùiÚ_check_pe_¡©us
(
pe
, &
pe_size
);

1135 ifĞ--
couÁ
 == 0 ) {

1136 
pe_¡©us
 = 
DEVDRV_USBF_PIPE_STALL
;

1141 
pe_¡©us
) {

1142 
DEVDRV_USBF_PIPE_IDLE
:

1143 
”r
 = 
	`usbx_­i_funùiÚ_¡¬t_£nd_Œªsãr
(
pe
, 
size
, 
d©a
);

1145 
”r
) {

1147 
DEVDRV_USBF_WRITEEND
:

1149 
DEVDRV_USBF_WRITESHRT
:

1151 
DEVDRV_USBF_WRITING
:

1153 
DEVDRV_USBF_WRITEDMA
:

1155 
DEVDRV_USBF_FIFOERROR
:

1156 
¡©us
 = 
EP_PENDING
;

1161 
DEVDRV_USBF_PIPE_WAIT
:

1162 
DEVDRV_USBF_PIPE_DONE
:

1163 
¡©us
 = 
EP_PENDING
;

1166 
DEVDRV_USBF_PIPE_NORES
:

1167 
DEVDRV_USBF_PIPE_STALL
:

1169 
¡©us
 = 
EP_STALLED
;

1173  
¡©us
;

1174 
	}
}

1178 
EP_STATUS
 
USBHAL
::
	$’dpoštWr™eResuÉ
(
ušt8_t
 
’dpošt
)

1180 
ušt32_t
 
pe
 = 
	`EP2PIPE
(
’dpošt
);

1181 
ušt32_t
 
pe_size
;

1182 
ušt16_t
 
pe_¡©us
;

1183 
EP_STATUS
 
¡©us
 = 
EP_PENDING
;

1185 
pe_¡©us
 = 
	`usbx_­i_funùiÚ_check_pe_¡©us
(
pe
, &
pe_size
);

1187 
pe_¡©us
) {

1188 
DEVDRV_USBF_PIPE_IDLE
:

1189 
¡©us
 = 
EP_COMPLETED
;

1192 
DEVDRV_USBF_PIPE_WAIT
:

1193 
¡©us
 = 
EP_PENDING
;

1196 
DEVDRV_USBF_PIPE_DONE
:

1197 
	`usbx_funùiÚ_¡İ_Œªsãr
(
pe
);

1198 
¡©us
 = 
EP_COMPLETED
;

1201 
DEVDRV_USBF_PIPE_NORES
:

1202 
¡©us
 = 
EP_STALLED
;

1205 
DEVDRV_USBF_PIPE_STALL
:

1206 
¡©us
 = 
EP_STALLED
;

1210 
¡©us
 = 
EP_PENDING
;

1213  
¡©us
;

1214 
	}
}

1218 
USBHAL
::
	$¡®lEndpošt
(
ušt8_t
 
’dpošt
)

1220 
ušt32_t
 
pe
 = 
	`EP2PIPE
(
’dpošt
);

1222 
	`usbx_funùiÚ_ş—r_pid_¡®l
(
pe
);

1223 
	}
}

1227 
USBHAL
::
	$un¡®lEndpošt
(
ušt8_t
 
’dpošt
)

1229 
ušt32_t
 
pe
 = 
	`EP2PIPE
(
’dpošt
);

1231 
	`usbx_funùiÚ_£t_pid_¡®l
Ğ
pe
 );

1232 
	}
}

1236 
boŞ
 
USBHAL
::
	$g‘EndpoštSÎS‹
(
ušt8_t
 
’dpošt
)

1239  
çl£
;

1240 
	}
}

1245 
USBHAL
::
	$»mÙeWakeup
()

1247 
	}
}

1251 
USBHAL
::
	$_usbi¤
()

1253 
š¡ªû
->
	`usbi¤
();

1254 
	}
}

1258 
USBHAL
::
	$usbi¤
()

1260 
ušt16_t
 
št_¡s0
;

1261 
ušt16_t
 
št_¡s1
;

1262 
ušt16_t
 
št_¡s2
;

1263 
ušt16_t
 
št_¡s3
;

1264 
ušt16_t
 
št_’b0
;

1265 
ušt16_t
 
št_’b2
;

1266 
ušt16_t
 
št_’b3
;

1267 
ušt16_t
 
št_’b4
;

1268 vŞ©
ušt16_t
 
dumy_¡s
;

1271 
št_¡s0
 = 
USB20X
.
INTSTS0
;

1273 ià(!(
št_¡s0
 & (

1274 
USB_FUNCTION_BITVBINT
 |

1275 
USB_FUNCTION_BITRESM
 |

1276 
USB_FUNCTION_BITSOFR
 |

1277 
USB_FUNCTION_BITDVST
 |

1278 
USB_FUNCTION_BITCTRT
 |

1279 
USB_FUNCTION_BITBEMP
 |

1280 
USB_FUNCTION_BITNRDY
 |

1281 
USB_FUNCTION_BITBRDY
 ))) {

1285 
št_¡s1
 = 
USB20X
.
BRDYSTS
;

1286 
št_¡s2
 = 
USB20X
.
NRDYSTS
;

1287 
št_¡s3
 = 
USB20X
.
BEMPSTS
;

1288 
št_’b0
 = 
USB20X
.
INTENB0
;

1289 
št_’b2
 = 
USB20X
.
BRDYENB
;

1290 
št_’b3
 = 
USB20X
.
NRDYENB
;

1291 
št_’b4
 = 
USB20X
.
BEMPENB
;

1293 ià((
št_¡s0
 & 
USB_FUNCTION_BITRESM
) &&

1294 (
št_’b0
 & 
USB_FUNCTION_BITRSME
)) {

1295 
USB20X
.
INTSTS0
 = (
ušt16_t
)~
USB_FUNCTION_BITRESM
;

1296 
	`RZA_IO_RegWr™e_16
(&
USB20X
.
INTENB0
, 0, 
USB_INTENB0_RSME_SHIFT
, 
USB_INTENB0_RSME
);

1298 
	`su¥’dS‹Chªged
(1);

1300 (
št_¡s0
 & 
USB_FUNCTION_BITVBINT
) &&

1301 (
št_’b0
 & 
USB_FUNCTION_BITVBSE
)) {

1302 
USB20X
.
INTSTS0
 = (
ušt16_t
)~
USB_FUNCTION_BITVBINT
;

1304 ià(
	`usbx_funùiÚ_CheckVBUSus
(è=ğ
DEVDRV_USBF_ON
) {

1305 
	`usbx_funùiÚ_USB_FUNCTION_A‰ach
();

1307 
	`usbx_funùiÚ_USB_FUNCTION_D‘ach
();

1310 (
št_¡s0
 & 
USB_FUNCTION_BITSOFR
) &&

1311 (
št_’b0
 & 
USB_FUNCTION_BITSOFE
)) {

1312 
USB20X
.
INTSTS0
 = (
ušt16_t
)~
USB_FUNCTION_BITSOFR
;

1313 
	`SOF
((
USB20X
.
FRMNUM
 & 
USB_FRMNUM_FRNM
è>> 
USB_FRMNUM_FRNM_SHIFT
);

1315 (
št_¡s0
 & 
USB_FUNCTION_BITDVST
) &&

1316 (
št_’b0
 & 
USB_FUNCTION_BITDVSE
)) {

1317 
USB20X
.
INTSTS0
 = (
ušt16_t
)~
USB_FUNCTION_BITDVST
;

1318 
št_¡s0
 & 
USB_FUNCTION_BITDVSQ
) {

1319 
USB_FUNCTION_DS_POWR
:

1322 
USB_FUNCTION_DS_DFLT
:

1331 
	`usbx_funùiÚ_š™_¡©us
();

1338 ià(
	`usbx_funùiÚ_is_hi¥“d
(è=ğ
USB_FUNCTION_HIGH_SPEED
) {

1340 
	`usbx_funùiÚ_Re£tDesütÜ
(
USB_FUNCTION_HIGH_SPEED
);

1343 
	`usbx_funùiÚ_Re£tDesütÜ
(
USB_FUNCTION_FULL_SPEED
);

1354 
USB20X
.
DCPCFG
 = 0;

1355 
USB20X
.
DCPMAXP
 = 64;

1357 
USB20X
.
CFIFOSEL
 = (
ušt16_t
)(
USB_FUNCTION_BITMBW_8
 | 
USB_FUNCTION_BITBYTE_LITTLE
);

1358 
USB20X
.
D0FIFOSEL
 = (
ušt16_t
)(
USB_FUNCTION_BITMBW_8
 | 
USB_FUNCTION_BITBYTE_LITTLE
);

1359 
USB20X
.
D1FIFOSEL
 = (
ušt16_t
)(
USB_FUNCTION_BITMBW_8
 | 
USB_FUNCTION_BITBYTE_LITTLE
);

1361 
	`busRe£t
();

1364 
USB_FUNCTION_DS_ADDS
:

1367 
USB_FUNCTION_DS_CNFG
:

1370 
USB_FUNCTION_DS_SPD_POWR
:

1371 
USB_FUNCTION_DS_SPD_DFLT
:

1372 
USB_FUNCTION_DS_SPD_ADDR
:

1373 
USB_FUNCTION_DS_SPD_CNFG
:

1374 
	`su¥’dS‹Chªged
(0);

1382 (
št_¡s0
 & 
USB_FUNCTION_BITBEMP
) &&

1383 (
št_’b0
 & 
USB_FUNCTION_BITBEMP
) &&

1384 ((
št_¡s3
 & 
št_’b4
è& 
g_usbx_funùiÚ_b™_£t
[
USB_FUNCTION_PIPE0
])) {

1386 
	`usbx_funùiÚ_BEMPIÁ”ru±PIPE0
(
št_¡s3
, 
št_’b4
, 
this
, &
USBHAL
::
EP0š
);

1388 (
št_¡s0
 & 
USB_FUNCTION_BITBRDY
) &&

1389 (
št_’b0
 & 
USB_FUNCTION_BITBRDY
) &&

1390 ((
št_¡s1
 & 
št_’b2
è& 
g_usbx_funùiÚ_b™_£t
[
USB_FUNCTION_PIPE0
])) {

1392 
	`usbx_funùiÚ_BRDYIÁ”ru±PIPE0
(
št_¡s1
, 
št_’b2
, 
this
, &
USBHAL
::
EP0out
);

1394 (
št_¡s0
 & 
USB_FUNCTION_BITNRDY
) &&

1395 (
št_’b0
 & 
USB_FUNCTION_BITNRDY
) &&

1396 ((
št_¡s2
 & 
št_’b3
è& 
g_usbx_funùiÚ_b™_£t
[
USB_FUNCTION_PIPE0
])) {

1398 
	`usbx_funùiÚ_NRDYIÁ”ru±PIPE0
(
št_¡s2
, 
št_’b3
, 
this
, 
NULL
);

1400 (
št_¡s0
 & 
USB_FUNCTION_BITCTRT
è&& (
št_’b0
 & 
USB_FUNCTION_BITCTRE
)) {

1401 
št_¡s0
 = 
USB20X
.
INTSTS0
;

1402 
USB20X
.
INTSTS0
 = (
ušt16_t
)~
USB_FUNCTION_BITCTRT
;

1404 ià(((
št_¡s0
 & 
USB_FUNCTION_BITCTSQ
è=ğ
USB_FUNCTION_CS_RDDS
) ||

1405 ((
št_¡s0
 & 
USB_FUNCTION_BITCTSQ
è=ğ
USB_FUNCTION_CS_WRDS
) ||

1406 ((
št_¡s0
 & 
USB_FUNCTION_BITCTSQ
è=ğ
USB_FUNCTION_CS_WRND
)) {

1409 
	`usbx_funùiÚ_§ve_»que¡
();

1410 ià((
USB20X
.
INTSTS0
 & 
USB_FUNCTION_BITVALID
) && (

1411 ((
št_¡s0
 & 
USB_FUNCTION_BITCTSQ
è=ğ
USB_FUNCTION_CS_RDDS
) ||

1412 ((
št_¡s0
 & 
USB_FUNCTION_BITCTSQ
è=ğ
USB_FUNCTION_CS_WRDS
) ||

1413 ((
št_¡s0
 & 
USB_FUNCTION_BITCTSQ
è=ğ
USB_FUNCTION_CS_WRND
))) {

1416 
dumy_¡s
 = 
USB20X
.
INTSTS0
;

1417 
dumy_¡s
 = 
USB20X
.
INTSTS0
;

1418 
dumy_¡s
 = 
USB20X
.
INTSTS0
;

1423 
št_¡s0
 & 
USB_FUNCTION_BITCTSQ
) {

1424 
USB_FUNCTION_CS_IDST
:

1425 ià(
g_usbx_funùiÚ_Te¡ModeFÏg
 =ğ
DEVDRV_USBF_YES
) {

1427 
	`usbx_funùiÚ_USB_FUNCTION_Te¡Mode
();

1432 
USB_FUNCTION_CS_RDDS
:

1434 
	`EP0£tupC®lback
();

1437 
USB_FUNCTION_CS_WRDS
:

1439 
	`EP0£tupC®lback
();

1442 
USB_FUNCTION_CS_WRND
:

1443 
	`EP0£tupC®lback
();

1446 
	`usbx_funùiÚ_£t_pid_buf
(
USB_FUNCTION_PIPE0
);

1448 
	`RZA_IO_RegWr™e_16
(&
USB20X
.
DCPCTR
, 1, 
USB_DCPCTR_CCPL_SHIFT
, 
USB_DCPCTR_CCPL
);

1451 
USB_FUNCTION_CS_RDSS
:

1452 
	`RZA_IO_RegWr™e_16
(&
USB20X
.
DCPCTR
, 1, 
USB_DCPCTR_CCPL_SHIFT
, 
USB_DCPCTR_CCPL
);

1455 
USB_FUNCTION_CS_WRSS
:

1456 
	`RZA_IO_RegWr™e_16
(&
USB20X
.
DCPCTR
, 1, 
USB_DCPCTR_CCPL_SHIFT
, 
USB_DCPCTR_CCPL
);

1459 
USB_FUNCTION_CS_SQER
:

1460 
	`usbx_funùiÚ_£t_pid_¡®l
(
USB_FUNCTION_PIPE0
);

1464 
	`usbx_funùiÚ_£t_pid_¡®l
(
USB_FUNCTION_PIPE0
);

1468 (
št_¡s0
 & 
USB_FUNCTION_BITBEMP
) &&

1469 (
št_’b0
 & 
USB_FUNCTION_BITBEMP
) &&

1470 (
št_¡s3
 & 
št_’b4
) ) {

1472 
	`usbx_funùiÚ_BEMPIÁ”ru±
(
št_¡s3
, 
št_’b4
, 
this
, 
•C®lback
);

1474 (
št_¡s0
 & 
USB_FUNCTION_BITBRDY
) &&

1475 (
št_’b0
 & 
USB_FUNCTION_BITBRDY
) &&

1476 (
št_¡s1
 & 
št_’b2
) ) {

1478 
	`usbx_funùiÚ_BRDYIÁ”ru±
(
št_¡s1
, 
št_’b2
, 
this
, 
•C®lback
);

1480 (
št_¡s0
 & 
USB_FUNCTION_BITNRDY
) &&

1481 (
št_’b0
 & 
USB_FUNCTION_BITNRDY
) &&

1482 (
št_¡s2
 & 
št_’b3
)) {

1484 
	`usbx_funùiÚ_NRDYIÁ”ru±
(
št_¡s2
, 
št_’b3
, 
this
, 
•C®lback
);

1490 
dumy_¡s
 = 
USB20X
.
INTSTS0
;

1491 
dumy_¡s
 = 
USB20X
.
INTSTS1
;

1492 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBHAL_STM32F4.cpp

19 #ià
defšed
(
TARGET_STM32F4
)

21 
	~"USBHAL.h
"

22 
	~"USBRegs_STM32.h
"

23 
	~"pšm­.h
"

25 
USBHAL
 * 
	gUSBHAL
::
š¡ªû
;

27 vŞ©
	g•Com¶‘e
 = 0;

29 
ušt32_t
 
	gbufãrEnd
 = 0;

30 cÚ¡ 
ušt32_t
 
	grxFifoSize
 = 512;

31 
ušt32_t
 
	grxFifoCouÁ
 = 0;

33 
ušt32_t
 
	g£tupBufãr
[
MAX_PACKET_SIZE_EP0
 >> 2];

35 
ušt32_t
 
	gUSBHAL
::
	$’dpoštR—dcÜe
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
bufãr
) {

37 
	}
}

39 
	gUSBHAL
::
	$USBHAL
() {

40 
	`NVIC_Di§bËIRQ
(
OTG_FS_IRQn
);

41 
•C®lback
[0] = &
USBHAL
::
EP1_OUT_ÿÎback
;

42 
•C®lback
[1] = &
USBHAL
::
EP1_IN_ÿÎback
;

43 
•C®lback
[2] = &
USBHAL
::
EP2_OUT_ÿÎback
;

44 
•C®lback
[3] = &
USBHAL
::
EP2_IN_ÿÎback
;

45 
•C®lback
[4] = &
USBHAL
::
EP3_OUT_ÿÎback
;

46 
•C®lback
[5] = &
USBHAL
::
EP3_IN_ÿÎback
;

49 
RCC
->
AHB1ENR
 |ğ
RCC_AHB1ENR_GPIOAEN
;

51 #ià
	`defšed
(
TARGET_STM32F407VG
è|| defšed(
TARGET_STM32F401RE
è|| defšed(
TARGET_STM32F411RE
è|| defšed(
TARGET_STM32F429ZI
)

52 
	`pš_funùiÚ
(
PA_8
, 
	`STM_PIN_DATA
(
STM_MODE_AF_PP
, 
GPIO_NOPULL
, 
GPIO_AF10_OTG_FS
));

53 
	`pš_funùiÚ
(
PA_9
, 
	`STM_PIN_DATA
(
STM_MODE_INPUT
, 
GPIO_PULLDOWN
, 
GPIO_AF10_OTG_FS
));

54 
	`pš_funùiÚ
(
PA_10
, 
	`STM_PIN_DATA
(
STM_MODE_AF_OD
, 
GPIO_PULLUP
, 
GPIO_AF10_OTG_FS
));

55 
	`pš_funùiÚ
(
PA_11
, 
	`STM_PIN_DATA
(
STM_MODE_AF_PP
, 
GPIO_NOPULL
, 
GPIO_AF10_OTG_FS
));

56 
	`pš_funùiÚ
(
PA_12
, 
	`STM_PIN_DATA
(
STM_MODE_AF_PP
, 
GPIO_NOPULL
, 
GPIO_AF10_OTG_FS
));

58 
	`pš_funùiÚ
(
PA_8
, 
	`STM_PIN_DATA
(2, 10));

59 
	`pš_funùiÚ
(
PA_9
, 
	`STM_PIN_DATA
(0, 0));

60 
	`pš_funùiÚ
(
PA_10
, 
	`STM_PIN_DATA
(2, 10));

61 
	`pš_funùiÚ
(
PA_11
, 
	`STM_PIN_DATA
(2, 10));

62 
	`pš_funùiÚ
(
PA_12
, 
	`STM_PIN_DATA
(2, 10));

65 
	`pš_mode
(
PA_10
, 
O³nD¿š
);

66 
GPIOA
->
PUPDR
 &= ~(0x3 << 20);

67 
GPIOA
->
PUPDR
 |= 1 << 20;

70 
	`pš_mode
(
PA_9
, 
O³nD¿š
);

73 
RCC
->
AHB2ENR
 |ğ
RCC_AHB2ENR_OTGFSEN
;

76 
OTG_FS
->
GREGS
.
GAHBCFG
 |= (1 << 0);

79 
OTG_FS
->
GREGS
.
GUSBCFG
 |= (0xF << 10);

82 
OTG_FS
->
GREGS
.
GINTMSK
 |= (1 << 3) |

86 
OTG_FS
->
DREGS
.
DCFG
 |= (0x3 << 0) |

89 
OTG_FS
->
GREGS
.
GCCFG
 |= (1 << 19) |

92 
š¡ªû
 = 
this
;

93 
	`NVIC_S‘VeùÜ
(
OTG_FS_IRQn
, (
ušt32_t
)&
_usbi¤
);

94 
	`NVIC_S‘PriÜ™y
(
OTG_FS_IRQn
, 1);

95 
	}
}

97 
	gUSBHAL
::~
	$USBHAL
() {

98 
	}
}

100 
USBHAL
::
	$cÚÃù
() {

101 
	`NVIC_EÇbËIRQ
(
OTG_FS_IRQn
);

102 
	}
}

104 
	gUSBHAL
::
	$discÚÃù
() {

105 
	`NVIC_Di§bËIRQ
(
OTG_FS_IRQn
);

106 
	}
}

108 
	gUSBHAL
::
	$cÚfigu»Deviû
() {

110 
	}
}

112 
USBHAL
::
	$uncÚfigu»Deviû
() {

114 
	}
}

116 
USBHAL
::
	$£tAdd»ss
(
ušt8_t
 
add»ss
) {

117 
OTG_FS
->
DREGS
.
DCFG
 |ğ(
add»ss
 << 4);

118 
	`EP0wr™e
(0, 0);

119 
	}
}

121 
boŞ
 
	gUSBHAL
::
	$»®i£Endpošt
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maxPack‘
,

122 
ušt32_t
 
æags
) {

123 
ušt32_t
 
•Index
 = 
’dpošt
 >> 1;

125 
ušt32_t
 
ty³
;

126 
’dpošt
) {

127 
EP0IN
:

128 
EP0OUT
:

129 
ty³
 = 0;

131 
EPISO_IN
:

132 
EPISO_OUT
:

133 
ty³
 = 1;

134 
EPBULK_IN
:

135 
EPBULK_OUT
:

136 
ty³
 = 2;

138 
EPINT_IN
:

139 
EPINT_OUT
:

140 
ty³
 = 3;

145 
ušt32_t
 
cÚŒŞ
 = (
maxPack‘
 << 0) |

147 (
ty³
 << 18);

149 ià(
’dpošt
 & 0x1) {

151 ià(
’dpošt
 =ğ
EP0IN
) {

152 
OTG_FS
->
GREGS
.
DIEPTXF0_HNPTXFSIZ
 = ((
maxPack‘
 >> 2) << 16) |

153 (
bufãrEnd
 << 0);

156 
OTG_FS
->
GREGS
.
DIEPTXF
[
•Index
 - 1] = ((
maxPack‘
 >> 2) << 16) |

157 (
bufãrEnd
 << 0);

159 
bufãrEnd
 +ğ
maxPack‘
 >> 2;

162 ià(
’dpošt
 !ğ
EP0IN
) {

163 
cÚŒŞ
 |= (1 << 28);

166 
cÚŒŞ
 |ğ(
•Index
 << 22) |

168 
OTG_FS
->
INEP_REGS
[
•Index
].
DIEPCTL
 = 
cÚŒŞ
;

171 
OTG_FS
->
DREGS
.
DAINTMSK
 |ğ(1 << 
•Index
);

175 
cÚŒŞ
 |= (1 << 26);

176 
OTG_FS
->
OUTEP_REGS
[
•Index
].
DOEPCTL
 = 
cÚŒŞ
;

179 
OTG_FS
->
DREGS
.
DAINTMSK
 |ğ(1 << (
•Index
 + 16));

181  
Œue
;

182 
	}
}

185 
	gUSBHAL
::
	$EP0£tup
(
ušt8_t
 *
bufãr
) {

186 
	`memıy
(
bufãr
, 
£tupBufãr
, 
MAX_PACKET_SIZE_EP0
);

187 
	}
}

189 
	gUSBHAL
::
	$EP0»adSge
() {

190 
	}
}

192 
USBHAL
::
	$EP0»ad
() {

193 
	}
}

195 
ušt32_t
 
USBHAL
::
	$EP0g‘R—dResuÉ
(
ušt8_t
 *
bufãr
) {

196 
ušt32_t
* 
bufãr32
 = (ušt32_ˆ*è
bufãr
;

197 
ušt32_t
 
Ëngth
 = 
rxFifoCouÁ
;

198 
ušt32_t
 
i
 = 0; i < 
Ëngth
; i += 4) {

199 
bufãr32
[
i
 >> 2] = 
OTG_FS
->
FIFO
[0][0];

202 
rxFifoCouÁ
 = 0;

203  
Ëngth
;

204 
	}
}

206 
	gUSBHAL
::
	$EP0wr™e
(
ušt8_t
 *
bufãr
, 
ušt32_t
 
size
) {

207 
	`’dpoštWr™e
(0, 
bufãr
, 
size
);

208 
	}
}

210 
	gUSBHAL
::
	$EP0g‘Wr™eResuÉ
() {

211 
	}
}

213 
USBHAL
::
	$EP0¡®l
() {

218 
	`¡®lEndpošt
(
EP0IN
);

220 
	}
}

222 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštR—d
(
ušt8_t
 
’dpošt
, 
ušt32_t
 
maximumSize
) {

223 
ušt32_t
 
•Index
 = 
’dpošt
 >> 1;

224 
ušt32_t
 
size
 = (1 << 19) |

225 (
maximumSize
 << 0);

227 
size
 |= (1 << 29);

229 
OTG_FS
->
OUTEP_REGS
[
•Index
].
DOEPTSIZ
 = 
size
;

230 
OTG_FS
->
OUTEP_REGS
[
•Index
].
DOEPCTL
 |= (1 << 31) |

233 
•Com¶‘e
 &ğ~(1 << 
’dpošt
);

234  
EP_PENDING
;

235 
	}
}

237 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštR—dResuÉ
(
ušt8_t
 
’dpošt
, ušt8_ˆ* 
bufãr
, 
ušt32_t
 *
by‹sR—d
) {

238 ià(!(
•Com¶‘e
 & (1 << 
’dpošt
))) {

239  
EP_PENDING
;

242 
ušt32_t
* 
bufãr32
 = (ušt32_ˆ*è
bufãr
;

243 
ušt32_t
 
Ëngth
 = 
rxFifoCouÁ
;

244 
ušt32_t
 
i
 = 0; i < 
Ëngth
; i += 4) {

245 
bufãr32
[
i
 >> 2] = 
OTG_FS
->
FIFO
[
’dpošt
 >> 1][0];

247 
rxFifoCouÁ
 = 0;

248 *
by‹sR—d
 = 
Ëngth
;

249  
EP_COMPLETED
;

250 
	}
}

252 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštWr™e
(
ušt8_t
 
’dpošt
, ušt8_ˆ*
d©a
, 
ušt32_t
 
size
) {

253 
ušt32_t
 
•Index
 = 
’dpošt
 >> 1;

254 
OTG_FS
->
INEP_REGS
[
•Index
].
DIEPTSIZ
 = (1 << 19) |

255 (
size
 << 0);

256 
OTG_FS
->
INEP_REGS
[
•Index
].
DIEPCTL
 |= (1 << 31) |

258 
OTG_FS
->
DREGS
.
DIEPEMPMSK
 = (1 << 
•Index
);

260 (
OTG_FS
->
INEP_REGS
[
•Index
].
DTXFSTS
 & 0XFFFFè< ((
size
 + 3) >> 2));

262 
ušt32_t
 
i
=0; i<(
size
 + 3è>> 2; i++, 
d©a
+=4) {

263 
OTG_FS
->
FIFO
[
•Index
][0] = *(
ušt32_t
 *)
d©a
;

266 
•Com¶‘e
 &ğ~(1 << 
’dpošt
);

268  
EP_PENDING
;

269 
	}
}

271 
EP_STATUS
 
	gUSBHAL
::
	$’dpoštWr™eResuÉ
(
ušt8_t
 
’dpošt
) {

272 ià(
•Com¶‘e
 & (1 << 
’dpošt
)) {

273 
•Com¶‘e
 &ğ~(1 << 
’dpošt
);

274  
EP_COMPLETED
;

277  
EP_PENDING
;

278 
	}
}

280 
	gUSBHAL
::
	$¡®lEndpošt
(
ušt8_t
 
’dpošt
) {

281 ià(
’dpošt
 & 0x1) {

282 
OTG_FS
->
INEP_REGS
[
’dpošt
 >> 1].
DIEPCTL
 |= (1 << 30) |

286 
OTG_FS
->
DREGS
.
DCTL
 |= (1 << 9);

287 
OTG_FS
->
OUTEP_REGS
[
’dpošt
 >> 1].
DOEPCTL
 |= (1 << 30) |

290 
	}
}

292 
	gUSBHAL
::
	$un¡®lEndpošt
(
ušt8_t
 
’dpošt
) {

294 
	}
}

296 
boŞ
 
USBHAL
::
	$g‘EndpoštSÎS‹
(
ušt8_t
 
’dpošt
) {

297  
çl£
;

298 
	}
}

300 
	gUSBHAL
::
	$»mÙeWakeup
() {

301 
	}
}

304 
USBHAL
::
	$_usbi¤
() {

305 
š¡ªû
->
	`usbi¤
();

306 
	}
}

309 
	gUSBHAL
::
	$usbi¤
() {

310 ià(
OTG_FS
->
GREGS
.
GINTSTS
 & (1 << 11)) {

311 
	`su¥’dS‹Chªged
(1);

314 ià(
OTG_FS
->
GREGS
.
GINTSTS
 & (1 << 12)) {

315 
	`su¥’dS‹Chªged
(0);

318 
OTG_FS
->
OUTEP_REGS
[0].
DOEPCTL
 |= (1 << 27);

319 
OTG_FS
->
OUTEP_REGS
[1].
DOEPCTL
 |= (1 << 27);

320 
OTG_FS
->
OUTEP_REGS
[2].
DOEPCTL
 |= (1 << 27);

321 
OTG_FS
->
OUTEP_REGS
[3].
DOEPCTL
 |= (1 << 27);

323 
OTG_FS
->
DREGS
.
DIEPMSK
 = (1 << 0);

325 
bufãrEnd
 = 0;

328 
OTG_FS
->
GREGS
.
GRXFSIZ
 = 
rxFifoSize
 >> 2;

329 
bufãrEnd
 +ğ
rxFifoSize
 >> 2;

332 
	`»®i£Endpošt
(
EP0IN
, 
MAX_PACKET_SIZE_EP0
, 0);

333 
	`»®i£Endpošt
(
EP0OUT
, 
MAX_PACKET_SIZE_EP0
, 0);

334 
	`’dpoštR—d
(
EP0OUT
, 
MAX_PACKET_SIZE_EP0
);

336 
OTG_FS
->
GREGS
.
GINTSTS
 = (1 << 12);

339 ià(
OTG_FS
->
GREGS
.
GINTSTS
 & (1 << 4)) {

340 
ušt32_t
 
¡©us
 = 
OTG_FS
->
GREGS
.
GRXSTSP
;

342 
ušt32_t
 
’dpošt
 = (
¡©us
 & 0xF) << 1;

343 
ušt32_t
 
Ëngth
 = (
¡©us
 >> 4) & 0x7FF;

344 
ušt32_t
 
ty³
 = (
¡©us
 >> 17) & 0xF;

346 
rxFifoCouÁ
 = 
Ëngth
;

348 ià(
ty³
 == 0x6) {

350 
ušt32_t
 
i
=0; i<
Ëngth
; i+=4) {

351 
£tupBufãr
[
i
 >> 2] = 
OTG_FS
->
FIFO
[0][i >> 2];

353 
rxFifoCouÁ
 = 0;

356 ià(
ty³
 == 0x4) {

358 
	`EP0£tupC®lback
();

359 
	`’dpoštR—d
(
EP0OUT
, 
MAX_PACKET_SIZE_EP0
);

362 ià(
ty³
 == 0x2) {

364 ià(
’dpošt
 =ğ
EP0OUT
) {

365 
	`EP0out
();

368 
•Com¶‘e
 |ğ(1 << 
’dpošt
);

369 ià((
š¡ªû
->*(
•C®lback
[
’dpošt
 - 2]))()) {

370 
•Com¶‘e
 &ğ(1 << 
’dpošt
);

375 
ušt32_t
 
i
=0; i<
rxFifoCouÁ
; i+=4) {

376 (è
OTG_FS
->
FIFO
[0][0];

378 
OTG_FS
->
GREGS
.
GINTSTS
 = (1 << 4);

381 ià(
OTG_FS
->
GREGS
.
GINTSTS
 & (1 << 18)) {

383 
ušt32_t
 
i
=0; i<4; i++) {

384 ià(
OTG_FS
->
DREGS
.
DAINT
 & (1 << 
i
)) {

386 ià(
OTG_FS
->
INEP_REGS
[
i
].
DIEPINT
 & (1 << 7)) {

389 ià(
i
 == 0) {

390 
	`EP0š
();

393 
OTG_FS
->
INEP_REGS
[
i
].
DIEPINT
 = (1 << 7);

396 
OTG_FS
->
DREGS
.
DIEPEMPMSK
 &ğ~(1 << 
i
);

400 ià(
OTG_FS
->
INEP_REGS
[
i
].
DIEPINT
 & (1 << 0)) {

401 
•Com¶‘e
 |ğ(1 << (1 + (
i
 << 1)));

402 
OTG_FS
->
INEP_REGS
[
i
].
DIEPINT
 = (1 << 0);

406 
OTG_FS
->
GREGS
.
GINTSTS
 = (1 << 18);

409 ià(
OTG_FS
->
GREGS
.
GINTSTS
 & (1 << 3)) {

410 
	`SOF
((
OTG_FS
->
GREGS
.
GRXSTSR
 >> 17) & 0xF);

411 
OTG_FS
->
GREGS
.
GINTSTS
 = (1 << 3);

413 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBRegs_STM32.h

28 #iâdeà
__USB_OTG_REGS_H__


29 
	#__USB_OTG_REGS_H__


	)

33 
__IO
 
ušt32_t
 
	mGOTGCTL
;

34 
__IO
 
ušt32_t
 
	mGOTGINT
;

35 
__IO
 
ušt32_t
 
	mGAHBCFG
;

36 
__IO
 
ušt32_t
 
	mGUSBCFG
;

37 
__IO
 
ušt32_t
 
	mGRSTCTL
;

38 
__IO
 
ušt32_t
 
	mGINTSTS
;

39 
__IO
 
ušt32_t
 
	mGINTMSK
;

40 
__IO
 
ušt32_t
 
	mGRXSTSR
;

41 
__IO
 
ušt32_t
 
	mGRXSTSP
;

42 
__IO
 
ušt32_t
 
	mGRXFSIZ
;

43 
__IO
 
ušt32_t
 
	mDIEPTXF0_HNPTXFSIZ
;

44 
__IO
 
ušt32_t
 
	mHNPTXSTS
;

45 
ušt32_t
 
	mRe£rved30
[2];

46 
__IO
 
ušt32_t
 
	mGCCFG
;

47 
__IO
 
ušt32_t
 
	mCID
;

48 
ušt32_t
 
	mRe£rved40
[48];

49 
__IO
 
ušt32_t
 
	mHPTXFSIZ
;

50 
__IO
 
ušt32_t
 
	mDIEPTXF
[3];

52 
	tUSB_OTG_GREGS
;

56 
__IO
 
ušt32_t
 
	mDCFG
;

57 
__IO
 
ušt32_t
 
	mDCTL
;

58 
__IO
 
ušt32_t
 
	mDSTS
;

59 
ušt32_t
 
	mRe£rved0C
;

60 
__IO
 
ušt32_t
 
	mDIEPMSK
;

61 
__IO
 
ušt32_t
 
	mDOEPMSK
;

62 
__IO
 
ušt32_t
 
	mDAINT
;

63 
__IO
 
ušt32_t
 
	mDAINTMSK
;

64 
ušt32_t
 
	mRe£rved20
;

65 
ušt32_t
 
	mRe£rved9
;

66 
__IO
 
ušt32_t
 
	mDVBUSDIS
;

67 
__IO
 
ušt32_t
 
	mDVBUSPULSE
;

68 
__IO
 
ušt32_t
 
	mDTHRCTL
;

69 
__IO
 
ušt32_t
 
	mDIEPEMPMSK
;

71 
	tUSB_OTG_DREGS
;

75 
__IO
 
ušt32_t
 
	mDIEPCTL
;

76 
ušt32_t
 
	mRe£rved04
;

77 
__IO
 
ušt32_t
 
	mDIEPINT
;

78 
ušt32_t
 
	mRe£rved0C
;

79 
__IO
 
ušt32_t
 
	mDIEPTSIZ
;

80 
ušt32_t
 
	mRe£rved14
;

81 
__IO
 
ušt32_t
 
	mDTXFSTS
;

82 
ušt32_t
 
	mRe£rved1C
;

84 
	tUSB_OTG_INEPREGS
;

88 
__IO
 
ušt32_t
 
	mDOEPCTL
;

89 
ušt32_t
 
	mRe£rved04
;

90 
__IO
 
ušt32_t
 
	mDOEPINT
;

91 
ušt32_t
 
	mRe£rved0C
;

92 
__IO
 
ušt32_t
 
	mDOEPTSIZ
;

93 
ušt32_t
 
	mRe£rved14
[3];

95 
	tUSB_OTG_OUTEPREGS
;

99 
__IO
 
ušt32_t
 
	mHCFG
;

100 
__IO
 
ušt32_t
 
	mHFIR
;

101 
__IO
 
ušt32_t
 
	mHFNUM
;

102 
ušt32_t
 
	mRe£rved40C
;

103 
__IO
 
ušt32_t
 
	mHPTXSTS
;

104 
__IO
 
ušt32_t
 
	mHAINT
;

105 
__IO
 
ušt32_t
 
	mHAINTMSK
;

107 
	tUSB_OTG_HREGS
;

111 
__IO
 
ušt32_t
 
	mHCCHAR
;

112 
__IO
 
ušt32_t
 
	mHCSPLT
;

113 
__IO
 
ušt32_t
 
	mHCINT
;

114 
__IO
 
ušt32_t
 
	mHCINTMSK
;

115 
__IO
 
ušt32_t
 
	mHCTSIZ
;

116 
ušt32_t
 
	mRe£rved
[3];

118 
	tUSB_OTG_HC_REGS
;

122 
USB_OTG_GREGS
 
	mGREGS
;

123 
ušt32_t
 
	mRESERVED0
[188];

124 
USB_OTG_HREGS
 
	mHREGS
;

125 
ušt32_t
 
	mRESERVED1
[9];

126 
__IO
 
ušt32_t
 
	mHPRT
;

127 
ušt32_t
 
	mRESERVED2
[47];

128 
USB_OTG_HC_REGS
 
	mHC_REGS
[8];

129 
ušt32_t
 
	mRESERVED3
[128];

130 
USB_OTG_DREGS
 
	mDREGS
;

131 
ušt32_t
 
	mRESERVED4
[50];

132 
USB_OTG_INEPREGS
 
	mINEP_REGS
[4];

133 
ušt32_t
 
	mRESERVED5
[96];

134 
USB_OTG_OUTEPREGS
 
	mOUTEP_REGS
[4];

135 
ušt32_t
 
	mRESERVED6
[160];

136 
__IO
 
ušt32_t
 
	mPCGCCTL
;

137 
ušt32_t
 
	mRESERVED7
[127];

138 
__IO
 
ušt32_t
 
	mFIFO
[4][1024];

140 
	tUSB_OTG_CORE_REGS
;

143 
	#OTG_FS_BASE
 (
AHB2PERIPH_BASE
 + 0x0000)

	)

144 
	#OTG_FS
 ((
USB_OTG_CORE_REGS
 *è
OTG_FS_BASE
)

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBSerial\CircBuffer.h

19 #iâdeà
CIRCBUFFER_H


20 
	#CIRCBUFFER_H


	)

22 
	g‹m¶©e
 <
şass
 
	gT
, 
	gSize
>

23 şas 
	cCœcBufãr
 {

24 
	mpublic
:

25 
	$CœcBufãr
():
	`wr™e
(0), 
	$»ad
(0){}

26 
boŞ
 
	$isFuÎ
() {

27  ((
wr™e
 + 1è% 
size
 =ğ
»ad
);

28 
	}
};

30 
boŞ
 
	$isEm±y
() {

31  (
»ad
 =ğ
wr™e
);

32 
	}
};

34 
	$queue
(
T
 
k
) {

35 ià(
	`isFuÎ
()) {

36 
»ad
++;

37 
»ad
 %ğ
size
;

39 
buf
[
wr™e
++] = 
k
;

40 
wr™e
 %ğ
size
;

41 
	}
}

43 
ušt16_t
 
	$avaabË
() {

44  (
wr™e
 >ğ
»ad
è? wr™-„—d : 
size
 -„ead + write;

45 
	}
};

47 
boŞ
 
	$dequeue
(
T
 * 
c
) {

48 
boŞ
 
em±y
 = 
	`isEm±y
();

49 ià(!
em±y
) {

50 *
c
 = 
buf
[
»ad
++];

51 
»ad
 %ğ
size
;

53 (!
em±y
);

54 
	}
};

56 
	g´iv©e
:

57 vŞ©
ušt16_t
 
wr™e
;

58 vŞ©
ušt16_t
 
	g»ad
;

59 cÚ¡ 
	gsize
 = 
Size
+1;

60 
T
 
	gbuf
[
Size
+1];

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBSerial\USBCDC.cpp

19 
	~"¡dšt.h
"

20 
	~"USBCDC.h
"

22 
ušt8_t
 
	gcdc_lše_codšg
[7]= {0x80, 0x25, 0x00, 0x00, 0x00, 0x00, 0x08};

24 
	#DEFAULT_CONFIGURATION
 (1)

	)

26 
	#CDC_SET_LINE_CODING
 0x20

	)

27 
	#CDC_GET_LINE_CODING
 0x21

	)

28 
	#CDC_SET_CONTROL_LINE_STATE
 0x22

	)

31 
	#CLS_DTR
 (1 << 0)

	)

32 
	#CLS_RTS
 (1 << 1)

	)

34 
	#MAX_CDC_REPORT_SIZE
 
MAX_PACKET_SIZE_EPBULK


	)

36 
	gUSBCDC
::
	$USBCDC
(
ušt16_t
 
v’dÜ_id
, ušt16_ˆ
´oduù_id
, ušt16_ˆ
´oduù_»Ëa£
, 
boŞ
 
cÚÃù_blockšg
): 
	$USBDeviû
(
v’dÜ_id
, 
´oduù_id
, 
´oduù_»Ëa£
) {

37 
‹rmš®_cÚÃùed
 = 
çl£
;

38 
USBDeviû
::
	`cÚÃù
(
cÚÃù_blockšg
);

39 
	}
}

41 
boŞ
 
	gUSBCDC
::
	$USBC®lback_»que¡
() {

44 
boŞ
 
sucûss
 = 
çl£
;

45 
CONTROL_TRANSFER
 * 
Œªsãr
 = 
	`g‘T¿nsãrPŒ
();

49 ià(
Œªsãr
->
£tup
.
bmReque¡Ty³
.
Ty³
 =ğ
CLASS_TYPE
) {

50 
Œªsãr
->
£tup
.
bReque¡
) {

51 
CDC_GET_LINE_CODING
:

52 
Œªsãr
->
»maššg
 = 7;

53 
Œªsãr
->
±r
 = 
cdc_lše_codšg
;

54 
Œªsãr
->
dœeùiÚ
 = 
DEVICE_TO_HOST
;

55 
sucûss
 = 
Œue
;

57 
CDC_SET_LINE_CODING
:

58 
Œªsãr
->
»maššg
 = 7;

59 
Œªsãr
->
nÙify
 = 
Œue
;

60 
sucûss
 = 
Œue
;

62 
CDC_SET_CONTROL_LINE_STATE
:

63 ià(
Œªsãr
->
£tup
.
wV®ue
 & 
CLS_DTR
) {

64 
‹rmš®_cÚÃùed
 = 
Œue
;

66 
‹rmš®_cÚÃùed
 = 
çl£
;

68 
sucûss
 = 
Œue
;

75  
sucûss
;

76 
	}
}

78 
	gUSBCDC
::
	$USBC®lback_»que¡Com¶‘ed
(
ušt8_t
 *
buf
, 
ušt32_t
 
Ëngth
) {

80 ià(
Ëngth
 != 7) {

84 
CONTROL_TRANSFER
 * 
Œªsãr
 = 
	`g‘T¿nsãrPŒ
();

87 ià(
Œªsãr
->
£tup
.
bmReque¡Ty³
.
Ty³
 =ğ
CLASS_TYPE
) {

88 ià(
Œªsãr
->
£tup
.
bReque¡
 =ğ
CDC_SET_LINE_CODING
) {

89 ià(
	`memcmp
(
cdc_lše_codšg
, 
buf
, 7)) {

90 
	`memıy
(
cdc_lše_codšg
, 
buf
, 7);

92 
baud
 = 
buf
[0] + (buf[1] << 8)

93 + (
buf
[2] << 16) + (buf[3] << 24);

94 
¡İ
 = 
buf
[4];

95 
b™s
 = 
buf
[6];

96 
·r™y
 = 
buf
[5];

98 
	`lšeCodšgChªged
(
baud
, 
b™s
, 
·r™y
, 
¡İ
);

102 
	}
}

107 
boŞ
 
	gUSBCDC
::
	$USBC®lback_£tCÚfigu¿tiÚ
(
ušt8_t
 
cÚfigu¿tiÚ
) {

108 ià(
cÚfigu¿tiÚ
 !ğ
DEFAULT_CONFIGURATION
) {

109  
çl£
;

113 
	`addEndpošt
(
EPINT_IN
, 
MAX_PACKET_SIZE_EPINT
);

114 
	`addEndpošt
(
EPBULK_IN
, 
MAX_PACKET_SIZE_EPBULK
);

115 
	`addEndpošt
(
EPBULK_OUT
, 
MAX_PACKET_SIZE_EPBULK
);

118 
	`»adS¹
(
EPBULK_OUT
, 
MAX_PACKET_SIZE_EPBULK
);

119  
Œue
;

120 
	}
}

122 
boŞ
 
	gUSBCDC
::
	$£nd
(
ušt8_t
 * 
bufãr
, 
ušt32_t
 
size
) {

123  
USBDeviû
::
	`wr™e
(
EPBULK_IN
, 
bufãr
, 
size
, 
MAX_CDC_REPORT_SIZE
);

124 
	}
}

126 
boŞ
 
	gUSBCDC
::
	$»adEP
(
ušt8_t
 * 
bufãr
, 
ušt32_t
 * 
size
) {

127 ià(!
USBDeviû
::
	`»adEP
(
EPBULK_OUT
, 
bufãr
, 
size
, 
MAX_CDC_REPORT_SIZE
))

128  
çl£
;

129 ià(!
	`»adS¹
(
EPBULK_OUT
, 
MAX_CDC_REPORT_SIZE
))

130  
çl£
;

131  
Œue
;

132 
	}
}

134 
boŞ
 
	gUSBCDC
::
	$»adEP_NB
(
ušt8_t
 * 
bufãr
, 
ušt32_t
 * 
size
) {

135 ià(!
USBDeviû
::
	`»adEP_NB
(
EPBULK_OUT
, 
bufãr
, 
size
, 
MAX_CDC_REPORT_SIZE
))

136  
çl£
;

137 ià(!
	`»adS¹
(
EPBULK_OUT
, 
MAX_CDC_REPORT_SIZE
))

138  
çl£
;

139  
Œue
;

140 
	}
}

143 
ušt8_t
 * 
	gUSBCDC
::
	$deviûDesc
() {

144 
ušt8_t
 
deviûDesütÜ
[] = {

151 
MAX_PACKET_SIZE_EP0
,

152 (
ušt8_t
)(
	`LSB
(
VENDOR_ID
)), (ušt8_t)(
	`MSB
(VENDOR_ID)),

153 (
ušt8_t
)(
	`LSB
(
PRODUCT_ID
)), (ušt8_t)(
	`MSB
(PRODUCT_ID)),

160  
deviûDesütÜ
;

161 
	}
}

163 
ušt8_t
 * 
	gUSBCDC
::
	$¡ršgIš‹rçûDesc
() {

164 
ušt8_t
 
¡ršgIš‹rçûDesütÜ
[] = {

166 
STRING_DESCRIPTOR
,

169  
¡ršgIš‹rçûDesütÜ
;

170 
	}
}

172 
ušt8_t
 * 
	gUSBCDC
::
	$¡ršgI´oduùDesc
() {

173 
ušt8_t
 
¡ršgI´oduùDesütÜ
[] = {

175 
STRING_DESCRIPTOR
,

178  
¡ršgI´oduùDesütÜ
;

179 
	}
}

182 
	#CONFIG1_DESC_SIZE
 (9+8+9+5+5+4+5+7+9+7+7)

	)

184 
ušt8_t
 * 
	gUSBCDC
::
	$cÚfigu¿tiÚDesc
() {

185 
ušt8_t
 
cÚfigDesütÜ
[] = {

189 
	`LSB
(
CONFIG1_DESC_SIZE
),

190 
	`MSB
(
CONFIG1_DESC_SIZE
),

245 
ENDPOINT_DESCRIPTOR_LENGTH
,

246 
ENDPOINT_DESCRIPTOR
,

247 
	`PHY_TO_DESC
(
EPINT_IN
),

248 
E_INTERRUPT
,

249 
	`LSB
(
MAX_PACKET_SIZE_EPINT
),

250 
	`MSB
(
MAX_PACKET_SIZE_EPINT
),

268 
ENDPOINT_DESCRIPTOR_LENGTH
,

269 
ENDPOINT_DESCRIPTOR
,

270 
	`PHY_TO_DESC
(
EPBULK_IN
),

271 
E_BULK
,

272 
	`LSB
(
MAX_PACKET_SIZE_EPBULK
),

273 
	`MSB
(
MAX_PACKET_SIZE_EPBULK
),

277 
ENDPOINT_DESCRIPTOR_LENGTH
,

278 
ENDPOINT_DESCRIPTOR
,

279 
	`PHY_TO_DESC
(
EPBULK_OUT
),

280 
E_BULK
,

281 
	`LSB
(
MAX_PACKET_SIZE_EPBULK
),

282 
	`MSB
(
MAX_PACKET_SIZE_EPBULK
),

285  
cÚfigDesütÜ
;

286 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBSerial\USBCDC.h

19 #iâdeà
USBCDC_H


20 
	#USBCDC_H


	)

23 
	~"USBEndpošts.h
"

24 
	~"USBDesütÜ.h
"

25 
	~"USBDeviû_Ty³s.h
"

27 
	~"USBDeviû.h
"

29 şas 
	cUSBCDC
: 
public
 
USBDeviû
 {

30 
public
:

40 
USBCDC
(
ušt16_t
 
v’dÜ_id
, ušt16_ˆ
´oduù_id
, ušt16_ˆ
´oduù_»Ëa£
, 
boŞ
 
cÚÃù_blockšg
);

42 
	m´Ùeùed
:

49 
vœtu®
 
ušt8_t
 * 
deviûDesc
();

56 
vœtu®
 
ušt8_t
 * 
¡ršgI´oduùDesc
();

63 
vœtu®
 
ušt8_t
 * 
¡ršgIš‹rçûDesc
();

70 
vœtu®
 
ušt8_t
 * 
cÚfigu¿tiÚDesc
();

80 
boŞ
 
£nd
(
ušt8_t
 * 
bufãr
, 
ušt32_t
 
size
);

91 
boŞ
 
»adEP
(
ušt8_t
 * 
bufãr
, 
ušt32_t
 * 
size
);

102 
boŞ
 
»adEP_NB
(
ušt8_t
 * 
bufãr
, 
ušt32_t
 * 
size
);

113 
vœtu®
 
	$lšeCodšgChªged
(
baud
, 
b™s
, 
·r™y
, 
¡İ
) {};

115 
´Ùeùed
:

116 
vœtu®
 
boŞ
 
	`USBC®lback_»que¡
();

117 
vœtu®
 
	`USBC®lback_»que¡Com¶‘ed
(
ušt8_t
 *
buf
, 
ušt32_t
 
Ëngth
);

118 
vœtu®
 
boŞ
 
	`USBC®lback_£tCÚfigu¿tiÚ
(
ušt8_t
 
cÚfigu¿tiÚ
);

119 vŞ©
boŞ
 
‹rmš®_cÚÃùed
;

121 
	}
};

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBSerial\USBSerial.cpp

19 
	~"¡dšt.h
"

20 
	~"USBS”Ÿl.h
"

22 
	gUSBS”Ÿl
::
	$_putc
(
c
) {

23 ià(!
‹rmš®_cÚÃùed
)

25 
	`£nd
((
ušt8_t
 *)&
c
, 1);

27 
	}
}

29 
	gUSBS”Ÿl
::
	$_g‘c
() {

30 
ušt8_t
 
c
 = 0;

31 
buf
.
	`isEm±y
());

32 
buf
.
	`dequeue
(&
c
);

33  
c
;

34 
	}
}

37 
boŞ
 
	gUSBS”Ÿl
::
	$wr™eBlock
(
ušt8_t
 * 
buf
, 
ušt16_t
 
size
) {

38 if(
size
 > 
MAX_PACKET_SIZE_EPBULK
) {

39  
çl£
;

41 if(!
	`£nd
(
buf
, 
size
)) {

42  
çl£
;

44  
Œue
;

45 
	}
}

49 
boŞ
 
	gUSBS”Ÿl
::
	$EPBULK_OUT_ÿÎback
() {

50 
ušt8_t
 
c
[65];

51 
ušt32_t
 
size
 = 0;

54 
	`»adEP
(
c
, &
size
);

55 
ušt32_t
 
i
 = 0; i < 
size
; i++) {

56 
buf
.
	`queue
(
c
[
i
]);

60 
rx
.
	`ÿÎ
();

62  
Œue
;

63 
	}
}

65 
ušt8_t
 
	gUSBS”Ÿl
::
	$avaabË
() {

66  
buf
.
	`avaabË
();

67 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBSerial\USBSerial.h

19 #iâdeà
USBSERIAL_H


20 
	#USBSERIAL_H


	)

22 
	~"USBCDC.h
"

23 
	~"SŒ—m.h
"

24 
	~"CœcBufãr.h
"

47 
şass
 
	gUSBS”Ÿl
: 
public
 
USBCDC
,…ubliø
	gSŒ—m
 {

48 
	gpublic
:

59 
USBS”Ÿl
(
ušt16_t
 
v’dÜ_id
 = 0x1f00, ušt16_ˆ
´oduù_id
 = 0x2012, ušt16_ˆ
´oduù_»Ëa£
 = 0x0001, 
boŞ
 
cÚÃù_blockšg
 = 
Œue
): 
USBCDC
(vendor_id,…roduct_id,…roduct_release, connect_blocking){

60 
	g£‰šgsChªgedC®lback
 = 0;

70 
vœtu®
 
_putc
(
c
);

77 
vœtu®
 
_g‘c
();

84 
ušt8_t
 
avaabË
();

92 
»adabË
(è{  
avaabË
() ? 1 : 0; }

100 
wr™—bË
() {  1; }

112 
boŞ
 
wr™eBlock
(
ušt8_t
 * 
buf
, 
ušt16_t
 
size
);

120 
	g‹m¶©e
<
ty³Çme
 
	gT
>

121 
©ch
(
T
* 
Œ
, (T::*
m±r
)()) {

122 if((
m±r
 !ğ
NULL
è&& (
Œ
 != NULL)) {

123 
rx
.
©ch
(
Œ
, 
m±r
);

132 
©ch
((*
åŒ
)()) {

133 if(
	gåŒ
 !ğ
NULL
) {

134 
rx
.
©ch
(
åŒ
);

143 
©ch
((*
åŒ
)(
baud
, 
b™s
, 
·r™y
, 
¡İ
)) {

144 
	g£‰šgsChªgedC®lback
 = 
åŒ
;

147 
	g´Ùeùed
:

148 
vœtu®
 
boŞ
 
EPBULK_OUT_ÿÎback
();

149 
vœtu®
 
lšeCodšgChªged
(
baud
, 
b™s
, 
·r™y
, 
¡İ
){

150 ià(
	g£‰šgsChªgedC®lback
) {

151 
£‰šgsChªgedC®lback
(
baud
, 
b™s
, 
·r™y
, 
¡İ
);

155 
	g´iv©e
:

156 
FunùiÚPoš‹r
 
rx
;

157 
	gCœcBufãr
<
	gušt8_t
,128> 
	gbuf
;

158 (*
	g£‰šgsChªgedC®lback
)(
	gbaud
, 
	gb™s
, 
	g·r™y
, 
	g¡İ
);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\Pokitto.h

37 #iâdeà
__POKITTO_H__


38 
	#__POKITTO_H__


	)

40 
	~"Pok™to_£‰šgs.h
"

41 
	~"Pok™toCÜe.h
"

45 #iâdeà
POK_SIM


46 
	~"mbed.h
"

47 
	~"HWLCD.h
"

48 
	~"Pok™toTim”.h
"

49 
	~"Pok™to_exÜt.h
"

50 
	~"Pok™toEEPROM.h
"

52 
	~"Pok™toSimuÏtÜ.h
"

56 #ià
POK_ENABLE_SD
 > 0

57 #iâdeà
POK_SIM


58 
	~"Pok™toDisk.h
"

60 
	~"FeIO.h
"

65 #ià
POK_ENABLE_SOUND
 > 0

66 #ià
POK_ENABLE_SYNTH
 > 0

67 
	~"SyÁh.h
"

69 
ušt8_t
 
soundbuf
[];

70 
ušt16_t
 
soundbufšdex
;

71 
ušt8_t
* 
soundbuåŒ
;

72 #iâdeà
POK_SIM


73 
	~"HWSound.h
"

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\Pokitto_settings.h

38 #iâdeà
POKITTO_SETTINGS_H


39 
	#POKITTO_SETTINGS_H


	)

41 
	~"My_£‰šgs.h
"

43 #ifdeà
PROJ_BOARDREV


44 
	#POK_BOARDREV
 
PROJ_BOARDREV


45 #–£

	)

46 
	#POK_BOARDREV
 2

48 

	)

50 #ifdeà
PROJ_STARTUPLOGO


51 
	#POK_DISPLAYLOGO
 
PROJ_STARTUPLOGO


52 #–£

	)

53 
	#POK_DISPLAYLOGO
 1

	)

56 
	#POK_ENABLE_REFRESHWITHWAIT
 0

57 
	#POK_ENABLE_FPSCOUNTER
 0

58 
	#POK_ENABLE_SD
 1

59 
	#POK_LOADER_COUNTDOWN
 3

60 

	)

61 #iâdeà
PROJ_ENABLE_SOUND


62 
	#POK_ENABLE_SOUND
 1

	)

64 
	#POK_ENABLE_SOUND
 
PROJ_ENABLE_SOUND


	)

67 #iâdeà
PROJ_SOUND_BUFFERED


68 
	#POK_SOUND_BUFFERED
 0

	)

70 
	#POK_SOUND_BUFFERED
 
PROJ_SOUND_BUFFERED


	)

73 #iâdeà
PROJ_GBSOUND


74 #ià
POK_ENABLE_SOUND
 > 0

75 
	#POK_GBSOUND
 0

	)

78 
	#POK_GBSOUND
 
PROJ_GBSOUND


	)

82 #iâdeà
PROJ_STREAMING_MUSIC


83 
	#POK_STREAMING_MUSIC
 0

84 #–£

	)

85 
	#POK_STREAMING_MUSIC
 
PROJ_STREAMING_MUSIC


	)

88 #iâdeà
PROJ_ENABLE_SYNTH


89 
	#POK_ENABLE_SYNTH
 0

	)

91 
	#POK_ENABLE_SYNTH
 
PROJ_ENABLE_SYNTH


	)

96 
	#POK_USE_CONSOLE
 0

97 
	#POK_CONSOLE_VISIBLE_AT_STARTUP
 1

98 
	#POK_CONSOLE_INTERVAL
 1000

99 #ià
POK_USE_CONSOLE
 > 0

100 
	#POK_CONSOLE_LOG_BUTTONS
 0

101 
	#POK_CONSOLE_LOG_COLLISIONS
 1

103 
	#CONSOLEBUFSIZE
 20

	)

104 
	#POK_SHOW_VOLUME
 0

105 
	#VOLUMEBAR_TIMEOUT
 10

106 

	)

109 #ià
PROJ_TILEDMODE
 > 0

110 
	#POK_TILEDMODE
 1

	)

111 #ifdeà
PROJ_TILEWIDTH


112 
	#POK_TILE_W
 
PROJ_TILEWIDTH


	)

114 
	#POK_TILE_W
 11

	)

116 #ià
POK_TILE_W
 == 11

117 
	#POK_TILES_X
 20

	)

118 
	#LCDWIDTH
 220

	)

119 #–ià
POK_TILE_W
 == 12

120 
	#POK_TILES_X
 18

	)

121 
	#LCDWIDTH
 216

	)

122 #–ià
POK_TILE_W
 == 8

123 
	#POK_TILES_X
 27

	)

124 
	#LCDWIDTH
 216

	)

125 #–ià
POK_TILE_W
 == 32

126 
	#POK_TILES_X
 6

	)

127 
	#LCDWIDTH
 220

	)

128 #–ià
POK_TILE_W
 == 10

129 
	#POK_TILES_X
 22

	)

130 
	#LCDWIDTH
 220

	)

131 #–ià
POK_TILE_W
 == 14

132 
	#POK_TILES_X
 15

	)

133 
	#LCDWIDTH
 210

	)

135 #ifdeà
PROJ_TILEHEIGHT


136 
	#POK_TILE_H
 
PROJ_TILEHEIGHT


	)

138 
	#POK_TILE_H
 11

	)

140 #ià
POK_TILE_H
 == 11

141 
	#POK_TILES_Y
 16

	)

142 
	#LCDHEIGHT
 176

	)

143 #–ià
POK_TILE_H
 == 12

144 
	#POK_TILES_Y
 14

	)

145 
	#LCDHEIGHT
 168

	)

146 #–ià
POK_TILE_H
 == 8

147 
	#POK_TILES_Y
 22

	)

148 
	#LCDHEIGHT
 176

	)

149 #–ià
POK_TILE_H
 == 32

150 
	#POK_TILES_Y
 5

	)

151 
	#LCDHEIGHT
 176

	)

152 #–ià
POK_TILE_H
 == 10

153 
	#POK_TILES_Y
 17

	)

154 
	#LCDHEIGHT
 170

	)

155 #–ià
POK_TILE_H
 == 14

156 
	#POK_TILES_Y
 12

	)

157 
	#LCDHEIGHT
 168

	)

160 #ià
PROJ_GAMEBUINO
 > 0

161 
	#POK_GAMEBUINO_SUPPORT
 
PROJ_GAMEBUINO


162 
	#PROJ_SCREENMODE
 
MODE_GAMEBUINO_16COLOR


	)

163 
	#POK_STRETCH
 1

	)

164 
	#PICOPALETTE
 0

	)

165 
	#POK_COLORDEPTH
 4

	)

167 #ià
PROJ_ARDUBOY
 > 0

168 
	#POK_ARDUBOY_SUPPORT
 
PROJ_ARDUBOY


169 
	#PROJ_SCREENMODE
 
MODE_ARDUBOY_16COLOR


	)

170 
	#POK_COLORDEPTH
 1

	)

171 
	#POK_STRETCH
 1

	)

172 
	#POK_FPS
 20

	)

173 
	#PICOPALETTE
 0

	)

175 #ià
PROJ_RBOY
 > 0

176 
	#PROJ_SCREENMODE
 
MODE_GAMEBUINO_16COLOR


	)

177 
	#POK_COLORDEPTH
 1

	)

178 
	#POK_STRETCH
 0

	)

179 
	#POK_FPS
 40

	)

180 
	#PICOPALETTE
 0

	)

182 #ià
PROJ_GAMEBOY
 > 0

183 
	#PROJ_SCREENMODE
 
MODE_GAMEBOY


	)

184 
	#POK_COLORDEPTH
 2

	)

185 
	#POK_STRETCH
 0

	)

186 
	#POK_FPS
 6

	)

187 
	#PICOPALETTE
 0

	)

189 
	#POK_GAMEBUINO_SUPPORT
 0

	)

190 
	#POK_GAMEBOY_SUPPORT
 0

	)

191 
	#POK_ARDUBOY_SUPPORT
 0

	)

192 
	#PICOPALETTE
 0

	)

193 
	#POK_COLORDEPTH
 4

	)

203 
	#POK_LCD_W
 220

204 
	#POK_LCD_H
 176

205 

	)

206 
	#MODE_NOBUFFER
 0

207 
	#BUFSIZE_NOBUFFER
 0

	)

208 
	#MODE_HI_4COLOR
 1

209 
	#BUFSIZE_HI_4
 9680

	)

210 
	#MODE_FAST_16COLOR
 2

211 
	#BUFSIZE_FAST_16
 4840

	)

212 
	#MODE_HI_16COLOR
 3

	)

213 
	#BUFSIZE_HI_16
 19360

	)

214 
	#MODE_GAMEBUINO_16COLOR
 4

215 
	#BUFSIZE_GAMEBUINO_16
 2016

	)

216 
	#MODE_ARDUBOY_16COLOR
 5

217 
	#BUFSIZE_ARDUBOY_16
 4096

	)

218 
	#MODE_HI_MONOCHROME
 6

219 
	#BUFSIZE_HI_MONO
 4840

	)

220 
	#MODE_HI_GRAYSCALE
 7

221 
	#BUFSIZE_HI_GS
 9680

	)

222 
	#MODE_GAMEBOY
 8

	)

223 
	#BUFSIZE_GAMEBOY
 5760

	)

224 
	#MODE_UZEBOX
 9

	)

225 
	#MODE_TVOUT
 10

	)

226 
	#MODE_LAMENES
 11

	)

227 
	#BUFSIZE_LAMENES
 7680

	)

228 
	#MODE_256_COLOR
 12

	)

229 
	#BUFSIZE_MODE_12
 4176

230 
	#MODE13
 13

	)

231 
	#BUFSIZE_MODE13
 9680

232 
	#MODE14
 14

	)

233 
	#BUFSIZE_MODE14
 14520

	)

235 
	#MODE_TILED_1BIT
 1001

	)

236 
	#MODE_TILED_8BIT
 1002

	)

239 
	#R_MASK
 0xF800

	)

240 
	#G_MASK
 0x7E0

	)

241 
	#B_MASK
 0x1F

	)

245 #ià
POK_TILEDMODE
 > 0

246 #iâdeà
PROJ_TILEBITDEPTH


247 
	#PROJ_TILEBITDEPTH
 8

249 #ià
PROJ_TILEBITDEPTH
 =ğ1

	)

250 
	#POK_SCREENMODE
 
MODE_TILED_1BIT


	)

251 
	#POK_COLORDEPTH
 1

	)

253 
	#POK_SCREENMODE
 
MODE_TILED_8BIT


	)

254 
	#POK_COLORDEPTH
 8

	)

257 #iâdeà
PROJ_SCREENMODE


258 #undeà
POK_COLORDEPTH


259 #ifdeà
PROJ_HIRES


260 #ià
PROJ_HIRES
 > 0

261 
	#POK_SCREENMODE
 
MODE_HI_4COLOR


	)

262 #undeà
POK_COLORDEPTH


263 
	#POK_COLORDEPTH
 2

	)

264 #–ià
PROJ_HICOLOR
 > 0

265 
	#POK_SCREENMODE
 
MODE_256_COLOR


	)

266 #undeà
POK_COLORDEPTH


267 
	#POK_COLORDEPTH
 8

	)

269 
	#POK_SCREENMODE
 
MODE_FAST_16COLOR


	)

270 #undeà
POK_COLORDEPTH


271 
	#POK_COLORDEPTH
 4

	)

274 
	#POK_SCREENMODE
 
MODE_FAST_16COLOR


	)

275 
	#POK_COLORDEPTH
 4

	)

278 
	#POK_SCREENMODE
 
PROJ_SCREENMODE


	)

282 #ià
PROJ_MODE13
 > 0

283 #undeà
POK_SCREENMODE


284 #undeà
POK_COLORDEPTH


285 #undeà
POK_FPS


286 
	#POK_SCREENMODE
 
MODE13


	)

287 
	#POK_COLORDEPTH
 8

	)

288 
	#POK_STRETCH
 0

	)

289 
	#POK_FPS
 30

	)

292 #ià
PROJ_MODE14
 > 0

293 #undeà
POK_SCREENMODE


294 #undeà
POK_COLORDEPTH


295 #undeà
POK_FPS


296 
	#POK_SCREENMODE
 
MODE14


	)

297 
	#POK_COLORDEPTH
 3

	)

298 
	#POK_STRETCH
 0

	)

299 
	#POK_FPS
 30

	)

301 #ià
PROJ_MODE15
 > 0

302 #undeà
POK_SCREENMODE


303 #undeà
POK_COLORDEPTH


304 #undeà
POK_FPS


305 
	#POK_SCREENMODE
 
MODE15


	)

306 
	#POK_COLORDEPTH
 4

	)

307 
	#POK_STRETCH
 0

	)

308 
	#POK_FPS
 30

	)

313 #iâdeà
POK_COLORDEPTH


314 
	#POK_COLORDEPTH
 4

316 

	)

318 #ià
POK_SCREENMODE
 == 0

319 
	#POK_SCREENBUFFERSIZE
 0

	)

320 
	#LCDWIDTH
 
POK_LCD_W


	)

321 
	#LCDHEIGHT
 
POK_LCD_H


	)

322 
	#POK_BITFRAME
 0

	)

323 #–ià
POK_SCREENMODE
 =ğ
MODE_HI_MONOCHROME


324 
	#POK_SCREENBUFFERSIZE
 
POK_LCD_W
*
POK_LCD_H
*
POK_COLORDEPTH
/8

	)

325 
	#LCDWIDTH
 
POK_LCD_W


	)

326 
	#LCDHEIGHT
 
POK_LCD_H


	)

327 
	#POK_BITFRAME
 4840

	)

328 #–ià
POK_SCREENMODE
 =ğ
MODE_HI_16COLOR


329 
	#POK_SCREENBUFFERSIZE
 
POK_LCD_W
*
POK_LCD_H
/2

	)

330 
	#LCDWIDTH
 220

	)

331 
	#LCDHEIGHT
 176

	)

332 
	#POK_BITFRAME
 4840

	)

333 #–ià
POK_SCREENMODE
 =ğ
MODE_HI_4COLOR
 || POK_SCREENMODE =ğ
MODE_HI_GRAYSCALE


334 
	#POK_SCREENBUFFERSIZE
 
POK_LCD_W
*
POK_LCD_H
*
POK_COLORDEPTH
/4

	)

335 
	#LCDWIDTH
 
POK_LCD_W


	)

336 
	#LCDHEIGHT
 
POK_LCD_H


	)

337 
	#POK_BITFRAME
 4840

	)

338 #–ià
POK_SCREENMODE
 =ğ
MODE_FAST_16COLOR


339 
	#POK_SCREENBUFFERSIZE
 (
POK_LCD_W
/2)*(
POK_LCD_H
/2)*
POK_COLORDEPTH
/8

	)

340 
	#XCENTER
 
POK_LCD_W
/4

	)

341 
	#YCENTER
 
POK_LCD_H
/4

	)

342 
	#LCDWIDTH
 110

	)

343 
	#LCDHEIGHT
 88

	)

344 
	#POK_BITFRAME
 1210

	)

345 #–ià
POK_SCREENMODE
 =ğ
MODE_256_COLOR


346 
	#POK_SCREENBUFFERSIZE
 72*58

	)

347 
	#XCENTER
 36

	)

348 
	#YCENTER
 29

	)

349 
	#LCDWIDTH
 72

	)

350 
	#LCDHEIGHT
 58

	)

351 
	#POK_BITFRAME
 72*58

	)

352 #–ià
POK_SCREENMODE
 =ğ
MODE_GAMEBUINO_16COLOR


353 
	#POK_SCREENBUFFERSIZE
 (84/2)*(48/2)*
POK_COLORDEPTH
/8

	)

354 
	#LCDWIDTH
 84

	)

355 
	#LCDHEIGHT
 48

	)

356 
	#POK_BITFRAME
 504

	)

357 #–ià
POK_SCREENMODE
 =ğ
MODE_ARDUBOY_16COLOR


358 
	#POK_SCREENBUFFERSIZE
 (128/2)*(64/2)*
POK_COLORDEPTH
/8

	)

359 
	#LCDWIDTH
 128

	)

360 
	#LCDHEIGHT
 64

	)

361 
	#POK_BITFRAME
 1024

	)

362 #–ià
POK_SCREENMODE
 =ğ
MODE_LAMENES


363 
	#POK_SCREENBUFFERSIZE
 (128)*(120)*
POK_COLORDEPTH
/8

	)

364 
	#LCDWIDTH
 128

	)

365 
	#LCDHEIGHT
 120

	)

366 
	#POK_BITFRAME
 1210

	)

367 #–ià
POK_SCREENMODE
 =ğ
MODE_GAMEBOY


368 
	#POK_SCREENBUFFERSIZE
 (160)*(144)/4

	)

369 
	#LCDWIDTH
 160

	)

370 
	#LCDHEIGHT
 144

	)

371 
	#POK_BITFRAME
 2880

	)

372 #–ià
POK_SCREENMODE
 =ğ
MODE13


373 
	#POK_SCREENBUFFERSIZE
 110*88

	)

374 
	#LCDWIDTH
 110

	)

375 
	#LCDHEIGHT
 88

	)

376 
	#POK_BITFRAME
 110*88

	)

377 #–ià
POK_SCREENMODE
 =ğ
MODE14


378 
	#POK_SCREENBUFFERSIZE
 14520

	)

379 
	#LCDWIDTH
 220

	)

380 
	#LCDHEIGHT
 176

	)

381 
	#POK_BITFRAME
 4840

	)

382 #–ià
POK_SCREENMODE
 =ğ
MODE15


383 
	#POK_SCREENBUFFERSIZE
 0x4BA0

	)

384 
	#LCDWIDTH
 220

	)

385 
	#LCDHEIGHT
 176

	)

388 
	#POK_SCREENBUFFERSIZE
 0

	)

391 #iâdeà
POK_STRETCH


392 
	#POK_STRETCH
 1

394 

	)

395 #ifdeà
PROJ_FPS


396 
	#POK_FPS
 
PROJ_FPS


	)

398 #iâdeà
POK_FPS


399 
	#POK_FPS
 20

	)

401 
	#POK_FRAMEDURATION
 1000/
POK_FPS


	)

404 
	#SCROLL_TEXT
 1

	)

407 
	#POK_AUD_PIN
 
P2_19


	)

408 
	#POK_AUD_PWM_US
 15

409 #iâdeà
PROJ_AUD_FREQ


	)

410 
	#POK_AUD_FREQ
 22050

411 #–£

	)

412 
	#POK_AUD_FREQ
 
PROJ_AUD_FREQ


	)

416 
	#POK_USE_EXT
 0

417 

	)

418 
	#POK_STREAMFREQ_HALVE
 0

419 
	#POK_STREAM_LOOP
 1

420 

	)

421 #iâdeà
PROJ_USE_DAC


422 
	#POK_USE_DAC
 1

423 #–£

	)

424 
	#POK_USE_DAC
 
PROJ_USE_DAC


	)

426 #iâdeà
PROJ_USE_PWM


427 
	#POK_USE_PWM
 1

428 #–£

	)

429 
	#POK_USE_PWM
 
PROJ_USE_PWM


	)

432 #iâdeà
PROJ_STREAM_TO_DAC


433 
	#POK_STREAM_TO_DAC
 1

434 #–£

	)

435 
	#POK_STREAM_TO_DAC
 
PROJ_STREAM_TO_DAC


	)

439 
	#POK_BACKLIGHT_PIN
 
P2_2


	)

440 
	#POK_BACKLIGHT_INITIALVALUE
 0.3f

	)

442 
	#POK_BATTERY_PIN1
 
P0_22


443 
	#POK_BATTERY_PIN2
 
P0_23


	)

445 
	#POK_BTN_A_PIN
 
P1_9


	)

446 
	#POK_BTN_B_PIN
 
P1_4


	)

447 
	#POK_BTN_C_PIN
 
P1_10


	)

448 
	#POK_BTN_UP_PIN
 
P1_13


	)

449 
	#POK_BTN_DOWN_PIN
 
P1_3


	)

450 
	#POK_BTN_LEFT_PIN
 
P1_25


	)

451 
	#POK_BTN_RIGHT_PIN
 
P1_7


	)

453 
	#UPBIT
 0

	)

454 
	#DOWNBIT
 1

	)

455 
	#LEFTBIT
 2

	)

456 
	#RIGHTBIT
 3

	)

457 
	#ABIT
 4

	)

458 
	#BBIT
 5

	)

459 
	#CBIT
 6

	)

462 
	#POK_ENABLE_LOADER_UPDATES
 1

463 

	)

464 #iâdeà
SPRITE_COUNT


465 
	#SPRITE_COUNT
 4

467 

	)

469 
	#EESETTINGS_FILENAME
 3980

470 
	#EESETTINGS_VOL
 4000

471 
	#EESETTINGS_DEFAULTVOL
 4001

472 
	#EESETTINGS_LOADERWAIT
 4002

473 
	#EESETTINGS_VOLWAIT
 4003

474 
	#EESETTINGS_TIMEFORMAT
 4004

475 
	#EESETTINGS_LASTHOURSSET
 4005

476 
	#EESETTINGS_LASTMINUTESSET
 4006

477 
	#EESETTINGS_DATEFORMAT
 4007

478 
	#EESETTINGS_LASTDAYSET
 4008

479 
	#EESETTINGS_LASTMONTHSET
 4009

480 
	#EESETTINGS_LASTYEARSET
 4010

481 
	#EESETTINGS_RTCALARMMODE
 4011

482 
	#EESETTINGS_RESERVED
 4012

483 
	#EESETTINGS_WAKEUPTIME
 4016

484 

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\libpff\connect.h

1 #iâdeà
_CONNECT_H_


4 
	#CONNECT_MOSI
 
P0_9


5 
	#CONNECT_MISO
 
P0_8


6 
	#CONNECT_SCK
 
P0_6


7 
	#CONNECT_CS
 
P0_7


8 
	#SPI_FREQ
 20000000

9 

	)

10 
	#_CONNECT_H_


	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\libpff\diskio.h

5 #iâdeà
_DISKIO


7 
	~"š‹g”.h
"

10 
BYTE
 
	tDSTATUS
;

14 
	mRES_OK
 = 0,

15 
	mRES_ERROR
,

16 
	mRES_NOTRDY
,

17 
	mRES_PARERR


18 } 
	tDRESULT
;

23 
DSTATUS
 
disk_š™Ÿlize
 ();

24 
DRESULT
 
disk_»adp
 (
BYTE
*, 
DWORD
, 
WORD
, WORD);

25 
DRESULT
 
disk_wr™•
 (cÚ¡ 
BYTE
*, 
DWORD
);

27 
	#STA_NOINIT
 0x01

	)

28 
	#STA_NODISK
 0x02

	)

31 
	#CT_MMC
 0x01

	)

32 
	#CT_SD1
 0x02

	)

33 
	#CT_SD2
 0x04

	)

34 
	#CT_SDC
 (
CT_SD1
|
CT_SD2
è

	)

35 
	#CT_BLOCK
 0x08

	)

37 
	#_DISKIO


	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\libpff\integer.h

5 #iâdeà
_INTEGER


8 
	tINT
;

9 
	tUINT
;

12 sigÃd 
	tCHAR
;

13 
	tUCHAR
;

14 
	tBYTE
;

17 
	tSHORT
;

18 
	tUSHORT
;

19 
	tWORD
;

20 
	tWCHAR
;

23 
	tLONG
;

24 
	tULONG
;

25 
	tDWORD
;

30 
	#_INTEGER


	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\libpff\mmc.cpp

5 
	#_WRITE_FUNC
 1

	)

7 
	~"diskio.h
"

8 
	~"mbed.h
"

9 
	~"cÚÃù.h
"

10 
	~"Pok™toDisk.h
"

13 
	#CMD0
 (0x40+0è

	)

14 
	#CMD1
 (0x40+1è

	)

15 
	#ACMD41
 (0xC0+41è

	)

16 
	#CMD8
 (0x40+8è

	)

17 
	#CMD16
 (0x40+16è

	)

18 
	#CMD17
 (0x40+17è

	)

19 
	#CMD24
 (0x40+24è

	)

20 
	#CMD55
 (0x40+55è

	)

21 
	#CMD58
 (0x40+58è

	)

26 
	#SELECT
(è
CLR_SD_CS


27 
	#DESELECT
(è
SET_SD_CS


28 
	#MMC_SEL
 !
GET_SD_CS


29 

	)

30 
	$xm™_¥i
 (
BYTE
 
c
) {

31 
deviû
.
	`wr™e
(
c
);

32 
	}
}

34 
BYTE
 
	$rcv_¥i
 () {

35  
deviû
.
	`wr™e
(0xff);

36 
	}
}

45 
BYTE
 
	gC¬dTy³
;

53 
	$»Ëa£_¥i
 () {

54 
	`DESELECT
();

55 
	`rcv_¥i
();

56 
	}
}

64 
BYTE
 
	$£nd_cmd
 (

65 
BYTE
 
cmd
,

66 
DWORD
 
¬g


68 
BYTE
 
n
, 
»s
;

71 ià(
cmd
 & 0x80) {

72 
cmd
 &= 0x7F;

73 
»s
 = 
	`£nd_cmd
(
CMD55
, 0);

74 ià(
»s
 > 1) „es;

78 
	`DESELECT
();

79 
	`rcv_¥i
();

80 
	`SELECT
();

81 
	`rcv_¥i
();

84 
	`xm™_¥i
(
cmd
);

85 
	`xm™_¥i
((
BYTE
)(
¬g
 >> 24));

86 
	`xm™_¥i
((
BYTE
)(
¬g
 >> 16));

87 
	`xm™_¥i
((
BYTE
)(
¬g
 >> 8));

88 
	`xm™_¥i
((
BYTE
)
¬g
);

89 
n
 = 0x01;

90 ià(
cmd
 =ğ
CMD0
è
n
 = 0x95;

91 ià(
cmd
 =ğ
CMD8
è
n
 = 0x87;

92 
	`xm™_¥i
(
n
);

95 
n
 = 10;

97 
»s
 = 
	`rcv_¥i
();

98 } (
»s
 & 0x80è&& --
n
);

100  
»s
;

101 
	}
}

117 
DSTATUS
 
	$disk_š™Ÿlize
 () {

118 
BYTE
 
n
, 
cmd
, 
ty
, 
oü
[4];

119 
WORD
 
tmr
;

121 
	`DESELECT
();

122 
deviû
.
	`äequ’cy
(
SPI_FREQ
);

123 
deviû
.
	`fÜm©
(8);

126 #ià
_WRITE_FUNC


127 ià(
MMC_SEL
è
	`disk_wr™•
(0, 0);

129 
n
 = 100;‚;‚--è
	`rcv_¥i
();

131 
ty
 = 0;

132 ià(
	`£nd_cmd
(
CMD0
, 0) == 1) {

133 ià(
	`£nd_cmd
(
CMD8
, 0x1AA) == 1) {

134 
n
 = 0;‚ < 4;‚++è
oü
[n] = 
	`rcv_¥i
();

135 ià(
oü
[2] == 0x01 && ocr[3] == 0xAA) {

136 
tmr
 = 12000;m¸&& 
	`£nd_cmd
(
ACMD41
, 1UL << 30);mr--) ;

137 ià(
tmr
 && 
	`£nd_cmd
(
CMD58
, 0) == 0) {

138 
n
 = 0;‚ < 4;‚++è
oü
[n] = 
	`rcv_¥i
();

139 
ty
 = (
oü
[0] & 0x40è? 
CT_SD2
 | 
CT_BLOCK
 : CT_SD2;

143 ià(
	`£nd_cmd
(
ACMD41
, 0) <= 1) {

144 
ty
 = 
CT_SD1
;

145 
cmd
 = 
ACMD41
;

147 
ty
 = 
CT_MMC
;

148 
cmd
 = 
CMD1
;

150 
tmr
 = 25000;m¸&& 
	`£nd_cmd
(
cmd
, 0);mr--) ;

151 ià(!
tmr
 || 
	`£nd_cmd
(
CMD16
, 512) != 0)

152 
ty
 = 0;

155 
C¬dTy³
 = 
ty
;

156 
	`»Ëa£_¥i
();

158  
ty
 ? 0 : 
STA_NOINIT
;

159 
	}
}

167 
DRESULT
 
	$disk_»adp
 (

168 
BYTE
 *
buff
,

169 
DWORD
 
lba
,

170 
WORD
 
ofs
,

171 
WORD
 
út


173 
DRESULT
 
»s
;

174 
BYTE
 
rc
;

175 
WORD
 
bc
;

178 ià(!(
C¬dTy³
 & 
CT_BLOCK
)è
lba
 *= 512;

180 
»s
 = 
RES_ERROR
;

181 ià(
	`£nd_cmd
(
CMD17
, 
lba
) == 0) {

183 
bc
 = 30000;

185 
rc
 = 
	`rcv_¥i
();

186 } 
rc
 =ğ0xFF && --
bc
);

188 ià(
rc
 == 0xFE) {

189 
bc
 = 514 - 
ofs
 - 
út
;

192 ià(
ofs
) {

194 
	`rcv_¥i
();

195 } --
ofs
);

199 ià(
buff
) {

201 *
buff
++ = 
	`rcv_¥i
();

202 } --
út
);

205 
	`rcv_¥i
();

206 } --
út
);

210 dØ
	`rcv_¥i
();

211 --
bc
);

213 
»s
 = 
RES_OK
;

217 
	`»Ëa£_¥i
();

219  
»s
;

220 
	}
}

227 #ià
_WRITE_FUNC


229 
DRESULT
 
	$disk_wr™•
 (

230 cÚ¡ 
BYTE
 *
buff
,

231 
DWORD
 
§


233 
DRESULT
 
»s
;

234 
WORD
 
bc
;

235 
WORD
 
wc
;

238 
»s
 = 
RES_ERROR
;

240 ià(
buff
) {

241 
bc
 = (
WORD
)
§
;

242 
bc
 && 
wc
) {

243 
	`xm™_¥i
(*
buff
++);

244 
wc
--;

245 
bc
--;

247 
»s
 = 
RES_OK
;

249 ià(
§
) {

250 ià(!(
C¬dTy³
 & 
CT_BLOCK
)è
§
 *= 512;

251 ià(
	`£nd_cmd
(
CMD24
, 
§
) == 0) {

252 
	`xm™_¥i
(0xFF);

253 
	`xm™_¥i
(0xFE);

254 
wc
 = 512;

255 
»s
 = 
RES_OK
;

258 
bc
 = 
wc
 + 2;

259 
bc
--è
	`xm™_¥i
(0);

260 ià((
	`rcv_¥i
() & 0x1F) == 0x05) {

261 
bc
 = 65000; 
	`rcv_¥i
() != 0xFF && bc; bc--) ;

262 ià(
bc
è
»s
 = 
RES_OK
;

264 
	`»Ëa£_¥i
();

268  
»s
;

269 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\libpff\pff.cpp

23 
	~"pff.h
"

24 
	~"diskio.h
"

34 
FATFS
 *
	gF©Fs
;

44 
	$mem_£t
 (* 
d¡
, 
v®
, 
út
) {

45 *
d
 = (*)
d¡
;

46 
út
--è*
d
++ = ()
v®
;

47 
	}
}

51 
	$mem_cmp
 (cÚ¡ * 
d¡
, cÚ¡ * 
¤c
, 
út
) {

52 cÚ¡ *
d
 = (cÚ¡ *)
d¡
, *
s
 = (cÚ¡ *)
¤c
;

53 
r
 = 0;

54 
út
-- && (
r
 = *
d
++ - *
s
++) == 0) ;

55  
r
;

56 
	}
}

65 
CLUST
 
	$g‘_çt
 (

66 
CLUST
 
ş¡


68 
WORD
 
wc
, 
bc
, 
ofs
;

69 
BYTE
 
buf
[4];

70 
FATFS
 *
fs
 = 
F©Fs
;

73 ià(
ş¡
 < 2 || cl¡ >ğ
fs
->
max_şu¡
)

76 
fs
->
fs_ty³
) {

77 
FS_FAT12
 :

78 
bc
 = (
WORD
)
ş¡
;

79 
bc
 += bc / 2;

80 
ofs
 = 
bc
 % 512;

81 
bc
 /= 512;

82 ià(
ofs
 != 511) {

83 ià(
	`disk_»adp
(
buf
, 
fs
->
çtba£
 + 
bc
, 
ofs
, 2)) ;

85 ià(
	`disk_»adp
(
buf
, 
fs
->
çtba£
 + 
bc
, 511, 1)) ;

86 ià(
	`disk_»adp
(
buf
+1, 
fs
->
çtba£
 + 
bc
 + 1, 0, 1)) ;

88 
wc
 = 
	`LD_WORD
(
buf
);

89  (
ş¡
 & 1è? (
wc
 >> 4) : (wc & 0xFFF);

91 
FS_FAT16
 :

92 ià(
	`disk_»adp
(
buf
, 
fs
->
çtba£
 + 
ş¡
 / 256, (
WORD
)(((WORD)clst % 256) * 2), 2)) ;

93  
	`LD_WORD
(
buf
);

94 #ià
_FS_FAT32


95 
FS_FAT32
 :

96 ià(
	`disk_»adp
(
buf
, 
fs
->
çtba£
 + 
ş¡
 / 128, (
WORD
)(((WORD)clst % 128) * 4), 4)) ;

97  ((
WORD
)(((WORD)*(
BYTE
*)((
buf
)+1)<<8)|(WORD)*(BYTE*)(buf))) & 0x0FFFFFFF;

102 
	}
}

112 
DWORD
 
	$şu¡2£ù
 (

113 
CLUST
 
ş¡


115 
FATFS
 *
fs
 = 
F©Fs
;

118 
ş¡
 -= 2;

119 ià(
ş¡
 >ğ(
fs
->
max_şu¡
 - 2))  0;

120  (
DWORD
)
ş¡
 * 
fs
->
csize
 + fs->
d©aba£
;

121 
	}
}

131 
FRESULT
 
	$dœ_»wšd
 (

132 
FATDIR
 *
dj


134 
CLUST
 
ş¡
;

135 
FATFS
 *
fs
 = 
F©Fs
;

138 
dj
->
šdex
 = 0;

139 
ş¡
 = 
dj
->
sşu¡
;

140 ià(
ş¡
 =ğ1 || cl¡ >ğ
fs
->
max_şu¡
)

141  
FR_DISK_ERR
;

142 #ià
_FS_FAT32


143 ià(!
ş¡
 && 
fs
->
fs_ty³
 =ğ
FS_FAT32
)

144 
ş¡
 = 
fs
->
dœba£
;

146 
dj
->
şu¡
 = 
ş¡
;

147 
dj
->
£ù
 = 
ş¡
 ? 
	`şu¡2£ù
(ş¡è: 
fs
->
dœba£
;

149  
FR_OK
;

150 
	}
}

160 
FRESULT
 
	$dœ_Ãxt
 (

161 
FATDIR
 *
dj


163 
CLUST
 
ş¡
;

164 
WORD
 
i
;

165 
FATFS
 *
fs
 = 
F©Fs
;

168 
i
 = 
dj
->
šdex
 + 1;

169 ià(!
i
 || !
dj
->
£ù
)

170  
FR_NO_FILE
;

172 ià(!(
i
 & (16-1))) {

173 
dj
->
£ù
++;

175 ià(
dj
->
şu¡
 == 0) {

176 ià(
i
 >ğ
fs
->
n_roÙdœ
)

177  
FR_NO_FILE
;

179 ià(((
i
 / 16è& (
fs
->
csize
-1)) == 0) {

180 
ş¡
 = 
	`g‘_çt
(
dj
->
şu¡
);

181 ià(
ş¡
 <ğ1è 
FR_DISK_ERR
;

182 ià(
ş¡
 >ğ
fs
->
max_şu¡
)

183  
FR_NO_FILE
;

184 
dj
->
şu¡
 = 
ş¡
;

185 
dj
->
£ù
 = 
	`şu¡2£ù
(
ş¡
);

190 
dj
->
šdex
 = 
i
;

192  
FR_OK
;

193 
	}
}

203 
FRESULT
 
	$dœ_fšd
 (

204 
FATDIR
 *
dj


206 
FRESULT
 
»s
;

207 
BYTE
 
c
, *
dœ
;

210 
»s
 = 
	`dœ_»wšd
(
dj
);

211 ià(
»s
 !ğ
FR_OK
) „es;

213 
dœ
 = 
F©Fs
->
buf
;

215 
»s
 = 
	`disk_»adp
(
dœ
, 
dj
->
£ù
, (
WORD
)((dj->
šdex
 % 16) * 32), 32)

216 ? 
FR_DISK_ERR
 : 
FR_OK
;

217 ià(
»s
 !ğ
FR_OK
) ;

218 
c
 = 
dœ
[
DIR_Name
];

219 ià(
c
 == 0) {

220 
»s
 = 
FR_NO_FILE
;

223 ià(!(
dœ
[
DIR_A‰r
] & 
AM_VOL
è&& !
	`mem_cmp
(dœ, 
dj
->
â
, 11))

225 
»s
 = 
	`dœ_Ãxt
(
dj
);

226 } 
»s
 =ğ
FR_OK
);

228  
»s
;

229 
	}
}

237 #ià
_USE_DIR


239 
FRESULT
 
	$dœ_»ad
 (

240 
FATDIR
 *
dj


242 
FRESULT
 
»s
;

243 
BYTE
 
a
, 
c
, *
dœ
;

246 
»s
 = 
FR_NO_FILE
;

247 
dœ
 = 
F©Fs
->
buf
;

248 
dj
->
£ù
) {

249 
»s
 = 
	`disk_»adp
(
dœ
, 
dj
->
£ù
, (
WORD
)((dj->
šdex
 % 16) * 32), 32)

250 ? 
FR_DISK_ERR
 : 
FR_OK
;

251 ià(
»s
 !ğ
FR_OK
) ;

252 
c
 = 
dœ
[
DIR_Name
];

253 ià(
c
 == 0) {

254 
»s
 = 
FR_NO_FILE
;

257 
a
 = 
dœ
[
DIR_A‰r
] & 
AM_MASK
;

258 ià(
c
 !ğ0xE5 && c !ğ'.' && !(
a
 & 
AM_VOL
))

260 
»s
 = 
	`dœ_Ãxt
(
dj
);

261 ià(
»s
 !ğ
FR_OK
) ;

264 ià(
»s
 !ğ
FR_OK
è
dj
->
£ù
 = 0;

266  
»s
;

267 
	}
}

276 #ifdeà
_EXCVT


277 cÚ¡ 
BYTE
 
	gcvt
[] = 
_EXCVT
;

281 
FRESULT
 
	$ü—‹_Çme
 (

282 
FATDIR
 *
dj
,

283 cÚ¡ **
·th


285 
BYTE
 
c
, 
d
, 
ni
, 
si
, 
i
, *
sâ
;

286 cÚ¡ *
p
;

289 
sâ
 = 
dj
->
â
;

290 
	`mem_£t
(
sâ
, ' ', 11);

291 
si
 = 
i
 = 0;

292 
ni
 = 8;

293 
p
 = *
·th
;

295 
c
 = 
p
[
si
++];

296 ià(
c
 <= ' ' || c == '/') ;

297 ià(
c
 =ğ'.' || 
i
 >ğ
ni
) {

298 ià(
ni
 !ğ8 || 
c
 != '.') ;

299 
i
 = 8;

300 
ni
 = 11;

303 #ifdeà
_EXCVT


304 ià(
c
 >= 0x80)

305 
c
 = 
cvt
[c - 0x80];

307 ià(
	`IsDBCS1
(
c
è&& 
i
 >ğ
ni
 - 1) {

308 
d
 = 
p
[
si
++];

309 
sâ
[
i
++] = 
c
;

310 
sâ
[
i
++] = 
d
;

312 ià(
	`IsLow”
(
c
)) c -= 0x20;

313 
sâ
[
i
++] = 
c
;

316 *
·th
 = &
p
[
si
];

318 
sâ
[11] = (
c
 <= ' ') ? 1 : 0;

320  
FR_OK
;

321 
	}
}

329 #ià
_USE_DIR


331 
	$g‘_fešfo
 (

332 
FATDIR
 *
dj
,

333 
FILINFO
 *
âo


335 
BYTE
 
i
, 
c
, *
dœ
;

336 *
p
;

339 
p
 = 
âo
->
âame
;

340 ià(
dj
->
£ù
) {

341 
dœ
 = 
F©Fs
->
buf
;

342 
i
 = 0; i < 8; i++) {

343 
c
 = 
dœ
[
i
];

344 ià(
c
 == ' ') ;

345 ià(
c
 == 0x05) c = 0xE5;

346 *
p
++ = 
c
;

348 ià(
dœ
[8] != ' ') {

349 *
p
++ = '.';

350 
i
 = 8; i < 11; i++) {

351 
c
 = 
dœ
[
i
];

352 ià(
c
 == ' ') ;

353 *
p
++ = 
c
;

356 
âo
->
ç‰rib
 = 
dœ
[
DIR_A‰r
];

357 
âo
->
fsize
 = 
	`LD_DWORD
(
dœ
+
DIR_FeSize
);

358 
âo
->
fd©e
 = 
	`LD_WORD
(
dœ
+
DIR_W¹D©e
);

359 
âo
->
áime
 = 
	`LD_WORD
(
dœ
+
DIR_W¹Time
);

361 *
p
 = 0;

362 
	}
}

372 
FRESULT
 
	$fŞlow_·th
 (

373 
FATDIR
 *
dj
,

374 cÚ¡ *
·th


376 
FRESULT
 
»s
;

377 
BYTE
 *
dœ
;

380 *
·th
 == ' ')…ath++;

381 ià(*
·th
 == '/')…ath++;

382 
dj
->
sşu¡
 = 0;

384 ià((
BYTE
)*
·th
 <= ' ') {

385 
»s
 = 
	`dœ_»wšd
(
dj
);

386 
F©Fs
->
buf
[0] = 0;

390 
»s
 = 
	`ü—‹_Çme
(
dj
, &
·th
);

391 ià(
»s
 !ğ
FR_OK
) ;

392 
»s
 = 
	`dœ_fšd
(
dj
);

393 ià(
»s
 !ğ
FR_OK
) {

394 ià(
»s
 =ğ
FR_NO_FILE
 && !*(
dj
->
â
+11))

395 
»s
 = 
FR_NO_PATH
;

398 ià(*(
dj
->
â
+11)) ;

399 
dœ
 = 
F©Fs
->
buf
;

400 ià(!(
dœ
[
DIR_A‰r
] & 
AM_DIR
)) {

401 
»s
 = 
FR_NO_PATH
;

404 
dj
->
sşu¡
 =

405 #ià
_FS_FAT32


406 ((
DWORD
)
	`LD_WORD
(
dœ
+
DIR_F¡ClusHI
) << 16) |

408 
	`LD_WORD
(
dœ
+
DIR_F¡ClusLO
);

412  
»s
;

413 
	}
}

423 
__©Œibu‹__
((
£ùiÚ
(".SD_Code"))è
BYTE
 
	$check_fs
 (

424 
BYTE
 *
buf
,

425 
DWORD
 
£ù


427 ià(
	`disk_»adp
(
buf
, 
£ù
, 510, 2))

429 ià(
	`LD_WORD
(
buf
) != 0xAA55)

432 ià(!
	`disk_»adp
(
buf
, 
£ù
, 
BS_FSysTy³
, 2è&& 
	`LD_WORD
(buf) == 0x4146)

434 #ià
_FS_FAT32


435 ià(!
	`disk_»adp
(
buf
, 
£ù
, 
BS_FSysTy³32
, 2è&& 
	`LD_WORD
(buf) == 0x4146)

439 
	}
}

456 
__©Œibu‹__
((
£ùiÚ
(".SD_Code"))è
FRESULT
 
	$pf_mouÁ
 (

457 
FATFS
 *
fs


459 
BYTE
 
fmt
, 
buf
[36];

460 
DWORD
 
b£ù
, 
fsize
, 
t£ù
, 
mş¡
;

463 
F©Fs
 = 0;

464 ià(!
fs
è 
FR_OK
;

466 ià(
	`disk_š™Ÿlize
(è& 
STA_NOINIT
)

467  
FR_NOT_READY
;

470 
b£ù
 = 0;

471 
fmt
 = 
	`check_fs
(
buf
, 
b£ù
);

472 ià(
fmt
 == 1) {

474 ià(
	`disk_»adp
(
buf
, 
b£ù
, 
MBR_TabË
, 16)) {

475 
fmt
 = 3;

477 ià(
buf
[4]) {

478 
b£ù
 = 
	`LD_DWORD
(&
buf
[8]);

479 
fmt
 = 
	`check_fs
(
buf
, 
b£ù
);

483 ià(
fmt
 =ğ3è 
FR_DISK_ERR
;

484 ià(
fmt
è 
FR_NO_FILESYSTEM
;

487 ià(
	`disk_»adp
(
buf
, 
b£ù
, 13, (buf))è 
FR_DISK_ERR
;

489 
fsize
 = 
	`LD_WORD
(
buf
+
BPB_FATSz16
-13);

490 ià(!
fsize
èfsizğ
	`LD_DWORD
(
buf
+
BPB_FATSz32
-13);

492 
fsize
 *ğ
buf
[
BPB_NumFATs
-13];

493 
fs
->
çtba£
 = 
b£ù
 + 
	`LD_WORD
(
buf
+
BPB_RsvdSecCÁ
-13);

494 
fs
->
csize
 = 
buf
[
BPB_SecP”Clus
-13];

495 
fs
->
n_roÙdœ
 = 
	`LD_WORD
(
buf
+
BPB_RoÙEÁCÁ
-13);

496 
t£ù
 = 
	`LD_WORD
(
buf
+
BPB_TÙSec16
-13);

497 ià(!
t£ù
èt£ù = 
	`LD_DWORD
(
buf
+
BPB_TÙSec32
-13);

498 
mş¡
 = (
t£ù


499 - 
	`LD_WORD
(
buf
+
BPB_RsvdSecCÁ
-13è- 
fsize
 - 
fs
->
n_roÙdœ
 / 16

500 è/ 
fs
->
csize
 + 2;

501 
fs
->
max_şu¡
 = (
CLUST
)
mş¡
;

503 
fmt
 = 
FS_FAT12
;

504 ià(
mş¡
 >ğ0xFF7è
fmt
 = 
FS_FAT16
;

505 ià(
mş¡
 >= 0xFFF7)

506 #ià
_FS_FAT32


507 
fmt
 = 
FS_FAT32
;

509  
FR_NO_FILESYSTEM
;

512 
fs
->
fs_ty³
 = 
fmt
;

513 #ià
_FS_FAT32


514 ià(
fmt
 =ğ
FS_FAT32
)

515 
fs
->
dœba£
 = 
	`LD_DWORD
(
buf
+(
BPB_RoÙClus
-13));

518 
fs
->
dœba£
 = fs->
çtba£
 + 
fsize
;

519 
fs
->
d©aba£
 = fs->
çtba£
 + 
fsize
 + fs->
n_roÙdœ
 / 16;

521 
fs
->
æag
 = 0;

522 
F©Fs
 = 
fs
;

524  
FR_OK
;

525 
	}
}

534 
FRESULT
 
	$pf_İ’
 (

535 cÚ¡ *
·th


537 
FRESULT
 
»s
;

538 
FATDIR
 
dj
;

539 
BYTE
 
¥
[12], 
dœ
[32];

540 
FATFS
 *
fs
 = 
F©Fs
;

543 ià(!
fs
)

544  
FR_NOT_ENABLED
;

546 
fs
->
æag
 = 0;

547 
fs
->
buf
 = 
dœ
;

548 
dj
.
â
 = 
¥
;

549 
»s
 = 
	`fŞlow_·th
(&
dj
, 
·th
);

550 ià(
»s
 !ğ
FR_OK
) „es;

551 ià(!
dœ
[0] || (dœ[
DIR_A‰r
] & 
AM_DIR
))

552  
FR_NO_FILE
;

554 
fs
->
Üg_şu¡
 =

555 #ià
_FS_FAT32


556 ((
DWORD
)
	`LD_WORD
(
dœ
+
DIR_F¡ClusHI
) << 16) |

558 
	`LD_WORD
(
dœ
+
DIR_F¡ClusLO
);

559 
fs
->
fsize
 = 
	`LD_DWORD
(
dœ
+
DIR_FeSize
);

560 
fs
->
åŒ
 = 0;

561 
fs
->
æag
 = 
FA_OPENED
;

563  
FR_OK
;

564 
	}
}

572 #ià
_USE_READ


574 
FRESULT
 
	$pf_»ad
 (

575 * 
buff
,

576 
WORD
 
bŒ
,

577 
WORD
* 
br


579 
DRESULT
 
dr
;

580 
CLUST
 
ş¡
;

581 
DWORD
 
£ù
, 
»maš
;

582 
BYTE
 *
rbuff
 = (BYTE *)
buff
;

583 
WORD
 
rút
;

584 
FATFS
 *
fs
 = 
F©Fs
;

587 *
br
 = 0;

588 ià(!
fs
è 
FR_NOT_ENABLED
;

589 ià(!(
fs
->
æag
 & 
FA_OPENED
))

590  
FR_NOT_OPENED
;

592 
»maš
 = 
fs
->
fsize
 - fs->
åŒ
;

593 ià(
bŒ
 > 
»maš
èbŒ = (
WORD
)remain;

595 
bŒ
) {

596 ià((
fs
->
åŒ
 % 512) == 0) {

597 ià((
fs
->
åŒ
 / 512 % fs->
csize
) == 0) {

598 
ş¡
 = (
fs
->
åŒ
 == 0) ?

599 
fs
->
Üg_şu¡
 : 
	`g‘_çt
(fs->
cu¼_şu¡
);

600 ià(
ş¡
 <ğ1è
ä_abÜt
;

601 
fs
->
cu¼_şu¡
 = 
ş¡
;

602 
fs
->
c£ù
 = 0;

604 
£ù
 = 
	`şu¡2£ù
(
fs
->
cu¼_şu¡
);

605 ià(!
£ù
è
ä_abÜt
;

606 
fs
->
d£ù
 = 
£ù
 + fs->
c£ù
++;

608 
rút
 = 512 - ((
WORD
)
fs
->
åŒ
 % 512);

609 ià(
rút
 > 
bŒ
)„cnt = btr;

610 
dr
 = 
	`disk_»adp
(!
buff
 ? 0 : 
rbuff
, 
fs
->
d£ù
, (
WORD
)(fs->
åŒ
 % 512), 
rút
);

611 ià(
dr
è
ä_abÜt
;

612 
fs
->
åŒ
 +ğ
rút
;

613 
rbuff
 +ğ
rút
;

614 
bŒ
 -ğ
rút
;

615 *
br
 +ğ
rút
;

618  
FR_OK
;

620 
ä_abÜt
:

621 
fs
->
æag
 = 0;

622  
FR_DISK_ERR
;

623 
	}
}

631 #ià
_USE_WRITE


633 
FRESULT
 
	$pf_wr™e
 (

634 cÚ¡ * 
buff
,

635 
WORD
 
btw
,

636 
WORD
* 
bw


638 
CLUST
 
ş¡
;

639 
DWORD
 
£ù
, 
»maš
;

640 cÚ¡ 
BYTE
 *
p
 = (cÚ¡ BYTE *)
buff
;

641 
WORD
 
wút
;

642 
FATFS
 *
fs
 = 
F©Fs
;

645 *
bw
 = 0;

646 ià(!
fs
è 
FR_NOT_ENABLED
;

647 ià(!(
fs
->
æag
 & 
FA_OPENED
))

648  
FR_NOT_OPENED
;

650 ià(!
btw
) {

651 ià((
fs
->
æag
 & 
FA__WIP
è&& 
	`disk_wr™•
(0, 0)è
fw_abÜt
;

652 
fs
->
æag
 &ğ~
FA__WIP
;

653  
FR_OK
;

655 ià(!(
fs
->
æag
 & 
FA__WIP
))

656 
fs
->
åŒ
 &= 0xFFFFFE00;

658 
»maš
 = 
fs
->
fsize
 - fs->
åŒ
;

659 ià(
btw
 > 
»maš
èbtw = (
WORD
)remain;

661 
btw
) {

662 ià(((
WORD
)
fs
->
åŒ
 % 512) == 0) {

663 ià((
fs
->
åŒ
 / 512 % fs->
csize
) == 0) {

664 
ş¡
 = (
fs
->
åŒ
 == 0) ?

665 
fs
->
Üg_şu¡
 : 
	`g‘_çt
(fs->
cu¼_şu¡
);

666 ià(
ş¡
 <ğ1è
fw_abÜt
;

667 
fs
->
cu¼_şu¡
 = 
ş¡
;

668 
fs
->
c£ù
 = 0;

670 
£ù
 = 
	`şu¡2£ù
(
fs
->
cu¼_şu¡
);

671 ià(!
£ù
è
fw_abÜt
;

672 
fs
->
d£ù
 = 
£ù
 + fs->
c£ù
++;

673 ià(
	`disk_wr™•
(0, 
fs
->
d£ù
)è
fw_abÜt
;

674 
fs
->
æag
 |ğ
FA__WIP
;

676 
wút
 = 512 - ((
WORD
)
fs
->
åŒ
 % 512);

677 ià(
wút
 > 
btw
) wcnt = btw;

678 ià(
	`disk_wr™•
(
p
, 
wút
)è
fw_abÜt
;

679 
fs
->
åŒ
 +ğ
wút
;

680 
p
 +ğ
wút
;

681 
btw
 -ğ
wút
;

682 *
bw
 +ğ
wút
;

683 ià(((
WORD
)
fs
->
åŒ
 % 512) == 0) {

684 ià(
	`disk_wr™•
(0, 0)è
fw_abÜt
;

685 
fs
->
æag
 &ğ~
FA__WIP
;

689  
FR_OK
;

691 
fw_abÜt
:

692 
fs
->
æag
 = 0;

693  
FR_DISK_ERR
;

694 
	}
}

702 #ià
_USE_LSEEK


704 
FRESULT
 
	$pf_l£ek
 (

705 
DWORD
 
ofs


707 
CLUST
 
ş¡
;

708 
DWORD
 
bcs
, 
£ù
, 
iåŒ
;

709 
FATFS
 *
fs
 = 
F©Fs
;

712 ià(!
fs
è 
FR_NOT_ENABLED
;

713 ià(!(
fs
->
æag
 & 
FA_OPENED
))

714  
FR_NOT_OPENED
;

716 ià(
ofs
 > 
fs
->
fsize
) ofs = fs->fsize;

717 
iåŒ
 = 
fs
->
åŒ
;

718 
fs
->
åŒ
 = 0;

719 ià(
ofs
 > 0) {

720 
bcs
 = (
DWORD
)
fs
->
csize
 * 512;

721 ià(
iåŒ
 > 0 &&

722 (
ofs
 - 1è/ 
bcs
 >ğ(
iåŒ
 - 1) / bcs) {

723 
fs
->
åŒ
 = (
iåŒ
 - 1è& ~(
bcs
 - 1);

724 
ofs
 -ğ
fs
->
åŒ
;

725 
ş¡
 = 
fs
->
cu¼_şu¡
;

727 
ş¡
 = 
fs
->
Üg_şu¡
;

728 
fs
->
cu¼_şu¡
 = 
ş¡
;

730 
ofs
 > 
bcs
) {

731 
ş¡
 = 
	`g‘_çt
(clst);

732 ià(
ş¡
 <ğ1 || cl¡ >ğ
fs
->
max_şu¡
è
ã_abÜt
;

733 
fs
->
cu¼_şu¡
 = 
ş¡
;

734 
fs
->
åŒ
 +ğ
bcs
;

735 
ofs
 -ğ
bcs
;

737 
fs
->
åŒ
 +ğ
ofs
;

738 
£ù
 = 
	`şu¡2£ù
(
ş¡
);

739 ià(!
£ù
è
ã_abÜt
;

740 
fs
->
c£ù
 = (
BYTE
)(
ofs
 / 512);

741 ià(
ofs
 % 512)

742 
fs
->
d£ù
 = 
£ù
 + fs->
c£ù
++;

745  
FR_OK
;

747 
ã_abÜt
:

748 
fs
->
æag
 = 0;

749  
FR_DISK_ERR
;

750 
	}
}

758 #ià
_USE_DIR


760 
FRESULT
 
	$pf_İ’dœ
 (

761 
FATDIR
 *
dj
,

762 cÚ¡ *
·th


764 
FRESULT
 
»s
;

765 
BYTE
 
¥
[12], 
dœ
[32];

766 
FATFS
 *
fs
 = 
F©Fs
;

769 ià(!
fs
) {

770 
»s
 = 
FR_NOT_ENABLED
;

772 
fs
->
buf
 = 
dœ
;

773 
dj
->
â
 = 
¥
;

774 
»s
 = 
	`fŞlow_·th
(
dj
, 
·th
);

775 ià(
»s
 =ğ
FR_OK
) {

776 ià(
dœ
[0]) {

777 ià(
dœ
[
DIR_A‰r
] & 
AM_DIR
) {

778 
dj
->
sşu¡
 =

779 #ià
_FS_FAT32


780 ((
DWORD
)
	`LD_WORD
(
dœ
+
DIR_F¡ClusHI
) << 16) |

782 
	`LD_WORD
(
dœ
+
DIR_F¡ClusLO
);

784 
»s
 = 
FR_NO_PATH
;

787 ià(
»s
 =ğ
FR_OK
)

788 
»s
 = 
	`dœ_»wšd
(
dj
);

790 ià(
»s
 =ğ
FR_NO_FILE
è» ğ
FR_NO_PATH
;

793  
»s
;

794 
	}
}

803 
FRESULT
 
	$pf_»addœ
 (

804 
FATDIR
 *
dj
,

805 
FILINFO
 *
âo


807 
FRESULT
 
»s
;

808 
BYTE
 
¥
[12], 
dœ
[32];

809 
FATFS
 *
fs
 = 
F©Fs
;

812 ià(!
fs
) {

813 
»s
 = 
FR_NOT_ENABLED
;

815 
fs
->
buf
 = 
dœ
;

816 
dj
->
â
 = 
¥
;

817 ià(!
âo
) {

818 
»s
 = 
	`dœ_»wšd
(
dj
);

820 
»s
 = 
	`dœ_»ad
(
dj
);

821 ià(
»s
 =ğ
FR_NO_FILE
) {

822 
dj
->
£ù
 = 0;

823 
»s
 = 
FR_OK
;

825 ià(
»s
 =ğ
FR_OK
) {

826 
	`g‘_fešfo
(
dj
, 
âo
);

827 
»s
 = 
	`dœ_Ãxt
(
dj
);

828 ià(
»s
 =ğ
FR_NO_FILE
) {

829 
dj
->
£ù
 = 0;

830 
»s
 = 
FR_OK
;

836  
»s
;

837 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\libpff\pff.h

17 
	~"š‹g”.h
"

26 #iâdeà
_FATFS


27 
	#_FATFS


	)

29 
	#_USE_READ
 1

	)

31 
	#_USE_DIR
 1

	)

33 
	#_USE_LSEEK
 1

	)

35 
	#_USE_WRITE
 1

	)

37 
	#_FS_FAT32
 1

	)

40 
	#_CODE_PAGE
 1

	)

48 
	#_WORD_ACCESS
 0

49 

	)

64 #ià
_FS_FAT32


65 
	#CLUST
 
DWORD


	)

67 
	#CLUST
 
WORD


	)

73 
	s_FATFS_
 {

74 
BYTE
 
	mfs_ty³
;

75 
BYTE
 
	mcsize
;

76 
BYTE
 
	mæag
;

77 
BYTE
 
	mc£ù
;

78 
WORD
 
	mn_roÙdœ
;

79 
BYTE
* 
	mbuf
;

80 
CLUST
 
	mmax_şu¡
;

81 
DWORD
 
	mçtba£
;

82 
DWORD
 
	mdœba£
;

83 
DWORD
 
	md©aba£
;

84 
DWORD
 
	måŒ
;

85 
DWORD
 
	mfsize
;

86 
CLUST
 
	mÜg_şu¡
;

87 
CLUST
 
	mcu¼_şu¡
;

88 
DWORD
 
	md£ù
;

89 } 
	tFATFS
;

95 
	s_DIR_
 {

96 
WORD
 
	mšdex
;

97 
BYTE
* 
	mâ
;

98 
CLUST
 
	msşu¡
;

99 
CLUST
 
	mşu¡
;

100 
DWORD
 
	m£ù
;

101 } 
	tFATDIR
;

107 
	s_FILINFO_
 {

108 
DWORD
 
	mfsize
;

109 
WORD
 
	mfd©e
;

110 
WORD
 
	máime
;

111 
BYTE
 
	mç‰rib
;

112 
	mâame
[13];

113 } 
	tFILINFO
;

120 
	mFR_OK
 = 0,

121 
	mFR_DISK_ERR
,

122 
	mFR_NOT_READY
,

123 
	mFR_NO_FILE
,

124 
	mFR_NO_PATH
,

125 
	mFR_NOT_OPENED
,

126 
	mFR_NOT_ENABLED
,

127 
	mFR_NO_FILESYSTEM


128 } 
	tFRESULT
;

135 
FRESULT
 
pf_mouÁ
 (
FATFS
*);

136 
FRESULT
 
pf_İ’
 (const *);

137 
FRESULT
 
pf_»ad
 (*, 
WORD
, WORD*);

138 
FRESULT
 
pf_wr™e
 (cÚ¡ *, 
WORD
, WORD*);

139 
FRESULT
 
pf_l£ek
 (
DWORD
);

140 
FRESULT
 
pf_İ’dœ
 (
FATDIR
*, const *);

141 
FRESULT
 
pf_»addœ
 (
FATDIR
*, 
FILINFO
*);

150 
	#FA_OPENED
 0x01

	)

151 
	#FA_WPRT
 0x02

	)

152 
	#FA__WIP
 0x40

	)

157 
	#FS_FAT12
 1

	)

158 
	#FS_FAT16
 2

	)

159 
	#FS_FAT32
 3

	)

164 
	#AM_RDO
 0x01

	)

165 
	#AM_HID
 0x02

	)

166 
	#AM_SYS
 0x04

	)

167 
	#AM_VOL
 0x08

	)

168 
	#AM_LFN
 0x0F

	)

169 
	#AM_DIR
 0x10

	)

170 
	#AM_ARC
 0x20

	)

171 
	#AM_MASK
 0x3F

	)

178 
	#BS_jmpBoÙ
 0

	)

179 
	#BS_OEMName
 3

	)

180 
	#BPB_BytsP”Sec
 11

	)

181 
	#BPB_SecP”Clus
 13

	)

182 
	#BPB_RsvdSecCÁ
 14

	)

183 
	#BPB_NumFATs
 16

	)

184 
	#BPB_RoÙEÁCÁ
 17

	)

185 
	#BPB_TÙSec16
 19

	)

186 
	#BPB_MedŸ
 21

	)

187 
	#BPB_FATSz16
 22

	)

188 
	#BPB_SecP”Trk
 24

	)

189 
	#BPB_NumH—ds
 26

	)

190 
	#BPB_HiddSec
 28

	)

191 
	#BPB_TÙSec32
 32

	)

192 
	#BS_55AA
 510

	)

194 
	#BS_DrvNum
 36

	)

195 
	#BS_BoÙSig
 38

	)

196 
	#BS_VŞID
 39

	)

197 
	#BS_VŞLab
 43

	)

198 
	#BS_FSysTy³
 54

	)

200 
	#BPB_FATSz32
 36

	)

201 
	#BPB_ExtFÏgs
 40

	)

202 
	#BPB_FSV”
 42

	)

203 
	#BPB_RoÙClus
 44

	)

204 
	#BPB_FSInfo
 48

	)

205 
	#BPB_BkBoÙSec
 50

	)

206 
	#BS_DrvNum32
 64

	)

207 
	#BS_BoÙSig32
 66

	)

208 
	#BS_VŞID32
 67

	)

209 
	#BS_VŞLab32
 71

	)

210 
	#BS_FSysTy³32
 82

	)

212 
	#MBR_TabË
 446

	)

214 
	#DIR_Name
 0

	)

215 
	#DIR_A‰r
 11

	)

216 
	#DIR_NT»s
 12

	)

217 
	#DIR_C¹Time
 14

	)

218 
	#DIR_C¹D©e
 16

	)

219 
	#DIR_F¡ClusHI
 20

	)

220 
	#DIR_W¹Time
 22

	)

221 
	#DIR_W¹D©e
 24

	)

222 
	#DIR_F¡ClusLO
 26

	)

223 
	#DIR_FeSize
 28

	)

230 #ià
_WORD_ACCESS
 == 1

231 
	#LD_WORD
(
±r
è(
WORD
)(*(WORD*)(
BYTE
*)ÕŒ))

	)

232 
	#LD_DWORD
(
±r
è(
DWORD
)(*(DWORD*)(
BYTE
*)ÕŒ))

	)

233 
	#ST_WORD
(
±r
,
v®
è*(
WORD
*)(
BYTE
*)ÕŒ)=(WORD)(v®)

	)

234 
	#ST_DWORD
(
±r
,
v®
è*(
DWORD
*)(
BYTE
*)ÕŒ)=(DWORD)(v®)

	)

236 
	#LD_WORD
(
±r
è(
WORD
)(((WORD)*(
BYTE
*)(ÕŒ)+1)<<8)|(WORD)*(BYTE*)ÕŒ))

	)

237 
	#LD_DWORD
(
±r
è(
DWORD
)(((DWORD)*(
BYTE
*)(ÕŒ)+3)<<24)|((DWORD)*(BYTE*)(ÕŒ)+2)<<16)|((
WORD
)*(BYTE*)(ÕŒ)+1)<<8)|*(BYTE*)ÕŒ))

	)

238 
	#ST_WORD
(
±r
,
v®
è*(
BYTE
*)ÕŒ)=(BYTE)(v®); *(BYTE*)(ÕŒ)+1)=(BYTE)((
WORD
)(v®)>>8)

	)

239 
	#ST_DWORD
(
±r
,
v®
è*(
BYTE
*)ÕŒ)=(BYTE)(v®); *(BYTE*)(ÕŒ)+1)=(BYTE)((
WORD
)(v®)>>8); *(BYTE*)(ÕŒ)+2)=(BYTE)((
DWORD
)(v®)>>16); *(BYTE*)(ÕŒ)+3)=(BYTE)((DWORD)(v®)>>24)

	)

246 #ià
_CODE_PAGE
 == 932

247 
	#_DF1S
 0x81

	)

248 
	#_DF1E
 0x9F

	)

249 
	#_DF2S
 0xE0

	)

250 
	#_DF2E
 0xFC

	)

251 
	#_DS1S
 0x40

	)

252 
	#_DS1E
 0x7E

	)

253 
	#_DS2S
 0x80

	)

254 
	#_DS2E
 0xFC

	)

256 #–ià
_CODE_PAGE
 == 936

257 
	#_DF1S
 0x81

	)

258 
	#_DF1E
 0xFE

	)

259 
	#_DS1S
 0x40

	)

260 
	#_DS1E
 0x7E

	)

261 
	#_DS2S
 0x80

	)

262 
	#_DS2E
 0xFE

	)

264 #–ià
_CODE_PAGE
 == 949

265 
	#_DF1S
 0x81

	)

266 
	#_DF1E
 0xFE

	)

267 
	#_DS1S
 0x41

	)

268 
	#_DS1E
 0x5A

	)

269 
	#_DS2S
 0x61

	)

270 
	#_DS2E
 0x7A

	)

271 
	#_DS3S
 0x81

	)

272 
	#_DS3E
 0xFE

	)

274 #–ià
_CODE_PAGE
 == 950

275 
	#_DF1S
 0x81

	)

276 
	#_DF1E
 0xFE

	)

277 
	#_DS1S
 0x40

	)

278 
	#_DS1E
 0x7E

	)

279 
	#_DS2S
 0xA1

	)

280 
	#_DS2E
 0xFE

	)

282 #–ià
_CODE_PAGE
 == 437

283 
	#_DF1S
 0

	)

284 
	#_EXCVT
 {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F,0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \

287 0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

289 #–ià
_CODE_PAGE
 == 720

290 
	#_DF1S
 0

	)

291 
	#_EXCVT
 {0x80,0x81,0x45,0x41,0x84,0x41,0x86,0x43,0x45,0x45,0x45,0x49,0x49,0x8D,0x8E,0x8F,0x90,0x92,0x92,0x93,0x94,0x95,0x49,0x49,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \

294 0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

296 #–ià
_CODE_PAGE
 == 737

297 
	#_DF1S
 0

	)

298 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x92,0x92,0x93,0x94,0x95,0x96,0x97,0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87, \

301 0x97,0xEA,0xEB,0xEC,0xE4,0xED,0xEE,0xE7,0xE8,0xF1,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

303 #–ià
_CODE_PAGE
 == 775

304 
	#_DF1S
 0

	)

305 
	#_EXCVT
 {0x80,0x9A,0x91,0xA0,0x8E,0x95,0x8F,0x80,0xAD,0xED,0x8A,0x8A,0xA1,0x8D,0x8E,0x8F,0x90,0x92,0x92,0xE2,0x99,0x95,0x96,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \

308 0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE3,0xE8,0xE8,0xEA,0xEA,0xEE,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

310 #–ià
_CODE_PAGE
 == 850

311 
	#_DF1S
 0

	)

312 
	#_EXCVT
 {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0xDE,0x8E,0x8F,0x90,0x92,0x92,0xE2,0x99,0xE3,0xEA,0xEB,0x59,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \

315 0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE7,0xE9,0xEA,0xEB,0xED,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

317 #–ià
_CODE_PAGE
 == 852

318 
	#_DF1S
 0

	)

319 
	#_EXCVT
 {0x80,0x9A,0x90,0xB6,0x8E,0xDE,0x8F,0x80,0x9D,0xD3,0x8A,0x8A,0xD7,0x8D,0x8E,0x8F,0x90,0x91,0x91,0xE2,0x99,0x95,0x95,0x97,0x97,0x99,0x9A,0x9B,0x9B,0x9D,0x9E,0x9F, \

322 0xE0,0xE1,0xE2,0xE3,0xE3,0xD5,0xE6,0xE6,0xE8,0xE9,0xE8,0xEB,0xED,0xED,0xDD,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xEB,0xFC,0xFC,0xFE,0xFF}

	)

324 #–ià
_CODE_PAGE
 == 855

325 
	#_DF1S
 0

	)

326 
	#_EXCVT
 {0x81,0x81,0x83,0x83,0x85,0x85,0x87,0x87,0x89,0x89,0x8B,0x8B,0x8D,0x8D,0x8F,0x8F,0x91,0x91,0x93,0x93,0x95,0x95,0x97,0x97,0x99,0x99,0x9B,0x9B,0x9D,0x9D,0x9F,0x9F, \

329 0xE0,0xE2,0xE2,0xE4,0xE4,0xE6,0xE6,0xE8,0xE8,0xEA,0xEA,0xEC,0xEC,0xEE,0xEE,0xEF,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFD,0xFE,0xFF}

	)

331 #–ià
_CODE_PAGE
 == 857

332 
	#_DF1S
 0

	)

333 
	#_EXCVT
 {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0x98,0x8E,0x8F,0x90,0x92,0x92,0xE2,0x99,0xE3,0xEA,0xEB,0x98,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9E, \

336 0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xDE,0x59,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

338 #–ià
_CODE_PAGE
 == 858

339 
	#_DF1S
 0

	)

340 
	#_EXCVT
 {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0xDE,0x8E,0x8F,0x90,0x92,0x92,0xE2,0x99,0xE3,0xEA,0xEB,0x59,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \

343 0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE7,0xE9,0xEA,0xEB,0xED,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

345 #–ià
_CODE_PAGE
 == 862

346 
	#_DF1S
 0

	)

347 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \

350 0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

352 #–ià
_CODE_PAGE
 == 866

353 
	#_DF1S
 0

	)

354 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \

357 0x90,0x91,0x92,0x93,0x9d,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F,0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

359 #–ià
_CODE_PAGE
 == 874

360 
	#_DF1S
 0

	)

361 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \

364 0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

366 #–ià
_CODE_PAGE
 == 1250

367 
	#_DF1S
 0

	)

368 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x8A,0x9B,0x8C,0x8D,0x8E,0x8F, \

371 0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xF7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xFF}

	)

373 #–ià
_CODE_PAGE
 == 1251

374 
	#_DF1S
 0

	)

375 
	#_EXCVT
 {0x80,0x81,0x82,0x82,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x80,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x8A,0x9B,0x8C,0x8D,0x8E,0x8F, \

378 0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF}

	)

380 #–ià
_CODE_PAGE
 == 1252

381 
	#_DF1S
 0

	)

382 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0xAd,0x9B,0x8C,0x9D,0xAE,0x9F, \

385 0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xF7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0x9F}

	)

387 #–ià
_CODE_PAGE
 == 1253

388 
	#_DF1S
 0

	)

389 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \

392 0xE0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xF2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xFB,0xBC,0xFD,0xBF,0xFF}

	)

394 #–ià
_CODE_PAGE
 == 1254

395 
	#_DF1S
 0

	)

396 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x8A,0x9B,0x8C,0x9D,0x9E,0x9F, \

399 0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xF7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0x9F}

	)

401 #–ià
_CODE_PAGE
 == 1255

402 
	#_DF1S
 0

	)

403 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \

406 0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}

	)

408 #–ià
_CODE_PAGE
 == 1256

409 
	#_DF1S
 0

	)

410 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x8C,0x9D,0x9E,0x9F, \

413 0x41,0xE1,0x41,0xE3,0xE4,0xE5,0xE6,0x43,0x45,0x45,0x45,0x45,0xEC,0xED,0x49,0x49,0xF0,0xF1,0xF2,0xF3,0x4F,0xF5,0xF6,0xF7,0xF8,0x55,0xFA,0x55,0x55,0xFD,0xFE,0xFF}

	)

415 #–ià
_CODE_PAGE
 == 1257

416 
	#_DF1S
 0

	)

417 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \

420 0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xF7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xFF}

	)

422 #–ià
_CODE_PAGE
 == 1258

423 
	#_DF1S
 0

	)

424 
	#_EXCVT
 {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0xAC,0x9D,0x9E,0x9F, \

427 0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xEC,0xCD,0xCE,0xCF,0xD0,0xD1,0xF2,0xD3,0xD4,0xD5,0xD6,0xF7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xFE,0x9F}

	)

429 #–ià
_CODE_PAGE
 == 1

430 
	#_DF1S
 0

	)

433 #”rÜ 
Unknown
 
code
 
·ge


441 
	#IsUµ”
(
c
è(((c)>='A')&&((c)<='Z'))

	)

442 
	#IsLow”
(
c
è(((c)>='a')&&((c)<='z'))

	)

444 #ià
_DF1S


446 #ifdeà
_DF2S


447 
	#IsDBCS1
(
c
è(((
BYTE
)(cè>ğ
_DF1S
 && (BYTE)(cè<ğ
_DF1E
è|| ((BYTE)(cè>ğ
_DF2S
 && (BYTE)(cè<ğ
_DF2E
))

	)

449 
	#IsDBCS1
(
c
è((
BYTE
)(cè>ğ
_DF1S
 && (BYTE)(cè<ğ
_DF1E
)

	)

452 #ifdeà
_DS3S


453 
	#IsDBCS2
(
c
è(((
BYTE
)(cè>ğ
_DS1S
 && (BYTE)(cè<ğ
_DS1E
è|| ((BYTE)(cè>ğ
_DS2S
 && (BYTE)(cè<ğ
_DS2E
è|| ((BYTE)(cè>ğ
_DS3S
 && (BYTE)(cè<ğ
_DS3E
))

	)

455 
	#IsDBCS2
(
c
è(((
BYTE
)(cè>ğ
_DS1S
 && (BYTE)(cè<ğ
_DS1E
è|| ((BYTE)(cè>ğ
_DS2S
 && (BYTE)(cè<ğ
_DS2E
))

	)

460 
	#IsDBCS1
(
c
è0

	)

461 
	#IsDBCS2
(
c
è0

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\AnalogIn.h

16 #iâdeà
MBED_ANALOGIN_H


17 
	#MBED_ANALOGIN_H


	)

19 
	~"¶©fÜm.h
"

21 #ià
DEVICE_ANALOGIN


23 
	~"ª®ogš_­i.h
"

25 
Çme¥aû
 
	gmbed
 {

46 şas 
	cAÇlogIn
 {

48 
	gpublic
:

55 
AÇlogIn
(
PšName
 
pš
) {

56 
ª®ogš_š™
(&
_adc
, 
pš
);

63 
»ad
() {

64  
ª®ogš_»ad
(&
_adc
);

72 
»ad_u16
() {

73  
ª®ogš_»ad_u16
(&
_adc
);

76 #ifdeà
MBED_OPERATORS


90 
İ”©Ü
 () {

91  
»ad
();

95 
	g´Ùeùed
:

96 
ª®ogš_t
 
_adc
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\AnalogOut.h

16 #iâdeà
MBED_ANALOGOUT_H


17 
	#MBED_ANALOGOUT_H


	)

19 
	~"¶©fÜm.h
"

21 #ià
DEVICE_ANALOGOUT


23 
	~"ª®ogout_­i.h
"

25 
Çme¥aû
 
	gmbed
 {

47 şas 
	cAÇlogOut
 {

49 
	gpublic
:

55 
AÇlogOut
(
PšName
 
pš
) {

56 
ª®ogout_š™
(&
_dac
, 
pš
);

66 
wr™e
(
v®ue
) {

67 
ª®ogout_wr™e
(&
_dac
, 
v®ue
);

75 
wr™e_u16
(
v®ue
) {

76 
ª®ogout_wr™e_u16
(&
_dac
, 
v®ue
);

89 
»ad
() {

90  
ª®ogout_»ad
(&
_dac
);

93 #ifdeà
MBED_OPERATORS


96 
	gAÇlogOut
& 
	gİ”©Ü
ğ(
³rûÁ
) {

97 
wr™e
(
³rûÁ
);

98  *
	gthis
;

101 
	gAÇlogOut
& 
	gİ”©Ü
ğ(
AÇlogOut
& 
rhs
) {

102 
wr™e
(
rhs
.
»ad
());

103  *
	gthis
;

108 
İ”©Ü
 () {

109  
»ad
();

113 
	g´Ùeùed
:

114 
dac_t
 
_dac
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\BusIn.h

16 #iâdeà
MBED_BUSIN_H


17 
	#MBED_BUSIN_H


	)

19 
	~"¶©fÜm.h
"

20 
	~"Dig™®In.h
"

22 
Çme¥aû
 
	gmbed
 {

26 şas 
	cBusIn
 {

28 
	gpublic
:

39 
BusIn
(
PšName
 
p0
, PšNam
p1
 = 
NC
, PšNam
p2
 = NC, PšNam
p3
 = NC,

40 
PšName
 
p4
 = 
NC
, PšNam
p5
 = NC, PšNam
p6
 = NC, PšNam
p7
 = NC,

41 
PšName
 
p8
 = 
NC
, PšNam
p9
 = NC, PšNam
p10
 = NC, PšNam
p11
 = NC,

42 
PšName
 
p12
 = 
NC
, PšNam
p13
 = NC, PšNam
p14
 = NC, PšNam
p15
 = NC);

44 
BusIn
(
PšName
 
pšs
[16]);

46 
	gvœtu®
 ~
BusIn
();

53 
»ad
();

59 
mode
(
PšMode
 
puÎ
);

67 
mask
() {

68  
	g_nc_mask
;

71 #ifdeà
MBED_OPERATORS


74 
İ”©Ü
 ();

78 
	gDig™®In
 & 
	gİ”©Ü
[] (
	gšdex
);

81 
	g´Ùeùed
:

82 
Dig™®In
* 
_pš
[16];

88 
	g_nc_mask
;

91 
	g´iv©e
:

92 
BusIn
(const BusIn&);

93 
	gBusIn
 & 
	gİ”©Ü
 = (cÚ¡ 
BusIn
&);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\BusInOut.h

16 #iâdeà
MBED_BUSINOUT_H


17 
	#MBED_BUSINOUT_H


	)

19 
	~"Dig™®InOut.h
"

21 
Çme¥aû
 
	gmbed
 {

25 şas 
	cBusInOut
 {

27 
	gpublic
:

37 
BusInOut
(
PšName
 
p0
, PšNam
p1
 = 
NC
, PšNam
p2
 = NC, PšNam
p3
 = NC,

38 
PšName
 
p4
 = 
NC
, PšNam
p5
 = NC, PšNam
p6
 = NC, PšNam
p7
 = NC,

39 
PšName
 
p8
 = 
NC
, PšNam
p9
 = NC, PšNam
p10
 = NC, PšNam
p11
 = NC,

40 
PšName
 
p12
 = 
NC
, PšNam
p13
 = NC, PšNam
p14
 = NC, PšNam
p15
 = NC);

42 
BusInOut
(
PšName
 
pšs
[16]);

44 
	gvœtu®
 ~
BusInOut
();

52 
wr™e
(
v®ue
);

59 
»ad
();

63 
ouut
();

67 
šput
();

73 
mode
(
PšMode
 
puÎ
);

81 
mask
() {

82  
	g_nc_mask
;

85 #ifdeà
MBED_OPERATORS


88 
	gBusInOut
& 
	gİ”©Ü
ğ(
v
);

89 
	gBusInOut
& 
	gİ”©Ü
ğ(
BusInOut
& 
rhs
);

93 
	gDig™®InOut
& 
	gİ”©Ü
[] (
	gšdex
);

97 
İ”©Ü
 ();

100 
	g´Ùeùed
:

101 
Dig™®InOut
* 
_pš
[16];

107 
	g_nc_mask
;

110 
	g´iv©e
:

111 
BusInOut
(const BusInOut&);

112 
	gBusInOut
 & 
	gİ”©Ü
 = (cÚ¡ 
BusInOut
&);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\BusOut.h

16 #iâdeà
MBED_BUSOUT_H


17 
	#MBED_BUSOUT_H


	)

19 
	~"Dig™®Out.h
"

21 
Çme¥aû
 
	gmbed
 {

25 şas 
	cBusOut
 {

27 
	gpublic
:

37 
BusOut
(
PšName
 
p0
, PšNam
p1
 = 
NC
, PšNam
p2
 = NC, PšNam
p3
 = NC,

38 
PšName
 
p4
 = 
NC
, PšNam
p5
 = NC, PšNam
p6
 = NC, PšNam
p7
 = NC,

39 
PšName
 
p8
 = 
NC
, PšNam
p9
 = NC, PšNam
p10
 = NC, PšNam
p11
 = NC,

40 
PšName
 
p12
 = 
NC
, PšNam
p13
 = NC, PšNam
p14
 = NC, PšNam
p15
 = NC);

42 
BusOut
(
PšName
 
pšs
[16]);

44 
	gvœtu®
 ~
BusOut
();

50 
wr™e
(
v®ue
);

57 
»ad
();

65 
mask
() {

66  
	g_nc_mask
;

69 #ifdeà
MBED_OPERATORS


72 
	gBusOut
& 
	gİ”©Ü
ğ(
v
);

73 
	gBusOut
& 
	gİ”©Ü
ğ(
BusOut
& 
rhs
);

77 
	gDig™®Out
& 
	gİ”©Ü
[] (
	gšdex
);

81 
İ”©Ü
 ();

84 
	g´Ùeùed
:

85 
Dig™®Out
* 
_pš
[16];

91 
	g_nc_mask
;

94 
	g´iv©e
:

95 
BusOut
(const BusOut&);

96 
	gBusOut
 & 
	gİ”©Ü
 = (cÚ¡ 
BusOut
&);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\CAN.h

16 #iâdeà
MBED_CAN_H


17 
	#MBED_CAN_H


	)

19 
	~"¶©fÜm.h
"

21 #ià
DEVICE_CAN


23 
	~"ÿn_­i.h
"

24 
	~"ÿn_h–³r.h
"

25 
	~"FunùiÚPoš‹r.h
"

27 
Çme¥aû
 
	gmbed
 {

31 şas 
	cCANMes§ge
 : 
public
 
CAN_Mes§ge
 {

33 
public
:

36 
CANMes§ge
(è: 
CAN_Mes§ge
() {

37 
Ën
 = 8;

38 
	gty³
 = 
CAND©a
;

39 
	gfÜm©
 = 
CANSnd¬d
;

40 
	gid
 = 0;

41 
mem£t
(
d©a
, 0, 8);

46 
CANMes§ge
(
_id
, cÚ¡ *
_d©a
, 
_Ën
 = 8, 
CANTy³
 
_ty³
 = 
CAND©a
, 
CANFÜm©
 
_fÜm©
 = 
CANSnd¬d
) {

47 
Ën
 = 
_Ën
 & 0xF;

48 
	gty³
 = 
_ty³
;

49 
	gfÜm©
 = 
_fÜm©
;

50 
	gid
 = 
_id
;

51 
memıy
(
d©a
, 
_d©a
, 
_Ën
);

56 
CANMes§ge
(
_id
, 
CANFÜm©
 
_fÜm©
 = 
CANSnd¬d
) {

57 
Ën
 = 0;

58 
	gty³
 = 
CANRemÙe
;

59 
	gfÜm©
 = 
_fÜm©
;

60 
	gid
 = 
_id
;

61 
mem£t
(
d©a
, 0, 8);

67 şas 
	cCAN
 {

69 
	gpublic
:

108 
CAN
(
PšName
 
rd
, PšNam
td
);

109 
	gvœtu®
 ~
CAN
();

119 
äequ’cy
(
hz
);

129 
wr™e
(
CANMes§ge
 
msg
);

140 
»ad
(
CANMes§ge
 &
msg
, 
hªdË
 = 0);

146 
»£t
();

152 
mÚ™Ü
(
boŞ
 
s’t
);

154 
	eMode
 {

155 
	gRe£t
 = 0,

156 
	gNÜm®
,

157 
	gS’t
,

158 
	gLoÿlTe¡
,

159 
	gGlob®Te¡
,

160 
	gS’tTe¡


171 
mode
(
Mode
 mode);

184 
f‹r
(
id
, 
mask
, 
CANFÜm©
 
fÜm©
 = 
CANAny
, 
hªdË
 = 0);

188 
rd”rÜ
();

192 
td”rÜ
();

194 
	eIrqTy³
 {

195 
	gRxIrq
 = 0,

196 
	gTxIrq
,

197 
	gEwIrq
,

198 
	gDoIrq
,

199 
	gWuIrq
,

200 
	gEpIrq
,

201 
	gAlIrq
,

202 
	gBeIrq
,

203 
	gIdIrq


212 
©ch
((*
åŒ
)(), 
IrqTy³
 
ty³
=
RxIrq
);

221 
	g‹m¶©e
<
ty³Çme
 
	gT
>

222 
©ch
(
T
* 
Œ
, (T::*
m±r
)(), 
IrqTy³
 
ty³
=
RxIrq
) {

223 if((
m±r
 !ğ
NULL
è&& (
Œ
 != NULL)) {

224 
_œq
[
ty³
].
©ch
(
Œ
, 
m±r
);

225 
ÿn_œq_£t
(&
_ÿn
, (
CªIrqTy³
)
ty³
, 1);

228 
ÿn_œq_£t
(&
_ÿn
, (
CªIrqTy³
)
ty³
, 0);

232 
_œq_hªdËr
(
ušt32_t
 
id
, 
CªIrqTy³
 
ty³
);

234 
	g´Ùeùed
:

235 
ÿn_t
 
_ÿn
;

236 
FunùiÚPoš‹r
 
	g_œq
[9];

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\CThunk.h

22 #iâdeà
__CTHUNK_H__


23 
	#__CTHUNK_H__


	)

25 
	#CTHUNK_ADDRESS
 1

	)

27 #ià
defšed
(
__CORTEX_M3
è|| defšed(
__CORTEX_M4
è|| defšed(
__thumb2__
)

28 
	#CTHUNK_VARIABLES
 vŞ©
ušt32_t
 
code
[1]

	)

39 
	#CTHUNK_ASSIGMENT
 
m_thunk
.
code
[0] = 0x8007E89F

	)

41 #–ià
defšed
(
__CORTEX_M0PLUS
è|| defšed(
__CORTEX_M0
)

51 
	#CTHUNK_VARIABLES
 vŞ©
ušt32_t
 
code
[3]

	)

52 
	#CTHUNK_ASSIGMENT
 do { \

53 
m_thunk
.
code
[0] = 0x2404B51F; \

54 
m_thunk
.
code
[1] = 0xCC0F447C; \

55 
m_thunk
.
code
[2] = 0xBD1F4798; \

56 } 0)

	)

63 (*
	tCThunkEÁry
)();

65 
‹m¶©e
<
şass
 
T
>

66 şas 
	cCThunk


68 
public
:

69 (
	tT
::*
	tCC®lbackSim¶e
)();

70 (
	tT
::*
	tCC®lback
)(* 
	tcÚ‹xt
);

72 
šlše
 
	$CThunk
(
T
 *
š¡ªû
)

74 
	`š™
(
š¡ªû
, 
NULL
, NULL);

77 
šlše
 
	$CThunk
(
T
 *
š¡ªû
, 
CC®lback
 
ÿÎback
)

79 
	`š™
(
š¡ªû
, 
ÿÎback
, 
NULL
);

80 
	}
}

82 ~
	$CThunk
() {

84 
	}
}

86 
šlše
 
	$CThunk
(
T
 *
š¡ªû
, 
CC®lbackSim¶e
 
ÿÎback
)

88 
	`š™
(
š¡ªû
, (
CC®lback
)
ÿÎback
, 
NULL
);

89 
	}
}

91 
šlše
 
	$CThunk
(
T
 &
š¡ªû
, 
CC®lback
 
ÿÎback
)

93 
	`š™
(
š¡ªû
, 
ÿÎback
, 
NULL
);

94 
	}
}

96 
šlše
 
	$CThunk
(
T
 &
š¡ªû
, 
CC®lbackSim¶e
 
ÿÎback
)

98 
	`š™
(
š¡ªû
, (
CC®lback
)
ÿÎback
, 
NULL
);

99 
	}
}

101 
šlše
 
	$CThunk
(
T
 &
š¡ªû
, 
CC®lback
 
ÿÎback
, * 
cÚ‹xt
)

103 
	`š™
(
š¡ªû
, 
ÿÎback
, 
cÚ‹xt
);

104 
	}
}

106 
šlše
 
	$ÿÎback
(
CC®lback
 
ÿÎback
)

108 
m_ÿÎback
 = 
ÿÎback
;

109 
	}
}

111 
šlše
 
	$ÿÎback
(
CC®lbackSim¶e
 
ÿÎback
)

113 
m_ÿÎback
 = (
CC®lback
)
ÿÎback
;

114 
	}
}

116 
šlše
 
	$cÚ‹xt
(* 
cÚ‹xt
)

118 
m_thunk
.
cÚ‹xt
 = (
ušt32_t
)context;

119 
	}
}

121 
šlše
 
	$cÚ‹xt
(
ušt32_t
 
cÚ‹xt
)

123 
m_thunk
.
cÚ‹xt
 = context;

124 
	}
}

126 
šlše
 
ušt32_t
 
	$’Œy
()

128  (((
ušt32_t
)&
m_thunk
)|
CTHUNK_ADDRESS
);

129 
	}
}

132 
šlše
 
İ”©Ü
 
	$CThunkEÁry
()

134  (
CThunkEÁry
)
	`’Œy
();

135 
	}
}

138 
šlše
 
İ”©Ü
 
	$ušt32_t
()

140  
	`’Œy
();

141 
	}
}

144 
šlše
 
	$ÿÎ
()

146 (((
CThunkEÁry
)(
	`’Œy
()))());

147 
	}
}

149 
	g´iv©e
:

150 
T
* 
m_š¡ªû
;

151 vŞ©
CC®lback
 
	gm_ÿÎback
;

155 #ià
	$defšed
 (
__ICCARM__
)

156 
__·cked
 struct

158 
CTHUNK_VARIABLES
;

159 vŞ©
ušt32_t
 
š¡ªû
;

160 vŞ©
ušt32_t
 
cÚ‹xt
;

161 vŞ©
ušt32_t
 
ÿÎback
;

162 vŞ©
ušt32_t
 
ŒampŞše
;

163 
	}
} 
	tCThunkT¿mpŞše
;

167 
	gCTHUNK_VARIABLES
;

168 vŞ©
ušt32_t
 
	gš¡ªû
;

169 vŞ©
ušt32_t
 
	gcÚ‹xt
;

170 vŞ©
ušt32_t
 
	gÿÎback
;

171 vŞ©
ušt32_t
 
	gŒampŞše
;

172 } 
	t__©Œibu‹__
((
	t__·cked__
)è
	tCThunkT¿mpŞše
;

175 
	$ŒampŞše
(
T
* 
š¡ªû
, * 
cÚ‹xt
, 
CC®lback
* 
ÿÎback
)

177 if(
š¡ªû
 && *
ÿÎback
) {

178 (
¡©ic_ÿ¡
<
T
*>(
š¡ªû
)->**
ÿÎback
)(
cÚ‹xt
);

180 
	}
}

182 vŞ©
CThunkT¿mpŞše
 
	gm_thunk
;

184 
šlše
 
	$š™
(
T
 *
š¡ªû
, 
CC®lback
 
ÿÎback
, * 
cÚ‹xt
)

188 
m_ÿÎback
 = 
ÿÎback
;

191 
CTHUNK_ASSIGMENT
;

192 
m_thunk
.
cÚ‹xt
 = (
ušt32_t
)context;

193 
m_thunk
.
š¡ªû
 = (
ušt32_t
)instance;

194 
m_thunk
.
ÿÎback
 = (
ušt32_t
)&
m_ÿÎback
;

195 
m_thunk
.
ŒampŞše
 = (
ušt32_t
)&trampoline;

197 
	`__ISB
();

198 
	`__DSB
();

199 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\CallChain.h

16 #iâdeà
MBED_CALLCHAIN_H


17 
	#MBED_CALLCHAIN_H


	)

19 
	~"FunùiÚPoš‹r.h
"

20 
	~<¡ršg.h
>

22 
Çme¥aû
 
	gmbed
 {

60 
FunùiÚPoš‹r
* 
	tpFunùiÚPoš‹r_t
;

62 şas 
	cC®lChaš
 {

63 
	gpublic
:

68 
C®lChaš
(
size
 = 4);

69 
	gvœtu®
 ~
C®lChaš
();

78 
pFunùiÚPoš‹r_t
 
add
((*
funùiÚ
)());

88 
	g‹m¶©e
<
ty³Çme
 
	gT
>

89 
pFunùiÚPoš‹r_t
 
add
(
T
 *
Œ
, (T::*
m±r
)()) {

90  
commÚ_add
(
Ãw
 
FunùiÚPoš‹r
(
Œ
, 
m±r
));

100 
pFunùiÚPoš‹r_t
 
add_äÚt
((*
funùiÚ
)());

110 
	g‹m¶©e
<
ty³Çme
 
	gT
>

111 
pFunùiÚPoš‹r_t
 
add_äÚt
(
T
 *
Œ
, (T::*
m±r
)()) {

112  
commÚ_add_äÚt
(
Ãw
 
FunùiÚPoš‹r
(
Œ
, 
m±r
));

117 
size
() const;

126 
pFunùiÚPoš‹r_t
 
g‘
(
i
) const;

135 
fšd
(
pFunùiÚPoš‹r_t
 
f
) const;

139 
ş—r
();

148 
boŞ
 
»move
(
pFunùiÚPoš‹r_t
 
f
);

152 
ÿÎ
();

154 #ifdeà
MBED_OPERATORS


155 
İ”©Ü
 ()() {

156 
ÿÎ
();

158 
pFunùiÚPoš‹r_t
 
	gİ”©Ü
 [](
	gi
) const {

159  
g‘
(
i
);

163 
	g´iv©e
:

164 
_check_size
();

165 
pFunùiÚPoš‹r_t
 
commÚ_add
ÕFunùiÚPoš‹r_ˆ
pf
);

166 
pFunùiÚPoš‹r_t
 
commÚ_add_äÚt
ÕFunùiÚPoš‹r_ˆ
pf
);

168 
pFunùiÚPoš‹r_t
* 
	g_chaš
;

169 
	g_size
;

170 
	g_–em’ts
;

173 
	g´iv©e
:

174 
C®lChaš
(const CallChain&);

175 
	gC®lChaš
 & 
	gİ”©Ü
 = (cÚ¡ 
C®lChaš
&);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\CircularBuffer.h

16 #iâdeà
MBED_CIRCULARBUFFER_H


17 
	#MBED_CIRCULARBUFFER_H


	)

19 
Çme¥aû
 
	gmbed
 {

23 
	g‹m¶©e
<
ty³Çme
 
	gT
, 
ušt32_t
 
	gBufãrSize
,y³Çm
	gCouÁ”Ty³
 = uint32_t>

24 şas 
	cCœcuÏrBufãr
 {

25 
public
:

26 
CœcuÏrBufãr
(è: 
_h—d
(0), 
_
(0), 
_fuÎ
(
çl£
) {

29 ~
CœcuÏrBufãr
() {

37 
push
(cÚ¡ 
T
& 
d©a
) {

38 ià(
fuÎ
()) {

39 
_
++;

40 
	g_
 %ğ
BufãrSize
;

42 
	g_poŞ
[
_h—d
++] = 
d©a
;

43 
	g_h—d
 %ğ
BufãrSize
;

44 ià(
	g_h—d
 =ğ
_
) {

45 
_fuÎ
 = 
Œue
;

54 
boŞ
 
pİ
(
T
& 
d©a
) {

55 ià(!
em±y
()) {

56 
	gd©a
 = 
_poŞ
[
_
++];

57 
	g_
 %ğ
BufãrSize
;

58 
	g_fuÎ
 = 
çl£
;

59  
	gŒue
;

61  
	gçl£
;

68 
boŞ
 
em±y
() {

69  (
	g_h—d
 =ğ
_
è&& !
_fuÎ
;

76 
boŞ
 
fuÎ
() {

77  
	g_fuÎ
;

83 
»£t
() {

84 
	g_h—d
 = 0;

85 
	g_
 = 0;

86 
	g_fuÎ
 = 
çl£
;

89 
	g´iv©e
:

90 
T
 
_poŞ
[
BufãrSize
];

91 vŞ©
CouÁ”Ty³
 
	g_h—d
;

92 vŞ©
CouÁ”Ty³
 
	g_
;

93 vŞ©
boŞ
 
	g_fuÎ
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\DigitalIn.h

16 #iâdeà
MBED_DIGITALIN_H


17 
	#MBED_DIGITALIN_H


	)

19 
	~"¶©fÜm.h
"

21 
	~"gpio_­i.h
"

23 
Çme¥aû
 
	gmbed
 {

46 şas 
	cDig™®In
 {

48 
	gpublic
:

53 
Dig™®In
(
PšName
 
pš
è: 
gpio
() {

54 
gpio_š™_š
(&
gpio
, 
pš
);

62 
Dig™®In
(
PšName
 
pš
, 
PšMode
 
mode
è: 
gpio
() {

63 
gpio_š™_š_ex
(&
gpio
, 
pš
, 
mode
);

71 
»ad
() {

72  
gpio_»ad
(&
gpio
);

79 
mode
(
PšMode
 
puÎ
) {

80 
gpio_mode
(&
gpio
, 
puÎ
);

89 
is_cÚÃùed
() {

90  
gpio_is_cÚÃùed
(&
gpio
);

93 #ifdeà
MBED_OPERATORS


96 
İ”©Ü
 () {

97  
»ad
();

101 
	g´Ùeùed
:

102 
gpio_t
 
gpio
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\DigitalInOut.h

16 #iâdeà
MBED_DIGITALINOUT_H


17 
	#MBED_DIGITALINOUT_H


	)

19 
	~"¶©fÜm.h
"

21 
	~"gpio_­i.h
"

23 
Çme¥aû
 
	gmbed
 {

27 şas 
	cDig™®InOut
 {

29 
	gpublic
:

34 
Dig™®InOut
(
PšName
 
pš
è: 
gpio
() {

35 
gpio_š™_š
(&
gpio
, 
pš
);

45 
Dig™®InOut
(
PšName
 
pš
, 
PšDœeùiÚ
 
dœeùiÚ
, 
PšMode
 
mode
, 
v®ue
è: 
gpio
() {

46 
gpio_š™_šout
(&
gpio
, 
pš
, 
dœeùiÚ
, 
mode
, 
v®ue
);

54 
wr™e
(
v®ue
) {

55 
gpio_wr™e
(&
gpio
, 
v®ue
);

64 
»ad
() {

65  
gpio_»ad
(&
gpio
);

70 
ouut
() {

71 
gpio_dœ
(&
gpio
, 
PIN_OUTPUT
);

76 
šput
() {

77 
gpio_dœ
(&
gpio
, 
PIN_INPUT
);

84 
mode
(
PšMode
 
puÎ
) {

85 
gpio_mode
(&
gpio
, 
puÎ
);

94 
is_cÚÃùed
() {

95  
gpio_is_cÚÃùed
(&
gpio
);

98 #ifdeà
MBED_OPERATORS


101 
	gDig™®InOut
& 
	gİ”©Ü
ğ(
v®ue
) {

102 
wr™e
(
v®ue
);

103  *
	gthis
;

106 
	gDig™®InOut
& 
	gİ”©Ü
ğ(
Dig™®InOut
& 
rhs
) {

107 
wr™e
(
rhs
.
»ad
());

108  *
	gthis
;

113 
İ”©Ü
 () {

114  
»ad
();

118 
	g´Ùeùed
:

119 
gpio_t
 
gpio
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\DigitalOut.h

16 #iâdeà
MBED_DIGITALOUT_H


17 
	#MBED_DIGITALOUT_H


	)

19 
	~"¶©fÜm.h
"

20 
	~"gpio_­i.h
"

22 
Çme¥aû
 
	gmbed
 {

41 şas 
	cDig™®Out
 {

43 
	gpublic
:

48 
Dig™®Out
(
PšName
 
pš
è: 
gpio
() {

49 
gpio_š™_out
(&
gpio
, 
pš
);

57 
Dig™®Out
(
PšName
 
pš
, 
v®ue
è: 
gpio
() {

58 
gpio_š™_out_ex
(&
gpio
, 
pš
, 
v®ue
);

66 
wr™e
(
v®ue
) {

67 
gpio_wr™e
(&
gpio
, 
v®ue
);

76 
»ad
() {

77  
gpio_»ad
(&
gpio
);

86 
is_cÚÃùed
() {

87  
gpio_is_cÚÃùed
(&
gpio
);

90 #ifdeà
MBED_OPERATORS


93 
	gDig™®Out
& 
	gİ”©Ü
ğ(
v®ue
) {

94 
wr™e
(
v®ue
);

95  *
	gthis
;

98 
	gDig™®Out
& 
	gİ”©Ü
ğ(
Dig™®Out
& 
rhs
) {

99 
wr™e
(
rhs
.
»ad
());

100  *
	gthis
;

105 
İ”©Ü
 () {

106  
»ad
();

110 
	g´Ùeùed
:

111 
gpio_t
 
gpio
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\DirHandle.h

16 #iâdeà
MBED_DIRHANDLE_H


17 
	#MBED_DIRHANDLE_H


	)

19 #ià
defšed
(
__ARMCC_VERSION
è|| defšed(
__ICCARM__
)

20 
	#NAME_MAX
 255

	)

21 
	tmode_t
;

24 
	~<sys/sy¦im™s.h
>

27 
	~"FeHªdË.h
"

29 
	sdœ’t
 {

30 
	md_Çme
[
NAME_MAX
+1];

33 
Çme¥aû
 
	gmbed
 {

48 şas 
	cDœHªdË
 {

50 
	gpublic
:

57 
vœtu®
 
şo£dœ
()=0;

67 
vœtu®
 
dœ’t
 *
»addœ
()=0;

71 
vœtu®
 
»wšddœ
()=0;

79 
vœtu®
 
off_t
 
‹Îdœ
() {  -1; }

85 
vœtu®
 
£ekdœ
(
off_t
 
loÿtiÚ
) { }

87 
	gvœtu®
 ~
DœHªdË
() {}

92 
	gmbed
::
	tDœHªdË
 
	tDIR
;

95 
DIR
 *
İ’dœ
(const *);

96 
dœ’t
 *
»addœ
(
DIR
 *);

97 
şo£dœ
(
DIR
*);

98 
»wšddœ
(
DIR
*);

99 
‹Îdœ
(
DIR
*);

100 
£ekdœ
(
DIR
*, );

101 
mkdœ
(cÚ¡ *
Çme
, 
mode_t
 
n
);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\Ethernet.h

16 #iâdeà
MBED_ETHERNET_H


17 
	#MBED_ETHERNET_H


	)

19 
	~"¶©fÜm.h
"

21 #ià
DEVICE_ETHERNET


23 
Çme¥aû
 
	gmbed
 {

53 şas 
	cEth”Ãt
 {

55 
	gpublic
:

59 
Eth”Ãt
();

63 
	gvœtu®
 ~
Eth”Ãt
();

65 
	eMode
 {

66 
	gAutoNegÙŸ‹
,

67 
	gH®fDu¶ex10
,

68 
	gFuÎDu¶ex10
,

69 
	gH®fDu¶ex100
,

70 
	gFuÎDu¶ex100


83 
wr™e
(cÚ¡ *
d©a
, 
size
);

94 
£nd
();

106 
»ûive
();

120 
»ad
(*
d©a
, 
size
);

126 
add»ss
(*
mac
);

151 
lšk
();

163 
£t_lšk
(
Mode
 
mode
);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\FileBase.h

16 #iâdeà
MBED_FILEBASE_H


17 
	#MBED_FILEBASE_H


	)

19 
	tFILEHANDLE
;

21 
	~<¡dio.h
>

23 #ià
defšed
(
__ARMCC_VERSION
è|| defšed(
__ICCARM__
)

24 
	#O_RDONLY
 0

	)

25 
	#O_WRONLY
 1

	)

26 
	#O_RDWR
 2

	)

27 
	#O_CREAT
 0x0200

	)

28 
	#O_TRUNC
 0x0400

	)

29 
	#O_APPEND
 0x0008

	)

31 
	#NAME_MAX
 255

	)

33 
	tmode_t
;

34 
	tssize_t
;

35 
	toff_t
;

38 
	~<sys/fú.h
>

39 
	~<sys/ty³s.h
>

40 
	~<sys/sy¦im™s.h
>

43 
	~"¶©fÜm.h
"

45 
Çme¥aû
 
	gmbed
 {

48 
	gFeP©hTy³
,

49 
	gFeSy¡emP©hTy³


50 } 
	tP©hTy³
;

52 şas 
	cFeBa£
 {

53 
	gpublic
:

54 
FeBa£
(cÚ¡ *
Çme
, 
P©hTy³
 
t
);

56 
	gvœtu®
 ~
FeBa£
();

58 cÚ¡ * 
g‘Name
();

59 
P©hTy³
 
g‘P©hTy³
();

61 
FeBa£
 *
lookup
(cÚ¡ *
Çme
, 
Ën
);

63 
FeBa£
 *
g‘
(
n
);

65 
	g´Ùeùed
:

66 
FeBa£
 *
_h—d
;

68 
FeBa£
 *
	g_Ãxt
;

69 cÚ¡ *
	g_Çme
;

70 
P©hTy³
 
	g_·th_ty³
;

73 
	g´iv©e
:

74 
FeBa£
(const FileBase&);

75 
	gFeBa£
 & 
	gİ”©Ü
 = (cÚ¡ 
FeBa£
&);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\FileHandle.h

16 #iâdeà
MBED_FILEHANDLE_H


17 
	#MBED_FILEHANDLE_H


	)

19 
	tFILEHANDLE
;

21 
	~<¡dio.h
>

23 #ià
defšed
(
__ARMCC_VERSION
è|| defšed(
__ICCARM__
)

24 
	tssize_t
;

25 
	toff_t
;

28 
	~<sys/ty³s.h
>

31 
Çme¥aû
 
	gmbed
 {

42 şas 
	cFeHªdË
 {

44 
	gpublic
:

53 
vœtu®
 
ssize_t
 
wr™e
(cÚ¡ * 
bufãr
, 
size_t
 
Ëngth
) = 0;

60 
vœtu®
 
şo£
() = 0;

71 
vœtu®
 
ssize_t
 
»ad
(* 
bufãr
, 
size_t
 
Ëngth
) = 0;

80 
vœtu®
 
i§‰y
() = 0;

92 
vœtu®
 
off_t
 
l£ek
(off_ˆ
off£t
, 
wh’û
) = 0;

101 
vœtu®
 
fsync
() = 0;

103 
vœtu®
 
off_t
 
æ’
() {

105 
off_t
 
	gpos
 = 
l£ek
(0, 
SEEK_CUR
);

106 if(
	gpos
 == -1)  -1;

108 
off_t
 
	g»s
 = 
l£ek
(0, 
SEEK_END
);

110 
l£ek
(
pos
, 
SEEK_SET
);

111  
	g»s
;

114 
	gvœtu®
 ~
FeHªdË
();

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\FileLike.h

16 #iâdeà
MBED_FILELIKE_H


17 
	#MBED_FILELIKE_H


	)

19 
	~"FeBa£.h
"

20 
	~"FeHªdË.h
"

22 
Çme¥aû
 
	gmbed
 {

29 
şass
 
	gFeLike
 : 
public
 
FeHªdË
,…ubliø
	gFeBa£
 {

31 
	gpublic
:

37 
FeLike
(cÚ¡ *
Çme
);

39 
	gvœtu®
 ~
FeLike
();

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\FilePath.h

16 #iâdeà
MBED_FILEPATH_H


17 
	#MBED_FILEPATH_H


	)

19 
	~"¶©fÜm.h
"

21 
	~"FeSy¡emLike.h
"

22 
	~"FeLike.h
"

24 
Çme¥aû
 
	gmbed
 {

26 şas 
	cFeP©h
 {

27 
	gpublic
:

28 
FeP©h
(cÚ¡ * 
fe_·th
);

30 cÚ¡ * 
feName
();

32 
boŞ
 
isFeSy¡em
();

33 
FeSy¡emLike
* 
feSy¡em
();

35 
boŞ
 
isFe
();

36 
FeLike
* 
fe
();

37 
boŞ
 
exi¡s
();

39 
	g´iv©e
:

40 cÚ¡ * 
fe_Çme
;

41 
FeBa£
* 
	gfb
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\FileSystemLike.h

16 #iâdeà
MBED_FILESYSTEMLIKE_H


17 
	#MBED_FILESYSTEMLIKE_H


	)

19 
	~"¶©fÜm.h
"

21 
	~"FeBa£.h
"

22 
	~"FeHªdË.h
"

23 
	~"DœHªdË.h
"

25 
Çme¥aû
 
	gmbed
 {

33 şas 
	cFeSy¡emLike
 : 
public
 
FeBa£
 {

35 
public
:

40 
FeSy¡emLike
(cÚ¡ *
Çme
);

42 
	gvœtu®
 ~
FeSy¡emLike
();

44 
DœHªdË
 *
İ’dœ
();

45 
ä›nd
 
şass
 
	gBa£DœHªdË
;

57 
vœtu®
 
FeHªdË
 *
İ’
(cÚ¡ *
f’ame
, 
æags
) = 0;

64 
vœtu®
 
»move
(cÚ¡ *
f’ame
) {  -1; };

75 
vœtu®
 
»Çme
(cÚ¡ *
ŞdÇme
, cÚ¡ *
ÃwÇme
) {  -1; };

86 
vœtu®
 
DœHªdË
 *
İ’dœ
(cÚ¡ *
Çme
è{  
	gNULL
; };

97 
vœtu®
 
mkdœ
(cÚ¡ *
Çme
, 
mode_t
 
mode
) {  -1; }

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\FunctionPointer.h

16 #iâdeà
MBED_FUNCTIONPOINTER_H


17 
	#MBED_FUNCTIONPOINTER_H


	)

19 
	~<¡ršg.h
>

20 
	~<¡dšt.h
>

22 
Çme¥aû
 
	gmbed
 {

28 
	g‹m¶©e
 <
ty³Çme
 
	gR
,y³Çm
	gA1
>

29 şas 
	cFunùiÚPoš‹rArg1
{

30 
	gpublic
:

35 
FunùiÚPoš‹rArg1
(
R
 (*
funùiÚ
)(
A1
) = 0) {

36 
©ch
(
funùiÚ
);

44 
	g‹m¶©e
<
ty³Çme
 
	gT
>

45 
FunùiÚPoš‹rArg1
(
T
 *
objeù
, 
R
 (T::*
memb”
)(
A1
)) {

46 
©ch
(
objeù
, 
memb”
);

53 
©ch
(
R
 (*
funùiÚ
)(
A1
)) {

54 
	g_p
.
	gfunùiÚ
 = 
funùiÚ
;

55 
	g_memb”ÿÎ”
 = 0;

63 
	g‹m¶©e
<
ty³Çme
 
	gT
>

64 
©ch
(
T
 *
objeù
, 
R
 (T::*
memb”
)(
A1
)) {

65 
_p
.
objeù
 = 
¡©ic_ÿ¡
<*>(object);

66 *
	g»š‹½»t_ÿ¡
<
R
 (
T
::**)(
A1
)>(
_memb”
èğ
memb”
;

67 
	g_memb”ÿÎ”
 = &
FunùiÚPoš‹rArg1
::
memb”ÿÎ”
<
T
>;

72 
R
 
ÿÎ
(
A1
 
a
) {

73 ià(
	g_memb”ÿÎ”
 =ğ0 && 
_p
.
funùiÚ
) {

74  
_p
.
funùiÚ
(
a
);

75 } ià(
	g_memb”ÿÎ”
 && 
	g_p
.
	gobjeù
) {

76  
_memb”ÿÎ”
(
_p
.
objeù
, 
_memb”
, 
a
);

78  (
	gR
)0;

83 
R
(*
g‘_funùiÚ
(
A1
))() {

84  
	g_memb”ÿÎ”
 ? (
R
(*)(
	gA1
))0 : (R(*)(
A1
))
_p
.
funùiÚ
;

87 #ifdeà
MBED_OPERATORS


88 
R
 
İ”©Ü
 ()(
A1
 
	ga
) {

89  
ÿÎ
(
a
);

91 
İ”©Ü
 
boŞ
() const {

92  (
	g_memb”ÿÎ”
 !ğ
NULL
 ? 
_p
.
objeù
 : (*)_p.
funùiÚ
) != NULL;

95 
	g´iv©e
:

96 
‹m¶©e
<
ty³Çme
 
T
>

97 
R
 
memb”ÿÎ”
(*
objeù
, 
ušŒ_t
 *
memb”
, 
A1
 
a
) {

98 
T
* 
	go
 = 
¡©ic_ÿ¡
<T*>(
objeù
);

99 
R
 (
T
::**
m
)(
A1
èğ
»š‹½»t_ÿ¡
<R (T::**)(A1)>(
memb”
);

100  (
	go
->**
	gm
)(
	ga
);

104 
R
 (*
funùiÚ
)(
	gA1
);

105 *
	gobjeù
;

106 } 
	g_p
;

107 
ušŒ_t
 
	g_memb”
[4];

108 
R
 (*
_memb”ÿÎ”
)(*, 
	gušŒ_t
*, 
	gA1
);

113 
	g‹m¶©e
 <
ty³Çme
 
	gR
>

114 
şass
 
	gFunùiÚPoš‹rArg1
<
	gR
, >{

115 
	gpublic
:

120 
FunùiÚPoš‹rArg1
(
R
 (*
funùiÚ
)() = 0) {

121 
©ch
(
funùiÚ
);

129 
	g‹m¶©e
<
ty³Çme
 
	gT
>

130 
FunùiÚPoš‹rArg1
(
T
 *
objeù
, 
R
 (T::*
memb”
)()) {

131 
©ch
(
objeù
, 
memb”
);

138 
©ch
(
R
 (*
funùiÚ
)()) {

139 
	g_p
.
	gfunùiÚ
 = 
funùiÚ
;

140 
	g_memb”ÿÎ”
 = 0;

148 
	g‹m¶©e
<
ty³Çme
 
	gT
>

149 
©ch
(
T
 *
objeù
, 
R
 (T::*
memb”
)()) {

150 
_p
.
objeù
 = 
¡©ic_ÿ¡
<*>(object);

151 *
	g»š‹½»t_ÿ¡
<
R
 (
T
::**)()>(
_memb”
èğ
memb”
;

152 
	g_memb”ÿÎ”
 = &
FunùiÚPoš‹rArg1
::
memb”ÿÎ”
<
T
>;

157 
R
 
ÿÎ
(){

158 ià(
	g_memb”ÿÎ”
 =ğ0 && 
_p
.
funùiÚ
) {

159  
_p
.
funùiÚ
();

160 } ià(
	g_memb”ÿÎ”
 && 
	g_p
.
	gobjeù
) {

161  
_memb”ÿÎ”
(
_p
.
objeù
, 
_memb”
);

163  (
	gR
)0;

168 
R
(*
g‘_funùiÚ
())() {

169  
	g_memb”ÿÎ”
 ? (
R
(*)())0 : (R(*)())
_p
.
funùiÚ
;

172 #ifdeà
MBED_OPERATORS


173 
R
 
İ”©Ü
 ()() {

174  
ÿÎ
();

176 
İ”©Ü
 
boŞ
() const {

177  (
	g_memb”ÿÎ”
 !ğ
NULL
 ? 
_p
.
objeù
 : (*)_p.
funùiÚ
) != NULL;

181 
	g´iv©e
:

182 
‹m¶©e
<
ty³Çme
 
T
>

183 
R
 
memb”ÿÎ”
(*
objeù
, 
ušŒ_t
 *
memb”
) {

184 
T
* 
	go
 = 
¡©ic_ÿ¡
<T*>(
objeù
);

185 
R
 (
T
::**
m
)(èğ
»š‹½»t_ÿ¡
<R (T::**)()>(
memb”
);

186  (
	go
->**
	gm
)();

190 
R
 (*
funùiÚ
)();

191 *
	gobjeù
;

192 } 
	g_p
;

193 
ušŒ_t
 
	g_memb”
[4];

194 
R
 (*
_memb”ÿÎ”
)(*, 
	gušŒ_t
*);

197 
	gFunùiÚPoš‹rArg1
<, > 
	tFunùiÚPoš‹r
;

198 
	gFunùiÚPoš‹rArg1
<, > 
	tev’t_ÿÎback_t
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\I2C.h

16 #iâdeà
MBED_I2C_H


17 
	#MBED_I2C_H


	)

19 
	~"¶©fÜm.h
"

21 #ià
DEVICE_I2C


23 
	~"i2c_­i.h
"

25 #ià
DEVICE_I2C_ASYNCH


26 
	~"CThunk.h
"

27 
	~"dma_­i.h
"

28 
	~"FunùiÚPoš‹r.h
"

31 
Çme¥aû
 
	gmbed
 {

50 şas 
	cI2C
 {

52 
	gpublic
:

53 
	eRxStus
 {

54 
NoD©a
,

55 
	gMa¡”G’”®C®l
,

56 
	gMa¡”Wr™e
,

57 
	gMa¡”R—d


60 
	eAcknowËdge
 {

61 
	gNoACK
 = 0,

62 
	gACK
 = 1

70 
I2C
(
PšName
 
sda
, PšNam
sş
);

76 
äequ’cy
(
hz
);

92 
»ad
(
add»ss
, *
d©a
, 
Ëngth
, 
boŞ
 
»³©ed
 = 
çl£
);

101 
»ad
(
ack
);

117 
wr™e
(
add»ss
, cÚ¡ *
d©a
, 
Ëngth
, 
boŞ
 
»³©ed
 = 
çl£
);

127 
wr™e
(
d©a
);

132 
¡¬t
();

136 
¡İ
();

138 #ià
DEVICE_I2C_ASYNCH


152 
Œªsãr
(
add»ss
, cÚ¡ *
tx_bufãr
, 
tx_Ëngth
, *
rx_bufãr
, 
rx_Ëngth
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
 = 
I2C_EVENT_TRANSFER_COMPLETE
, 
boŞ
 
»³©ed
 = 
çl£
);

156 
abÜt_Œªsãr
();

157 
	g´Ùeùed
:

158 
œq_hªdËr_asynch
();

159 
ev’t_ÿÎback_t
 
	g_ÿÎback
;

160 
	gCThunk
<
	gI2C
> 
	g_œq
;

161 
DMAU§ge
 
	g_u§ge
;

164 
	g´Ùeùed
:

165 
aquœe
();

167 
i2c_t
 
	g_i2c
;

168 
I2C
 *
	g_owÃr
;

169 
	g_hz
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\I2CSlave.h

16 #iâdeà
MBED_I2C_SLAVE_H


17 
	#MBED_I2C_SLAVE_H


	)

19 
	~"¶©fÜm.h
"

21 #ià
DEVICE_I2CSLAVE


23 
	~"i2c_­i.h
"

25 
Çme¥aû
 
	gmbed
 {

61 şas 
	cI2CSÏve
 {

63 
	gpublic
:

64 
	eRxStus
 {

65 
NoD©a
 = 0,

66 
	gR—dAdd»s£d
 = 1,

67 
	gWr™eG’”®
 = 2,

68 
	gWr™eAdd»s£d
 = 3

76 
I2CSÏve
(
PšName
 
sda
, PšNam
sş
);

82 
äequ’cy
(
hz
);

93 
»ûive
();

104 
»ad
(*
d©a
, 
Ëngth
);

111 
»ad
();

122 
wr™e
(cÚ¡ *
d©a
, 
Ëngth
);

132 
wr™e
(
d©a
);

140 
add»ss
(address);

144 
¡İ
();

146 
	g´Ùeùed
:

147 
i2c_t
 
_i2c
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\InterruptIn.h

16 #iâdeà
MBED_INTERRUPTIN_H


17 
	#MBED_INTERRUPTIN_H


	)

19 
	~"¶©fÜm.h
"

21 #ià
DEVICE_INTERRUPTIN


23 
	~"gpio_­i.h
"

24 
	~"gpio_œq_­i.h
"

25 
	~"FunùiÚPoš‹r.h
"

27 
Çme¥aû
 
	gmbed
 {

53 şas 
	cIÁ”ru±In
 {

55 
	gpublic
:

62 
IÁ”ru±In
(
PšName
 
pš
);

63 
	gvœtu®
 ~
IÁ”ru±In
();

65 
»ad
();

66 #ifdeà
MBED_OPERATORS


67 
İ”©Ü
 ();

75 
ri£
((*
åŒ
)());

82 
	g‹m¶©e
<
ty³Çme
 
	gT
>

83 
ri£
(
T
* 
Œ
, (T::*
m±r
)()) {

84 
_ri£
.
©ch
(
Œ
, 
m±r
);

85 
gpio_œq_£t
(&
gpio_œq
, 
IRQ_RISE
, 1);

92 
çÎ
((*
åŒ
)());

99 
	g‹m¶©e
<
ty³Çme
 
	gT
>

100 
çÎ
(
T
* 
Œ
, (T::*
m±r
)()) {

101 
_çÎ
.
©ch
(
Œ
, 
m±r
);

102 
gpio_œq_£t
(&
gpio_œq
, 
IRQ_FALL
, 1);

109 
mode
(
PšMode
 
puÎ
);

114 
’abË_œq
();

119 
di§bË_œq
();

121 
_œq_hªdËr
(
ušt32_t
 
id
, 
gpio_œq_ev’t
 
ev’t
);

123 
	g´Ùeùed
:

124 
gpio_t
 
gpio
;

125 
gpio_œq_t
 
	ggpio_œq
;

127 
FunùiÚPoš‹r
 
	g_ri£
;

128 
FunùiÚPoš‹r
 
	g_çÎ
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\InterruptManager.h

1 #iâdeà
MBED_INTERRUPTMANAGER_H


2 
	#MBED_INTERRUPTMANAGER_H


	)

4 
	~"cmsis.h
"

5 
	~"C®lChaš.h
"

6 
	~<¡ršg.h
>

8 
Çme¥aû
 
	gmbed
 {

36 şas 
	cIÁ”ru±Mªag”
 {

37 
	gpublic
:

40 
IÁ”ru±Mªag”
* 
g‘
();

44 
de¡roy
();

54 
pFunùiÚPoš‹r_t
 
add_hªdËr
((*
funùiÚ
)(), 
IRQn_Ty³
 
œq
) {

55  
add_commÚ
(
funùiÚ
, 
œq
);

66 
pFunùiÚPoš‹r_t
 
add_hªdËr_äÚt
((*
funùiÚ
)(), 
IRQn_Ty³
 
œq
) {

67  
add_commÚ
(
funùiÚ
, 
œq
, 
Œue
);

79 
	g‹m¶©e
<
ty³Çme
 
	gT
>

80 
pFunùiÚPoš‹r_t
 
add_hªdËr
(
T
* 
Œ
, (T::*
m±r
)(), 
IRQn_Ty³
 
œq
) {

81  
add_commÚ
(
Œ
, 
m±r
, 
œq
);

93 
	g‹m¶©e
<
ty³Çme
 
	gT
>

94 
pFunùiÚPoš‹r_t
 
add_hªdËr_äÚt
(
T
* 
Œ
, (T::*
m±r
)(), 
IRQn_Ty³
 
œq
) {

95  
add_commÚ
(
Œ
, 
m±r
, 
œq
, 
Œue
);

106 
boŞ
 
»move_hªdËr
(
pFunùiÚPoš‹r_t
 
hªdËr
, 
IRQn_Ty³
 
œq
);

108 
	g´iv©e
:

109 
IÁ”ru±Mªag”
();

110 ~
IÁ”ru±Mªag”
();

115 
IÁ”ru±Mªag”
(const InterruptManager&);

116 
	gIÁ”ru±Mªag”
& 
	gİ”©Ü
 =(cÚ¡ 
IÁ”ru±Mªag”
&);

118 
	g‹m¶©e
<
ty³Çme
 
	gT
>

119 
pFunùiÚPoš‹r_t
 
add_commÚ
(
T
 *
Œ
, (T::*
m±r
)(), 
IRQn_Ty³
 
œq
, 
boŞ
 
äÚt
=
çl£
) {

120 
œq_pos
 = 
g‘_œq_šdex
(
œq
);

121 
boŞ
 
	gchªge
 = 
mu¡_»¶aû_veùÜ
(
œq
);

123 
pFunùiÚPoš‹r_t
 
	gpf
 = 
äÚt
 ? 
_chašs
[
œq_pos
]->
add_äÚt
(
Œ
, 
m±r
è: _chašs[œq_pos]->
add
(tptr, mptr);

124 ià(
	gchªge
)

125 
NVIC_S‘VeùÜ
(
œq
, (
ušt32_t
)&
IÁ”ru±Mªag”
::
¡©ic_œq_h–³r
);

126  
	gpf
;

129 
pFunùiÚPoš‹r_t
 
add_commÚ
((*
funùiÚ
)(), 
IRQn_Ty³
 
œq
, 
boŞ
 
äÚt
=
çl£
);

130 
boŞ
 
mu¡_»¶aû_veùÜ
(
IRQn_Ty³
 
œq
);

131 
g‘_œq_šdex
(
IRQn_Ty³
 
œq
);

132 
œq_h–³r
();

133 
add_h–³r
((*
funùiÚ
)(), 
IRQn_Ty³
 
œq
, 
boŞ
 
äÚt
=
çl£
);

134 
¡©ic_œq_h–³r
();

136 
C®lChaš
* 
	g_chašs
[
NVIC_NUM_VECTORS
];

137 
IÁ”ru±Mªag”
* 
	g_š¡ªû
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\LocalFileSystem.h

16 #iâdeà
MBED_LOCALFILESYSTEM_H


17 
	#MBED_LOCALFILESYSTEM_H


	)

19 
	~"¶©fÜm.h
"

21 #ià
DEVICE_LOCALFILESYSTEM


23 
	~"FeSy¡emLike.h
"

25 
Çme¥aû
 
	gmbed
 {

27 
FILEHANDLE
 
loÿl_fe_İ’
(cÚ¡ * 
Çme
, 
æags
);

29 şas 
	cLoÿlFeHªdË
 : 
public
 
FeHªdË
 {

31 
public
:

32 
LoÿlFeHªdË
(
FILEHANDLE
 
fh
);

34 
vœtu®
 
şo£
();

36 
vœtu®
 
ssize_t
 
wr™e
(cÚ¡ *
bufãr
, 
size_t
 
Ëngth
);

38 
vœtu®
 
ssize_t
 
»ad
(*
bufãr
, 
size_t
 
Ëngth
);

40 
vœtu®
 
i§‰y
();

42 
vœtu®
 
off_t
 
l£ek
(off_ˆ
pos™iÚ
, 
wh’û
);

44 
vœtu®
 
fsync
();

46 
vœtu®
 
off_t
 
æ’
();

48 
	g´Ùeùed
:

49 
FILEHANDLE
 
_fh
;

50 
	gpos
;

87 şas 
	cLoÿlFeSy¡em
 : 
public
 
FeSy¡emLike
 {

89 
public
:

90 
LoÿlFeSy¡em
(cÚ¡ * 
n
è: 
FeSy¡emLike
(n) {

94 
vœtu®
 
FeHªdË
 *
İ’
(cÚ¡ * 
Çme
, 
æags
);

95 
vœtu®
 
»move
(cÚ¡ *
f’ame
);

96 
vœtu®
 
DœHªdË
 *
İ’dœ
(cÚ¡ *
Çme
);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\LowPowerTicker.h

16 #iâdeà
MBED_LOWPOWERTICKER_H


17 
	#MBED_LOWPOWERTICKER_H


	)

19 
	~"¶©fÜm.h
"

20 
	~"Tick”.h
"

22 #ià
DEVICE_LOWPOWERTIMER


24 
	~"Í_tick”_­i.h
"

26 
Çme¥aû
 
	gmbed
 {

30 şas 
	cLowPow”Tick”
 : 
public
 
Tick”
 {

32 
public
:

33 
LowPow”Tick”
(è: 
Tick”
(
g‘_Í_tick”_d©a
()) {

36 
vœtu®
 ~
LowPow”Tick”
() {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\LowPowerTimeout.h

16 #iâdeà
MBED_LOWPOWERTIMEOUT_H


17 
	#MBED_LOWPOWERTIMEOUT_H


	)

19 
	~"¶©fÜm.h
"

21 #ià
DEVICE_LOWPOWERTIMER


23 
	~"Í_tick”_­i.h
"

24 
	~"LowPow”Tick”.h
"

26 
Çme¥aû
 
	gmbed
 {

30 şas 
	cLowPow”Timeout
 : 
public
 
LowPow”Tick”
 {

32 
´iv©e
:

33 
vœtu®
 
hªdËr
() {

34 
_funùiÚ
.
ÿÎ
();

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\LowPowerTimer.h

16 #iâdeà
MBED_LOWPOWERTIMER_H


17 
	#MBED_LOWPOWERTIMER_H


	)

19 
	~"¶©fÜm.h
"

20 
	~"Tim”.h
"

22 #ià
DEVICE_LOWPOWERTIMER


24 
	~"Í_tick”_­i.h
"

26 
Çme¥aû
 
	gmbed
 {

30 şas 
	cLowPow”Tim”
 : 
public
 
Tim”
 {

32 
public
:

33 
LowPow”Tim”
(è: 
Tim”
(
g‘_Í_tick”_d©a
()) {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\PortIn.h

16 #iâdeà
MBED_PORTIN_H


17 
	#MBED_PORTIN_H


	)

19 
	~"¶©fÜm.h
"

21 #ià
DEVICE_PORTIN


23 
	~"pÜt_­i.h
"

25 
Çme¥aû
 
	gmbed
 {

50 şas 
	cPÜtIn
 {

51 
	gpublic
:

58 
PÜtIn
(
PÜtName
 
pÜt
, 
mask
 = 0xFFFFFFFF) {

59 
pÜt_š™
(&
_pÜt
, 
pÜt
, 
mask
, 
PIN_INPUT
);

67 
»ad
() {

68  
pÜt_»ad
(&
_pÜt
);

75 
mode
(
PšMode
 mode) {

76 
pÜt_mode
(&
_pÜt
, 
mode
);

81 
İ”©Ü
 () {

82  
»ad
();

85 
	g´iv©e
:

86 
pÜt_t
 
_pÜt
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\PortInOut.h

16 #iâdeà
MBED_PORTINOUT_H


17 
	#MBED_PORTINOUT_H


	)

19 
	~"¶©fÜm.h
"

21 #ià
DEVICE_PORTINOUT


23 
	~"pÜt_­i.h
"

25 
Çme¥aû
 
	gmbed
 {

29 şas 
	cPÜtInOut
 {

30 
	gpublic
:

37 
PÜtInOut
(
PÜtName
 
pÜt
, 
mask
 = 0xFFFFFFFF) {

38 
pÜt_š™
(&
_pÜt
, 
pÜt
, 
mask
, 
PIN_INPUT
);

45 
wr™e
(
v®ue
) {

46 
pÜt_wr™e
(&
_pÜt
, 
v®ue
);

54 
»ad
() {

55  
pÜt_»ad
(&
_pÜt
);

60 
ouut
() {

61 
pÜt_dœ
(&
_pÜt
, 
PIN_OUTPUT
);

66 
šput
() {

67 
pÜt_dœ
(&
_pÜt
, 
PIN_INPUT
);

74 
mode
(
PšMode
 mode) {

75 
pÜt_mode
(&
_pÜt
, 
mode
);

80 
	gPÜtInOut
& 
	gİ”©Ü
ğ(
v®ue
) {

81 
wr™e
(
v®ue
);

82  *
	gthis
;

85 
	gPÜtInOut
& 
	gİ”©Ü
ğ(
PÜtInOut
& 
rhs
) {

86 
wr™e
(
rhs
.
»ad
());

87  *
	gthis
;

92 
İ”©Ü
 () {

93  
»ad
();

96 
	g´iv©e
:

97 
pÜt_t
 
_pÜt
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\PortOut.h

16 #iâdeà
MBED_PORTOUT_H


17 
	#MBED_PORTOUT_H


	)

19 
	~"¶©fÜm.h
"

21 #ià
DEVICE_PORTOUT


23 
	~"pÜt_­i.h
"

25 
Çme¥aû
 
	gmbed
 {

49 şas 
	cPÜtOut
 {

50 
	gpublic
:

57 
PÜtOut
(
PÜtName
 
pÜt
, 
mask
 = 0xFFFFFFFF) {

58 
pÜt_š™
(&
_pÜt
, 
pÜt
, 
mask
, 
PIN_OUTPUT
);

65 
wr™e
(
v®ue
) {

66 
pÜt_wr™e
(&
_pÜt
, 
v®ue
);

74 
»ad
() {

75  
pÜt_»ad
(&
_pÜt
);

80 
	gPÜtOut
& 
	gİ”©Ü
ğ(
v®ue
) {

81 
wr™e
(
v®ue
);

82  *
	gthis
;

85 
	gPÜtOut
& 
	gİ”©Ü
ğ(
PÜtOut
& 
rhs
) {

86 
wr™e
(
rhs
.
»ad
());

87  *
	gthis
;

92 
İ”©Ü
 () {

93  
»ad
();

96 
	g´iv©e
:

97 
pÜt_t
 
_pÜt
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\PwmOut.h

16 #iâdeà
MBED_PWMOUT_H


17 
	#MBED_PWMOUT_H


	)

19 
	~"¶©fÜm.h
"

21 #ià
DEVICE_PWMOUT


22 
	~"pwmout_­i.h
"

24 
Çme¥aû
 
	gmbed
 {

53 şas 
	cPwmOut
 {

55 
	gpublic
:

61 
PwmOut
(
PšName
 
pš
) {

62 
pwmout_š™
(&
_pwm
, 
pš
);

72 
wr™e
(
v®ue
) {

73 
pwmout_wr™e
(&
_pwm
, 
v®ue
);

86 
»ad
() {

87  
pwmout_»ad
(&
_pwm
);

96 
³riod
(
£cÚds
) {

97 
pwmout_³riod
(&
_pwm
, 
£cÚds
);

102 
³riod_ms
(
ms
) {

103 
pwmout_³riod_ms
(&
_pwm
, 
ms
);

108 
³riod_us
(
us
) {

109 
pwmout_³riod_us
(&
_pwm
, 
us
);

114 
pul£width
(
£cÚds
) {

115 
pwmout_pul£width
(&
_pwm
, 
£cÚds
);

120 
pul£width_ms
(
ms
) {

121 
pwmout_pul£width_ms
(&
_pwm
, 
ms
);

126 
pul£width_us
(
us
) {

127 
pwmout_pul£width_us
(&
_pwm
, 
us
);

130 #ifdeà
MBED_OPERATORS


133 
	gPwmOut
& 
	gİ”©Ü
ğ(
v®ue
) {

134 
wr™e
(
v®ue
);

135  *
	gthis
;

138 
	gPwmOut
& 
	gİ”©Ü
ğ(
PwmOut
& 
rhs
) {

139 
wr™e
(
rhs
.
»ad
());

140  *
	gthis
;

145 
İ”©Ü
 () {

146  
»ad
();

150 
	g´Ùeùed
:

151 
pwmout_t
 
_pwm
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\RawSerial.h

16 #iâdeà
MBED_RAW_SERIAL_H


17 
	#MBED_RAW_SERIAL_H


	)

19 
	~"¶©fÜm.h
"

21 #ià
DEVICE_SERIAL


23 
	~"S”ŸlBa£.h
"

24 
	~"£rŸl_­i.h
"

26 
Çme¥aû
 
	gmbed
 {

48 şas 
	cRawS”Ÿl
: 
public
 
S”ŸlBa£
 {

50 
public
:

59 
RawS”Ÿl
(
PšName
 
tx
, PšNam
rx
);

67 
putc
(
c
);

73 
g‘c
();

81 
puts
(cÚ¡ *
¡r
);

83 
´štf
(cÚ¡ *
fÜm©
, ...);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\SPI.h

16 #iâdeà
MBED_SPI_H


17 
	#MBED_SPI_H


	)

19 
	~"¶©fÜm.h
"

21 #ià
DEVICE_SPI


23 
	~"¥i_­i.h
"

25 #ià
DEVICE_SPI_ASYNCH


26 
	~"CThunk.h
"

27 
	~"dma_­i.h
"

28 
	~"CœcuÏrBufãr.h
"

29 
	~"FunùiÚPoš‹r.h
"

30 
	~"T¿n§ùiÚ.h
"

33 
Çme¥aû
 
	gmbed
 {

66 şas 
	cSPI
 {

68 
	gpublic
:

79 
SPI
(
PšName
 
mosi
, PšNam
miso
, PšNam
sşk
, PšNam
s£l
=
NC
);

95 
fÜm©
(
b™s
, 
mode
 = 0);

101 
äequ’cy
(
hz
 = 1000000);

110 
vœtu®
 
wr™e
(
v®ue
);

112 #ià
DEVICE_SPI_ASYNCH


126 
	g‹m¶©e
<
ty³Çme
 
	gTy³
>

127 
Œªsãr
(cÚ¡ 
Ty³
 *
tx_bufãr
, 
tx_Ëngth
, Ty³ *
rx_bufãr
, 
rx_Ëngth
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
 = 
SPI_EVENT_COMPLETE
) {

128 ià(
¥i_aùive
(&
_¥i
)) {

129  
queue_Œªsãr
(
tx_bufãr
, 
tx_Ëngth
, 
rx_bufãr
, 
rx_Ëngth
, (
Ty³
)*8, 
ÿÎback
, 
ev’t
);

131 
¡¬t_Œªsãr
(
tx_bufãr
, 
tx_Ëngth
, 
rx_bufãr
, 
rx_Ëngth
, (
Ty³
)*8, 
ÿÎback
, 
ev’t
);

137 
abÜt_Œªsãr
();

141 
ş—r_Œªsãr_bufãr
();

145 
abÜt_®l_Œªsãrs
();

152 
£t_dma_u§ge
(
DMAU§ge
 
u§ge
);

154 
	g´Ùeùed
:

158 
œq_hªdËr_asynch
();

173 
Œªsãr
(cÚ¡ *
tx_bufãr
, 
tx_Ëngth
, *
rx_bufãr
, 
rx_Ëngth
, 
b™_width
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
);

188 
queue_Œªsãr
(cÚ¡ *
tx_bufãr
, 
tx_Ëngth
, *
rx_bufãr
, 
rx_Ëngth
, 
b™_width
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
);

202 
¡¬t_Œªsãr
(cÚ¡ *
tx_bufãr
, 
tx_Ëngth
, *
rx_bufãr
, 
rx_Ëngth
, 
b™_width
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
);

204 #ià
TRANSACTION_QUEUE_SIZE_SPI


210 
¡¬t_Œª§ùiÚ
(
Œª§ùiÚ_t
 *
d©a
);

215 
dequeue_Œª§ùiÚ
();

216 
	gCœcuÏrBufãr
<
	gT¿n§ùiÚ
<
	gSPI
>, 
	gTRANSACTION_QUEUE_SIZE_SPI
> 
	g_Œª§ùiÚ_bufãr
;

221 
	gpublic
:

222 
vœtu®
 ~
SPI
() {

225 
´Ùeùed
:

226 
¥i_t
 
_¥i
;

228 #ià
DEVICE_SPI_ASYNCH


229 
	gCThunk
<
	gSPI
> 
	g_œq
;

230 
ev’t_ÿÎback_t
 
	g_ÿÎback
;

231 
DMAU§ge
 
	g_u§ge
;

234 
aquœe
();

235 
SPI
 *
	g_owÃr
;

236 
	g_b™s
;

237 
	g_mode
;

238 
	g_hz
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\SPISlave.h

16 #iâdeà
MBED_SPISLAVE_H


17 
	#MBED_SPISLAVE_H


	)

19 
	~"¶©fÜm.h
"

21 #ià
DEVICE_SPISLAVE


23 
	~"¥i_­i.h
"

25 
Çme¥aû
 
	gmbed
 {

51 şas 
	cSPISÏve
 {

53 
	gpublic
:

64 
SPISÏve
(
PšName
 
mosi
, PšNam
miso
, PšNam
sşk
, PšNam
s£l
);

80 
fÜm©
(
b™s
, 
mode
 = 0);

86 
äequ’cy
(
hz
 = 1000000);

94 
»ûive
();

101 
»ad
();

108 
»¶y
(
v®ue
);

110 
	g´Ùeùed
:

111 
¥i_t
 
_¥i
;

113 
	g_b™s
;

114 
	g_mode
;

115 
	g_hz
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\Serial.h

16 #iâdeà
MBED_SERIAL_H


17 
	#MBED_SERIAL_H


	)

19 
	~"¶©fÜm.h
"

21 #ià
DEVICE_SERIAL


23 
	~"SŒ—m.h
"

24 
	~"S”ŸlBa£.h
"

25 
	~"£rŸl_­i.h
"

27 
Çme¥aû
 
	gmbed
 {

47 
şass
 
	gS”Ÿl
 : 
public
 
S”ŸlBa£
,…ubliø
	gSŒ—m
 {

49 
	gpublic
:

50 #ià
DEVICE_SERIAL_ASYNCH


51 
usšg
 
S”ŸlBa£
::
»ad
;

52 
usšg
 
	gS”ŸlBa£
::
wr™e
;

63 
S”Ÿl
(
PšName
 
tx
, PšNam
rx
, cÚ¡ *
Çme
=
NULL
);

65 
	g´Ùeùed
:

66 
vœtu®
 
_g‘c
();

67 
vœtu®
 
_putc
(
c
);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\SerialBase.h

16 #iâdeà
MBED_SERIALBASE_H


17 
	#MBED_SERIALBASE_H


	)

19 
	~"¶©fÜm.h
"

21 #ià
DEVICE_SERIAL


23 
	~"SŒ—m.h
"

24 
	~"FunùiÚPoš‹r.h
"

25 
	~"£rŸl_­i.h
"

27 #ià
DEVICE_SERIAL_ASYNCH


28 
	~"CThunk.h
"

29 
	~"dma_­i.h
"

32 
Çme¥aû
 
	gmbed
 {

37 şas 
	cS”ŸlBa£
 {

39 
	gpublic
:

44 
baud
(
baud¿‹
);

46 
	eP¬™y
 {

47 
	gNÚe
 = 0,

48 
	gOdd
,

49 
	gEv’
,

50 
	gFÜûd1
,

51 
	gFÜûd0


54 
	eIrqTy³
 {

55 
	gRxIrq
 = 0,

56 
	gTxIrq


59 
	eFlow
 {

60 
	gDi§bËd
 = 0,

61 
	gRTS
,

62 
	gCTS
,

63 
	gRTSCTS


72 
fÜm©
(
b™s
=8, 
P¬™y
 
·r™y
=
S”ŸlBa£
::
NÚe
, 
¡İ_b™s
=1);

80 
»adabË
();

88 
wr™—bË
();

95 
©ch
((*
åŒ
)(), 
IrqTy³
 
ty³
=
RxIrq
);

103 
	g‹m¶©e
<
ty³Çme
 
	gT
>

104 
©ch
(
T
* 
Œ
, (T::*
m±r
)(), 
IrqTy³
 
ty³
=
RxIrq
) {

105 if((
m±r
 !ğ
NULL
è&& (
Œ
 != NULL)) {

106 
_œq
[
ty³
].
©ch
(
Œ
, 
m±r
);

107 
£rŸl_œq_£t
(&
_£rŸl
, (
S”ŸlIrq
)
ty³
, 1);

109 
£rŸl_œq_£t
(&
_£rŸl
, (
S”ŸlIrq
)
ty³
, 0);

115 
£nd_b»ak
();

117 #ià
DEVICE_SERIAL_FC


124 
£t_æow_cÚŒŞ
(
Flow
 
ty³
, 
PšName
 
æow1
=
NC
, PšNam
æow2
=NC);

127 
_œq_hªdËr
(
ušt32_t
 
id
, 
S”ŸlIrq
 
œq_ty³
);

129 #ià
DEVICE_SERIAL_ASYNCH


138 
wr™e
(cÚ¡ 
ušt8_t
 *
bufãr
, 
Ëngth
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
 = 
SERIAL_EVENT_TX_COMPLETE
);

147 
wr™e
(cÚ¡ 
ušt16_t
 *
bufãr
, 
Ëngth
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
 = 
SERIAL_EVENT_TX_COMPLETE
);

151 
abÜt_wr™e
();

161 
»ad
(
ušt8_t
 *
bufãr
, 
Ëngth
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
 = 
SERIAL_EVENT_RX_COMPLETE
, 
ch¬_m©ch
 = 
SERIAL_RESERVED_CHAR_MATCH
);

171 
»ad
(
ušt16_t
 *
bufãr
, 
Ëngth
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
 = 
SERIAL_EVENT_RX_COMPLETE
, 
ch¬_m©ch
 = 
SERIAL_RESERVED_CHAR_MATCH
);

175 
abÜt_»ad
();

182 
£t_dma_u§ge_tx
(
DMAU§ge
 
u§ge
);

189 
£t_dma_u§ge_rx
(
DMAU§ge
 
u§ge
);

191 
	g´Ùeùed
:

192 
¡¬t_»ad
(*
bufãr
, 
bufãr_size
, 
bufãr_width
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
, 
ch¬_m©ch
);

193 
¡¬t_wr™e
(cÚ¡ *
bufãr
, 
bufãr_size
, 
bufãr_width
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
);

194 
š‹¼u±_hªdËr_asynch
();

197 
	g´Ùeùed
:

198 
S”ŸlBa£
(
PšName
 
tx
, PšNam
rx
);

199 
	gvœtu®
 ~
S”ŸlBa£
() {

202 
_ba£_g‘c
();

203 
_ba£_putc
(
c
);

205 #ià
DEVICE_SERIAL_ASYNCH


206 
	gCThunk
<
	gS”ŸlBa£
> 
	g_thunk_œq
;

207 
ev’t_ÿÎback_t
 
	g_tx_ÿÎback
;

208 
ev’t_ÿÎback_t
 
	g_rx_ÿÎback
;

209 
DMAU§ge
 
	g_tx_u§ge
;

210 
DMAU§ge
 
	g_rx_u§ge
;

213 
£rŸl_t
 
	g_£rŸl
;

214 
FunùiÚPoš‹r
 
	g_œq
[2];

215 
	g_baud
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\Stream.h

16 #iâdeà
MBED_STREAM_H


17 
	#MBED_STREAM_H


	)

19 
	~"¶©fÜm.h
"

20 
	~"FeLike.h
"

22 
Çme¥aû
 
	gmbed
 {

24 
mbed_£t_unbufã»d_¡»am
(
FILE
 *
_fe
);

25 
mbed_g‘c
(
FILE
 *
_fe
);

26 * 
mbed_g‘s
(*
s
, 
size
, 
FILE
 *
_fe
);

28 şas 
	cSŒ—m
 : 
public
 
FeLike
 {

30 
public
:

31 
SŒ—m
(cÚ¡ *
Çme
=
NULL
);

32 
	gvœtu®
 ~
SŒ—m
();

34 
putc
(
c
);

35 
puts
(cÚ¡ *
s
);

36 
g‘c
();

37 *
g‘s
(*
s
, 
size
);

38 
´štf
(cÚ¡ * 
fÜm©
, ...);

39 
sÿnf
(cÚ¡ * 
fÜm©
, ...);

41 
İ”©Ü
 
	g¡d
::
FILE
*(è{ 
_fe
;}

43 
	g´Ùeùed
:

44 
vœtu®
 
şo£
();

45 
vœtu®
 
ssize_t
 
wr™e
(cÚ¡ * 
bufãr
, 
size_t
 
Ëngth
);

46 
vœtu®
 
ssize_t
 
»ad
(* 
bufãr
, 
size_t
 
Ëngth
);

47 
vœtu®
 
off_t
 
l£ek
(off_ˆ
off£t
, 
wh’û
);

48 
vœtu®
 
i§‰y
();

49 
vœtu®
 
fsync
();

50 
vœtu®
 
off_t
 
æ’
();

52 
vœtu®
 
_putc
(
c
) = 0;

53 
vœtu®
 
_g‘c
() = 0;

55 
	g¡d
::
FILE
 *
_fe
;

58 
	g´iv©e
:

59 
SŒ—m
(const Stream&);

60 
	gSŒ—m
 & 
	gİ”©Ü
 = (cÚ¡ 
SŒ—m
&);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\Ticker.h

16 #iâdeà
MBED_TICKER_H


17 
	#MBED_TICKER_H


	)

19 
	~"Tim”Ev’t.h
"

20 
	~"FunùiÚPoš‹r.h
"

22 
Çme¥aû
 
	gmbed
 {

57 şas 
	cTick”
 : 
public
 
Tim”Ev’t
 {

59 
public
:

60 
Tick”
(è: 
Tim”Ev’t
() {

63 
Tick”
(cÚ¡ 
tick”_d©a_t
 *
d©a
è: 
Tim”Ev’t
(data) {

71 
©ch
((*
åŒ
)(), 
t
) {

72 
©ch_us
(
åŒ
, 
t
 * 1000000.0f);

81 
	g‹m¶©e
<
ty³Çme
 
	gT
>

82 
©ch
(
T
* 
Œ
, (T::*
m±r
)(), 
t
) {

83 
©ch_us
(
Œ
, 
m±r
, 
t
 * 1000000.0f);

91 
©ch_us
((*
åŒ
)(), 
time¡amp_t
 
t
) {

92 
	g_funùiÚ
.
©ch
(
åŒ
);

93 
£tup
(
t
);

102 
	g‹m¶©e
<
ty³Çme
 
	gT
>

103 
©ch_us
(
T
* 
Œ
, (T::*
m±r
)(), 
time¡amp_t
 
t
) {

104 
	g_funùiÚ
.
©ch
(
Œ
, 
m±r
);

105 
£tup
(
t
);

108 
	gvœtu®
 ~
Tick”
() {

109 
d‘ach
();

114 
d‘ach
();

116 
	g´Ùeùed
:

117 
£tup
(
time¡amp_t
 
t
);

118 
vœtu®
 
hªdËr
();

120 
	g´Ùeùed
:

121 
time¡amp_t
 
_d–ay
;

122 
FunùiÚPoš‹r
 
	g_funùiÚ
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\Timeout.h

16 #iâdeà
MBED_TIMEOUT_H


17 
	#MBED_TIMEOUT_H


	)

19 
	~"Tick”.h
"

21 
Çme¥aû
 
	gmbed
 {

51 şas 
	cTimeout
 : 
public
 
Tick”
 {

53 
´Ùeùed
:

54 
vœtu®
 
hªdËr
();

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\Timer.h

16 #iâdeà
MBED_TIMER_H


17 
	#MBED_TIMER_H


	)

19 
	~"¶©fÜm.h
"

20 
	~"tick”_­i.h
"

22 
Çme¥aû
 
	gmbed
 {

45 şas 
	cTim”
 {

47 
	gpublic
:

48 
Tim”
();

49 
Tim”
(cÚ¡ 
tick”_d©a_t
 *
d©a
);

53 
¡¬t
();

57 
¡İ
();

63 
»£t
();

67 
»ad
();

71 
»ad_ms
();

75 
»ad_us
();

77 #ifdeà
MBED_OPERATORS


78 
İ”©Ü
 ();

81 
	g´Ùeùed
:

82 
¦iûtime
();

83 
	g_ruÂšg
;

84 
	g_¡¬t
;

85 
	g_time
;

86 cÚ¡ 
tick”_d©a_t
 *
	g_tick”_d©a
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\TimerEvent.h

16 #iâdeà
MBED_TIMEREVENT_H


17 
	#MBED_TIMEREVENT_H


	)

19 
	~"tick”_­i.h
"

20 
	~"us_tick”_­i.h
"

22 
Çme¥aû
 
	gmbed
 {

26 şas 
	cTim”Ev’t
 {

27 
	gpublic
:

28 
Tim”Ev’t
();

29 
Tim”Ev’t
(cÚ¡ 
tick”_d©a_t
 *
d©a
);

33 
œq
(
ušt32_t
 
id
);

37 
	gvœtu®
 ~
Tim”Ev’t
();

39 
	g´Ùeùed
:

41 
vœtu®
 
hªdËr
() = 0;

44 
š£¹
(
time¡amp_t
 
time¡amp
);

47 
»move
();

49 
tick”_ev’t_t
 
	gev’t
;

51 cÚ¡ 
tick”_d©a_t
 *
	g_tick”_d©a
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\Transaction.h

16 #iâdeà
MBED_TRANSACTION_H


17 
	#MBED_TRANSACTION_H


	)

19 
	~"¶©fÜm.h
"

20 
	~"FunùiÚPoš‹r.h
"

22 
Çme¥aû
 
	gmbed
 {

27 *
	gtx_bufãr
;

28 
size_t
 
	gtx_Ëngth
;

29 *
	grx_bufãr
;

30 
size_t
 
	grx_Ëngth
;

31 
ušt32_t
 
	gev’t
;

32 
ev’t_ÿÎback_t
 
	gÿÎback
;

33 
ušt8_t
 
	gwidth
;

34 } 
	tŒª§ùiÚ_t
;

38 
	g‹m¶©e
<
ty³Çme
 
	gCÏss
>

39 şas 
	cT¿n§ùiÚ
 {

40 
	gpublic
:

41 
T¿n§ùiÚ
(
CÏss
 *
oš‹r
, cÚ¡ 
Œª§ùiÚ_t
& 
Œª§ùiÚ
è: 
_obj
Ñpoš‹r), 
_d©a
(transaction) {

44 
T¿n§ùiÚ
(è: 
_obj
(), 
_d©a
() {

47 ~
T¿n§ùiÚ
() {

54 
CÏss
* 
g‘_objeù
() {

55  
	g_obj
;

62 
Œª§ùiÚ_t
* 
g‘_Œª§ùiÚ
() {

63  &
	g_d©a
;

66 
	g´iv©e
:

67 
CÏss
* 
_obj
;

68 
Œª§ùiÚ_t
 
	g_d©a
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\can_helper.h

16 #iâdeà
MBED_CAN_HELPER_H


17 
	#MBED_CAN_HELPER_H


	)

19 #ià
DEVICE_CAN


21 #ifdeà
__ılu¥lus


25 
	eCANFÜm©
 {

26 
CANSnd¬d
 = 0,

27 
CANEx‹nded
 = 1,

28 
CANAny
 = 2

30 
CANFÜm©
 
	tCANFÜm©
;

32 
	eCANTy³
 {

33 
CAND©a
 = 0,

34 
CANRemÙe
 = 1

36 
CANTy³
 
	tCANTy³
;

38 
	sCAN_Mes§ge
 {

39 
id
;

40 
d©a
[8];

41 
Ën
;

42 
CANFÜm©
 
fÜm©
;

43 
CANTy³
 
ty³
;

45 
CAN_Mes§ge
 
	tCAN_Mes§ge
;

47 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\mbed.h

16 #iâdeà
MBED_H


17 
	#MBED_H


	)

19 
	#MBED_LIBRARY_VERSION
 107

	)

21 
	~"¶©fÜm.h
"

24 
	~<m©h.h
>

25 
	~<time.h
>

28 
	~"mbed_”rÜ.h
"

29 
	~"mbed_š‹rçû.h
"

32 
	~"Dig™®In.h
"

33 
	~"Dig™®Out.h
"

34 
	~"Dig™®InOut.h
"

35 
	~"BusIn.h
"

36 
	~"BusOut.h
"

37 
	~"BusInOut.h
"

38 
	~"PÜtIn.h
"

39 
	~"PÜtInOut.h
"

40 
	~"PÜtOut.h
"

41 
	~"AÇlogIn.h
"

42 
	~"AÇlogOut.h
"

43 
	~"PwmOut.h
"

44 
	~"S”Ÿl.h
"

45 
	~"SPI.h
"

46 
	~"SPISÏve.h
"

47 
	~"I2C.h
"

48 
	~"I2CSÏve.h
"

49 
	~"Eth”Ãt.h
"

50 
	~"CAN.h
"

51 
	~"RawS”Ÿl.h
"

54 
	~"Tim”.h
"

55 
	~"Tick”.h
"

56 
	~"Timeout.h
"

57 
	~"LowPow”Timeout.h
"

58 
	~"LowPow”Tick”.h
"

59 
	~"LowPow”Tim”.h
"

60 
	~"LoÿlFeSy¡em.h
"

61 
	~"IÁ”ru±In.h
"

62 
	~"wa™_­i.h
"

63 
	~"¦“p_­i.h
"

64 
	~"¹c_time.h
"

66 
usšg
 
Çme¥aû
 
	gmbed
;

67 
usšg
 
Çme¥aû
 
	g¡d
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\mbed_assert.h

16 #iâdeà
MBED_ASSERT_H


17 
	#MBED_ASSERT_H


	)

19 #ifdeà
__ılu¥lus


31 
mbed_as£¹_š‹º®
(cÚ¡ *
ex´
, cÚ¡ *
fe
, 
lše
);

33 #ifdeà
__ılu¥lus


37 #ifdeà
NDEBUG


38 
	#MBED_ASSERT
(
ex´
è(()0)

	)

41 
	#MBED_ASSERT
(
ex´
) \

43 ià(!(
ex´
)) { \

44 
	`mbed_as£¹_š‹º®
(#ex´, 
__FILE__
, 
__LINE__
); \

46 } 0)

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\mbed_debug.h

16 #iâdeà
MBED_DEBUG_H


17 
	#MBED_DEBUG_H


	)

18 
	~"deviû.h
"

20 #ifdeà
__ılu¥lus


24 #ià
DEVICE_STDIO_MESSAGES


25 
	~<¡dio.h
>

26 
	~<¡d¬g.h
>

32 
šlše
 
	$debug
(cÚ¡ *
fÜm©
, ...) {

33 
va_li¡
 
¬gs
;

34 
	`va_¡¬t
(
¬gs
, 
fÜm©
);

35 
	`vårštf
(
¡d”r
, 
fÜm©
, 
¬gs
);

36 
	`va_’d
(
¬gs
);

37 
	}
}

47 
šlše
 
	$debug_if
(
cÚd™iÚ
, cÚ¡ *
fÜm©
, ...) {

48 ià(
cÚd™iÚ
 == 1) {

49 
va_li¡
 
¬gs
;

50 
	`va_¡¬t
(
¬gs
, 
fÜm©
);

51 
	`vårštf
(
¡d”r
, 
fÜm©
, 
¬gs
);

52 
	`va_’d
(
¬gs
);

54 
	}
}

57 
šlše
 
	$debug
(cÚ¡ *
fÜm©
, ...è{
	}
}

58 
šlše
 
	$debug_if
(
cÚd™iÚ
, cÚ¡ *
fÜm©
, ...è{
	}
}

62 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\mbed_error.h

16 #iâdeà
MBED_ERROR_H


17 
	#MBED_ERROR_H


	)

56 #ifdeà
__ılu¥lus


60 
”rÜ
(cÚ¡ * 
fÜm©
, ...);

62 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\mbed_interface.h

16 #iâdeà
MBED_INTERFACE_H


17 
	#MBED_INTERFACE_H


	)

19 
	~"deviû.h
"

25 
	#MBED_MAC_ADDR_INTERFACE
 0x00

	)

26 
	#MBED_MAC_ADDR_0
 
MBED_MAC_ADDR_INTERFACE


	)

27 
	#MBED_MAC_ADDR_1
 
MBED_MAC_ADDR_INTERFACE


	)

28 
	#MBED_MAC_ADDR_2
 
MBED_MAC_ADDR_INTERFACE


	)

29 
	#MBED_MAC_ADDR_3
 
MBED_MAC_ADDR_INTERFACE


	)

30 
	#MBED_MAC_ADDR_4
 
MBED_MAC_ADDR_INTERFACE


	)

31 
	#MBED_MAC_ADDR_5
 
MBED_MAC_ADDR_INTERFACE


	)

32 
	#MBED_MAC_ADDRESS_SUM
 (
MBED_MAC_ADDR_0
 | 
MBED_MAC_ADDR_1
 | 
MBED_MAC_ADDR_2
 | 
MBED_MAC_ADDR_3
 | 
MBED_MAC_ADDR_4
 | 
MBED_MAC_ADDR_5
)

	)

34 #ifdeà
__ılu¥lus


38 #ià
DEVICE_SEMIHOST


54 
mbed_š‹rçû_cÚÃùed
();

62 
mbed_š‹rçû_»£t
();

71 
mbed_š‹rçû_discÚÃù
();

81 
mbed_š‹rçû_pow”down
();

92 
mbed_š‹rçû_uid
(*
uid
);

104 
mbed_mac_add»ss
(*
mac
);

108 
mbed_d›
();

110 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\platform.h

16 #iâdeà
MBED_PLATFORM_H


17 
	#MBED_PLATFORM_H


	)

19 
	#MBED_OPERATORS
 1

	)

21 
	~"deviû.h
"

22 
	~"PšNames.h
"

23 
	~"P”h”®Names.h
"

25 
	~<c¡ddef
>

26 
	~<c¡dlib
>

27 
	~<c¡dio
>

28 
	~<c¡ršg
>

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\rtc_time.h

17 
	~<time.h
>

19 #ifdeà
__ılu¥lus


70 
£t_time
(
time_t
 
t
);

81 
©ch_¹c
(
time_t
 (*
»ad_¹c
)(), (*
wr™e_¹c
)Ñime_t), (*
š™_¹c
)(), (*
i£ÇbËd_¹c
)());

83 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\semihost_api.h

16 #iâdeà
MBED_SEMIHOST_H


17 
	#MBED_SEMIHOST_H


	)

19 
	~"deviû.h
"

20 
	~"toŞchaš.h
"

22 #ifdeà
__ılu¥lus


26 #ià
DEVICE_SEMIHOST


28 #iâdeà
__CC_ARM


30 #ià
defšed
(
__ICCARM__
)

31 
šlše
 
	$__£miho¡
(
»asÚ
, cÚ¡ *
¬g
) {

32  
	`__£miho¡šg
(
»asÚ
, (*)
¬g
);

33 
	}
}

36 #ifdeà
__thumb__


37 
	#Ang–SWI
 0xAB

	)

38 
	#Ang–SWIIn¢
 "bk±"

	)

39 
	#Ang–SWIAsm
 
bk±


	)

41 
	#Ang–SWI
 0x123456

	)

42 
	#Ang–SWIIn¢
 "swi"

	)

43 
	#Ang–SWIAsm
 
swi


	)

46 
šlše
 
	$__£miho¡
(
»asÚ
, cÚ¡ *
¬g
) {

47 
v®ue
;

49 
asm
 volatile (

52 
Ang–SWIIn¢
 " %a3" "\n\t"

54 : "ô" (
v®ue
)

55 : "r" (
»asÚ
), "r" (
¬g
), "i" (
Ang–SWI
)

59  
v®ue
;

60 
	}
}

64 #ià
DEVICE_LOCALFILESYSTEM


65 
FILEHANDLE
 
£miho¡_İ’
(cÚ¡ * 
Çme
, 
İ’mode
);

66 
£miho¡_şo£
 (
FILEHANDLE
 
fh
);

67 
£miho¡_»ad
 (
FILEHANDLE
 
fh
, * 
bufãr
, 
Ëngth
, 
mode
);

68 
£miho¡_wr™e
 (
FILEHANDLE
 
fh
, cÚ¡ * 
bufãr
, 
Ëngth
, 
mode
);

69 
£miho¡_’su»
(
FILEHANDLE
 
fh
);

70 
£miho¡_æ’
 (
FILEHANDLE
 
fh
);

71 
£miho¡_£ek
 (
FILEHANDLE
 
fh
, 
pos™iÚ
);

72 
£miho¡_i¡ty
 (
FILEHANDLE
 
fh
);

74 
£miho¡_»move
(cÚ¡ *
Çme
);

75 
£miho¡_»Çme
(cÚ¡ *
Şd_Çme
, cÚ¡ *
Ãw_Çme
);

78 
£miho¡_uid
(*
uid
);

79 
£miho¡_»£t
();

80 
£miho¡_vbus
();

81 
£miho¡_pow”down
();

82 
£miho¡_ex™
();

84 
£miho¡_cÚÃùed
();

85 
£miho¡_di§bËdebug
();

89 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\toolchain.h

16 #iâdeà
MBED_TOOLCHAIN_H


17 
	#MBED_TOOLCHAIN_H


	)

19 #ià
defšed
(
TOOLCHAIN_ARM
)

20 
	~<¹_sys.h
>

23 #iâdeà
FILEHANDLE


24 
	tFILEHANDLE
;

27 #ià
defšed
 (
__ICCARM__
)

28 
	#WEAK
 
__w—k


	)

29 
	#PACKED
 
__·cked


	)

31 
	#WEAK
 
	`__©Œibu‹__
((
w—k
))

	)

32 
	#PACKED
 
	`__©Œibu‹__
((
·cked
))

	)

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\wait_api.h

16 #iâdeà
MBED_WAIT_API_H


17 
	#MBED_WAIT_API_H


	)

19 #ifdeà
__ılu¥lus


48 
wa™
(
s
);

54 
wa™_ms
(
ms
);

60 
wa™_us
(
us
);

62 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\BusIn.cpp

16 
	~"BusIn.h
"

17 
	~"mbed_as£¹.h
"

19 
Çme¥aû
 
	gmbed
 {

21 
	gBusIn
::
BusIn
(
PšName
 
p0
, PšNam
p1
, PšNam
p2
, PšNam
p3
, PšNam
p4
, PšNam
p5
, PšNam
p6
, PšNam
p7
, PšNam
p8
, PšNam
p9
, PšNam
p10
, PšNam
p11
, PšNam
p12
, PšNam
p13
, PšNam
p14
, PšNam
p15
) {

22 
PšName
 
	gpšs
[16] = {
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, 
p7
, 
p8
, 
p9
, 
p10
, 
p11
, 
p12
, 
p13
, 
p14
, 
p15
};

24 
	g_nc_mask
 = 0;

25 
	gi
=0; i<16; i++) {

26 
	g_pš
[
i
] = (
pšs
[i] !ğ
NC
è? 
Ãw
 
Dig™®In
(pins[i]) : 0;

27 ià(
	gpšs
[
i
] !ğ
NC
) {

28 
_nc_mask
 |ğ(1 << 
i
);

33 
	gBusIn
::
BusIn
(
PšName
 
pšs
[16]) {

34 
_nc_mask
 = 0;

35 
	gi
=0; i<16; i++) {

36 
	g_pš
[
i
] = (
pšs
[i] !ğ
NC
è? 
Ãw
 
Dig™®In
(pins[i]) : 0;

37 ià(
	gpšs
[
i
] !ğ
NC
) {

38 
_nc_mask
 |ğ(1 << 
i
);

43 
	gBusIn
::~
BusIn
() {

44 
i
=0; 
	gi
<16; i++) {

45 ià(
	g_pš
[
i
] != 0) {

46 
d–‘e
 
_pš
[
i
];

51 
	gBusIn
::
»ad
() {

52 
v
 = 0;

53 
	gi
=0; i<16; i++) {

54 ià(
	g_pš
[
i
] != 0) {

55 
v
 |ğ
_pš
[
i
]->
»ad
() << i;

58  
	gv
;

61 
	gBusIn
::
mode
(
PšMode
 
puÎ
) {

62 
i
=0; 
	gi
<16; i++) {

63 ià(
	g_pš
[
i
] != 0) {

64 
_pš
[
i
]->
mode
(
puÎ
);

69 #ifdeà
MBED_OPERATORS


70 
	gBusIn
::
İ”©Ü
 () {

71  
»ad
();

74 
	gDig™®In
& 
	gBusIn
::
İ”©Ü
[] (
šdex
) {

75 
MBED_ASSERT
(
šdex
 >= 0 && index <= 16);

76 
MBED_ASSERT
(
_pš
[
šdex
]);

77  *
	g_pš
[
šdex
];

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\BusInOut.cpp

16 
	~"BusInOut.h
"

17 
	~"mbed_as£¹.h
"

19 
Çme¥aû
 
	gmbed
 {

21 
	gBusInOut
::
BusInOut
(
PšName
 
p0
, PšNam
p1
, PšNam
p2
, PšNam
p3
, PšNam
p4
, PšNam
p5
, PšNam
p6
, PšNam
p7
, PšNam
p8
, PšNam
p9
, PšNam
p10
, PšNam
p11
, PšNam
p12
, PšNam
p13
, PšNam
p14
, PšNam
p15
) {

22 
PšName
 
	gpšs
[16] = {
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, 
p7
, 
p8
, 
p9
, 
p10
, 
p11
, 
p12
, 
p13
, 
p14
, 
p15
};

24 
	g_nc_mask
 = 0;

25 
	gi
=0; i<16; i++) {

26 
	g_pš
[
i
] = (
pšs
[i] !ğ
NC
è? 
Ãw
 
Dig™®InOut
(pins[i]) : 0;

27 ià(
	gpšs
[
i
] !ğ
NC
) {

28 
_nc_mask
 |ğ(1 << 
i
);

33 
	gBusInOut
::
BusInOut
(
PšName
 
pšs
[16]) {

34 
_nc_mask
 = 0;

35 
	gi
=0; i<16; i++) {

36 
	g_pš
[
i
] = (
pšs
[i] !ğ
NC
è? 
Ãw
 
Dig™®InOut
(pins[i]) : 0;

37 ià(
	gpšs
[
i
] !ğ
NC
) {

38 
_nc_mask
 |ğ(1 << 
i
);

43 
	gBusInOut
::~
BusInOut
() {

44 
i
=0; 
	gi
<16; i++) {

45 ià(
	g_pš
[
i
] != 0) {

46 
d–‘e
 
_pš
[
i
];

51 
	gBusInOut
::
wr™e
(
v®ue
) {

52 
i
=0; 
	gi
<16; i++) {

53 ià(
	g_pš
[
i
] != 0) {

54 
_pš
[
i
]->
wr™e
((
v®ue
 >> i) & 1);

59 
	gBusInOut
::
»ad
() {

60 
v
 = 0;

61 
	gi
=0; i<16; i++) {

62 ià(
	g_pš
[
i
] != 0) {

63 
v
 |ğ
_pš
[
i
]->
»ad
() << i;

66  
	gv
;

69 
	gBusInOut
::
ouut
() {

70 
i
=0; 
	gi
<16; i++) {

71 ià(
	g_pš
[
i
] != 0) {

72 
_pš
[
i
]->
ouut
();

77 
	gBusInOut
::
šput
() {

78 
i
=0; 
	gi
<16; i++) {

79 ià(
	g_pš
[
i
] != 0) {

80 
_pš
[
i
]->
šput
();

85 
	gBusInOut
::
mode
(
PšMode
 
puÎ
) {

86 
i
=0; 
	gi
<16; i++) {

87 ià(
	g_pš
[
i
] != 0) {

88 
_pš
[
i
]->
mode
(
puÎ
);

93 #ifdeà
MBED_OPERATORS


94 
	gBusInOut
& BusInOut::
İ”©Ü
ğ(
v
) {

95 
wr™e
(
v
);

96  *
	gthis
;

99 
	gBusInOut
& BusInOut::
İ”©Ü
ğ(
BusInOut
& 
rhs
) {

100 
wr™e
(
rhs
.
»ad
());

101  *
	gthis
;

104 
	gDig™®InOut
& 
	gBusInOut
::
İ”©Ü
[] (
šdex
) {

105 
MBED_ASSERT
(
šdex
 >= 0 && index <= 16);

106 
MBED_ASSERT
(
_pš
[
šdex
]);

107  *
	g_pš
[
šdex
];

110 
	gBusInOut
::
İ”©Ü
 () {

111  
»ad
();

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\BusOut.cpp

16 
	~"BusOut.h
"

17 
	~"mbed_as£¹.h
"

19 
Çme¥aû
 
	gmbed
 {

21 
	gBusOut
::
BusOut
(
PšName
 
p0
, PšNam
p1
, PšNam
p2
, PšNam
p3
, PšNam
p4
, PšNam
p5
, PšNam
p6
, PšNam
p7
, PšNam
p8
, PšNam
p9
, PšNam
p10
, PšNam
p11
, PšNam
p12
, PšNam
p13
, PšNam
p14
, PšNam
p15
) {

22 
PšName
 
	gpšs
[16] = {
p0
, 
p1
, 
p2
, 
p3
, 
p4
, 
p5
, 
p6
, 
p7
, 
p8
, 
p9
, 
p10
, 
p11
, 
p12
, 
p13
, 
p14
, 
p15
};

24 
	g_nc_mask
 = 0;

25 
	gi
=0; i<16; i++) {

26 
	g_pš
[
i
] = (
pšs
[i] !ğ
NC
è? 
Ãw
 
Dig™®Out
(pins[i]) : 0;

27 ià(
	gpšs
[
i
] !ğ
NC
) {

28 
_nc_mask
 |ğ(1 << 
i
);

33 
	gBusOut
::
BusOut
(
PšName
 
pšs
[16]) {

34 
_nc_mask
 = 0;

35 
	gi
=0; i<16; i++) {

36 
	g_pš
[
i
] = (
pšs
[i] !ğ
NC
è? 
Ãw
 
Dig™®Out
(pins[i]) : 0;

37 ià(
	gpšs
[
i
] !ğ
NC
) {

38 
_nc_mask
 |ğ(1 << 
i
);

43 
	gBusOut
::~
BusOut
() {

44 
i
=0; 
	gi
<16; i++) {

45 ià(
	g_pš
[
i
] != 0) {

46 
d–‘e
 
_pš
[
i
];

51 
	gBusOut
::
wr™e
(
v®ue
) {

52 
i
=0; 
	gi
<16; i++) {

53 ià(
	g_pš
[
i
] != 0) {

54 
_pš
[
i
]->
wr™e
((
v®ue
 >> i) & 1);

59 
	gBusOut
::
»ad
() {

60 
v
 = 0;

61 
	gi
=0; i<16; i++) {

62 ià(
	g_pš
[
i
] != 0) {

63 
v
 |ğ
_pš
[
i
]->
»ad
() << i;

66  
	gv
;

69 #ifdeà
MBED_OPERATORS


70 
	gBusOut
& BusOut::
İ”©Ü
ğ(
v
) {

71 
wr™e
(
v
);

72  *
	gthis
;

75 
	gBusOut
& BusOut::
İ”©Ü
ğ(
BusOut
& 
rhs
) {

76 
wr™e
(
rhs
.
»ad
());

77  *
	gthis
;

80 
	gDig™®Out
& 
	gBusOut
::
İ”©Ü
[] (
šdex
) {

81 
MBED_ASSERT
(
šdex
 >= 0 && index <= 16);

82 
MBED_ASSERT
(
_pš
[
šdex
]);

83  *
	g_pš
[
šdex
];

86 
	gBusOut
::
İ”©Ü
 () {

87  
»ad
();

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\CAN.cpp

16 
	~"CAN.h
"

18 #ià
DEVICE_CAN


20 
	~"cmsis.h
"

22 
Çme¥aû
 
	gmbed
 {

24 
	gCAN
::
CAN
(
PšName
 
rd
, PšNam
td
è: 
_ÿn
(), 
_œq
() {

25 
ÿn_š™
(&
_ÿn
, 
rd
, 
td
);

26 
ÿn_œq_š™
(&
_ÿn
, (&
CAN
::
_œq_hªdËr
), (
ušt32_t
)
this
);

29 
	gCAN
::~
CAN
() {

30 
ÿn_œq_ä“
(&
_ÿn
);

31 
ÿn_ä“
(&
_ÿn
);

34 
	gCAN
::
äequ’cy
(
f
) {

35  
ÿn_äequ’cy
(&
_ÿn
, 
f
);

38 
	gCAN
::
wr™e
(
CANMes§ge
 
msg
) {

39  
ÿn_wr™e
(&
_ÿn
, 
msg
, 0);

42 
	gCAN
::
»ad
(
CANMes§ge
 &
msg
, 
hªdË
) {

43  
ÿn_»ad
(&
_ÿn
, &
msg
, 
hªdË
);

46 
	gCAN
::
»£t
() {

47 
ÿn_»£t
(&
_ÿn
);

50 
	gCAN
::
rd”rÜ
() {

51  
ÿn_rd”rÜ
(&
_ÿn
);

54 
	gCAN
::
td”rÜ
() {

55  
ÿn_td”rÜ
(&
_ÿn
);

58 
	gCAN
::
mÚ™Ü
(
boŞ
 
s’t
) {

59 
ÿn_mÚ™Ü
(&
_ÿn
, (
s’t
) ? 1 : 0);

62 
	gCAN
::
mode
(
Mode
 mode) {

63  
ÿn_mode
(&
_ÿn
, (
CªMode
)
mode
);

66 
	gCAN
::
f‹r
(
id
, 
mask
, 
CANFÜm©
 
fÜm©
, 
hªdË
) {

67  
ÿn_f‹r
(&
_ÿn
, 
id
, 
mask
, 
fÜm©
, 
hªdË
);

70 
	gCAN
::
©ch
((*
åŒ
)(), 
IrqTy³
 
ty³
) {

71 ià(
	gåŒ
) {

72 
	g_œq
[(
CªIrqTy³
)
ty³
].
©ch
(
åŒ
);

73 
ÿn_œq_£t
(&
_ÿn
, (
CªIrqTy³
)
ty³
, 1);

75 
ÿn_œq_£t
(&
_ÿn
, (
CªIrqTy³
)
ty³
, 0);

79 
	gCAN
::
_œq_hªdËr
(
ušt32_t
 
id
, 
CªIrqTy³
 
ty³
) {

80 
CAN
 *
	ghªdËr
 = (CAN*)
id
;

81 
	ghªdËr
->
	g_œq
[
ty³
].
ÿÎ
();

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\CallChain.cpp

1 
	~"C®lChaš.h
"

2 
	~"cmsis.h
"

4 
Çme¥aû
 
	gmbed
 {

6 
	gC®lChaš
::
C®lChaš
(
size
è: 
_chaš
(), 
_size
(size), 
_–em’ts
(0) {

7 
	g_chaš
 = 
Ãw
 
pFunùiÚPoš‹r_t
[
size
]();

10 
	gC®lChaš
::~
C®lChaš
() {

11 
ş—r
();

12 
d–‘e
 
	g_chaš
;

15 
pFunùiÚPoš‹r_t
 
	gC®lChaš
::
add
((*
funùiÚ
)()) {

16  
commÚ_add
(
Ãw
 
FunùiÚPoš‹r
(
funùiÚ
));

19 
pFunùiÚPoš‹r_t
 
	gC®lChaš
::
add_äÚt
((*
funùiÚ
)()) {

20  
commÚ_add_äÚt
(
Ãw
 
FunùiÚPoš‹r
(
funùiÚ
));

23 
	gC®lChaš
::
size
() const {

24  
_–em’ts
;

27 
pFunùiÚPoš‹r_t
 
	gC®lChaš
::
g‘
(
i
) const {

28 ià(
i
 < 0 || i >ğ
_–em’ts
)

29  
NULL
;

30  
	g_chaš
[
i
];

33 
	gC®lChaš
::
fšd
(
pFunùiÚPoš‹r_t
 
f
) const {

34 
i
 = 0; 
	gi
 < 
	g_–em’ts
; i++)

35 ià(
	gf
 =ğ
_chaš
[
i
])

36  
i
;

40 
	gC®lChaš
::
ş—r
() {

41 
i
 = 0; 
	gi
 < 
	g_–em’ts
; i ++) {

42 
d–‘e
 
	g_chaš
[
i
];

43 
	g_chaš
[
i
] = 
NULL
;

45 
	g_–em’ts
 = 0;

48 
boŞ
 
	gC®lChaš
::
»move
(
pFunùiÚPoš‹r_t
 
f
) {

49 
i
;

51 ià((
	gi
 = 
fšd
(
f
)) == -1)

52  
çl£
;

53 ià(
	gi
 !ğ
_–em’ts
 - 1)

54 
memmove
(
_chaš
 + 
i
, _chaš + i + 1, (
_–em’ts
 - i - 1è* (
pFunùiÚPoš‹r_t
));

55 
d–‘e
 
	gf
;

56 
	g_–em’ts
 --;

57  
	gŒue
;

60 
	gC®lChaš
::
ÿÎ
() {

61 
i
 = 0; 
	gi
 < 
	g_–em’ts
; i++)

62 
	g_chaš
[
i
]->
ÿÎ
();

65 
	gC®lChaš
::
_check_size
() {

66 ià(
_–em’ts
 < 
_size
)

68 
	g_size
 = (
_size
 < 4) ? 4 : _size + 4;

69 
pFunùiÚPoš‹r_t
* 
	gÃw_chaš
 = 
Ãw
…FunùiÚPoš‹r_t[
_size
]();

70 
memıy
(
Ãw_chaš
, 
_chaš
, 
_–em’ts
 * (
pFunùiÚPoš‹r_t
));

71 
d–‘e
 
	g_chaš
;

72 
	g_chaš
 = 
Ãw_chaš
;

75 
pFunùiÚPoš‹r_t
 
	gC®lChaš
::
commÚ_add
ÕFunùiÚPoš‹r_ˆ
pf
) {

76 
_check_size
();

77 
	g_chaš
[
_–em’ts
] = 
pf
;

78 
	g_–em’ts
 ++;

79  
	gpf
;

82 
pFunùiÚPoš‹r_t
 
	gC®lChaš
::
commÚ_add_äÚt
ÕFunùiÚPoš‹r_ˆ
pf
) {

83 
_check_size
();

84 
memmove
(
_chaš
 + 1, _chaš, 
_–em’ts
 * (
pFunùiÚPoš‹r_t
));

85 
	g_chaš
[0] = 
pf
;

86 
	g_–em’ts
 ++;

87  
	gpf
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\Ethernet.cpp

16 
	~"Eth”Ãt.h
"

18 #ià
DEVICE_ETHERNET


20 
	~"‘h”Ãt_­i.h
"

22 
Çme¥aû
 
	gmbed
 {

24 
	gEth”Ãt
::
Eth”Ãt
() {

25 
‘h”Ãt_š™
();

28 
	gEth”Ãt
::~
Eth”Ãt
() {

29 
‘h”Ãt_ä“
();

32 
	gEth”Ãt
::
wr™e
(cÚ¡ *
d©a
, 
size
) {

33  
‘h”Ãt_wr™e
(
d©a
, 
size
);

36 
	gEth”Ãt
::
£nd
() {

37  
‘h”Ãt_£nd
();

40 
	gEth”Ãt
::
»ûive
() {

41  
‘h”Ãt_»ûive
();

44 
	gEth”Ãt
::
»ad
(*
d©a
, 
size
) {

45  
‘h”Ãt_»ad
(
d©a
, 
size
);

48 
	gEth”Ãt
::
add»ss
(*
mac
) {

49  
‘h”Ãt_add»ss
(
mac
);

52 
	gEth”Ãt
::
lšk
() {

53  
‘h”Ãt_lšk
();

56 
	gEth”Ãt
::
£t_lšk
(
Mode
 
mode
) {

57 
¥“d
 = -1;

58 
	gdu¶ex
 = 0;

60 
	gmode
) {

61 
	gAutoNegÙŸ‹
 : 
¥“d
 = -1; 
	gdu¶ex
 = 0; ;

62 
	gH®fDu¶ex10
 : 
¥“d
 = 0; 
	gdu¶ex
 = 0; ;

63 
	gFuÎDu¶ex10
 : 
¥“d
 = 0; 
	gdu¶ex
 = 1; ;

64 
	gH®fDu¶ex100
 : 
¥“d
 = 1; 
	gdu¶ex
 = 0; ;

65 
	gFuÎDu¶ex100
 : 
¥“d
 = 1; 
	gdu¶ex
 = 1; ;

68 
‘h”Ãt_£t_lšk
(
¥“d
, 
du¶ex
);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\FileBase.cpp

16 
	~"FeBa£.h
"

18 
Çme¥aû
 
	gmbed
 {

20 
FeBa£
 *
	gFeBa£
::
_h—d
 = 
NULL
;

22 
	gFeBa£
::
FeBa£
(cÚ¡ *
Çme
, 
P©hTy³
 
t
è: 
_Ãxt
(
NULL
),

23 
_Çme
(
Çme
),

24 
_·th_ty³
(
t
) {

25 ià(
	gÇme
 !ğ
NULL
) {

27 
_Ãxt
 = 
_h—d
;

28 
	g_h—d
 = 
this
;

30 
	g_Ãxt
 = 
NULL
;

34 
	gFeBa£
::~
FeBa£
() {

35 ià(
_Çme
 !ğ
NULL
) {

37 ià(
_h—d
 =ğ
this
) {

38 
_h—d
 = 
_Ãxt
;

40 
FeBa£
 *
	gp
 = 
_h—d
;

41 
	gp
->
	g_Ãxt
 !ğ
this
) {

42 
p
 =…->
_Ãxt
;

44 
	gp
->
	g_Ãxt
 = 
_Ãxt
;

49 
FeBa£
 *
	gFeBa£
::
lookup
(cÚ¡ *
Çme
, 
Ën
) {

50 
FeBa£
 *
	gp
 = 
_h—d
;

51 
	gp
 !ğ
NULL
) {

53 ià(
p
->
_Çme
 !ğ
NULL
 && 
¡d
::
¡ºcmp
Õ->_Çme, 
Çme
, 
Ën
è=ğ0 && std::
¡¾’
(p->_name) ==†en) {

54  
p
;

56 
	gp
 = 
p
->
_Ãxt
;

58  
	gNULL
;

61 
FeBa£
 *
	gFeBa£
::
g‘
(
n
) {

62 
FeBa£
 *
p
 = 
_h—d
;

63 
	gm
 = 0;

64 
	gp
 !ğ
NULL
) {

65 ià(
m
 =ğ
n
è 
p
;

67 
	gm
++;

68 
	gp
 = 
p
->
_Ãxt
;

70  
	gNULL
;

73 cÚ¡ * 
	gFeBa£
::
g‘Name
() {

74  
_Çme
;

77 
P©hTy³
 
	gFeBa£
::
g‘P©hTy³
() {

78  
_·th_ty³
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\FileLike.cpp

16 
	~"FeLike.h
"

18 
Çme¥aû
 
	gmbed
 {

20 
	gFeLike
::
FeLike
(cÚ¡ *
Çme
è: 
FeHªdË
(), 
FeBa£
Òame, 
FeP©hTy³
) {

24 
	gFeLike
::~
FeLike
() {

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\FilePath.cpp

16 
	~"FeP©h.h
"

18 
Çme¥aû
 
	gmbed
 {

20 
	gFeP©h
::
FeP©h
(cÚ¡ * 
fe_·th
è: 
fe_Çme
(
NULL
), 
fb
(NULL) {

21 ià((
	gfe_·th
[0] !ğ'/'è|| (
fe_·th
[1] == 0)) ;

23 cÚ¡ * 
	gfe_sy¡em
 = &
fe_·th
[1];

24 
	gfe_Çme
 = 
fe_sy¡em
;

25 
	gËn
 = 0;

26 
	gŒue
) {

27 
	gc
 = *
fe_Çme
;

28 ià(
	gc
 == '/') {

29 
fe_Çme
++;

32 ià(
	gc
 == 0) {

35 
	gËn
++;

36 
	gfe_Çme
++;

39 
	gfb
 = 
FeBa£
::
lookup
(
fe_sy¡em
, 
Ën
);

42 cÚ¡ * 
	gFeP©h
::
feName
() {

43  
fe_Çme
;

46 
boŞ
 
	gFeP©h
::
isFeSy¡em
() {

47 ià(
NULL
 =ğ
fb
)

48  
çl£
;

49  (
	gfb
->
g‘P©hTy³
(è=ğ
FeSy¡emP©hTy³
);

52 
FeSy¡emLike
* 
	gFeP©h
::
feSy¡em
() {

53 ià(
isFeSy¡em
()) {

54  (
FeSy¡emLike
*)
fb
;

56  
	gNULL
;

59 
boŞ
 
	gFeP©h
::
isFe
() {

60 ià(
NULL
 =ğ
fb
)

61  
çl£
;

62  (
	gfb
->
g‘P©hTy³
(è=ğ
FeP©hTy³
);

65 
FeLike
* 
	gFeP©h
::
fe
() {

66 ià(
isFe
()) {

67  (
FeLike
*)
fb
;

69  
	gNULL
;

72 
boŞ
 
	gFeP©h
::
exi¡s
() {

73  
fb
 !ğ
NULL
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\FileSystemLike.cpp

16 
	~"FeSy¡emLike.h
"

18 
Çme¥aû
 
	gmbed
 {

20 şas 
	cBa£DœHªdË
 : 
public
 
DœHªdË
 {

21 
public
:

29 
off_t
 
n
;

30 
dœ’t
 
	gcur_’Œy
;

32 
Ba£DœHªdË
(è: 
n
(0), 
cur_’Œy
() {

35 
vœtu®
 
şo£dœ
() {

36 
d–‘e
 
	gthis
;

40 
vœtu®
 
dœ’t
 *
»addœ
() {

41 
FeBa£
 *
	g±r
 = FeBa£::
g‘
(
n
);

42 ià(
	g±r
 =ğ
NULL
)  NULL;

45 
	gn
++;

48 
	g¡d
::
¡ºıy
(
cur_’Œy
.
d_Çme
, 
±r
->
g‘Name
(), 
NAME_MAX
);

49  &
	gcur_’Œy
;

52 
vœtu®
 
off_t
 
‹Îdœ
() {

53  
	gn
;

56 
vœtu®
 
£ekdœ
(
off_t
 
off£t
) {

57 
	gn
 = 
off£t
;

60 
vœtu®
 
»wšddœ
() {

61 
	gn
 = 0;

65 
	gFeSy¡emLike
::
	$FeSy¡emLike
(cÚ¡ *
Çme
è: 
	$FeBa£
(
Çme
, 
FeSy¡emP©hTy³
) {

67 
	}
}

69 
	gFeSy¡emLike
::~
	$FeSy¡emLike
() {

71 
	}
}

73 
DœHªdË
 *
FeSy¡emLike
::
	$İ’dœ
() {

74  
Ãw
 
	`Ba£DœHªdË
();

75 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\I2C.cpp

16 
	~"I2C.h
"

18 #ià
DEVICE_I2C


20 
Çme¥aû
 
	gmbed
 {

22 
I2C
 *
	gI2C
::
_owÃr
 = 
NULL
;

24 
	gI2C
::
I2C
(
PšName
 
sda
, PšNam
sş
) :

25 #ià
DEVICE_I2C_ASYNCH


26 
_œq
(
this
), 
_u§ge
(
DMA_USAGE_NEVER
),

28 
_i2c
(), 
_hz
(100000) {

30 
i2c_š™
(&
_i2c
, 
sda
, 
sş
);

33 
	g_owÃr
 = 
this
;

36 
	gI2C
::
äequ’cy
(
hz
) {

37 
_hz
 = 
hz
;

40 
i2c_äequ’cy
(&
_i2c
, 
_hz
);

43 
	g_owÃr
 = 
this
;

46 
	gI2C
::
aquœe
() {

47 ià(
_owÃr
 !ğ
this
) {

48 
i2c_äequ’cy
(&
_i2c
, 
_hz
);

49 
	g_owÃr
 = 
this
;

54 
	gI2C
::
wr™e
(
add»ss
, cÚ¡ * 
d©a
, 
Ëngth
, 
boŞ
 
»³©ed
) {

55 
aquœe
();

57 
	g¡İ
 = (
»³©ed
) ? 0 : 1;

58 
	gwr™‹n
 = 
i2c_wr™e
(&
_i2c
, 
add»ss
, 
d©a
, 
Ëngth
, 
¡İ
);

60  
	gËngth
 !ğ
wr™‹n
;

63 
	gI2C
::
wr™e
(
d©a
) {

64  
i2c_by‹_wr™e
(&
_i2c
, 
d©a
);

68 
	gI2C
::
»ad
(
add»ss
, * 
d©a
, 
Ëngth
, 
boŞ
 
»³©ed
) {

69 
aquœe
();

71 
	g¡İ
 = (
»³©ed
) ? 0 : 1;

72 
	g»ad
 = 
i2c_»ad
(&
_i2c
, 
add»ss
, 
d©a
, 
Ëngth
, 
¡İ
);

74  
	gËngth
 !ğ
»ad
;

77 
	gI2C
::
»ad
(
ack
) {

78 ià(
ack
) {

79  
i2c_by‹_»ad
(&
_i2c
, 0);

81  
i2c_by‹_»ad
(&
_i2c
, 1);

85 
	gI2C
::
¡¬t
() {

86 
i2c_¡¬t
(&
_i2c
);

89 
	gI2C
::
¡İ
() {

90 
i2c_¡İ
(&
_i2c
);

93 #ià
DEVICE_I2C_ASYNCH


95 
	gI2C
::
Œªsãr
(
add»ss
, cÚ¡ *
tx_bufãr
, 
tx_Ëngth
, *
rx_bufãr
, 
rx_Ëngth
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
, 
boŞ
 
»³©ed
)

97 ià(
i2c_aùive
(&
_i2c
)) {

100 
aquœe
();

102 
	g_ÿÎback
 = 
ÿÎback
;

103 
	g¡İ
 = (
»³©ed
) ? 0 : 1;

104 
	g_œq
.
ÿÎback
(&
I2C
::
œq_hªdËr_asynch
);

105 
i2c_Œªsãr_asynch
(&
_i2c
, (*)
tx_bufãr
, 
tx_Ëngth
, (*)
rx_bufãr
, 
rx_Ëngth
, 
add»ss
, 
¡İ
, 
_œq
.
’Œy
(), 
ev’t
, 
_u§ge
);

109 
	gI2C
::
abÜt_Œªsãr
()

111 
i2c_abÜt_asynch
(&
_i2c
);

114 
	gI2C
::
œq_hªdËr_asynch
()

116 
ev’t
 = 
i2c_œq_hªdËr_asynch
(&
_i2c
);

117 ià(
	g_ÿÎback
 && 
	gev’t
) {

118 
	g_ÿÎback
.
ÿÎ
(
ev’t
);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\I2CSlave.cpp

16 
	~"I2CSÏve.h
"

18 #ià
DEVICE_I2CSLAVE


20 
Çme¥aû
 
	gmbed
 {

22 
	gI2CSÏve
::
I2CSÏve
(
PšName
 
sda
, PšNam
sş
è: 
_i2c
() {

23 
i2c_š™
(&
_i2c
, 
sda
, 
sş
);

24 
i2c_äequ’cy
(&
_i2c
, 100000);

25 
i2c_¦ave_mode
(&
_i2c
, 1);

28 
	gI2CSÏve
::
äequ’cy
(
hz
) {

29 
i2c_äequ’cy
(&
_i2c
, 
hz
);

32 
	gI2CSÏve
::
add»ss
(address) {

33 
addr
 = (
add»ss
 & 0xFF) | 1;

34 
i2c_¦ave_add»ss
(&
_i2c
, 0, 
addr
, 0);

37 
	gI2CSÏve
::
»ûive
() {

38  
i2c_¦ave_»ûive
(&
_i2c
);

41 
	gI2CSÏve
::
»ad
(*
d©a
, 
Ëngth
) {

42  
i2c_¦ave_»ad
(&
_i2c
, 
d©a
, 
Ëngth
) !=†ength;

45 
	gI2CSÏve
::
»ad
() {

46  
i2c_by‹_»ad
(&
_i2c
, 0);

49 
	gI2CSÏve
::
wr™e
(cÚ¡ *
d©a
, 
Ëngth
) {

50  
i2c_¦ave_wr™e
(&
_i2c
, 
d©a
, 
Ëngth
) !=†ength;

53 
	gI2CSÏve
::
wr™e
(
d©a
) {

54  
i2c_by‹_wr™e
(&
_i2c
, 
d©a
);

57 
	gI2CSÏve
::
¡İ
() {

58 
i2c_¡İ
(&
_i2c
);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\InterruptIn.cpp

16 
	~"IÁ”ru±In.h
"

18 #ià
DEVICE_INTERRUPTIN


20 
Çme¥aû
 
	gmbed
 {

22 
	gIÁ”ru±In
::
IÁ”ru±In
(
PšName
 
pš
è: 
gpio
(),

23 
gpio_œq
(),

24 
_ri£
(),

25 
_çÎ
() {

26 
gpio_œq_š™
(&
gpio_œq
, 
pš
, (&
IÁ”ru±In
::
_œq_hªdËr
), (
ušt32_t
)
this
);

27 
gpio_š™_š
(&
gpio
, 
pš
);

30 
	gIÁ”ru±In
::~
IÁ”ru±In
() {

31 
gpio_œq_ä“
(&
gpio_œq
);

34 
	gIÁ”ru±In
::
»ad
() {

35  
gpio_»ad
(&
gpio
);

38 
	gIÁ”ru±In
::
mode
(
PšMode
 
puÎ
) {

39 
gpio_mode
(&
gpio
, 
puÎ
);

42 
	gIÁ”ru±In
::
ri£
((*
åŒ
)()) {

43 ià(
åŒ
) {

44 
_ri£
.
©ch
(
åŒ
);

45 
gpio_œq_£t
(&
gpio_œq
, 
IRQ_RISE
, 1);

47 
gpio_œq_£t
(&
gpio_œq
, 
IRQ_RISE
, 0);

51 
	gIÁ”ru±In
::
çÎ
((*
åŒ
)()) {

52 ià(
åŒ
) {

53 
_çÎ
.
©ch
(
åŒ
);

54 
gpio_œq_£t
(&
gpio_œq
, 
IRQ_FALL
, 1);

56 
gpio_œq_£t
(&
gpio_œq
, 
IRQ_FALL
, 0);

60 
	gIÁ”ru±In
::
_œq_hªdËr
(
ušt32_t
 
id
, 
gpio_œq_ev’t
 
ev’t
) {

61 
IÁ”ru±In
 *
	ghªdËr
 = (IÁ”ru±In*)
id
;

62 
	gev’t
) {

63 
	gIRQ_RISE
: 
hªdËr
->
_ri£
.
ÿÎ
(); ;

64 
	gIRQ_FALL
: 
hªdËr
->
_çÎ
.
ÿÎ
(); ;

65 
	gIRQ_NONE
: ;

69 
	gIÁ”ru±In
::
’abË_œq
() {

70 
gpio_œq_’abË
(&
gpio_œq
);

73 
	gIÁ”ru±In
::
di§bË_œq
() {

74 
gpio_œq_di§bË
(&
gpio_œq
);

77 #ifdeà
MBED_OPERATORS


78 
	gIÁ”ru±In
::
İ”©Ü
 () {

79  
»ad
();

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\InterruptManager.cpp

1 
	~"cmsis.h
"

2 #ià
defšed
(
NVIC_NUM_VECTORS
)

4 
	~"IÁ”ru±Mªag”.h
"

5 
	~<¡ršg.h
>

7 
	#CHAIN_INITIAL_SIZE
 4

	)

9 
Çme¥aû
 
	gmbed
 {

11 (*
	gpvoidf
)();

13 
IÁ”ru±Mªag”
* 
	gIÁ”ru±Mªag”
::
_š¡ªû
 = (IÁ”ru±Mªag”*)
NULL
;

15 
IÁ”ru±Mªag”
* 
	gIÁ”ru±Mªag”
::
g‘
() {

16 ià(
NULL
 =ğ
_š¡ªû
)

17 
_š¡ªû
 = 
Ãw
 
IÁ”ru±Mªag”
();

18  
	g_š¡ªû
;

21 
	gIÁ”ru±Mªag”
::
IÁ”ru±Mªag”
() {

22 
mem£t
(
_chašs
, 0, 
NVIC_NUM_VECTORS
 * (
C®lChaš
*));

25 
	gIÁ”ru±Mªag”
::
de¡roy
() {

29 ià(
NULL
 !ğ
_š¡ªû
) {

30 
d–‘e
 
_š¡ªû
;

31 
	g_š¡ªû
 = (
IÁ”ru±Mªag”
*)
NULL
;

35 
	gIÁ”ru±Mªag”
::~
IÁ”ru±Mªag”
() {

36 
i
 = 0; 
	gi
 < 
	gNVIC_NUM_VECTORS
; i++)

37 ià(
	gNULL
 !ğ
_chašs
[
i
])

38 
d–‘e
 
_chašs
[
i
];

41 
boŞ
 
	gIÁ”ru±Mªag”
::
mu¡_»¶aû_veùÜ
(
IRQn_Ty³
 
œq
) {

42 
œq_pos
 = 
g‘_œq_šdex
(
œq
);

44 ià(
	gNULL
 =ğ
_chašs
[
œq_pos
]) {

45 
_chašs
[
œq_pos
] = 
Ãw
 
C®lChaš
(
CHAIN_INITIAL_SIZE
);

46 
	g_chašs
[
œq_pos
]->
add
((
pvoidf
)
NVIC_G‘VeùÜ
(
œq
));

47  
	gŒue
;

49  
	gçl£
;

52 
pFunùiÚPoš‹r_t
 
	gIÁ”ru±Mªag”
::
add_commÚ
((*
funùiÚ
)(), 
IRQn_Ty³
 
œq
, 
boŞ
 
äÚt
) {

53 
	gœq_pos
 = 
g‘_œq_šdex
(
œq
);

54 
boŞ
 
	gchªge
 = 
mu¡_»¶aû_veùÜ
(
œq
);

56 
pFunùiÚPoš‹r_t
 
	gpf
 = 
äÚt
 ? 
_chašs
[
œq_pos
]->
add_äÚt
(
funùiÚ
è: _chašs[œq_pos]->
add
(function);

57 ià(
	gchªge
)

58 
NVIC_S‘VeùÜ
(
œq
, (
ušt32_t
)&
IÁ”ru±Mªag”
::
¡©ic_œq_h–³r
);

59  
	gpf
;

62 
boŞ
 
	gIÁ”ru±Mªag”
::
»move_hªdËr
(
pFunùiÚPoš‹r_t
 
hªdËr
, 
IRQn_Ty³
 
œq
) {

63 
	gœq_pos
 = 
g‘_œq_šdex
(
œq
);

65 ià(
	gNULL
 =ğ
_chašs
[
œq_pos
])

66  
çl£
;

67 ià(!
	g_chašs
[
œq_pos
]->
»move
(
hªdËr
))

68  
	gçl£
;

71 ià(
	g_chašs
[
œq_pos
]->
size
(è=ğ1 && 
NULL
 !ğ
_chašs
[œq_pos]->
g‘
(0)->
g‘_funùiÚ
()) {

72 
NVIC_S‘VeùÜ
(
œq
, (
ušt32_t
)
_chašs
[
œq_pos
]->
g‘
(0)->
g‘_funùiÚ
());

73 
d–‘e
 
	g_chašs
[
œq_pos
];

74 
	g_chašs
[
œq_pos
] = (
C®lChaš
*è
NULL
;

76  
	gŒue
;

79 
	gIÁ”ru±Mªag”
::
œq_h–³r
() {

80 
_chašs
[
__g‘_IPSR
()]->
ÿÎ
();

83 
	gIÁ”ru±Mªag”
::
g‘_œq_šdex
(
IRQn_Ty³
 
œq
) {

84  ()
œq
 + 
NVIC_USER_IRQ_OFFSET
;

87 
	gIÁ”ru±Mªag”
::
¡©ic_œq_h–³r
() {

88 
IÁ”ru±Mªag”
::
g‘
()->
œq_h–³r
();

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\LocalFileSystem.cpp

16 
	~"LoÿlFeSy¡em.h
"

18 #ià
DEVICE_LOCALFILESYSTEM


20 
	~"£miho¡_­i.h
"

21 
	~<¡ršg.h
>

22 
	~<¡dio.h
>

24 
Çme¥aû
 
	gmbed
 {

28 
	ghr
;

29 
	gmš
;

30 
	g£c
;

31 
	gday
;

32 
	gmÚ
;

33 
	gy—r
;

34 } 
	tFTIME
;

37 
	gÇme
[32];

38 
	gsize
;

39 
	gfeID
;

40 
FTIME
 
	gü—‹_time
;

41 
FTIME
 
	gwr™e_time
;

42 } 
	tXFINFO
;

44 
	#RESERVED_FOR_USER_APPLICATIONS
 (0x100è

	)

45 
	#USR_XFFIND
 (
RESERVED_FOR_USER_APPLICATIONS
 + 0)

	)

47 
xffšd
 (cÚ¡ *
·‰”n
, 
XFINFO
 *
šfo
) {

48 
	g·¿m
[4];

50 
	g·¿m
[0] = ()
·‰”n
;

51 
	g·¿m
[1] = ()
¡¾’
(
·‰”n
);

52 
	g·¿m
[2] = ()
šfo
;

53 
	g·¿m
[3] = ()(
XFINFO
);

55  
__£miho¡
(
USR_XFFIND
, 
·¿m
);

58 
	#OPEN_R
 0

	)

59 
	#OPEN_B
 1

	)

60 
	#OPEN_PLUS
 2

	)

61 
	#OPEN_W
 4

	)

62 
	#OPEN_A
 8

	)

63 
	#OPEN_INVALID
 -1

	)

65 
posix_to_£miho¡_İ’_æags
(
æags
) {

67 
	gİ’mode
;

68 ià(
	gæags
 & 
	gO_RDWR
) {

70 
	gİ’mode
 = 
OPEN_PLUS
;

71 ià(
	gæags
 & 
	gO_APPEND
) {

72 
	gİ’mode
 |ğ
OPEN_A
;

73 } ià(
	gæags
 & 
	gO_TRUNC
) {

74 
	gİ’mode
 |ğ
OPEN_W
;

76 
	gİ’mode
 |ğ
OPEN_R
;

78 } ià(
	gæags
 & 
	gO_WRONLY
) {

80 ià(
	gæags
 & 
	gO_APPEND
) {

81 
	gİ’mode
 = 
OPEN_A
;

83 
	gİ’mode
 = 
OPEN_W
;

85 } ià(
	gæags
 =ğ
O_RDONLY
) {

87 
İ’mode
 = 
OPEN_R
;

90 
	gİ’mode
 = 
OPEN_INVALID
;

93  
	gİ’mode
;

96 
FILEHANDLE
 
loÿl_fe_İ’
(cÚ¡ * 
Çme
, 
æags
) {

97 
	gİ’mode
 = 
posix_to_£miho¡_İ’_æags
(
æags
);

98 ià(
	gİ’mode
 =ğ
OPEN_INVALID
) {

99  (
FILEHANDLE
)
NULL
;

102 
FILEHANDLE
 
	gfh
 = 
£miho¡_İ’
(
Çme
, 
İ’mode
);

103 ià(
	gfh
 == -1) {

104  (
FILEHANDLE
)
NULL
;

107  
	gfh
;

110 
	gLoÿlFeHªdË
::
LoÿlFeHªdË
(
FILEHANDLE
 
fh
è: 
_fh
(fh), 
pos
(0) {

113 
	gLoÿlFeHªdË
::
şo£
() {

114 
»tv®
 = 
£miho¡_şo£
(
_fh
);

115 
d–‘e
 
	gthis
;

116  
	g»tv®
;

119 
ssize_t
 
	gLoÿlFeHªdË
::
wr™e
(cÚ¡ *
bufãr
, 
size_t
 
Ëngth
) {

120 
ssize_t
 
	gn
 = 
£miho¡_wr™e
(
_fh
, (cÚ¡ *)
bufãr
, 
Ëngth
, 0);

121 
	gn
 = 
Ëngth
 - 
n
;

122 
	gpos
 +ğ
n
;

123  
	gn
;

126 
ssize_t
 
	gLoÿlFeHªdË
::
»ad
(*
bufãr
, 
size_t
 
Ëngth
) {

127 
ssize_t
 
	gn
 = 
£miho¡_»ad
(
_fh
, (*)
bufãr
, 
Ëngth
, 0);

128 
	gn
 = 
Ëngth
 - 
n
;

129 
	gpos
 +ğ
n
;

130  
	gn
;

133 
	gLoÿlFeHªdË
::
i§‰y
() {

134  
£miho¡_i¡ty
(
_fh
);

137 
off_t
 
	gLoÿlFeHªdË
::
l£ek
(off_ˆ
pos™iÚ
, 
wh’û
) {

138 ià(
	gwh’û
 =ğ
SEEK_CUR
) {

139 
pos™iÚ
 +ğ
pos
;

140 } ià(
	gwh’û
 =ğ
SEEK_END
) {

141 
pos™iÚ
 +ğ
£miho¡_æ’
(
_fh
);

145 
£miho¡_£ek
(
_fh
, 
pos™iÚ
);

146 
	gpos
 = 
pos™iÚ
;

147  
	gpos™iÚ
;

150 
	gLoÿlFeHªdË
::
fsync
() {

151  
£miho¡_’su»
(
_fh
);

154 
off_t
 
	gLoÿlFeHªdË
::
æ’
() {

155  
£miho¡_æ’
(
_fh
);

158 şas 
	cLoÿlDœHªdË
 : 
public
 
DœHªdË
 {

160 
public
:

161 
dœ’t
 
cur_’Œy
;

162 
XFINFO
 
	gšfo
;

164 
LoÿlDœHªdË
(è: 
cur_’Œy
(), 
šfo
() {

167 
vœtu®
 
şo£dœ
() {

168 
d–‘e
 
	gthis
;

172 
vœtu®
 
dœ’t
 *
»addœ
() {

173 ià(
xffšd
("*", &
šfo
)!=0) {

174  
NULL
;

176 
memıy
(
cur_’Œy
.
d_Çme
, 
šfo
.
Çme
, (info.name));

177  &
	gcur_’Œy
;

180 
vœtu®
 
»wšddœ
() {

181 
	gšfo
.
	gfeID
 = 0;

184 
vœtu®
 
off_t
 
‹Îdœ
() {

185  
	gšfo
.
	gfeID
;

188 
vœtu®
 
£ekdœ
(
off_t
 
off£t
) {

189 
	gšfo
.
	gfeID
 = 
off£t
;

193 
FeHªdË
 *
	gLoÿlFeSy¡em
::
	$İ’
(cÚ¡ * 
Çme
, 
æags
) {

195 cÚ¡ *
tmp
 = 
Çme
; *tmp;mp++) {

196 ià(*
tmp
 == '/') {

197  
NULL
;

201 
İ’mode
 = 
	`posix_to_£miho¡_İ’_æags
(
æags
);

202 ià(
İ’mode
 =ğ
OPEN_INVALID
) {

203  
NULL
;

206 
FILEHANDLE
 
fh
 = 
	`£miho¡_İ’
(
Çme
, 
İ’mode
);

207 ià(
fh
 == -1) {

208  
NULL
;

210  
Ãw
 
	`LoÿlFeHªdË
(
fh
);

211 
	}
}

213 
	gLoÿlFeSy¡em
::
	$»move
(cÚ¡ *
f’ame
) {

214  
	`£miho¡_»move
(
f’ame
);

215 
	}
}

217 
DœHªdË
 *
	gLoÿlFeSy¡em
::
	$İ’dœ
(cÚ¡ *
Çme
) {

218  
Ãw
 
	`LoÿlDœHªdË
();

219 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\RawSerial.cpp

16 
	~"RawS”Ÿl.h
"

17 
	~"wa™_­i.h
"

18 
	~<c¡d¬g
>

20 #ià
DEVICE_SERIAL


22 
	#STRING_STACK_LIMIT
 120

	)

24 
Çme¥aû
 
	gmbed
 {

26 
	gRawS”Ÿl
::
RawS”Ÿl
(
PšName
 
tx
, PšNam
rx
è: 
S”ŸlBa£
(tx,„x) {

29 
	gRawS”Ÿl
::
g‘c
() {

30  
_ba£_g‘c
();

33 
	gRawS”Ÿl
::
putc
(
c
) {

34  
_ba£_putc
(
c
);

37 
	gRawS”Ÿl
::
puts
(cÚ¡ *
¡r
) {

38 *
¡r
)

39 
putc
(*
¡r
 ++);

47 
	gRawS”Ÿl
::
´štf
(cÚ¡ *
fÜm©
, ...) {

48 
	g¡d
::
va_li¡
 
¬g
;

49 
va_¡¬t
(
¬g
, 
fÜm©
);

50 
	gËn
 = 
v¢´štf
(
NULL
, 0, 
fÜm©
, 
¬g
);

51 ià(
	gËn
 < 
	gSTRING_STACK_LIMIT
) {

52 
	g‹mp
[
STRING_STACK_LIMIT
];

53 
v¥rštf
(
‹mp
, 
fÜm©
, 
¬g
);

54 
puts
(
‹mp
);

56 *
	g‹mp
 = 
Ãw
 [
Ën
 + 1];

57 
v¥rštf
(
‹mp
, 
fÜm©
, 
¬g
);

58 
puts
(
‹mp
);

59 
	gd–‘e
[] 
	g‹mp
;

61 
va_’d
(
¬g
);

62  
	gËn
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\SPI.cpp

16 
	~"SPI.h
"

18 #ià
DEVICE_SPI


20 
Çme¥aû
 
	gmbed
 {

22 #ià
DEVICE_SPI_ASYNCH
 && 
TRANSACTION_QUEUE_SIZE_SPI


23 
	gCœcuÏrBufãr
<
	gT¿n§ùiÚ
<
	gSPI
>, 
	gTRANSACTION_QUEUE_SIZE_SPI
> SPI::
_Œª§ùiÚ_bufãr
;

26 
	gSPI
::
SPI
(
PšName
 
mosi
, PšNam
miso
, PšNam
sşk
, PšNam
s£l
) :

27 
_¥i
(),

28 #ià
DEVICE_SPI_ASYNCH


29 
_œq
(
this
),

30 
_u§ge
(
DMA_USAGE_NEVER
),

32 
_b™s
(8),

33 
_mode
(0),

34 
_hz
(1000000) {

35 
¥i_š™
(&
_¥i
, 
mosi
, 
miso
, 
sşk
, 
s£l
);

36 
¥i_fÜm©
(&
_¥i
, 
_b™s
, 
_mode
, 0);

37 
¥i_äequ’cy
(&
_¥i
, 
_hz
);

40 
	gSPI
::
fÜm©
(
b™s
, 
mode
) {

41 
	g_b™s
 = 
b™s
;

42 
	g_mode
 = 
mode
;

43 
	gSPI
::
_owÃr
 = 
NULL
;

44 
aquœe
();

47 
	gSPI
::
äequ’cy
(
hz
) {

48 
_hz
 = 
hz
;

49 
	gSPI
::
_owÃr
 = 
NULL
;

50 
aquœe
();

53 
SPI
* 
	gSPI
::
_owÃr
 = 
NULL
;

56 
	gSPI
::
aquœe
() {

57 ià(
_owÃr
 !ğ
this
) {

58 
¥i_fÜm©
(&
_¥i
, 
_b™s
, 
_mode
, 0);

59 
¥i_äequ’cy
(&
_¥i
, 
_hz
);

60 
	g_owÃr
 = 
this
;

64 
	gSPI
::
wr™e
(
v®ue
) {

65 
aquœe
();

66  
¥i_ma¡”_wr™e
(&
_¥i
, 
v®ue
);

69 #ià
DEVICE_SPI_ASYNCH


71 
	gSPI
::
Œªsãr
(cÚ¡ *
tx_bufãr
, 
tx_Ëngth
, *
rx_bufãr
, 
rx_Ëngth
, 
b™_width
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
)

73 ià(
¥i_aùive
(&
_¥i
)) {

74  
queue_Œªsãr
(
tx_bufãr
, 
tx_Ëngth
, 
rx_bufãr
, 
rx_Ëngth
, 
b™_width
, 
ÿÎback
, 
ev’t
);

76 
¡¬t_Œªsãr
(
tx_bufãr
, 
tx_Ëngth
, 
rx_bufãr
, 
rx_Ëngth
, 
b™_width
, 
ÿÎback
, 
ev’t
);

80 
	gSPI
::
abÜt_Œªsãr
()

82 
¥i_abÜt_asynch
(&
_¥i
);

83 #ià
TRANSACTION_QUEUE_SIZE_SPI


84 
dequeue_Œª§ùiÚ
();

89 
	gSPI
::
ş—r_Œªsãr_bufãr
()

91 #ià
TRANSACTION_QUEUE_SIZE_SPI


92 
_Œª§ùiÚ_bufãr
.
»£t
();

96 
	gSPI
::
abÜt_®l_Œªsãrs
()

98 
ş—r_Œªsãr_bufãr
();

99 
abÜt_Œªsãr
();

102 
	gSPI
::
£t_dma_u§ge
(
DMAU§ge
 
u§ge
)

104 ià(
¥i_aùive
(&
_¥i
)) {

107 
	g_u§ge
 = 
u§ge
;

111 
	gSPI
::
queue_Œªsãr
(cÚ¡ *
tx_bufãr
, 
tx_Ëngth
, *
rx_bufãr
, 
rx_Ëngth
, 
b™_width
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
)

113 #ià
TRANSACTION_QUEUE_SIZE_SPI


114 
Œª§ùiÚ_t
 
	gt
;

116 
	gt
.
	gtx_bufãr
 = 
cÚ¡_ÿ¡
<*>(
tx_bufãr
);

117 
	gt
.
	gtx_Ëngth
 = 
tx_Ëngth
;

118 
	gt
.
	grx_bufãr
 = 
rx_bufãr
;

119 
	gt
.
	grx_Ëngth
 = 
rx_Ëngth
;

120 
	gt
.
	gev’t
 = 
ev’t
;

121 
	gt
.
	gÿÎback
 = 
ÿÎback
;

122 
	gt
.
	gwidth
 = 
b™_width
;

123 
	gT¿n§ùiÚ
<
	gSPI
> 
Œª§ùiÚ
(
this
, 
t
);

124 ià(
	g_Œª§ùiÚ_bufãr
.
fuÎ
()) {

127 
	g_Œª§ùiÚ_bufãr
.
push
(
Œª§ùiÚ
);

135 
	gSPI
::
¡¬t_Œªsãr
(cÚ¡ *
tx_bufãr
, 
tx_Ëngth
, *
rx_bufãr
, 
rx_Ëngth
, 
b™_width
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
)

137 
aquœe
();

138 
	g_ÿÎback
 = 
ÿÎback
;

139 
	g_œq
.
ÿÎback
(&
SPI
::
œq_hªdËr_asynch
);

140 
¥i_ma¡”_Œªsãr
(&
_¥i
, 
tx_bufãr
, 
tx_Ëngth
, 
rx_bufãr
, 
rx_Ëngth
, 
b™_width
, 
_œq
.
’Œy
(), 
ev’t
 , 
_u§ge
);

143 #ià
TRANSACTION_QUEUE_SIZE_SPI


145 
	gSPI
::
¡¬t_Œª§ùiÚ
(
Œª§ùiÚ_t
 *
d©a
)

147 
¡¬t_Œªsãr
(
d©a
->
tx_bufãr
, d©a->
tx_Ëngth
, d©a->
rx_bufãr
, d©a->
rx_Ëngth
, d©a->
width
, d©a->
ÿÎback
, d©a->
ev’t
);

150 
	gSPI
::
dequeue_Œª§ùiÚ
()

152 
T¿n§ùiÚ
<
SPI
> 
t
;

153 ià(
	g_Œª§ùiÚ_bufãr
.
pİ
(
t
)) {

154 
SPI
* 
	gobj
 = 
t
.
g‘_objeù
();

155 
Œª§ùiÚ_t
* 
	gd©a
 = 
t
.
g‘_Œª§ùiÚ
();

156 
	gobj
->
¡¬t_Œª§ùiÚ
(
d©a
);

162 
	gSPI
::
œq_hªdËr_asynch
()

164 
ev’t
 = 
¥i_œq_hªdËr_asynch
(&
_¥i
);

165 ià(
	g_ÿÎback
 && (
	gev’t
 & 
	gSPI_EVENT_ALL
)) {

166 
	g_ÿÎback
.
ÿÎ
(
ev’t
 & 
SPI_EVENT_ALL
);

168 #ià
TRANSACTION_QUEUE_SIZE_SPI


169 ià(
	gev’t
 & (
	gSPI_EVENT_ALL
 | 
	gSPI_EVENT_INTERNAL_TRANSFER_COMPLETE
)) {

171 
dequeue_Œª§ùiÚ
();

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\SPISlave.cpp

16 
	~"SPISÏve.h
"

18 #ià
DEVICE_SPISLAVE


20 
Çme¥aû
 
	gmbed
 {

22 
	gSPISÏve
::
SPISÏve
(
PšName
 
mosi
, PšNam
miso
, PšNam
sşk
, PšNam
s£l
) :

23 
_¥i
(),

24 
_b™s
(8),

25 
_mode
(0),

26 
_hz
(1000000)

28 
¥i_š™
(&
_¥i
, 
mosi
, 
miso
, 
sşk
, 
s£l
);

29 
¥i_fÜm©
(&
_¥i
, 
_b™s
, 
_mode
, 1);

30 
¥i_äequ’cy
(&
_¥i
, 
_hz
);

33 
	gSPISÏve
::
fÜm©
(
b™s
, 
mode
) {

34 
	g_b™s
 = 
b™s
;

35 
	g_mode
 = 
mode
;

36 
¥i_fÜm©
(&
_¥i
, 
_b™s
, 
_mode
, 1);

39 
	gSPISÏve
::
äequ’cy
(
hz
) {

40 
_hz
 = 
hz
;

41 
¥i_äequ’cy
(&
_¥i
, 
_hz
);

44 
	gSPISÏve
::
»ûive
() {

45 (
¥i_¦ave_»ûive
(&
_¥i
));

48 
	gSPISÏve
::
»ad
() {

49 (
¥i_¦ave_»ad
(&
_¥i
));

52 
	gSPISÏve
::
»¶y
(
v®ue
) {

53 
¥i_¦ave_wr™e
(&
_¥i
, 
v®ue
);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\Serial.cpp

16 
	~"S”Ÿl.h
"

17 
	~"wa™_­i.h
"

19 #ià
DEVICE_SERIAL


21 
Çme¥aû
 
	gmbed
 {

23 
	gS”Ÿl
::
S”Ÿl
(
PšName
 
tx
, PšNam
rx
, cÚ¡ *
Çme
è: 
S”ŸlBa£
Ñx,„x), 
SŒ—m
(name) {

26 
	gS”Ÿl
::
_g‘c
() {

27  
_ba£_g‘c
();

30 
	gS”Ÿl
::
_putc
(
c
) {

31  
_ba£_putc
(
c
);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\SerialBase.cpp

16 
	~"S”ŸlBa£.h
"

17 
	~"wa™_­i.h
"

19 #ià
DEVICE_SERIAL


21 
Çme¥aû
 
	gmbed
 {

23 
	gS”ŸlBa£
::
S”ŸlBa£
(
PšName
 
tx
, PšNam
rx
) :

24 #ià
DEVICE_SERIAL_ASYNCH


25 
_thunk_œq
(
this
), 
_tx_u§ge
(
DMA_USAGE_NEVER
),

26 
_rx_u§ge
(
DMA_USAGE_NEVER
),

28 
_£rŸl
(), 
_baud
(9600) {

29 
£rŸl_š™
(&
_£rŸl
, 
tx
, 
rx
);

30 
£rŸl_œq_hªdËr
(&
_£rŸl
, 
S”ŸlBa£
::
_œq_hªdËr
, (
ušt32_t
)
this
);

33 
	gS”ŸlBa£
::
baud
(
baud¿‹
) {

34 
£rŸl_baud
(&
_£rŸl
, 
baud¿‹
);

35 
	g_baud
 = 
baud¿‹
;

38 
	gS”ŸlBa£
::
fÜm©
(
b™s
, 
P¬™y
 
·r™y
, 
¡İ_b™s
) {

39 
£rŸl_fÜm©
(&
_£rŸl
, 
b™s
, (
S”ŸlP¬™y
)
·r™y
, 
¡İ_b™s
);

42 
	gS”ŸlBa£
::
»adabË
() {

43  
£rŸl_»adabË
(&
_£rŸl
);

47 
	gS”ŸlBa£
::
wr™—bË
() {

48  
£rŸl_wr™abË
(&
_£rŸl
);

51 
	gS”ŸlBa£
::
©ch
((*
åŒ
)(), 
IrqTy³
 
ty³
) {

52 ià(
	gåŒ
) {

53 
	g_œq
[
ty³
].
©ch
(
åŒ
);

54 
£rŸl_œq_£t
(&
_£rŸl
, (
S”ŸlIrq
)
ty³
, 1);

56 
£rŸl_œq_£t
(&
_£rŸl
, (
S”ŸlIrq
)
ty³
, 0);

60 
	gS”ŸlBa£
::
_œq_hªdËr
(
ušt32_t
 
id
, 
S”ŸlIrq
 
œq_ty³
) {

61 
S”ŸlBa£
 *
	ghªdËr
 = (S”ŸlBa£*)
id
;

62 
	ghªdËr
->
	g_œq
[
œq_ty³
].
ÿÎ
();

65 
	gS”ŸlBa£
::
_ba£_g‘c
() {

66  
£rŸl_g‘c
(&
_£rŸl
);

69 
	gS”ŸlBa£
::
_ba£_putc
(
c
) {

70 
£rŸl_putc
(&
_£rŸl
, 
c
);

71  
	gc
;

74 
	gS”ŸlBa£
::
£nd_b»ak
() {

83 
£rŸl_b»ak_£t
(&
_£rŸl
);

84 
wa™_us
(18000000/
_baud
);

85 
£rŸl_b»ak_ş—r
(&
_£rŸl
);

88 #ià
DEVICE_SERIAL_FC


89 
	gS”ŸlBa£
::
£t_æow_cÚŒŞ
(
Flow
 
ty³
, 
PšName
 
æow1
, PšNam
æow2
) {

90 
FlowCÚŒŞ
 
	gæow_ty³
 = (FlowCÚŒŞ)
ty³
;

91 
	gty³
) {

92 
	gRTS
:

93 
£rŸl_£t_æow_cÚŒŞ
(&
_£rŸl
, 
æow_ty³
, 
æow1
, 
NC
);

96 
	gCTS
:

97 
£rŸl_£t_æow_cÚŒŞ
(&
_£rŸl
, 
æow_ty³
, 
NC
, 
æow1
);

100 
	gRTSCTS
:

101 
Di§bËd
:

102 
£rŸl_£t_æow_cÚŒŞ
(&
_£rŸl
, 
æow_ty³
, 
æow1
, 
æow2
);

111 #ià
DEVICE_SERIAL_ASYNCH


113 
	gS”ŸlBa£
::
wr™e
(cÚ¡ 
ušt8_t
 *
bufãr
, 
Ëngth
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
)

115 ià(
£rŸl_tx_aùive
(&
_£rŸl
)) {

118 
¡¬t_wr™e
((*)
bufãr
, 
Ëngth
, 8, 
ÿÎback
, 
ev’t
);

122 
	gS”ŸlBa£
::
wr™e
(cÚ¡ 
ušt16_t
 *
bufãr
, 
Ëngth
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
)

124 ià(
£rŸl_tx_aùive
(&
_£rŸl
)) {

127 
¡¬t_wr™e
((*)
bufãr
, 
Ëngth
, 16, 
ÿÎback
, 
ev’t
);

131 
	gS”ŸlBa£
::
¡¬t_wr™e
(cÚ¡ *
bufãr
, 
bufãr_size
, 
bufãr_width
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
)

133 
	g_tx_ÿÎback
 = 
ÿÎback
;

135 
	g_thunk_œq
.
ÿÎback
(&
S”ŸlBa£
::
š‹¼u±_hªdËr_asynch
);

136 
£rŸl_tx_asynch
(&
_£rŸl
, 
bufãr
, 
bufãr_size
, 
bufãr_width
, 
_thunk_œq
.
’Œy
(), 
ev’t
, 
_tx_u§ge
);

139 
	gS”ŸlBa£
::
abÜt_wr™e
()

141 
£rŸl_tx_abÜt_asynch
(&
_£rŸl
);

144 
	gS”ŸlBa£
::
abÜt_»ad
()

146 
£rŸl_rx_abÜt_asynch
(&
_£rŸl
);

149 
	gS”ŸlBa£
::
£t_dma_u§ge_tx
(
DMAU§ge
 
u§ge
)

151 ià(
£rŸl_tx_aùive
(&
_£rŸl
)) {

154 
	g_tx_u§ge
 = 
u§ge
;

158 
	gS”ŸlBa£
::
£t_dma_u§ge_rx
(
DMAU§ge
 
u§ge
)

160 ià(
£rŸl_tx_aùive
(&
_£rŸl
)) {

163 
	g_rx_u§ge
 = 
u§ge
;

167 
	gS”ŸlBa£
::
»ad
(
ušt8_t
 *
bufãr
, 
Ëngth
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
, 
ch¬_m©ch
)

169 ià(
£rŸl_rx_aùive
(&
_£rŸl
)) {

172 
¡¬t_»ad
((*)
bufãr
, 
Ëngth
, 8, 
ÿÎback
, 
ev’t
, 
ch¬_m©ch
);

177 
	gS”ŸlBa£
::
»ad
(
ušt16_t
 *
bufãr
, 
Ëngth
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
, 
ch¬_m©ch
)

179 ià(
£rŸl_rx_aùive
(&
_£rŸl
)) {

182 
¡¬t_»ad
((*)
bufãr
, 
Ëngth
, 16, 
ÿÎback
, 
ev’t
, 
ch¬_m©ch
);

187 
	gS”ŸlBa£
::
¡¬t_»ad
(*
bufãr
, 
bufãr_size
, 
bufãr_width
, cÚ¡ 
ev’t_ÿÎback_t
& 
ÿÎback
, 
ev’t
, 
ch¬_m©ch
)

189 
	g_rx_ÿÎback
 = 
ÿÎback
;

190 
	g_thunk_œq
.
ÿÎback
(&
S”ŸlBa£
::
š‹¼u±_hªdËr_asynch
);

191 
£rŸl_rx_asynch
(&
_£rŸl
, 
bufãr
, 
bufãr_size
, 
bufãr_width
, 
_thunk_œq
.
’Œy
(), 
ev’t
, 
ch¬_m©ch
, 
_rx_u§ge
);

194 
	gS”ŸlBa£
::
š‹¼u±_hªdËr_asynch
()

196 
ev’t
 = 
£rŸl_œq_hªdËr_asynch
(&
_£rŸl
);

197 
	grx_ev’t
 = 
ev’t
 & 
SERIAL_EVENT_RX_MASK
;

198 ià(
	g_rx_ÿÎback
 && 
	grx_ev’t
) {

199 
	g_rx_ÿÎback
.
ÿÎ
(
rx_ev’t
);

202 
	gtx_ev’t
 = 
ev’t
 & 
SERIAL_EVENT_TX_MASK
;

203 ià(
	g_tx_ÿÎback
 && 
	gtx_ev’t
) {

204 
	g_tx_ÿÎback
.
ÿÎ
(
tx_ev’t
);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\Stream.cpp

16 
	~"SŒ—m.h
"

18 
	~<c¡d¬g
>

20 
Çme¥aû
 
	gmbed
 {

22 
	gSŒ—m
::
SŒ—m
(cÚ¡ *
Çme
è: 
FeLike
Òame), 
_fe
(
NULL
) {

24 
	gbuf
[12];

25 
	g¡d
::
¥rštf
(
buf
, ":%p", 
this
);

26 
	g_fe
 = 
¡d
::
fİ’
(
buf
, "w+");

27 
mbed_£t_unbufã»d_¡»am
(
_fe
);

30 
	gSŒ—m
::~
SŒ—m
() {

31 
fşo£
(
_fe
);

34 
	gSŒ—m
::
putc
(
c
) {

35 
fæush
(
_fe
);

36  
	g¡d
::
åutc
(
c
, 
_fe
);

38 
	gSŒ—m
::
puts
(cÚ¡ *
s
) {

39 
fæush
(
_fe
);

40  
	g¡d
::
åuts
(
s
, 
_fe
);

42 
	gSŒ—m
::
g‘c
() {

43 
fæush
(
_fe
);

44  
mbed_g‘c
(
_fe
);

46 * 
	gSŒ—m
::
g‘s
(*
s
, 
size
) {

47 
fæush
(
_fe
);

48  
mbed_g‘s
(
s
,
size
,
_fe
);

51 
	gSŒ—m
::
şo£
() {

55 
ssize_t
 
	gSŒ—m
::
wr™e
(cÚ¡ * 
bufãr
, 
size_t
 
Ëngth
) {

56 cÚ¡ * 
	g±r
 = (cÚ¡ *)
bufãr
;

57 cÚ¡ * 
	g’d
 = 
±r
 + 
Ëngth
;

58 
	g±r
 !ğ
’d
) {

59 ià(
_putc
(*
±r
++è=ğ
EOF
) {

63  
	g±r
 - (cÚ¡ *)
	gbufãr
;

66 
ssize_t
 
	gSŒ—m
::
»ad
(* 
bufãr
, 
size_t
 
Ëngth
) {

67 * 
	g±r
 = (*)
bufãr
;

68 * 
	g’d
 = 
±r
 + 
Ëngth
;

69 
	g±r
 !ğ
’d
) {

70 
c
 = 
_g‘c
();

71 ià(
	gc
==
EOF
) ;

72 *
	g±r
++ = 
c
;

74  
	g±r
 - (cÚ¡ *)
	gbufãr
;

77 
off_t
 
	gSŒ—m
::
l£ek
(off_ˆ
off£t
, 
wh’û
) {

81 
	gSŒ—m
::
i§‰y
() {

85 
	gSŒ—m
::
fsync
() {

89 
off_t
 
	gSŒ—m
::
æ’
() {

93 
	gSŒ—m
::
´štf
(cÚ¡ * 
fÜm©
, ...) {

94 
	g¡d
::
va_li¡
 
¬g
;

95 
va_¡¬t
(
¬g
, 
fÜm©
);

96 
fæush
(
_fe
);

97 
	gr
 = 
vårštf
(
_fe
, 
fÜm©
, 
¬g
);

98 
va_’d
(
¬g
);

99  
	gr
;

102 
	gSŒ—m
::
sÿnf
(cÚ¡ * 
fÜm©
, ...) {

103 
	g¡d
::
va_li¡
 
¬g
;

104 
va_¡¬t
(
¬g
, 
fÜm©
);

105 
fæush
(
_fe
);

106 
	gr
 = 
vfsÿnf
(
_fe
, 
fÜm©
, 
¬g
);

107 
va_’d
(
¬g
);

108  
	gr
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\Ticker.cpp

16 
	~"Tick”.h
"

18 
	~"Tim”Ev’t.h
"

19 
	~"FunùiÚPoš‹r.h
"

20 
	~"tick”_­i.h
"

22 
Çme¥aû
 
	gmbed
 {

24 
	gTick”
::
d‘ach
() {

25 
»move
();

26 
	g_funùiÚ
.
©ch
(0);

29 
	gTick”
::
£tup
(
time¡amp_t
 
t
) {

30 
»move
();

31 
	g_d–ay
 = 
t
;

32 
š£¹
(
_d–ay
 + 
tick”_»ad
(
_tick”_d©a
));

35 
	gTick”
::
hªdËr
() {

36 
š£¹
(
ev’t
.
time¡amp
 + 
_d–ay
);

37 
	g_funùiÚ
.
ÿÎ
();

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\Timeout.cpp

16 
	~"Timeout.h
"

18 
Çme¥aû
 
	gmbed
 {

20 
	gTimeout
::
hªdËr
() {

21 
_funùiÚ
.
ÿÎ
();

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\Timer.cpp

16 
	~"Tim”.h
"

17 
	~"tick”_­i.h
"

18 
	~"us_tick”_­i.h
"

20 
Çme¥aû
 
	gmbed
 {

22 
	gTim”
::
Tim”
(è: 
_ruÂšg
(), 
_¡¬t
(), 
_time
(), 
_tick”_d©a
(
g‘_us_tick”_d©a
()) {

23 
»£t
();

26 
	gTim”
::
Tim”
(cÚ¡ 
tick”_d©a_t
 *
d©a
è: 
_ruÂšg
(), 
_¡¬t
(), 
_time
(), 
_tick”_d©a
(data) {

27 
»£t
();

30 
	gTim”
::
¡¬t
() {

31 ià(!
_ruÂšg
) {

32 
_¡¬t
 = 
tick”_»ad
(
_tick”_d©a
);

33 
	g_ruÂšg
 = 1;

37 
	gTim”
::
¡İ
() {

38 
_time
 +ğ
¦iûtime
();

39 
	g_ruÂšg
 = 0;

42 
	gTim”
::
»ad_us
() {

43  
_time
 + 
¦iûtime
();

46 
	gTim”
::
»ad
() {

47  ()
»ad_us
() / 1000000.0f;

50 
	gTim”
::
»ad_ms
() {

51  
»ad_us
() / 1000;

54 
	gTim”
::
¦iûtime
() {

55 ià(
_ruÂšg
) {

56  
tick”_»ad
(
_tick”_d©a
è- 
_¡¬t
;

62 
	gTim”
::
»£t
() {

63 
_¡¬t
 = 
tick”_»ad
(
_tick”_d©a
);

64 
	g_time
 = 0;

67 #ifdeà
MBED_OPERATORS


68 
	gTim”
::
İ”©Ü
 () {

69  
»ad
();

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\TimerEvent.cpp

16 
	~"Tim”Ev’t.h
"

17 
	~"cmsis.h
"

19 
	~<¡ddef.h
>

20 
	~"tick”_­i.h
"

21 
	~"us_tick”_­i.h
"

23 
Çme¥aû
 
	gmbed
 {

25 
	gTim”Ev’t
::
Tim”Ev’t
(è: 
ev’t
(), 
_tick”_d©a
(
g‘_us_tick”_d©a
()) {

26 
tick”_£t_hªdËr
(
_tick”_d©a
, (&
Tim”Ev’t
::
œq
));

29 
	gTim”Ev’t
::
Tim”Ev’t
(cÚ¡ 
tick”_d©a_t
 *
d©a
è: 
ev’t
(), 
_tick”_d©a
(data) {

30 
tick”_£t_hªdËr
(
_tick”_d©a
, (&
Tim”Ev’t
::
œq
));

33 
	gTim”Ev’t
::
œq
(
ušt32_t
 
id
) {

34 
Tim”Ev’t
 *
tim”_ev’t
 = (Tim”Ev’t*)
id
;

35 
	gtim”_ev’t
->
hªdËr
();

38 
	gTim”Ev’t
::~
Tim”Ev’t
() {

39 
»move
();

43 
	gTim”Ev’t
::
š£¹
(
time¡amp_t
 
time¡amp
) {

44 
tick”_š£¹_ev’t
(
_tick”_d©a
, &
ev’t
, 
time¡amp
, (
ušt32_t
)
this
);

47 
	gTim”Ev’t
::
»move
() {

48 
tick”_»move_ev’t
(
_tick”_d©a
, &
ev’t
);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\assert.c

16 
	~"mbed_as£¹.h
"

17 
	~"mbed_”rÜ.h
"

19 
	$mbed_as£¹_š‹º®
(cÚ¡ *
ex´
, cÚ¡ *
fe
, 
lše
)

21 
	`”rÜ
("mbed‡s£¹©iÚ faed: %s, fe: %s,†š%d \n", 
ex´
, 
fe
, 
lše
);

22 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\board.c

16 
	~"gpio_­i.h
"

17 
	~"wa™_­i.h
"

18 
	~"toŞchaš.h
"

19 
	~"mbed_š‹rçû.h
"

21 
WEAK
 
	$mbed_d›
() {

22 #ià!
	`defšed
 (
NRF51_H
è&& !defšed(
TARGET_EFM32
)

23 
	`__di§bË_œq
();

25 #ià (
DEVICE_ERROR_RED
 == 1)

26 
gpio_t
 
Ëd_»d
; 
	`gpio_š™_out
(&Ëd_»d, 
LED_RED
);

27 #–ià(
DEVICE_ERROR_PATTERN
 == 1)

28 
gpio_t
 
Ëd_1
; 
	`gpio_š™_out
(&Ëd_1, 
LED1
);

29 
gpio_t
 
Ëd_2
; 
	`gpio_š™_out
(&Ëd_2, 
LED2
);

30 
gpio_t
 
Ëd_3
; 
	`gpio_š™_out
(&Ëd_3, 
LED3
);

31 
gpio_t
 
Ëd_4
; 
	`gpio_š™_out
(&Ëd_4, 
LED4
);

35 #ià (
DEVICE_ERROR_RED
 == 1)

36 
	`gpio_wr™e
(&
Ëd_»d
, 1);

38 #–ià(
DEVICE_ERROR_PATTERN
 == 1)

39 
	`gpio_wr™e
(&
Ëd_1
, 1);

40 
	`gpio_wr™e
(&
Ëd_2
, 0);

41 
	`gpio_wr™e
(&
Ëd_3
, 0);

42 
	`gpio_wr™e
(&
Ëd_4
, 1);

45 
	`wa™_ms
(150);

47 #ià (
DEVICE_ERROR_RED
 == 1)

48 
	`gpio_wr™e
(&
Ëd_»d
, 0);

50 #–ià(
DEVICE_ERROR_PATTERN
 == 1)

51 
	`gpio_wr™e
(&
Ëd_1
, 0);

52 
	`gpio_wr™e
(&
Ëd_2
, 1);

53 
	`gpio_wr™e
(&
Ëd_3
, 1);

54 
	`gpio_wr™e
(&
Ëd_4
, 0);

57 
	`wa™_ms
(150);

59 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\error.c

16 
	~<¡dlib.h
>

17 
	~<¡d¬g.h
>

18 
	~"deviû.h
"

19 
	~"toŞchaš.h
"

20 
	~"mbed_”rÜ.h
"

21 #ià
DEVICE_STDIO_MESSAGES


22 
	~<¡dio.h
>

25 
WEAK
 
	$”rÜ
(cÚ¡ * 
fÜm©
, ...) {

26 #ià
DEVICE_STDIO_MESSAGES


27 
va_li¡
 
¬g
;

28 
	`va_¡¬t
(
¬g
, 
fÜm©
);

29 
	`vårštf
(
¡d”r
, 
fÜm©
, 
¬g
);

30 
	`va_’d
(
¬g
);

32 #ifdeà
__CC_ARM


33 
	`ex™
(1);

35 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\gpio.c

16 
	~"gpio_­i.h
"

18 
šlše
 
	$_gpio_š™_š
(
gpio_t
* 
gpio
, 
PšName
 
pš
, 
PšMode
 
mode
)

20 
	`gpio_š™
(
gpio
, 
pš
);

21 ià(
pš
 !ğ
NC
) {

22 
	`gpio_dœ
(
gpio
, 
PIN_INPUT
);

23 
	`gpio_mode
(
gpio
, 
mode
);

25 
	}
}

27 
šlše
 
	$_gpio_š™_out
(
gpio_t
* 
gpio
, 
PšName
 
pš
, 
PšMode
 
mode
, 
v®ue
)

29 
	`gpio_š™
(
gpio
, 
pš
);

30 ià(
pš
 !ğ
NC
) {

31 
	`gpio_wr™e
(
gpio
, 
v®ue
);

32 
	`gpio_dœ
(
gpio
, 
PIN_OUTPUT
);

33 
	`gpio_mode
(
gpio
, 
mode
);

35 
	}
}

37 
	$gpio_š™_š
(
gpio_t
* 
gpio
, 
PšName
 
pš
) {

38 
	`gpio_š™_š_ex
(
gpio
, 
pš
, 
PuÎDeçuÉ
);

39 
	}
}

41 
	$gpio_š™_š_ex
(
gpio_t
* 
gpio
, 
PšName
 
pš
, 
PšMode
 
mode
) {

42 
	`_gpio_š™_š
(
gpio
, 
pš
, 
mode
);

43 
	}
}

45 
	$gpio_š™_out
(
gpio_t
* 
gpio
, 
PšName
 
pš
) {

46 
	`gpio_š™_out_ex
(
gpio
, 
pš
, 0);

47 
	}
}

49 
	$gpio_š™_out_ex
(
gpio_t
* 
gpio
, 
PšName
 
pš
, 
v®ue
) {

50 
	`_gpio_š™_out
(
gpio
, 
pš
, 
PuÎNÚe
, 
v®ue
);

51 
	}
}

53 
	$gpio_š™_šout
(
gpio_t
* 
gpio
, 
PšName
 
pš
, 
PšDœeùiÚ
 
dœeùiÚ
, 
PšMode
 
mode
, 
v®ue
) {

54 ià(
dœeùiÚ
 =ğ
PIN_INPUT
) {

55 
	`_gpio_š™_š
(
gpio
, 
pš
, 
mode
);

56 ià(
pš
 !ğ
NC
)

57 
	`gpio_wr™e
(
gpio
, 
v®ue
);

59 
	`_gpio_š™_out
(
gpio
, 
pš
, 
mode
, 
v®ue
);

61 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\lp_ticker_api.c

16 
	~"Í_tick”_­i.h
"

18 #ià
DEVICE_LOWPOWERTIMER


20 
tick”_ev’t_queue_t
 
	gev’ts
;

22 cÚ¡ 
tick”_š‹rçû_t
 
	gÍ_š‹rçû
 = {

23 .
š™
 = 
Í_tick”_š™
,

24 .
	g»ad
 = 
Í_tick”_»ad
,

25 .
	gdi§bË_š‹¼u±
 = 
Í_tick”_di§bË_š‹¼u±
,

26 .
	gş—r_š‹¼u±
 = 
Í_tick”_ş—r_š‹¼u±
,

27 .
	g£t_š‹¼u±
 = 
Í_tick”_£t_š‹¼u±
,

30 cÚ¡ 
tick”_d©a_t
 
	gÍ_d©a
 = {

31 .
š‹rçû
 = &
Í_š‹rçû
,

32 .
	gqueue
 = &
ev’ts
,

35 cÚ¡ 
tick”_d©a_t
* 
	$g‘_Í_tick”_d©a
()

37  &
Í_d©a
;

38 
	}
}

40 
	$Í_tick”_œq_hªdËr
()

42 
	`tick”_œq_hªdËr
(&
Í_d©a
);

43 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\mbed_interface.c

16 
	~<¡dio.h
>

17 
	~"mbed_š‹rçû.h
"

19 
	~"gpio_­i.h
"

20 
	~"wa™_­i.h
"

21 
	~"£miho¡_­i.h
"

22 
	~"mbed_”rÜ.h
"

23 
	~"toŞchaš.h
"

25 #ià
DEVICE_SEMIHOST


28 
	$mbed_š‹rçû_cÚÃùed
() {

29  
	`£miho¡_cÚÃùed
();

30 
	}
}

32 
	$mbed_š‹rçû_»£t
() {

33 ià(
	`mbed_š‹rçû_cÚÃùed
()) {

34 
	`£miho¡_»£t
();

39 
	}
}

41 
WEAK
 
	$mbed_š‹rçû_uid
(*
uid
) {

42 ià(
	`mbed_š‹rçû_cÚÃùed
()) {

43  
	`£miho¡_uid
(
uid
);

45 
uid
[0] = 0;

48 
	}
}

50 
	$mbed_š‹rçû_discÚÃù
() {

51 
»s
;

52 ià(
	`mbed_š‹rçû_cÚÃùed
()) {

53 ià((
»s
 = 
	`£miho¡_di§bËdebug
()) != 0)

54  
»s
;

55 
	`mbed_š‹rçû_cÚÃùed
());

60 
	}
}

62 
	$mbed_š‹rçû_pow”down
() {

63 
»s
;

64 ià(
	`mbed_š‹rçû_cÚÃùed
()) {

65 ià((
»s
 = 
	`£miho¡_pow”down
()) != 0)

66  
»s
;

67 
	`mbed_š‹rçû_cÚÃùed
());

72 
	}
}

75 
	$mbed_»£t
() {

76 
	`mbed_š‹rçû_»£t
();

77 
	}
}

79 
WEAK
 
	$mbed_uid
(*
uid
) {

80  
	`mbed_š‹rçû_uid
(
uid
);

81 
	}
}

84 
WEAK
 
	$mbed_mac_add»ss
(*
mac
) {

85 #ià
DEVICE_SEMIHOST


86 
uid
[
DEVICE_ID_LENGTH
 + 1];

87 
i
;

90 ià(
	`mbed_š‹rçû_uid
(
uid
) == 0) {

91 *
p
 = 
uid
;

92 #ià
	`defšed
(
DEVICE_MAC_OFFSET
)

93 
p
 +ğ
DEVICE_MAC_OFFSET
;

95 
i
=0; i<6; i++) {

96 
by‹
;

97 
	`ssÿnf
(
p
, "%2x", &
by‹
);

98 
mac
[
i
] = 
by‹
;

99 
p
 += 2;

101 
mac
[0] &= ~0x01;

104 
mac
[0] = 0x00;

105 
mac
[1] = 0x02;

106 
mac
[2] = 0xF7;

107 
mac
[3] = 0xF0;

108 
mac
[4] = 0x00;

109 
mac
[5] = 0x00;

110 #ià
DEVICE_SEMIHOST


113 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\pinmap_common.c

16 
	~"pšm­.h
"

17 
	~"mbed_”rÜ.h
"

19 
	$pšm­_pšout
(
PšName
 
pš
, cÚ¡ 
PšM­
 *
m­
) {

20 ià(
pš
 =ğ
NC
)

23 
m­
->
pš
 !ğ
NC
) {

24 ià(
m­
->
pš
 ==…in) {

25 
	`pš_funùiÚ
(
pš
, 
m­
->
funùiÚ
);

27 
	`pš_mode
(
pš
, 
PuÎNÚe
);

30 
m­
++;

32 
	`”rÜ
("could‚ot…inout");

33 
	}
}

35 
ušt32_t
 
	$pšm­_m”ge
(
ušt32_t
 
a
, ušt32_ˆ
b
) {

37 ià(
a
 =ğ
b
)

38  
a
;

41 ià(
a
 =ğ(
ušt32_t
)
NC
)

42  
b
;

43 ià(
b
 =ğ(
ušt32_t
)
NC
)

44  
a
;

47 
	`”rÜ
("pinmap mis-match");

48  (
ušt32_t
)
NC
;

49 
	}
}

51 
ušt32_t
 
	$pšm­_fšd_³rh”®
(
PšName
 
pš
, cÚ¡ 
PšM­
* 
m­
) {

52 
m­
->
pš
 !ğ
NC
) {

53 ià(
m­
->
pš
 ==…in)

54  
m­
->
³rh”®
;

55 
m­
++;

57  (
ušt32_t
)
NC
;

58 
	}
}

60 
ušt32_t
 
	$pšm­_³rh”®
(
PšName
 
pš
, cÚ¡ 
PšM­
* 
m­
) {

61 
ušt32_t
 
³rh”®
 = (ušt32_t)
NC
;

63 ià(
pš
 =ğ(
PšName
)
NC
)

64  (
ušt32_t
)
NC
;

65 
³rh”®
 = 
	`pšm­_fšd_³rh”®
(
pš
, 
m­
);

66 ià((
ušt32_t
)
NC
 =ğ
³rh”®
)

67 
	`”rÜ
("pinmap‚ot found for…eripheral");

68  
³rh”®
;

69 
	}
}

71 
ušt32_t
 
	$pšm­_fšd_funùiÚ
(
PšName
 
pš
, cÚ¡ 
PšM­
* 
m­
) {

72 
m­
->
pš
 !ğ
NC
) {

73 ià(
m­
->
pš
 ==…in)

74  
m­
->
funùiÚ
;

75 
m­
++;

77  (
ušt32_t
)
NC
;

78 
	}
}

80 
ušt32_t
 
	$pšm­_funùiÚ
(
PšName
 
pš
, cÚ¡ 
PšM­
* 
m­
) {

81 
ušt32_t
 
funùiÚ
 = (ušt32_t)
NC
;

83 ià(
pš
 =ğ(
PšName
)
NC
)

84  (
ušt32_t
)
NC
;

85 
funùiÚ
 = 
	`pšm­_fšd_funùiÚ
(
pš
, 
m­
);

86 ià((
ušt32_t
)
NC
 =ğ
funùiÚ
)

87 
	`”rÜ
("pinmap‚ot found for function");

88  
funùiÚ
;

89 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\retarget.cpp

16 
	~"¶©fÜm.h
"

17 
	~"FeHªdË.h
"

18 
	~"FeSy¡emLike.h
"

19 
	~"FeP©h.h
"

20 
	~"£rŸl_­i.h
"

21 
	~"toŞchaš.h
"

22 
	~"£miho¡_­i.h
"

23 
	~"mbed_š‹rçû.h
"

24 #ià
DEVICE_STDIO_MESSAGES


25 
	~<¡dio.h
>

27 
	~<”ºo.h
>

29 #ià
defšed
(
__ARMCC_VERSION
)

30 
	~<¹_sys.h
>

31 
	#PREFIX
(
x
è
_sys
##
	)
x

32 
	#OPEN_MAX
 
_SYS_OPEN


	)

33 #ifdeà
__MICROLIB


34 #´agm¨
impÜt
(
__u£_fuÎ_¡dio
)

37 #–ià
defšed
(
__ICCARM__
)

38 
	~<yfuns.h
>

39 
	#PREFIX
(
x
è
_
##
	)
x

40 
	#OPEN_MAX
 16

	)

42 
	#STDIN_FILENO
 0

	)

43 
	#STDOUT_FILENO
 1

	)

44 
	#STDERR_FILENO
 2

	)

47 
	~<sys/¡©.h
>

48 
	~<sys/uni¡d.h
>

49 
	~<sys/sy¦im™s.h
>

50 
	#PREFIX
(
x
è
	)
x

53 
usšg
 
Çme¥aû
 
	gmbed
;

55 #ià
defšed
(
__MICROLIB
è&& (
__ARMCC_VERSION
>5030000)

57 cÚ¡ 
__¡dš_Çme
[] = ":tt";

58 cÚ¡ 
__¡dout_Çme
[] = ":tt";

59 cÚ¡ 
__¡d”r_Çme
[] = ":tt";

62 cÚ¡ 
__¡dš_Çme
[] = "/stdin";

63 cÚ¡ 
__¡dout_Çme
[] = "/stdout";

64 cÚ¡ 
__¡d”r_Çme
[] = "/stderr";

72 
FeHªdË
 *
	gfehªdËs
[
OPEN_MAX
];

74 
	gFeHªdË
::~
	$FeHªdË
() {

76 
fh_i
 = 0; fh_˜< (
fehªdËs
)/(*filehandles); fh_i++) {

77 ià(
fehªdËs
[
fh_i
] =ğ
this
) {

78 
fehªdËs
[
fh_i
] = 
NULL
;

81 
	}
}

83 #ià
DEVICE_SERIAL


84 
¡dio_u¬t_š™ed
;

85 
£rŸl_t
 
¡dio_u¬t
;

88 
	$š™_£rŸl
() {

89 #ià
DEVICE_SERIAL


90 ià(
¡dio_u¬t_š™ed
) ;

91 
	`£rŸl_š™
(&
¡dio_u¬t
, 
STDIO_UART_TX
, 
STDIO_UART_RX
);

93 
	}
}

95 
šlše
 
	$İ’mode_to_posix
(
İ’mode
) {

96 
posix
 = 
İ’mode
;

97 #ifdeà
__ARMCC_VERSION


98 ià(
İ’mode
 & 
OPEN_PLUS
) {

99 
posix
 = 
O_RDWR
;

100 } if(
İ’mode
 & 
OPEN_W
) {

101 
posix
 = 
O_WRONLY
;

102 } if(
İ’mode
 & 
OPEN_A
) {

103 
posix
 = 
O_WRONLY
|
O_APPEND
;

105 
posix
 = 
O_RDONLY
;

108 ià(
İ’mode
 & (
OPEN_A
|
OPEN_W
)) {

109 
posix
 |ğ
O_CREAT
;

112 ià(
İ’mode
 & 
OPEN_W
) {

113 
posix
 |ğ
O_TRUNC
;

115 #–ià
	`defšed
(
__ICCARM__
)

116 
İ’mode
 & 
_LLIO_RDWRMASK
) {

117 
_LLIO_RDONLY
: 
posix
 = 
O_RDONLY
; ;

118 
_LLIO_WRONLY
: 
posix
 = 
O_WRONLY
; ;

119 
_LLIO_RDWR
 : 
posix
 = 
O_RDWR
 ; ;

121 ià(
İ’mode
 & 
_LLIO_CREAT
 ) 
posix
 |ğ
O_CREAT
;

122 ià(
İ’mode
 & 
_LLIO_APPEND
è
posix
 |ğ
O_APPEND
;

123 ià(
İ’mode
 & 
_LLIO_TRUNC
 ) 
posix
 |ğ
O_TRUNC
;

125  
posix
;

126 
	}
}

128 "C" 
FILEHANDLE
 
	$PREFIX
(
_İ’
)(cÚ¡ * 
Çme
, 
İ’mode
) {

129 #ià
	`defšed
(
__MICROLIB
è&& (
__ARMCC_VERSION
>5030000)

132 
n
 = 0;

133 ià(!
¡d
::
	`¡rcmp
(
Çme
, ":‰")è 
n
++;

138 ià(
¡d
::
	`¡rcmp
(
Çme
, 
__¡dš_Çme
) == 0) {

139 
	`š™_£rŸl
();

141 } ià(
¡d
::
	`¡rcmp
(
Çme
, 
__¡dout_Çme
) == 0) {

142 
	`š™_£rŸl
();

144 } ià(
¡d
::
	`¡rcmp
(
Çme
, 
__¡d”r_Çme
) == 0) {

145 
	`š™_£rŸl
();

151 
fh_i
;

152 
fh_i
 = 0; fh_˜< (
fehªdËs
)/(*filehandles); fh_i++) {

153 ià(
fehªdËs
[
fh_i
] =ğ
NULL
) ;

155 ià(
fh_i
 >ğ(
fehªdËs
)/(*filehandles)) {

159 
FeHªdË
 *
»s
;

162 ià(
Çme
[0] == ':') {

163 *
p
;

164 
	`ssÿnf
(
Çme
, ":%p", &
p
);

165 
»s
 = (
FeHªdË
*)
p
;

169 
FeP©h
 
	`·th
(
Çme
);

171 ià(!
·th
.
	`exi¡s
())

173 ià(
·th
.
	`isFe
()) {

174 
»s
 = 
·th
.
	`fe
();

176 
FeSy¡emLike
 *
fs
 = 
·th
.
	`feSy¡em
();

177 ià(
fs
 =ğ
NULL
)  -1;

178 
posix_mode
 = 
	`İ’mode_to_posix
(
İ’mode
);

179 
»s
 = 
fs
->
	`İ’
(
·th
.
	`feName
(), 
posix_mode
);

183 ià(
»s
 =ğ
NULL
)  -1;

184 
fehªdËs
[
fh_i
] = 
»s
;

186  
fh_i
 + 3;

187 
	}
}

189 "C" 
	$PREFIX
(
_şo£
)(
FILEHANDLE
 
fh
) {

190 ià(
fh
 < 3)  0;

192 
FeHªdË
* 
fhc
 = 
fehªdËs
[
fh
-3];

193 
fehªdËs
[
fh
-3] = 
NULL
;

194 ià(
fhc
 =ğ
NULL
)  -1;

196  
fhc
->
	`şo£
();

197 
	}
}

199 #ià
defšed
(
__ICCARM__
)

200 "C" 
size_t
 
	$__wr™e
 (
fh
, cÚ¡ *
bufãr
, 
size_t
 
Ëngth
) {

202 "C" 
	$PREFIX
(
_wr™e
)(
FILEHANDLE
 
fh
, cÚ¡ *
bufãr
, 
Ëngth
, 
mode
) {

204 
n
;

205 ià(
fh
 < 3) {

206 #ià
DEVICE_SERIAL


207 ià(!
¡dio_u¬t_š™ed
è
	`š™_£rŸl
();

208 
i
 = 0; i < 
Ëngth
; i++) {

209 
	`£rŸl_putc
(&
¡dio_u¬t
, 
bufãr
[
i
]);

212 
n
 = 
Ëngth
;

214 
FeHªdË
* 
fhc
 = 
fehªdËs
[
fh
-3];

215 ià(
fhc
 =ğ
NULL
)  -1;

217 
n
 = 
fhc
->
	`wr™e
(
bufãr
, 
Ëngth
);

219 #ifdeà
__ARMCC_VERSION


220  
Ëngth
-
n
;

222  
n
;

224 
	}
}

226 #ià
defšed
(
__ICCARM__
)

227 "C" 
size_t
 
	$__»ad
 (
fh
, *
bufãr
, 
size_t
 
Ëngth
) {

229 "C" 
	$PREFIX
(
_»ad
)(
FILEHANDLE
 
fh
, *
bufãr
, 
Ëngth
, 
mode
) {

231 
n
;

232 ià(
fh
 < 3) {

234 #ià
DEVICE_SERIAL


235 ià(!
¡dio_u¬t_š™ed
è
	`š™_£rŸl
();

236 *
bufãr
 = 
	`£rŸl_g‘c
(&
¡dio_u¬t
);

238 
n
 = 1;

240 
FeHªdË
* 
fhc
 = 
fehªdËs
[
fh
-3];

241 ià(
fhc
 =ğ
NULL
)  -1;

243 
n
 = 
fhc
->
	`»ad
(
bufãr
, 
Ëngth
);

245 #ifdeà
__ARMCC_VERSION


246  
Ëngth
-
n
;

248  
n
;

250 
	}
}

252 #ifdeà
__ARMCC_VERSION


253 "C" 
	$PREFIX
(
_i¡ty
)(
FILEHANDLE
 
fh
)

255 "C" 
	$_i§‰y
(
FILEHANDLE
 
fh
)

259 ià(
fh
 < 3)  1;

261 
FeHªdË
* 
fhc
 = 
fehªdËs
[
fh
-3];

262 ià(
fhc
 =ğ
NULL
)  -1;

264  
fhc
->
	`i§‰y
();

265 
	}
}

268 #ià
defšed
(
__ARMCC_VERSION
)

269 
	$_sys_£ek
(
FILEHANDLE
 
fh
, 
pos™iÚ
)

270 #–ià
	`defšed
(
__ICCARM__
)

271 
	$__l£ek
(
fh
, 
off£t
, 
wh’û
)

273 
	$_l£ek
(
FILEHANDLE
 
fh
, 
off£t
, 
wh’û
)

276 ià(
fh
 < 3)  0;

278 
FeHªdË
* 
fhc
 = 
fehªdËs
[
fh
-3];

279 ià(
fhc
 =ğ
NULL
)  -1;

281 #ià
	`defšed
(
__ARMCC_VERSION
)

282  
fhc
->
	`l£ek
(
pos™iÚ
, 
SEEK_SET
);

284  
fhc
->
	`l£ek
(
off£t
, 
wh’û
);

286 
	}
}

288 #ifdeà
__ARMCC_VERSION


289 "C" 
	$PREFIX
(
_’su»
)(
FILEHANDLE
 
fh
) {

290 ià(
fh
 < 3)  0;

292 
FeHªdË
* 
fhc
 = 
fehªdËs
[
fh
-3];

293 ià(
fhc
 =ğ
NULL
)  -1;

295  
fhc
->
	`fsync
();

296 
	}
}

298 "C" 
	$PREFIX
(
_æ’
)(
FILEHANDLE
 
fh
) {

299 ià(
fh
 < 3)  0;

301 
FeHªdË
* 
fhc
 = 
fehªdËs
[
fh
-3];

302 ià(
fhc
 =ğ
NULL
)  -1;

304  
fhc
->
	`æ’
();

305 
	}
}

309 #ià!
defšed
(
__ARMCC_VERSION
è&& !defšed(
__ICCARM__
)

310 "C" 
	$_f¡©
(
fd
, 
¡©
 *
¡
) {

311 ià((
STDOUT_FILENO
 =ğ
fd
è|| (
STDERR_FILENO
 =ğfdè|| (
STDIN_FILENO
 == fd)) {

312 
¡
->
¡_mode
 = 
S_IFCHR
;

316 
”ºo
 = 
EBADF
;

318 
	}
}

321 
Çme¥aû
 
¡d
 {

322 "C" 
»move
(cÚ¡ *
·th
) {

323 
FeP©h
 
å
(
·th
);

324 
FeSy¡emLike
 *
fs
 = 
å
.
feSy¡em
();

325 ià(
fs
 =ğ
NULL
)  -1;

327  
fs
->
»move
(
å
.
feName
());

330 "C" 
»Çme
(cÚ¡ *
ŞdÇme
, cÚ¡ *
ÃwÇme
) {

331 
FeP©h
 
åOld
(
ŞdÇme
);

332 
FeP©h
 
åNew
(
ÃwÇme
);

333 
FeSy¡emLike
 *
fsOld
 = 
åOld
.
feSy¡em
();

334 
FeSy¡emLike
 *
fsNew
 = 
åNew
.
feSy¡em
();

337 ià(
fsOld
 !ğ
fsNew
 || fsOld =ğ
NULL
)  -1;

339  
fsOld
->
»Çme
(
åOld
.
feName
(), 
åNew
.fileName());

342 "C" *
tm²am
(*
s
) {

343  
NULL
;

346 "C" 
FILE
 *
tmpfe
() {

347  
NULL
;

351 #ifdeà
__ARMCC_VERSION


352 "C" *
	$_sys_commªd_¡ršg
(*
cmd
, 
Ën
) {

353  
NULL
;

354 
	}
}

357 "C" 
DIR
 *
	$İ’dœ
(cÚ¡ *
·th
) {

359 ià(
·th
[0] == '/' &&…ath[1] == 0) {

360  
FeSy¡emLike
::
	`İ’dœ
();

363 
FeP©h
 
	`å
(
·th
);

364 
FeSy¡emLike
* 
fs
 = 
å
.
	`feSy¡em
();

365 ià(
fs
 =ğ
NULL
)  NULL;

367  
fs
->
	`İ’dœ
(
å
.
	`feName
());

368 
	}
}

370 "C" 
dœ’t
 *
	$»addœ
(
DIR
 *
dœ
) {

371  
dœ
->
	`»addœ
();

372 
	}
}

374 "C" 
	$şo£dœ
(
DIR
 *
dœ
) {

375  
dœ
->
	`şo£dœ
();

376 
	}
}

378 "C" 
	$»wšddœ
(
DIR
 *
dœ
) {

379 
dœ
->
	`»wšddœ
();

380 
	}
}

382 "C" 
off_t
 
	$‹Îdœ
(
DIR
 *
dœ
) {

383  
dœ
->
	`‹Îdœ
();

384 
	}
}

386 "C" 
	$£ekdœ
(
DIR
 *
dœ
, 
off_t
 
off
) {

387 
dœ
->
	`£ekdœ
(
off
);

388 
	}
}

390 "C" 
	$mkdœ
(cÚ¡ *
·th
, 
mode_t
 
mode
) {

391 
FeP©h
 
	`å
(
·th
);

392 
FeSy¡emLike
 *
fs
 = 
å
.
	`feSy¡em
();

393 ià(
fs
 =ğ
NULL
)  -1;

395  
fs
->
	`mkdœ
(
å
.
	`feName
(), 
mode
);

396 
	}
}

398 #ià
defšed
(
TOOLCHAIN_GCC
)

400 
	~"mbed_”rÜ.h
"

401 
Çme¥aû
 
__gnu_cxx
 {

402 
__v”bo£_‹rmš©e_hªdËr
() {

403 
”rÜ
("Exception");

406 "C" 
WEAK
 
__cxa_pu»_vœtu®
();

407 "C" 
WEAK
 
	$__cxa_pu»_vœtu®
() {

409 
	}
}

419 "C" 
WEAK
 
mbed_maš
();

420 "C" 
WEAK
 
	$mbed_maš
() {

421 
	}
}

423 "C" 
WEAK
 
mbed_sdk_š™
();

424 "C" 
WEAK
 
	$mbed_sdk_š™
() {

425 
	}
}

427 #ià
defšed
(
TOOLCHAIN_ARM
)

428 "C" 
$Su³r$$maš
();

430 "C" 
	$$Sub$$maš
() {

431 
	`mbed_sdk_š™
();

432 
	`mbed_maš
();

433  
	`$Su³r$$maš
();

434 
	}
}

435 #–ià
defšed
(
TOOLCHAIN_GCC
)

436 "C" 
__»®_maš
();

438 "C" 
	$__w¿p_maš
() {

439 
	`mbed_sdk_š™
();

440 
	`mbed_maš
();

441  
	`__»®_maš
();

442 
	}
}

443 #–ià
defšed
(
TOOLCHAIN_IAR
)

449 "C" 
	$__Ÿr_¬gc_¬gv
() {

450 
	`mbed_sdk_š™
();

451 
	`mbed_maš
();

452 
	}
}

458 #ià
defšed
(
TOOLCHAIN_GCC_ARM
)

460 "C" 
__’d__
;

462 #ià
defšed
(
TARGET_CORTEX_A
)

463 "C" 
ušt32_t
 
__H—pLim™
;

467 #undeà
”ºo


468 "C" 
”ºo
;

471 * 
¡ack_±r
 
__asm
 ("sp");

474 "C" 
ÿddr_t
 
	$_sbrk
(
šü
) {

475 * 
h—p
 = (*)&
__’d__
;

476 * 
´ev_h—p
 = 
h—p
;

477 * 
Ãw_h—p
 = 
h—p
 + 
šü
;

479 #ià
	`defšed
(
TARGET_ARM7
)

480 ià(
Ãw_h—p
 >ğ
¡ack_±r
) {

481 #–ià
	`defšed
(
TARGET_CORTEX_A
)

482 ià(
Ãw_h—p
 >ğ(*)&
__H—pLim™
) {

484 ià(
Ãw_h—p
 >ğ(*)
	`__g‘_MSP
()) {

486 
”ºo
 = 
ENOMEM
;

487  (
ÿddr_t
)-1;

490 
h—p
 = 
Ãw_h—p
;

491  (
ÿddr_t
è
´ev_h—p
;

492 
	}
}

496 #ifdeà
TOOLCHAIN_GCC_CW


498 "C" 
	$mbed_ex™
(
»tuº_code
) {

499 #–ià
defšed
 
TOOLCHAIN_GCC_ARM


500 "C" 
	$_ex™
(
»tuº_code
) {

502 
Çme¥aû
 
¡d
 {

503 "C" 
	`ex™
(
»tuº_code
) {

506 #ià
DEVICE_STDIO_MESSAGES


507 
	`fæush
(
¡dout
);

508 
	`fæush
(
¡d”r
);

511 #ià
DEVICE_SEMIHOST


512 ià(
	`mbed_š‹rçû_cÚÃùed
()) {

513 
	`£miho¡_ex™
();

516 ià(
»tuº_code
) {

517 
	`mbed_d›
();

523 #ià!
	`defšed
(
TOOLCHAIN_GCC_ARM
è&& !defšed(
TOOLCHAIN_GCC_CW
)

524 
	}
}

528 
Çme¥aû
 
mbed
 {

530 
mbed_£t_unbufã»d_¡»am
(
FILE
 *
_fe
) {

531 #ià
defšed
 (
__ICCARM__
)

532 
buf
[2];

533 
¡d
::
£tvbuf
(
_fe
,
buf
,
_IONBF
,
NULL
);

535 
£tbuf
(
_fe
, 
NULL
);

539 
mbed_g‘c
(
FILE
 *
_fe
){

540 #ià
defšed
 (
__ICCARM__
)

542 
»s
 = 
¡d
::
fg‘c
(
_fe
);

543 ià(
»s
>=0){

544 
_fe
->
_Mode
 = ()(_file->_Mode & ~ 0x1000);

545 
_fe
->
_R’d
 = _fe->
_W’d
;

546 
_fe
->
_Next
 = _fe->
_W’d
;

548  
»s
;

550  
¡d
::
fg‘c
(
_fe
);

554 * 
mbed_g‘s
(*
s
, 
size
, 
FILE
 *
_fe
){

555 #ià
defšed
 (
__ICCARM__
)

557 *
¡r
 = 
fg‘s
(
s
,
size
,
_fe
);

558 ià(
¡r
!=
NULL
){

559 
_fe
->
_Mode
 = ()(_file->_Mode & ~ 0x1000);

560 
_fe
->
_R’d
 = _fe->
_W’d
;

561 
_fe
->
_Next
 = _fe->
_W’d
;

563  
¡r
;

565  
¡d
::
fg‘s
(
s
,
size
,
_fe
);

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\rtc_time.c

16 
	~"¹c_­i.h
"

18 
	~<time.h
>

19 
	~"¹c_time.h
"

20 
	~"us_tick”_­i.h
"

22 #ià
DEVICE_RTC


23 (*
_¹c_š™
)(èğ
¹c_š™
;

24 (*
_¹c_i£ÇbËd
)(èğ
¹c_i£ÇbËd
;

25 
	$time_t
 (*
_¹c_»ad
)(èğ
¹c_»ad
;

26 (*
_¹c_wr™e
)(
time_t
 
t
èğ
¹c_wr™e
;

28 (*
_¹c_š™
)(èğ
NULL
;

29 (*
_¹c_i£ÇbËd
)(èğ
NULL
;

30 
	$time_t
 (*
_¹c_»ad
)(èğ
NULL
;

31 (*
_¹c_wr™e
)(
time_t
 
t
èğ
NULL
;

34 #ifdeà
__ılu¥lus


37 #ià
	`defšed
 (
__ICCARM__
)

38 
time_t
 
	$__time32
(
time_t
 *
tim”
)

40 
time_t
 
	$time
(
time_t
 *
tim”
)

44 ià(
_¹c_i£ÇbËd
 !ğ
NULL
) {

45 ià(!(
	`_¹c_i£ÇbËd
())) {

46 
	`£t_time
(0);

50 
time_t
 
t
 = 0;

51 ià(
_¹c_»ad
 !ğ
NULL
) {

52 
t
 = 
	`_¹c_»ad
();

55 ià(
tim”
 !ğ
NULL
) {

56 *
tim”
 = 
t
;

58  
t
;

61 
	`£t_time
(
time_t
 
t
) {

62 ià(
_¹c_š™
 !ğ
NULL
) {

63 
	`_¹c_š™
();

65 ià(
_¹c_wr™e
 !ğ
NULL
) {

66 
	`_¹c_wr™e
(
t
);

70 
şock_t
 
	`şock
() {

71 
şock_t
 
t
 = 
	`us_tick”_»ad
();

72 
t
 /ğ1000000 / 
CLOCKS_PER_SEC
;

73  
t
;

76 
	`©ch_¹c
(
	`time_t
 (*
»ad_¹c
)(), (*
wr™e_¹c
)(
time_t
), (*
š™_¹c
)(), (*
i£ÇbËd_¹c
)()) {

77 
	`__di§bË_œq
();

78 
_¹c_»ad
 = 
»ad_¹c
;

79 
_¹c_wr™e
 = 
wr™e_¹c
;

80 
_¹c_š™
 = 
š™_¹c
;

81 
_¹c_i£ÇbËd
 = 
i£ÇbËd_¹c
;

82 
	`__’abË_œq
();

87 #ifdeà
__ılu¥lus


88 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\semihost_api.c

16 
	~"cmsis.h
"

17 
	~"£miho¡_­i.h
"

19 
	~<¡dšt.h
>

20 
	~<¡ršg.h
>

22 #ià
DEVICE_SEMIHOST


25 
	#SYS_OPEN
 (0x1)

	)

26 
	#SYS_CLOSE
 (0x2)

	)

27 
	#SYS_WRITE
 (0x5)

	)

28 
	#SYS_READ
 (0x6)

	)

29 
	#SYS_ISTTY
 (0x9)

	)

30 
	#SYS_SEEK
 (0xa)

	)

31 
	#SYS_ENSURE
 (0xb)

	)

32 
	#SYS_FLEN
 (0xc)

	)

33 
	#SYS_REMOVE
 (0xe)

	)

34 
	#SYS_RENAME
 (0xf)

	)

35 
	#SYS_EXIT
 (0x18)

	)

38 
	#RESERVED_FOR_USER_APPLICATIONS
 (0x100)

39 
	#USR_XFFIND
 (
RESERVED_FOR_USER_APPLICATIONS
 + 0)

	)

40 
	#USR_UID
 (
RESERVED_FOR_USER_APPLICATIONS
 + 1)

	)

41 
	#USR_RESET
 (
RESERVED_FOR_USER_APPLICATIONS
 + 2)

	)

42 
	#USR_VBUS
 (
RESERVED_FOR_USER_APPLICATIONS
 + 3)

	)

43 
	#USR_POWERDOWN
 (
RESERVED_FOR_USER_APPLICATIONS
 + 4)

	)

44 
	#USR_DISABLEDEBUG
 (
RESERVED_FOR_USER_APPLICATIONS
 + 5)

	)

46 #ià
DEVICE_LOCALFILESYSTEM


47 
FILEHANDLE
 
	$£miho¡_İ’
(cÚ¡ * 
Çme
, 
İ’mode
) {

48 
ušt32_t
 
¬gs
[3];

49 
¬gs
[0] = (
ušt32_t
)
Çme
;

50 
¬gs
[1] = (
ušt32_t
)
İ’mode
;

51 
¬gs
[2] = (
ušt32_t
)
	`¡¾’
(
Çme
);

52  
	`__£miho¡
(
SYS_OPEN
, 
¬gs
);

53 
	}
}

55 
	$£miho¡_şo£
(
FILEHANDLE
 
fh
) {

56  
	`__£miho¡
(
SYS_CLOSE
, &
fh
);

57 
	}
}

59 
	$£miho¡_wr™e
(
FILEHANDLE
 
fh
, cÚ¡ * 
bufãr
, 
Ëngth
, 
mode
) {

60 ià(
Ëngth
 == 0)  0;

62 
ušt32_t
 
¬gs
[3];

63 
¬gs
[0] = (
ušt32_t
)
fh
;

64 
¬gs
[1] = (
ušt32_t
)
bufãr
;

65 
¬gs
[2] = (
ušt32_t
)
Ëngth
;

66  
	`__£miho¡
(
SYS_WRITE
, 
¬gs
);

67 
	}
}

69 
	$£miho¡_»ad
(
FILEHANDLE
 
fh
, * 
bufãr
, 
Ëngth
, 
mode
) {

70 
ušt32_t
 
¬gs
[3];

71 
¬gs
[0] = (
ušt32_t
)
fh
;

72 
¬gs
[1] = (
ušt32_t
)
bufãr
;

73 
¬gs
[2] = (
ušt32_t
)
Ëngth
;

74  
	`__£miho¡
(
SYS_READ
, 
¬gs
);

75 
	}
}

77 
	$£miho¡_i¡ty
(
FILEHANDLE
 
fh
) {

78  
	`__£miho¡
(
SYS_ISTTY
, &
fh
);

79 
	}
}

81 
	$£miho¡_£ek
(
FILEHANDLE
 
fh
, 
pos™iÚ
) {

82 
ušt32_t
 
¬gs
[2];

83 
¬gs
[0] = (
ušt32_t
)
fh
;

84 
¬gs
[1] = (
ušt32_t
)
pos™iÚ
;

85  
	`__£miho¡
(
SYS_SEEK
, 
¬gs
);

86 
	}
}

88 
	$£miho¡_’su»
(
FILEHANDLE
 
fh
) {

89  
	`__£miho¡
(
SYS_ENSURE
, &
fh
);

90 
	}
}

92 
	$£miho¡_æ’
(
FILEHANDLE
 
fh
) {

93  
	`__£miho¡
(
SYS_FLEN
, &
fh
);

94 
	}
}

96 
	$£miho¡_»move
(cÚ¡ *
Çme
) {

97 
ušt32_t
 
¬gs
[2];

98 
¬gs
[0] = (
ušt32_t
)
Çme
;

99 
¬gs
[1] = (
ušt32_t
)
	`¡¾’
(
Çme
);

100  
	`__£miho¡
(
SYS_REMOVE
, 
¬gs
);

101 
	}
}

103 
	$£miho¡_»Çme
(cÚ¡ *
Şd_Çme
, cÚ¡ *
Ãw_Çme
) {

104 
ušt32_t
 
¬gs
[4];

105 
¬gs
[0] = (
ušt32_t
)
Şd_Çme
;

106 
¬gs
[1] = (
ušt32_t
)
	`¡¾’
(
Şd_Çme
);

107 
¬gs
[0] = (
ušt32_t
)
Ãw_Çme
;

108 
¬gs
[1] = (
ušt32_t
)
	`¡¾’
(
Ãw_Çme
);

109  
	`__£miho¡
(
SYS_RENAME
, 
¬gs
);

110 
	}
}

113 
	$£miho¡_ex™
() {

114 
ušt32_t
 
¬gs
[4];

115  
	`__£miho¡
(
SYS_EXIT
, 
¬gs
);

116 
	}
}

118 
	$£miho¡_uid
(*
uid
) {

119 
ušt32_t
 
¬gs
[2];

120 
¬gs
[0] = (
ušt32_t
)
uid
;

121 
¬gs
[1] = 
DEVICE_ID_LENGTH
 + 1;

122  
	`__£miho¡
(
USR_UID
, &
¬gs
);

123 
	}
}

125 
	$£miho¡_»£t
() {

128  
	`__£miho¡
(
USR_RESET
, 
NULL
);

129 
	}
}

131 
	$£miho¡_vbus
() {

132  
	`__£miho¡
(
USR_VBUS
, 
NULL
);

133 
	}
}

135 
	$£miho¡_pow”down
() {

136  
	`__£miho¡
(
USR_POWERDOWN
, 
NULL
);

137 
	}
}

139 #ià
DEVICE_DEBUG_AWARENESS


141 
	$£miho¡_cÚÃùed
() {

142  (
CÜeDebug
->
DHCSR
 & 
CÜeDebug_DHCSR_C_DEBUGEN_Msk
) ? 1 : 0;

143 
	}
}

147 
	gis_debugg”_©ched
 = 1;

149 
	$£miho¡_cÚÃùed
() {

150  
is_debugg”_©ched
;

151 
	}
}

154 
	$£miho¡_di§bËdebug
() {

155 #ià!(
DEVICE_DEBUG_AWARENESS
)

156 
is_debugg”_©ched
 = 0;

158  
	`__£miho¡
(
USR_DISABLEDEBUG
, 
NULL
);

159 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\ticker_api.c

16 
	~<¡ddef.h
>

17 
	~"tick”_­i.h
"

18 
	~"cmsis.h
"

20 
	$tick”_£t_hªdËr
(cÚ¡ 
tick”_d©a_t
 *cÚ¡ 
d©a
, 
tick”_ev’t_hªdËr
 
hªdËr
) {

21 
d©a
->
š‹rçû
->
	`š™
();

23 
d©a
->
queue
->
ev’t_hªdËr
 = 
hªdËr
;

24 
	}
}

26 
	$tick”_œq_hªdËr
(cÚ¡ 
tick”_d©a_t
 *cÚ¡ 
d©a
) {

27 
d©a
->
š‹rçû
->
	`ş—r_š‹¼u±
();

31 ià(
d©a
->
queue
->
h—d
 =ğ
NULL
) {

33 
d©a
->
š‹rçû
->
	`di§bË_š‹¼u±
();

37 ià(()(
d©a
->
queue
->
h—d
->
time¡amp
 - d©a->
š‹rçû
->
	`»ad
()) <= 0) {

40 
tick”_ev’t_t
 *
p
 = 
d©a
->
queue
->
h—d
;

41 
d©a
->
queue
->
h—d
 = d©a->queue->h—d->
Ãxt
;

42 ià(
d©a
->
queue
->
ev’t_hªdËr
 !ğ
NULL
) {

43 (*
d©a
->
queue
->
ev’t_hªdËr
)(
p
->
id
);

50 
d©a
->
š‹rçû
->
	`£t_š‹¼u±
(d©a->
queue
->
h—d
->
time¡amp
);

54 
	}
}

56 
	$tick”_š£¹_ev’t
(cÚ¡ 
tick”_d©a_t
 *cÚ¡ 
d©a
, 
tick”_ev’t_t
 *
obj
, 
time¡amp_t
 
time¡amp
, 
ušt32_t
 
id
) {

58 
	`__di§bË_œq
();

61 
obj
->
time¡amp
 =imestamp;

62 
obj
->
id
 = id;

67 
tick”_ev’t_t
 *
´ev
 = 
NULL
, *
p
 = 
d©a
->
queue
->
h—d
;

68 
p
 !ğ
NULL
) {

70 ià(()(
time¡amp
 - 
p
->timestamp) < 0) {

74 
´ev
 = 
p
;

75 
p
 =…->
Ãxt
;

78 ià(
´ev
 =ğ
NULL
) {

79 
d©a
->
queue
->
h—d
 = 
obj
;

80 
d©a
->
š‹rçû
->
	`£t_š‹¼u±
(
time¡amp
);

82 
´ev
->
Ãxt
 = 
obj
;

85 
obj
->
Ãxt
 = 
p
;

87 
	`__’abË_œq
();

88 
	}
}

90 
	$tick”_»move_ev’t
(cÚ¡ 
tick”_d©a_t
 *cÚ¡ 
d©a
, 
tick”_ev’t_t
 *
obj
) {

91 
	`__di§bË_œq
();

94 ià(
d©a
->
queue
->
h—d
 =ğ
obj
) {

96 
d©a
->
queue
->
h—d
 = 
obj
->
Ãxt
;

97 ià(
d©a
->
queue
->
h—d
 =ğ
NULL
) {

98 
d©a
->
š‹rçû
->
	`di§bË_š‹¼u±
();

100 
d©a
->
š‹rçû
->
	`£t_š‹¼u±
(d©a->
queue
->
h—d
->
time¡amp
);

104 
tick”_ev’t_t
* 
p
 = 
d©a
->
queue
->
h—d
;

105 
p
 !ğ
NULL
) {

106 ià(
p
->
Ãxt
 =ğ
obj
) {

107 
p
->
Ãxt
 = 
obj
->next;

110 
p
 =…->
Ãxt
;

114 
	`__’abË_œq
();

115 
	}
}

117 
time¡amp_t
 
	$tick”_»ad
(cÚ¡ 
tick”_d©a_t
 *cÚ¡ 
d©a
)

119  
d©a
->
š‹rçû
->
	`»ad
();

120 
	}
}

122 
	$tick”_g‘_Ãxt_time¡amp
(cÚ¡ 
tick”_d©a_t
 *cÚ¡ 
d©a
, 
time¡amp_t
 *
time¡amp
)

124 
»t
 = 0;

127 
	`__di§bË_œq
();

128 ià(
d©a
->
queue
->
h—d
 !ğ
NULL
) {

129 *
time¡amp
 = 
d©a
->
queue
->
h—d
->timestamp;

130 
»t
 = 1;

132 
	`__’abË_œq
();

134  
»t
;

135 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\us_ticker_api.c

16 
	~"us_tick”_­i.h
"

18 
tick”_ev’t_queue_t
 
	gev’ts
;

20 cÚ¡ 
tick”_š‹rçû_t
 
	gus_š‹rçû
 = {

21 .
š™
 = 
us_tick”_š™
,

22 .
	g»ad
 = 
us_tick”_»ad
,

23 .
	gdi§bË_š‹¼u±
 = 
us_tick”_di§bË_š‹¼u±
,

24 .
	gş—r_š‹¼u±
 = 
us_tick”_ş—r_š‹¼u±
,

25 .
	g£t_š‹¼u±
 = 
us_tick”_£t_š‹¼u±
,

28 cÚ¡ 
tick”_d©a_t
 
	gus_d©a
 = {

29 .
š‹rçû
 = &
us_š‹rçû
,

30 .
	gqueue
 = &
ev’ts
,

33 cÚ¡ 
tick”_d©a_t
* 
	$g‘_us_tick”_d©a
()

35  &
us_d©a
;

36 
	}
}

38 
	$us_tick”_œq_hªdËr
()

40 
	`tick”_œq_hªdËr
(&
us_d©a
);

41 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\wait_api.c

16 
	~"wa™_­i.h
"

17 
	~"us_tick”_­i.h
"

19 
	$wa™
(
s
) {

20 
	`wa™_us
(
s
 * 1000000.0f);

21 
	}
}

23 
	$wa™_ms
(
ms
) {

24 
	`wa™_us
(
ms
 * 1000);

25 
	}
}

27 
	$wa™_us
(
us
) {

28 
ušt32_t
 
¡¬t
 = 
	`us_tick”_»ad
();

29 (
	`us_tick”_»ad
(è- 
¡¬t
è< (
ušt32_t
)
us
);

30 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\analogin_api.h

16 #iâdeà
MBED_ANALOGIN_API_H


17 
	#MBED_ANALOGIN_API_H


	)

19 
	~"deviû.h
"

21 #ià
DEVICE_ANALOGIN


23 #ifdeà
__ılu¥lus


27 
ª®ogš_s
 
	tª®ogš_t
;

29 
ª®ogš_š™
 (
ª®ogš_t
 *
obj
, 
PšName
 
pš
);

30 
ª®ogš_»ad
 (
ª®ogš_t
 *
obj
);

31 
ušt16_t
 
ª®ogš_»ad_u16
(
ª®ogš_t
 *
obj
);

33 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\analogout_api.h

16 #iâdeà
MBED_ANALOGOUT_API_H


17 
	#MBED_ANALOGOUT_API_H


	)

19 
	~"deviû.h
"

21 #ià
DEVICE_ANALOGOUT


23 #ifdeà
__ılu¥lus


27 
dac_s
 
	tdac_t
;

29 
ª®ogout_š™
 (
dac_t
 *
obj
, 
PšName
 
pš
);

30 
ª®ogout_ä“
 (
dac_t
 *
obj
);

31 
ª®ogout_wr™e
 (
dac_t
 *
obj
, 
v®ue
);

32 
ª®ogout_wr™e_u16
(
dac_t
 *
obj
, 
ušt16_t
 
v®ue
);

33 
ª®ogout_»ad
 (
dac_t
 *
obj
);

34 
ušt16_t
 
ª®ogout_»ad_u16
 (
dac_t
 *
obj
);

36 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\buffer.h

16 #iâdeà
MBED_BUFFER_H


17 
	#MBED_BUFFER_H


	)

19 
	~<¡ddef.h
>

23 
	sbufãr_s
 {

24 *
	mbufãr
;

25 
size_t
 
	mËngth
;

26 
size_t
 
	mpos
;

27 
ušt8_t
 
	mwidth
;

28 } 
	tbufãr_t
;

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\can_api.h

16 #iâdeà
MBED_CAN_API_H


17 
	#MBED_CAN_API_H


	)

19 
	~"deviû.h
"

21 #ià
DEVICE_CAN


23 
	~"PšNames.h
"

24 
	~"P”h”®Names.h
"

25 
	~"ÿn_h–³r.h
"

27 #ifdeà
__ılu¥lus


32 
IRQ_RX
,

33 
IRQ_TX
,

34 
IRQ_ERROR
,

35 
IRQ_OVERRUN
,

36 
IRQ_WAKEUP
,

37 
IRQ_PASSIVE
,

38 
IRQ_ARB
,

39 
IRQ_BUS
,

40 
IRQ_READY


41 } 
	tCªIrqTy³
;

45 
MODE_RESET
,

46 
MODE_NORMAL
,

47 
MODE_SILENT
,

48 
MODE_TEST_LOCAL
,

49 
MODE_TEST_GLOBAL
,

50 
MODE_TEST_SILENT


51 } 
	tCªMode
;

53 (*
ÿn_œq_hªdËr
)(
	tušt32_t
 
	tid
, 
	tCªIrqTy³
 
	tty³
);

55 
ÿn_s
 
	tÿn_t
;

57 
ÿn_š™
 (
ÿn_t
 *
obj
, 
PšName
 
rd
, PšNam
td
);

58 
ÿn_ä“
 (
ÿn_t
 *
obj
);

59 
ÿn_äequ’cy
(
ÿn_t
 *
obj
, 
hz
);

61 
ÿn_œq_š™
 (
ÿn_t
 *
obj
, 
ÿn_œq_hªdËr
 
hªdËr
, 
ušt32_t
 
id
);

62 
ÿn_œq_ä“
 (
ÿn_t
 *
obj
);

63 
ÿn_œq_£t
 (
ÿn_t
 *
obj
, 
CªIrqTy³
 
œq
, 
ušt32_t
 
’abË
);

65 
ÿn_wr™e
 (
ÿn_t
 *
obj
, 
CAN_Mes§ge
, 
cc
);

66 
ÿn_»ad
 (
ÿn_t
 *
obj
, 
CAN_Mes§ge
 *
msg
, 
hªdË
);

67 
ÿn_mode
 (
ÿn_t
 *
obj
, 
CªMode
 
mode
);

68 
ÿn_f‹r
(
ÿn_t
 *
obj
, 
ušt32_t
 
id
, ušt32_ˆ
mask
, 
CANFÜm©
 
fÜm©
, 
št32_t
 
hªdË
);

69 
ÿn_»£t
 (
ÿn_t
 *
obj
);

70 
ÿn_rd”rÜ
 (
ÿn_t
 *
obj
);

71 
ÿn_td”rÜ
 (
ÿn_t
 *
obj
);

72 
ÿn_mÚ™Ü
 (
ÿn_t
 *
obj
, 
s’t
);

74 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\dma_api.h

16 #iâdeà
MBED_DMA_API_H


17 
	#MBED_DMA_API_H


	)

19 
	~<¡dšt.h
>

21 
	#DMA_ERROR_OUT_OF_CHANNELS
 (-1)

	)

24 
	mDMA_USAGE_NEVER
,

25 
	mDMA_USAGE_OPPORTUNISTIC
,

26 
	mDMA_USAGE_ALWAYS
,

27 
	mDMA_USAGE_TEMPORARY_ALLOCATED
,

28 
	mDMA_USAGE_ALLOCATED


29 } 
	tDMAU§ge
;

31 #ifdeà
__ılu¥lus


35 
dma_š™
();

37 
dma_chªÃl_®loÿ‹
(
ušt32_t
 
ÿ·b™›s
);

39 
dma_chªÃl_ä“
(
chªÃlid
);

41 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\ethernet_api.h

16 #iâdeà
MBED_ETHERNET_API_H


17 
	#MBED_ETHERNET_API_H


	)

19 
	~"deviû.h
"

21 #ià
DEVICE_ETHERNET


23 #ifdeà
__ılu¥lus


29 
‘h”Ãt_š™
();

30 
‘h”Ãt_ä“
();

35 
‘h”Ãt_wr™e
(cÚ¡ *
d©a
, 
size
);

38 
‘h”Ãt_£nd
();

41 
‘h”Ãt_»ûive
();

45 
‘h”Ãt_»ad
(*
d©a
, 
size
);

48 
‘h”Ãt_add»ss
(*
mac
);

51 
‘h”Ãt_lšk
();

54 
‘h”Ãt_£t_lšk
(
¥“d
, 
du¶ex
);

56 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\gpio_api.h

16 #iâdeà
MBED_GPIO_API_H


17 
	#MBED_GPIO_API_H


	)

19 
	~"deviû.h
"

21 #ifdeà
__ılu¥lus


29 
ušt32_t
 
gpio_£t
(
PšName
 
pš
);

35 
gpio_is_cÚÃùed
(cÚ¡ 
gpio_t
 *
obj
);

38 
gpio_š™
(
gpio_t
 *
obj
, 
PšName
 
pš
);

40 
gpio_mode
 (
gpio_t
 *
obj
, 
PšMode
 
mode
);

41 
gpio_dœ
 (
gpio_t
 *
obj
, 
PšDœeùiÚ
 
dœeùiÚ
);

43 
gpio_wr™e
(
gpio_t
 *
obj
, 
v®ue
);

44 
gpio_»ad
 (
gpio_t
 *
obj
);

47 
gpio_š™_š
(
gpio_t
* 
gpio
, 
PšName
 
pš
);

48 
gpio_š™_š_ex
(
gpio_t
* 
gpio
, 
PšName
 
pš
, 
PšMode
 
mode
);

49 
gpio_š™_out
(
gpio_t
* 
gpio
, 
PšName
 
pš
);

50 
gpio_š™_out_ex
(
gpio_t
* 
gpio
, 
PšName
 
pš
, 
v®ue
);

51 
gpio_š™_šout
(
gpio_t
* 
gpio
, 
PšName
 
pš
, 
PšDœeùiÚ
 
dœeùiÚ
, 
PšMode
 
mode
, 
v®ue
);

53 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\gpio_irq_api.h

16 #iâdeà
MBED_GPIO_IRQ_API_H


17 
	#MBED_GPIO_IRQ_API_H


	)

19 
	~"deviû.h
"

21 #ià
DEVICE_INTERRUPTIN


23 #ifdeà
__ılu¥lus


28 
IRQ_NONE
,

29 
IRQ_RISE
,

30 
IRQ_FALL


31 } 
	tgpio_œq_ev’t
;

33 
gpio_œq_s
 
	tgpio_œq_t
;

35 (*
gpio_œq_hªdËr
)(
	tušt32_t
 
	tid
, 
	tgpio_œq_ev’t
 
	tev’t
);

37 
gpio_œq_š™
(
gpio_œq_t
 *
obj
, 
PšName
 
pš
, 
gpio_œq_hªdËr
 
hªdËr
, 
ušt32_t
 
id
);

38 
gpio_œq_ä“
(
gpio_œq_t
 *
obj
);

39 
gpio_œq_£t
 (
gpio_œq_t
 *
obj
, 
gpio_œq_ev’t
 
ev’t
, 
ušt32_t
 
’abË
);

40 
gpio_œq_’abË
(
gpio_œq_t
 *
obj
);

41 
gpio_œq_di§bË
(
gpio_œq_t
 *
obj
);

43 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\i2c_api.h

16 #iâdeà
MBED_I2C_API_H


17 
	#MBED_I2C_API_H


	)

19 
	~"deviû.h
"

20 
	~"bufãr.h
"

22 #ià
DEVICE_I2C


29 
	#I2C_EVENT_ERROR
 (1 << 1)

	)

30 
	#I2C_EVENT_ERROR_NO_SLAVE
 (1 << 2)

	)

31 
	#I2C_EVENT_TRANSFER_COMPLETE
 (1 << 3)

	)

32 
	#I2C_EVENT_TRANSFER_EARLY_NACK
 (1 << 4)

	)

33 
	#I2C_EVENT_ALL
 (
I2C_EVENT_ERROR
 | 
I2C_EVENT_TRANSFER_COMPLETE
 | 
I2C_EVENT_ERROR_NO_SLAVE
 | 
I2C_EVENT_TRANSFER_EARLY_NACK
)

	)

37 #ià
DEVICE_I2C_ASYNCH


41 
i2c_s
 
	mi2c
;

42 
bufãr_s
 
	mtx_buff
;

43 
bufãr_s
 
	mrx_buff
;

44 } 
	ti2c_t
;

49 
i2c_s
 
	ti2c_t
;

54 
	mI2C_ERROR_NO_SLAVE
 = -1,

55 
	mI2C_ERROR_BUS_BUSY
 = -2

58 #ifdeà
__ılu¥lus


73 
i2c_š™
(
i2c_t
 *
obj
, 
PšName
 
sda
, PšNam
sş
);

79 
i2c_äequ’cy
(
i2c_t
 *
obj
, 
hz
);

84 
i2c_¡¬t
(
i2c_t
 *
obj
);

89 
i2c_¡İ
(
i2c_t
 *
obj
);

99 
i2c_»ad
(
i2c_t
 *
obj
, 
add»ss
, *
d©a
, 
Ëngth
, 
¡İ
);

109 
i2c_wr™e
(
i2c_t
 *
obj
, 
add»ss
, cÚ¡ *
d©a
, 
Ëngth
, 
¡İ
);

114 
i2c_»£t
(
i2c_t
 *
obj
);

121 
i2c_by‹_»ad
(
i2c_t
 *
obj
, 
Ï¡
);

128 
i2c_by‹_wr™e
(
i2c_t
 *
obj
, 
d©a
);

132 #ià
DEVICE_I2CSLAVE


143 
i2c_¦ave_mode
(
i2c_t
 *
obj
, 
’abË_¦ave
);

150 
i2c_¦ave_»ûive
(
i2c_t
 *
obj
);

156 
i2c_¦ave_»ad
(
i2c_t
 *
obj
, *
d©a
, 
Ëngth
);

162 
i2c_¦ave_wr™e
(
i2c_t
 *
obj
, cÚ¡ *
d©a
, 
Ëngth
);

170 
i2c_¦ave_add»ss
(
i2c_t
 *
obj
, 
idx
, 
ušt32_t
 
add»ss
, ušt32_ˆ
mask
);

176 #ià
DEVICE_I2C_ASYNCH


194 
i2c_Œªsãr_asynch
(
i2c_t
 *
obj
, cÚ¡ *
tx
, 
size_t
 
tx_Ëngth
, *
rx
, size_ˆ
rx_Ëngth
, 
ušt32_t
 
add»ss
, ušt32_ˆ
¡İ
, ušt32_ˆ
hªdËr
, ušt32_ˆ
ev’t
, 
DMAU§ge
 
hšt
);

200 
ušt32_t
 
i2c_œq_hªdËr_asynch
(
i2c_t
 *
obj
);

206 
ušt8_t
 
i2c_aùive
(
i2c_t
 *
obj
);

211 
i2c_abÜt_asynch
(
i2c_t
 *
obj
);

217 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\lp_ticker_api.h

16 #iâdeà
MBED_LPTICKER_API_H


17 
	#MBED_LPTICKER_API_H


	)

19 
	~"deviû.h
"

21 #ià
DEVICE_LOWPOWERTIMER


23 
	~"tick”_­i.h
"

25 #ifdeà
__ılu¥lus


38 cÚ¡ 
tick”_d©a_t
* 
g‘_Í_tick”_d©a
();

43 
Í_tick”_œq_hªdËr
();

50 
Í_tick”_š™
();

56 
ušt32_t
 
Í_tick”_»ad
();

62 
Í_tick”_£t_š‹¼u±
(
time¡amp_t
 
time¡amp
);

67 
Í_tick”_di§bË_š‹¼u±
();

72 
Í_tick”_ş—r_š‹¼u±
();

76 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\pinmap.h

16 #iâdeà
MBED_PINMAP_H


17 
	#MBED_PINMAP_H


	)

19 
	~"PšNames.h
"

21 #ifdeà
__ılu¥lus


26 
PšName
 
pš
;

27 
³rh”®
;

28 
funùiÚ
;

29 } 
	tPšM­
;

31 
pš_funùiÚ
(
PšName
 
pš
, 
funùiÚ
);

32 
pš_mode
 (
PšName
 
pš
, 
PšMode
 
mode
);

34 
ušt32_t
 
pšm­_³rh”®
(
PšName
 
pš
, cÚ¡ 
PšM­
* 
m­
);

35 
ušt32_t
 
pšm­_funùiÚ
(
PšName
 
pš
, cÚ¡ 
PšM­
* 
m­
);

36 
ušt32_t
 
pšm­_m”ge
 (ušt32_ˆ
a
, ušt32_ˆ
b
);

37 
pšm­_pšout
 (
PšName
 
pš
, cÚ¡ 
PšM­
 *
m­
);

38 
ušt32_t
 
pšm­_fšd_³rh”®
(
PšName
 
pš
, cÚ¡ 
PšM­
* 
m­
);

39 
ušt32_t
 
pšm­_fšd_funùiÚ
(
PšName
 
pš
, cÚ¡ 
PšM­
* 
m­
);

41 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\port_api.h

16 #iâdeà
MBED_PORTMAP_H


17 
	#MBED_PORTMAP_H


	)

19 
	~"deviû.h
"

21 #ià
DEVICE_PORTIN
 || 
DEVICE_PORTOUT


23 #ifdeà
__ılu¥lus


27 
pÜt_s
 
	tpÜt_t
;

29 
PšName
 
pÜt_pš
(
PÜtName
 
pÜt
, 
pš_n
);

31 
pÜt_š™
 (
pÜt_t
 *
obj
, 
PÜtName
 
pÜt
, 
mask
, 
PšDœeùiÚ
 
dœ
);

32 
pÜt_mode
 (
pÜt_t
 *
obj
, 
PšMode
 
mode
);

33 
pÜt_dœ
 (
pÜt_t
 *
obj
, 
PšDœeùiÚ
 
dœ
);

34 
pÜt_wr™e
(
pÜt_t
 *
obj
, 
v®ue
);

35 
pÜt_»ad
 (
pÜt_t
 *
obj
);

37 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\pwmout_api.h

16 #iâdeà
MBED_PWMOUT_API_H


17 
	#MBED_PWMOUT_API_H


	)

19 
	~"deviû.h
"

21 #ià
DEVICE_PWMOUT


23 #ifdeà
__ılu¥lus


27 
pwmout_s
 
	tpwmout_t
;

29 
pwmout_š™
 (
pwmout_t
* 
obj
, 
PšName
 
pš
);

30 
pwmout_ä“
 (
pwmout_t
* 
obj
);

32 
pwmout_wr™e
 (
pwmout_t
* 
obj
, 
³rûÁ
);

33 
pwmout_»ad
 (
pwmout_t
* 
obj
);

35 
pwmout_³riod
 (
pwmout_t
* 
obj
, 
£cÚds
);

36 
pwmout_³riod_ms
 (
pwmout_t
* 
obj
, 
ms
);

37 
pwmout_³riod_us
 (
pwmout_t
* 
obj
, 
us
);

39 
pwmout_pul£width
 (
pwmout_t
* 
obj
, 
£cÚds
);

40 
pwmout_pul£width_ms
(
pwmout_t
* 
obj
, 
ms
);

41 
pwmout_pul£width_us
(
pwmout_t
* 
obj
, 
us
);

43 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\rtc_api.h

16 #iâdeà
MBED_RTC_API_H


17 
	#MBED_RTC_API_H


	)

19 
	~"deviû.h
"

21 #ià
DEVICE_RTC


23 
	~<time.h
>

25 #ifdeà
__ılu¥lus


29 
¹c_š™
();

30 
¹c_ä“
();

31 
¹c_i£ÇbËd
();

33 
time_t
 
¹c_»ad
();

34 
¹c_wr™e
(
time_t
 
t
);

36 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\serial_api.h

16 #iâdeà
MBED_SERIAL_API_H


17 
	#MBED_SERIAL_API_H


	)

19 
	~"deviû.h
"

20 
	~"bufãr.h
"

21 
	~"dma_­i.h
"

23 #ià
DEVICE_SERIAL


25 
	#SERIAL_EVENT_TX_SHIFT
 (2)

	)

26 
	#SERIAL_EVENT_RX_SHIFT
 (8)

	)

28 
	#SERIAL_EVENT_TX_MASK
 (0x00FC)

	)

29 
	#SERIAL_EVENT_RX_MASK
 (0x3F00)

	)

31 
	#SERIAL_EVENT_ERROR
 (1 << 1)

	)

38 
	#SERIAL_EVENT_TX_COMPLETE
 (1 << (
SERIAL_EVENT_TX_SHIFT
 + 0))

	)

39 
	#SERIAL_EVENT_TX_ALL
 (
SERIAL_EVENT_TX_COMPLETE
)

	)

47 
	#SERIAL_EVENT_RX_COMPLETE
 (1 << (
SERIAL_EVENT_RX_SHIFT
 + 0))

	)

48 
	#SERIAL_EVENT_RX_OVERRUN_ERROR
 (1 << (
SERIAL_EVENT_RX_SHIFT
 + 1))

	)

49 
	#SERIAL_EVENT_RX_FRAMING_ERROR
 (1 << (
SERIAL_EVENT_RX_SHIFT
 + 2))

	)

50 
	#SERIAL_EVENT_RX_PARITY_ERROR
 (1 << (
SERIAL_EVENT_RX_SHIFT
 + 3))

	)

51 
	#SERIAL_EVENT_RX_OVERFLOW
 (1 << (
SERIAL_EVENT_RX_SHIFT
 + 4))

	)

52 
	#SERIAL_EVENT_RX_CHARACTER_MATCH
 (1 << (
SERIAL_EVENT_RX_SHIFT
 + 5))

	)

53 
	#SERIAL_EVENT_RX_ALL
 (
SERIAL_EVENT_RX_OVERFLOW
 | 
SERIAL_EVENT_RX_PARITY_ERROR
 | \

54 
SERIAL_EVENT_RX_FRAMING_ERROR
 | 
SERIAL_EVENT_RX_OVERRUN_ERROR
 | \

55 
SERIAL_EVENT_RX_COMPLETE
 | 
SERIAL_EVENT_RX_CHARACTER_MATCH
)

	)

58 
	#SERIAL_RESERVED_CHAR_MATCH
 (255)

	)

61 
	mP¬™yNÚe
 = 0,

62 
	mP¬™yOdd
 = 1,

63 
	mP¬™yEv’
 = 2,

64 
	mP¬™yFÜûd1
 = 3,

65 
	mP¬™yFÜûd0
 = 4

66 } 
	tS”ŸlP¬™y
;

69 
	mRxIrq
,

70 
	mTxIrq


71 } 
	tS”ŸlIrq
;

74 
	mFlowCÚŒŞNÚe
,

75 
	mFlowCÚŒŞRTS
,

76 
	mFlowCÚŒŞCTS
,

77 
	mFlowCÚŒŞRTSCTS


78 } 
	tFlowCÚŒŞ
;

80 (*
	tu¬t_œq_hªdËr
)(
	tušt32_t
 
	tid
, 
	tS”ŸlIrq
 
	tev’t
);

82 #ià
DEVICE_SERIAL_ASYNCH


86 
£rŸl_s
 
£rŸl
;

87 
bufãr_s
 
tx_buff
;

88 
bufãr_s
 
rx_buff
;

89 
ušt8_t
 
ch¬_m©ch
;

90 
ušt8_t
 
ch¬_found
;

91 } 
	t£rŸl_t
;

96 
£rŸl_s
 
	t£rŸl_t
;

100 #ifdeà
__ılu¥lus


116 
	`£rŸl_š™
(
£rŸl_t
 *
obj
, 
PšName
 
tx
, PšNam
rx
);

123 
	`£rŸl_ä“
(
£rŸl_t
 *
obj
);

130 
	`£rŸl_baud
(
£rŸl_t
 *
obj
, 
baud¿‹
);

139 
	`£rŸl_fÜm©
(
£rŸl_t
 *
obj
, 
d©a_b™s
, 
S”ŸlP¬™y
 
·r™y
, 
¡İ_b™s
);

147 
	`£rŸl_œq_hªdËr
(
£rŸl_t
 *
obj
, 
u¬t_œq_hªdËr
 
hªdËr
, 
ušt32_t
 
id
);

155 
	`£rŸl_œq_£t
(
£rŸl_t
 *
obj
, 
S”ŸlIrq
 
œq
, 
ušt32_t
 
’abË
);

161 
	`£rŸl_g‘c
(
£rŸl_t
 *
obj
);

169 
	`£rŸl_putc
(
£rŸl_t
 *
obj
, 
c
);

176 
	`£rŸl_»adabË
(
£rŸl_t
 *
obj
);

183 
	`£rŸl_wr™abË
(
£rŸl_t
 *
obj
);

189 
	`£rŸl_ş—r
(
£rŸl_t
 *
obj
);

195 
	`£rŸl_b»ak_£t
(
£rŸl_t
 *
obj
);

201 
	`£rŸl_b»ak_ş—r
(
£rŸl_t
 *
obj
);

207 
	`£rŸl_pšout_tx
(
PšName
 
tx
);

217 
	`£rŸl_£t_æow_cÚŒŞ
(
£rŸl_t
 *
obj
, 
FlowCÚŒŞ
 
ty³
, 
PšName
 
rxæow
, PšNam
txæow
);

219 #ià
DEVICE_SERIAL_ASYNCH


240 
	`£rŸl_tx_asynch
(
£rŸl_t
 *
obj
, cÚ¡ *
tx
, 
size_t
 
tx_Ëngth
, 
ušt8_t
 
tx_width
, 
ušt32_t
 
hªdËr
, ušt32_ˆ
ev’t
, 
DMAU§ge
 
hšt
);

255 
	`£rŸl_rx_asynch
(
£rŸl_t
 *
obj
, *
rx
, 
size_t
 
rx_Ëngth
, 
ušt8_t
 
rx_width
, 
ušt32_t
 
hªdËr
, ušt32_ˆ
ev’t
, ušt8_ˆ
ch¬_m©ch
, 
DMAU§ge
 
hšt
);

262 
ušt8_t
 
	`£rŸl_tx_aùive
(
£rŸl_t
 *
obj
);

269 
ušt8_t
 
	`£rŸl_rx_aùive
(
£rŸl_t
 *
obj
);

276 
	`£rŸl_œq_hªdËr_asynch
(
£rŸl_t
 *
obj
);

283 
	`£rŸl_tx_abÜt_asynch
(
£rŸl_t
 *
obj
);

290 
	`£rŸl_rx_abÜt_asynch
(
£rŸl_t
 *
obj
);

296 #ifdeà
__ılu¥lus


297 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\sleep_api.h

16 #iâdeà
MBED_SLEEP_API_H


17 
	#MBED_SLEEP_API_H


	)

19 
	~"deviû.h
"

21 #ià
DEVICE_SLEEP


23 #ifdeà
__ılu¥lus


41 
¦“p
();

56 
d“p¦“p
();

58 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\spi_api.h

16 #iâdeà
MBED_SPI_API_H


17 
	#MBED_SPI_API_H


	)

19 
	~"deviû.h
"

20 
	~"dma_­i.h
"

21 
	~"bufãr.h
"

23 #ià
DEVICE_SPI


25 
	#SPI_EVENT_ERROR
 (1 << 1)

	)

26 
	#SPI_EVENT_COMPLETE
 (1 << 2)

	)

27 
	#SPI_EVENT_RX_OVERFLOW
 (1 << 3)

	)

28 
	#SPI_EVENT_ALL
 (
SPI_EVENT_ERROR
 | 
SPI_EVENT_COMPLETE
 | 
SPI_EVENT_RX_OVERFLOW
)

	)

30 
	#SPI_EVENT_INTERNAL_TRANSFER_COMPLETE
 (1 << 30)

31 

	)

32 
	#SPI_FILL_WORD
 (0xFFFF)

	)

34 #ià
DEVICE_SPI_ASYNCH


38 
¥i_s
 
	m¥i
;

39 
bufãr_s
 
	mtx_buff
;

40 
bufãr_s
 
	mrx_buff
;

41 } 
	t¥i_t
;

46 
¥i_s
 
	t¥i_t
;

50 #ifdeà
__ılu¥lus


68 
¥i_š™
(
¥i_t
 *
obj
, 
PšName
 
mosi
, PšNam
miso
, PšNam
sşk
, PšNam
s£l
);

80 
¥i_ä“
(
¥i_t
 *
obj
);

90 
¥i_fÜm©
(
¥i_t
 *
obj
, 
b™s
, 
mode
, 
¦ave
);

99 
¥i_äequ’cy
(
¥i_t
 *
obj
, 
hz
);

113 
¥i_ma¡”_wr™e
(
¥i_t
 *
obj
, 
v®ue
);

120 
¥i_¦ave_»ûive
(
¥i_t
 *
obj
);

128 
¥i_¦ave_»ad
(
¥i_t
 *
obj
);

136 
¥i_¦ave_wr™e
(
¥i_t
 *
obj
, 
v®ue
);

143 
¥i_busy
(
¥i_t
 *
obj
);

150 
ušt8_t
 
¥i_g‘_moduË
(
¥i_t
 *
obj
);

154 #ià
DEVICE_SPI_ASYNCH


172 
¥i_ma¡”_Œªsãr
(
¥i_t
 *
obj
, cÚ¡ *
tx
, 
size_t
 
tx_Ëngth
, *
rx
, size_ˆ
rx_Ëngth
, 
ušt8_t
 
b™_width
, 
ušt32_t
 
hªdËr
, ušt32_ˆ
ev’t
, 
DMAU§ge
 
hšt
);

181 
ušt32_t
 
¥i_œq_hªdËr_asynch
(
¥i_t
 *
obj
);

194 
ušt8_t
 
¥i_aùive
(
¥i_t
 *
obj
);

200 
¥i_abÜt_asynch
(
¥i_t
 *
obj
);

207 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\ticker_api.h

16 #iâdeà
MBED_TICKER_API_H


17 
	#MBED_TICKER_API_H


	)

19 
	~"deviû.h
"

21 
ušt32_t
 
	ttime¡amp_t
;

25 
	stick”_ev’t_s
 {

26 
time¡amp_t
 
	mtime¡amp
;

27 
ušt32_t
 
	mid
;

28 
tick”_ev’t_s
 *
	mÃxt
;

29 } 
	ttick”_ev’t_t
;

31 (*
	ttick”_ev’t_hªdËr
)(
	tušt32_t
 
	tid
);

36 (*
š™
)();

37 
	`ušt32_t
 (*
»ad
)();

38 (*
di§bË_š‹¼u±
)();

39 (*
ş—r_š‹¼u±
)();

40 (*
£t_š‹¼u±
)(
time¡amp_t
 
time¡amp
);

41 } 
	ttick”_š‹rçû_t
;

46 
tick”_ev’t_hªdËr
 
ev’t_hªdËr
;

47 
tick”_ev’t_t
 *
h—d
;

48 } 
	ttick”_ev’t_queue_t
;

53 cÚ¡ 
tick”_š‹rçû_t
 *
š‹rçû
;

54 
tick”_ev’t_queue_t
 *
queue
;

55 } 
	ttick”_d©a_t
;

57 #ifdeà
__ılu¥lus


66 
	`tick”_£t_hªdËr
(cÚ¡ 
tick”_d©a_t
 *cÚ¡ 
d©a
, 
tick”_ev’t_hªdËr
 
hªdËr
);

72 
	`tick”_œq_hªdËr
(cÚ¡ 
tick”_d©a_t
 *cÚ¡ 
d©a
);

79 
	`tick”_»move_ev’t
(cÚ¡ 
tick”_d©a_t
 *cÚ¡ 
d©a
, 
tick”_ev’t_t
 *
obj
);

88 
	`tick”_š£¹_ev’t
(cÚ¡ 
tick”_d©a_t
 *cÚ¡ 
d©a
, 
tick”_ev’t_t
 *
obj
, 
time¡amp_t
 
time¡amp
, 
ušt32_t
 
id
);

95 
time¡amp_t
 
	`tick”_»ad
(cÚ¡ 
tick”_d©a_t
 *cÚ¡ 
d©a
);

102 
	`tick”_g‘_Ãxt_time¡amp
(cÚ¡ 
tick”_d©a_t
 *cÚ¡ 
d©a
, 
time¡amp_t
 *
time¡amp
);

104 #ifdeà
__ılu¥lus


105 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\us_ticker_api.h

16 #iâdeà
MBED_US_TICKER_API_H


17 
	#MBED_US_TICKER_API_H


	)

19 
	~<¡dšt.h
>

20 
	~"tick”_­i.h
"

22 #ifdeà
__ılu¥lus


35 cÚ¡ 
tick”_d©a_t
* 
g‘_us_tick”_d©a
();

41 
us_tick”_œq_hªdËr
();

48 
us_tick”_š™
();

54 
ušt32_t
 
us_tick”_»ad
();

60 
us_tick”_£t_š‹¼u±
(
time¡amp_t
 
time¡amp
);

65 
us_tick”_di§bË_š‹¼u±
();

70 
us_tick”_ş—r_š‹¼u±
();

74 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\TARGET_NXP\TARGET_LPC11U6X\LPC11U6x.h

27 #iâdeà
LPC11U6X_H


28 
	#LPC11U6X_H


	)

30 #ifdeà
__ılu¥lus


39 
Re£t_IRQn
 = -15,

40 
NÚMaskabËIÁ_IRQn
 = -14,

41 
H¬dFauÉ_IRQn
 = -13,

45 
SVC®l_IRQn
 = -5,

48 
P’dSV_IRQn
 = -2,

49 
SysTick_IRQn
 = -1,

51 
PIN_INT0_IRQn
 = 0,

52 
PIN_INT1_IRQn
 = 1,

53 
PIN_INT2_IRQn
 = 2,

54 
PIN_INT3_IRQn
 = 3,

55 
PIN_INT4_IRQn
 = 4,

56 
PIN_INT5_IRQn
 = 5,

57 
PIN_INT6_IRQn
 = 6,

58 
PIN_INT7_IRQn
 = 7,

59 
GINT0_IRQn
 = 8,

60 
GINT1_IRQn
 = 9,

61 
I2C1_IRQn
 = 10,

62 
USART1_4_IRQn
 = 11,

63 
USART2_3_IRQn
 = 12,

64 
SCT0_1_IRQn
 = 13,

65 
SSP1_IRQn
 = 14,

66 
I2C0_IRQn
 = 15,

67 
CT16B0_IRQn
 = 16,

68 
CT16B1_IRQn
 = 17,

69 
CT32B0_IRQn
 = 18,

70 
CT32B1_IRQn
 = 19,

71 
SSP0_IRQn
 = 20,

72 
USART0_IRQn
 = 21,

73 
USB_IRQn
 = 22,

74 
USB_FIQ_IRQn
 = 23,

75 
ADC_A_IRQn
 = 24,

76 
RTC_IRQn
 = 25,

77 
BOD_WDT_IRQn
 = 26,

78 
FLASH_IRQn
 = 27,

79 
DMA_IRQn
 = 28,

80 
ADC_B_IRQn
 = 29,

81 
USBWAKEUP_IRQn
 = 30

82 } 
	tIRQn_Ty³
;

95 
	#__CM0PLUS_REV
 0x0000

	)

96 
	#__MPU_PRESENT
 0

	)

97 
	#__NVIC_PRIO_BITS
 2

	)

98 
	#__V’dÜ_SysTickCÚfig
 0

	)

99 
	#__VTOR_PRESENT
 1

	)

102 
	~"cÜe_cm0¶us.h
"

103 
	~"sy¡em_LPC11U6x.h
"

117 #ià
defšed
(
__CC_ARM
)

118 #´agm¨
push


119 #´agm¨
ªÚ_uniÚs


120 #–ià
defšed
(
__ICCARM__
)

121 #´agm¨
Ïnguage
=
ex‹nded


122 #–ià
defšed
(
__GNUC__
)

124 #–ià
defšed
(
__TMS470__
)

126 #–ià
defšed
(
__TASKING__
)

127 #´agm¨
w¬nšg
 586

129 #w¬nšg 
NÙ
 
suµÜ‹d
 
comp”
 
ty³


144 
__IO
 
ušt32_t
 
CONSET
;

148 
__I
 
ušt32_t
 
STAT
;

151 
__IO
 
ušt32_t
 
DAT
;

155 
__IO
 
ušt32_t
 
ADR0
;

159 
__IO
 
ušt32_t
 
SCLH
;

161 
__IO
 
ušt32_t
 
SCLL
;

165 
__O
 
ušt32_t
 
CONCLR
;

169 
__IO
 
ušt32_t
 
MMCTRL
;

170 
__IO
 
ušt32_t
 
ADR1
;

174 
__IO
 
ušt32_t
 
ADR2
;

178 
__IO
 
ušt32_t
 
ADR3
;

182 
__I
 
ušt32_t
 
DATA_BUFFER
;

186 
__IO
 
ušt32_t
 
MASK0
;

189 
__IO
 
ušt32_t
 
MASK1
;

192 
__IO
 
ušt32_t
 
MASK2
;

195 
__IO
 
ušt32_t
 
MASK3
;

198 } 
	tLPC_I2C0_Ty³
;

211 
__IO
 
ušt32_t
 
MOD
;

213 
__IO
 
ušt32_t
 
TC
;

215 
__O
 
ušt32_t
 
FEED
;

218 
__I
 
ušt32_t
 
TV
;

220 
__IO
 
ušt32_t
 
CLKSEL
;

221 
__IO
 
ušt32_t
 
WARNINT
;

222 
__IO
 
ušt32_t
 
WINDOW
;

223 } 
	tLPC_WWDT_Ty³
;

238 
__IO
 
ušt32_t
 
DLL
;

241 
__O
 
ušt32_t
 
THR
;

243 
__I
 
ušt32_t
 
RBR
;

248 
__IO
 
ušt32_t
 
IER
;

250 
__IO
 
ušt32_t
 
DLM
;

256 
__O
 
ušt32_t
 
FCR
;

257 
__I
 
ušt32_t
 
IIR
;

259 
__IO
 
ušt32_t
 
LCR
;

261 
__IO
 
ušt32_t
 
MCR
;

262 
__I
 
ušt32_t
 
LSR
;

264 
__I
 
ušt32_t
 
MSR
;

265 
__IO
 
ušt32_t
 
SCR
;

266 
__IO
 
ušt32_t
 
ACR
;

268 
__IO
 
ušt32_t
 
ICR
;

270 
__IO
 
ušt32_t
 
FDR
;

272 
__IO
 
ušt32_t
 
OSR
;

274 
__IO
 
ušt32_t
 
TER
;

276 
__I
 
ušt32_t
 
RESERVED0
[3];

277 
__IO
 
ušt32_t
 
HDEN
;

278 
__I
 
ušt32_t
 
RESERVED1
;

279 
__IO
 
ušt32_t
 
SCICTRL
;

281 
__IO
 
ušt32_t
 
RS485CTRL
;

283 
__IO
 
ušt32_t
 
RS485ADRMATCH
;

285 
__IO
 
ušt32_t
 
RS485DLY
;

286 
__IO
 
ušt32_t
 
SYNCCTRL
;

287 } 
	tLPC_USART0_Ty³
;

300 
__IO
 
ušt32_t
 
IR
;

303 
__IO
 
ušt32_t
 
TCR
;

306 
__IO
 
ušt32_t
 
TC
;

308 
__IO
 
ušt32_t
 
PR
;

311 
__IO
 
ušt32_t
 
PC
;

315 
__IO
 
ušt32_t
 
MCR
;

317 
__IO
 
ušt32_t
 
MR0
;

320 
__IO
 
ušt32_t
 
MR1
;

323 
__IO
 
ušt32_t
 
MR2
;

326 
__IO
 
ušt32_t
 
MR3
;

329 
__IO
 
ušt32_t
 
CCR
;

332 
__I
 
ušt32_t
 
CR0
;

334 
__I
 
ušt32_t
 
CR1
;

336 
__I
 
ušt32_t
 
CR2
;

338 
__I
 
ušt32_t
 
RESERVED0
;

339 
__IO
 
ušt32_t
 
EMR
;

341 
__I
 
ušt32_t
 
RESERVED1
[12];

342 
__IO
 
ušt32_t
 
CTCR
;

345 
__IO
 
ušt32_t
 
PWMC
;

347 } 
	tLPC_CT16B0_Ty³
;

360 
__IO
 
ušt32_t
 
IR
;

363 
__IO
 
ušt32_t
 
TCR
;

366 
__IO
 
ušt32_t
 
TC
;

368 
__IO
 
ušt32_t
 
PR
;

371 
__IO
 
ušt32_t
 
PC
;

375 
__IO
 
ušt32_t
 
MCR
;

377 
__IO
 
ušt32_t
 
MR0
;

380 
__IO
 
ušt32_t
 
MR1
;

383 
__IO
 
ušt32_t
 
MR2
;

386 
__IO
 
ušt32_t
 
MR3
;

389 
__IO
 
ušt32_t
 
CCR
;

392 
__I
 
ušt32_t
 
CR0
;

394 
__I
 
ušt32_t
 
CR1
;

396 
__I
 
ušt32_t
 
CR2
;

398 
__I
 
ušt32_t
 
RESERVED0
;

399 
__IO
 
ušt32_t
 
EMR
;

401 
__I
 
ušt32_t
 
RESERVED1
[12];

402 
__IO
 
ušt32_t
 
CTCR
;

405 
__IO
 
ušt32_t
 
PWMC
;

407 } 
	tLPC_CT32B0_Ty³
;

420 
__IO
 
ušt32_t
 
CTRL
;

422 
__I
 
ušt32_t
 
RESERVED0
;

423 
__IO
 
ušt32_t
 
SEQA_CTRL
;

426 
__IO
 
ušt32_t
 
SEQB_CTRL
;

429 
__IO
 
ušt32_t
 
SEQA_GDAT
;

432 
__IO
 
ušt32_t
 
SEQB_GDAT
;

435 
__I
 
ušt32_t
 
RESERVED1
[2];

436 
__I
 
ušt32_t
 
DAT
[12];

438 
__IO
 
ušt32_t
 
THR0_LOW
;

441 
__IO
 
ušt32_t
 
THR1_LOW
;

444 
__IO
 
ušt32_t
 
THR0_HIGH
;

447 
__IO
 
ušt32_t
 
THR1_HIGH
;

450 
__I
 
ušt32_t
 
CHAN_THRSEL
;

452 
__IO
 
ušt32_t
 
INTEN
;

455 
__I
 
ušt32_t
 
FLAGS
;

459 
__IO
 
ušt32_t
 
TRM
;

460 } 
	tLPC_ADC_Ty³
;

473 
__IO
 
ušt32_t
 
CTRL
;

474 
__IO
 
ušt32_t
 
MATCH
;

475 
__IO
 
ušt32_t
 
COUNT
;

476 
__IO
 
ušt32_t
 
WAKE
;

477 } 
	tLPC_RTC_Ty³
;

490 
__IO
 
ušt32_t
 
DMA_ITRIG_PINMUX
[16];

491 } 
	tLPC_DMATRIGMUX_Ty³
;

504 
__IO
 
ušt32_t
 
PCON
;

505 
__IO
 
ušt32_t
 
GPREG0
;

506 
__IO
 
ušt32_t
 
GPREG1
;

507 
__IO
 
ušt32_t
 
GPREG2
;

508 
__IO
 
ušt32_t
 
GPREG3
;

509 
__IO
 
ušt32_t
 
DPDCTRL
;

510 } 
	tLPC_PMU_Ty³
;

523 
__I
 
ušt32_t
 
RESERVED0
[4];

524 
__IO
 
ušt32_t
 
FLASHCFG
;

525 
__I
 
ušt32_t
 
RESERVED1
[3];

526 
__IO
 
ušt32_t
 
FMSSTART
;

527 
__IO
 
ušt32_t
 
FMSSTOP
;

528 
__I
 
ušt32_t
 
RESERVED2
;

529 
__I
 
ušt32_t
 
FMSW0
;

530 } 
	tLPC_FLASHCTRL_Ty³
;

543 
__IO
 
ušt32_t
 
CR0
;

545 
__IO
 
ušt32_t
 
CR1
;

546 
__IO
 
ušt32_t
 
DR
;

548 
__I
 
ušt32_t
 
SR
;

549 
__IO
 
ušt32_t
 
CPSR
;

550 
__IO
 
ušt32_t
 
IMSC
;

551 
__I
 
ušt32_t
 
RIS
;

552 
__I
 
ušt32_t
 
MIS
;

553 
__O
 
ušt32_t
 
ICR
;

554 } 
	tLPC_SSP0_Ty³
;

567 
__IO
 
ušt32_t
 
PIO0_0
;

568 
__IO
 
ušt32_t
 
PIO0_1
;

569 
__IO
 
ušt32_t
 
PIO0_2
;

570 
__IO
 
ušt32_t
 
PIO0_3
;

571 
__IO
 
ušt32_t
 
PIO0_4
;

572 
__IO
 
ušt32_t
 
PIO0_5
;

573 
__IO
 
ušt32_t
 
PIO0_6
;

574 
__IO
 
ušt32_t
 
PIO0_7
;

575 
__IO
 
ušt32_t
 
PIO0_8
;

576 
__IO
 
ušt32_t
 
PIO0_9
;

577 
__IO
 
ušt32_t
 
PIO0_10
;

578 
__IO
 
ušt32_t
 
PIO0_11
;

579 
__IO
 
ušt32_t
 
PIO0_12
;

580 
__IO
 
ušt32_t
 
PIO0_13
;

581 
__IO
 
ušt32_t
 
PIO0_14
;

582 
__IO
 
ušt32_t
 
PIO0_15
;

583 
__IO
 
ušt32_t
 
PIO0_16
;

584 
__IO
 
ušt32_t
 
PIO0_17
;

585 
__IO
 
ušt32_t
 
PIO0_18
;

586 
__IO
 
ušt32_t
 
PIO0_19
;

587 
__IO
 
ušt32_t
 
PIO0_20
;

588 
__IO
 
ušt32_t
 
PIO0_21
;

589 
__IO
 
ušt32_t
 
PIO0_22
;

590 
__IO
 
ušt32_t
 
PIO0_23
;

591 
__IO
 
ušt32_t
 
PIO1_0
;

592 
__IO
 
ušt32_t
 
PIO1_1
;

593 
__IO
 
ušt32_t
 
PIO1_2
;

594 
__IO
 
ušt32_t
 
PIO1_3
;

595 
__IO
 
ušt32_t
 
PIO1_4
;

596 
__IO
 
ušt32_t
 
PIO1_5
;

597 
__IO
 
ušt32_t
 
PIO1_6
;

598 
__IO
 
ušt32_t
 
PIO1_7
;

599 
__IO
 
ušt32_t
 
PIO1_8
;

600 
__IO
 
ušt32_t
 
PIO1_9
;

601 
__IO
 
ušt32_t
 
PIO1_10
;

602 
__IO
 
ušt32_t
 
PIO1_11
;

603 
__IO
 
ušt32_t
 
PIO1_12
;

604 
__IO
 
ušt32_t
 
PIO1_13
;

605 
__IO
 
ušt32_t
 
PIO1_14
;

606 
__IO
 
ušt32_t
 
PIO1_15
;

607 
__IO
 
ušt32_t
 
PIO1_16
;

608 
__IO
 
ušt32_t
 
PIO1_17
;

609 
__IO
 
ušt32_t
 
PIO1_18
;

610 
__IO
 
ušt32_t
 
PIO1_19
;

611 
__IO
 
ušt32_t
 
PIO1_20
;

612 
__IO
 
ušt32_t
 
PIO1_21
;

613 
__IO
 
ušt32_t
 
PIO1_22
;

614 
__IO
 
ušt32_t
 
PIO1_23
;

615 
__IO
 
ušt32_t
 
PIO1_24
;

616 
__IO
 
ušt32_t
 
PIO1_25
;

617 
__IO
 
ušt32_t
 
PIO1_26
;

618 
__IO
 
ušt32_t
 
PIO1_27
;

619 
__IO
 
ušt32_t
 
PIO1_28
;

620 
__IO
 
ušt32_t
 
PIO1_29
;

621 
__IO
 
ušt32_t
 
PIO1_30
;

622 
__IO
 
ušt32_t
 
PIO1_31
;

623 
__I
 
ušt32_t
 
RESERVED0
[4];

624 
__IO
 
ušt32_t
 
PIO2_0
;

625 
__IO
 
ušt32_t
 
PIO2_1
;

626 
__I
 
ušt32_t
 
RESERVED1
;

627 
__IO
 
ušt32_t
 
PIO2_2
;

628 
__IO
 
ušt32_t
 
PIO2_3
;

629 
__IO
 
ušt32_t
 
PIO2_4
;

630 
__IO
 
ušt32_t
 
PIO2_5
;

631 
__IO
 
ušt32_t
 
PIO2_6
;

632 
__IO
 
ušt32_t
 
PIO2_7
;

633 
__IO
 
ušt32_t
 
PIO2_8
;

634 
__IO
 
ušt32_t
 
PIO2_9
;

635 
__IO
 
ušt32_t
 
PIO2_10
;

636 
__IO
 
ušt32_t
 
PIO2_11
;

637 
__IO
 
ušt32_t
 
PIO2_12
;

638 
__IO
 
ušt32_t
 
PIO2_13
;

639 
__IO
 
ušt32_t
 
PIO2_14
;

640 
__IO
 
ušt32_t
 
PIO2_15
;

641 
__IO
 
ušt32_t
 
PIO2_16
;

642 
__IO
 
ušt32_t
 
PIO2_17
;

643 
__IO
 
ušt32_t
 
PIO2_18
;

644 
__IO
 
ušt32_t
 
PIO2_19
;

645 
__IO
 
ušt32_t
 
PIO2_20
;

646 
__IO
 
ušt32_t
 
PIO2_21
;

647 
__IO
 
ušt32_t
 
PIO2_22
;

648 
__IO
 
ušt32_t
 
PIO2_23
;

649 } 
	tLPC_IOCON_Ty³
;

662 
__IO
 
ušt32_t
 
SYSMEMREMAP
;

663 
__IO
 
ušt32_t
 
PRESETCTRL
;

664 
__IO
 
ušt32_t
 
SYSPLLCTRL
;

665 
__I
 
ušt32_t
 
SYSPLLSTAT
;

666 
__IO
 
ušt32_t
 
USBPLLCTRL
;

667 
__I
 
ušt32_t
 
USBPLLSTAT
;

668 
__I
 
ušt32_t
 
RESERVED0
;

669 
__IO
 
ušt32_t
 
RTCOSCCTRL
;

670 
__IO
 
ušt32_t
 
SYSOSCCTRL
;

671 
__IO
 
ušt32_t
 
WDTOSCCTRL
;

672 
__I
 
ušt32_t
 
RESERVED1
[2];

673 
__IO
 
ušt32_t
 
SYSRSTSTAT
;

674 
__I
 
ušt32_t
 
RESERVED2
[3];

675 
__IO
 
ušt32_t
 
SYSPLLCLKSEL
;

676 
__IO
 
ušt32_t
 
SYSPLLCLKUEN
;

677 
__IO
 
ušt32_t
 
USBPLLCLKSEL
;

678 
__IO
 
ušt32_t
 
USBPLLCLKUEN
;

679 
__I
 
ušt32_t
 
RESERVED3
[8];

680 
__IO
 
ušt32_t
 
MAINCLKSEL
;

681 
__IO
 
ušt32_t
 
MAINCLKUEN
;

682 
__IO
 
ušt32_t
 
SYSAHBCLKDIV
;

683 
__I
 
ušt32_t
 
RESERVED4
;

684 
__IO
 
ušt32_t
 
SYSAHBCLKCTRL
;

685 
__I
 
ušt32_t
 
RESERVED5
[4];

686 
__IO
 
ušt32_t
 
SSP0CLKDIV
;

687 
__IO
 
ušt32_t
 
USART0CLKDIV
;

688 
__IO
 
ušt32_t
 
SSP1CLKDIV
;

689 
__IO
 
ušt32_t
 
FRGCLKDIV
;

691 
__I
 
ušt32_t
 
RESERVED6
[7];

692 
__IO
 
ušt32_t
 
USBCLKSEL
;

693 
__IO
 
ušt32_t
 
USBCLKUEN
;

694 
__IO
 
ušt32_t
 
USBCLKDIV
;

695 
__I
 
ušt32_t
 
RESERVED7
[5];

696 
__IO
 
ušt32_t
 
CLKOUTSEL
;

697 
__IO
 
ušt32_t
 
CLKOUTUEN
;

698 
__IO
 
ušt32_t
 
CLKOUTDIV
;

699 
__I
 
ušt32_t
 
RESERVED8
;

700 
__IO
 
ušt32_t
 
UARTFRGDIV
;

701 
__IO
 
ušt32_t
 
UARTFRGMULT
;

702 
__I
 
ušt32_t
 
RESERVED9
;

703 
__IO
 
ušt32_t
 
EXTTRACECMD
;

704 
__I
 
ušt32_t
 
PIOPORCAP0
;

705 
__I
 
ušt32_t
 
PIOPORCAP1
;

706 
__I
 
ušt32_t
 
PIOPORCAP2
;

707 
__I
 
ušt32_t
 
RESERVED10
[10];

708 
__IO
 
ušt32_t
 
IOCONCLKDIV6
;

710 
__IO
 
ušt32_t
 
IOCONCLKDIV5
;

712 
__IO
 
ušt32_t
 
IOCONCLKDIV4
;

714 
__IO
 
ušt32_t
 
IOCONCLKDIV3
;

716 
__IO
 
ušt32_t
 
IOCONCLKDIV2
;

718 
__IO
 
ušt32_t
 
IOCONCLKDIV1
;

720 
__IO
 
ušt32_t
 
IOCONCLKDIV0
;

722 
__IO
 
ušt32_t
 
BODCTRL
;

723 
__IO
 
ušt32_t
 
SYSTCKCAL
;

724 
__IO
 
ušt32_t
 
AHBMATRIXPRIO
;

725 
__I
 
ušt32_t
 
RESERVED11
[5];

726 
__IO
 
ušt32_t
 
IRQLATENCY
;

727 
__IO
 
ušt32_t
 
NMISRC
;

729 
__IO
 
ušt32_t
 
PINTSEL
[8];

731 
__IO
 
ušt32_t
 
PINTSEL0
;

732 
__IO
 
ušt32_t
 
PINTSEL1
;

733 
__IO
 
ušt32_t
 
PINTSEL2
;

734 
__IO
 
ušt32_t
 
PINTSEL3
;

735 
__IO
 
ušt32_t
 
PINTSEL4
;

736 
__IO
 
ušt32_t
 
PINTSEL5
;

737 
__IO
 
ušt32_t
 
PINTSEL6
;

738 
__IO
 
ušt32_t
 
PINTSEL7
;

741 
__IO
 
ušt32_t
 
USBCLKCTRL
;

742 
__I
 
ušt32_t
 
USBCLKST
;

743 
__I
 
ušt32_t
 
RESERVED12
[25];

744 
__IO
 
ušt32_t
 
STARTERP0
;

745 
__I
 
ušt32_t
 
RESERVED13
[3];

746 
__IO
 
ušt32_t
 
STARTERP1
;

747 
__I
 
ušt32_t
 
RESERVED14
[6];

748 
__IO
 
ušt32_t
 
PDSLEEPCFG
;

749 
__IO
 
ušt32_t
 
PDAWAKECFG
;

750 
__IO
 
ušt32_t
 
PDRUNCFG
;

751 
__I
 
ušt32_t
 
RESERVED15
[110];

752 
__I
 
ušt32_t
 
DEVICE_ID
;

753 } 
	tLPC_SYSCON_Ty³
;

766 
__IO
 
ušt32_t
 
CFG
;

768 
__IO
 
ušt32_t
 
CTL
;

770 
__IO
 
ušt32_t
 
STAT
;

773 
__IO
 
ušt32_t
 
INTENSET
;

777 
__O
 
ušt32_t
 
INTENCLR
;

780 
__I
 
ušt32_t
 
RXDAT
;

781 
__I
 
ušt32_t
 
RXDATSTAT
;

784 
__IO
 
ušt32_t
 
TXDAT
;

785 
__IO
 
ušt32_t
 
BRG
;

787 
__I
 
ušt32_t
 
INTSTAT
;

789 
__IO
 
ušt32_t
 
OSR
;

790 
__IO
 
ušt32_t
 
ADDR
;

791 } 
	tLPC_USART4_Ty³
;

804 
__IO
 
ušt32_t
 
CTRL
;

805 
__I
 
ušt32_t
 
RESERVED0
[7];

806 
__IO
 
ušt32_t
 
PORT_POL
[3];

807 
__I
 
ušt32_t
 
RESERVED1
[5];

808 
__IO
 
ušt32_t
 
PORT_ENA
[3];

809 } 
	tLPC_GINT0_Ty³
;

822 
__IO
 
ušt32_t
 
DEVCMDSTAT
;

823 
__IO
 
ušt32_t
 
INFO
;

824 
__IO
 
ušt32_t
 
EPLISTSTART
;

825 
__IO
 
ušt32_t
 
DATABUFSTART
;

826 
__IO
 
ušt32_t
 
LPM
;

827 
__IO
 
ušt32_t
 
EPSKIP
;

828 
__IO
 
ušt32_t
 
EPINUSE
;

829 
__IO
 
ušt32_t
 
EPBUFCFG
;

830 
__IO
 
ušt32_t
 
INTSTAT
;

831 
__IO
 
ušt32_t
 
INTEN
;

832 
__IO
 
ušt32_t
 
INTSETSTAT
;

833 
__IO
 
ušt32_t
 
INTROUTING
;

834 
__I
 
ušt32_t
 
RESERVED0
;

835 
__I
 
ušt32_t
 
EPTOGGLE
;

836 } 
	tLPC_USB_Ty³
;

849 
__IO
 
ušt32_t
 
MODE
;

850 
__IO
 
ušt32_t
 
SEED
;

853 
__O
 
ušt32_t
 
WR_DATA
;

854 
__I
 
ušt32_t
 
SUM
;

856 } 
	tLPC_CRC_Ty³
;

869 
__IO
 
ušt32_t
 
CTRL
;

870 
__I
 
ušt32_t
 
INTSTAT
;

871 
__IO
 
ušt32_t
 
SRAMBASE
;

872 
__I
 
ušt32_t
 
RESERVED0
[5];

873 
__IO
 
ušt32_t
 
ENABLESET0
;

874 
__I
 
ušt32_t
 
RESERVED1
;

875 
__O
 
ušt32_t
 
ENABLECLR0
;

876 
__I
 
ušt32_t
 
RESERVED2
;

877 
__I
 
ušt32_t
 
ACTIVE0
;

878 
__I
 
ušt32_t
 
RESERVED3
;

879 
__I
 
ušt32_t
 
BUSY0
;

880 
__I
 
ušt32_t
 
RESERVED4
;

881 
__IO
 
ušt32_t
 
ERRINT0
;

882 
__I
 
ušt32_t
 
RESERVED5
;

883 
__IO
 
ušt32_t
 
INTENSET0
;

884 
__I
 
ušt32_t
 
RESERVED6
;

885 
__O
 
ušt32_t
 
INTENCLR0
;

886 
__I
 
ušt32_t
 
RESERVED7
;

887 
__IO
 
ušt32_t
 
INTA0
;

888 
__I
 
ušt32_t
 
RESERVED8
;

889 
__IO
 
ušt32_t
 
INTB0
;

890 
__I
 
ušt32_t
 
RESERVED9
;

891 
__O
 
ušt32_t
 
SETVALID0
;

892 
__I
 
ušt32_t
 
RESERVED10
;

893 
__O
 
ušt32_t
 
SETTRIG0
;

894 
__I
 
ušt32_t
 
RESERVED11
;

895 
__O
 
ušt32_t
 
ABORT0
;

896 
__I
 
ušt32_t
 
RESERVED12
[225];

897 
__IO
 
ušt32_t
 
CFG0
;

898 
__I
 
ušt32_t
 
CTLSTAT0
;

899 
__IO
 
ušt32_t
 
XFERCFG0
;

900 
__I
 
ušt32_t
 
RESERVED13
;

901 
__IO
 
ušt32_t
 
CFG1
;

902 
__I
 
ušt32_t
 
CTLSTAT1
;

903 
__IO
 
ušt32_t
 
XFERCFG1
;

904 
__I
 
ušt32_t
 
RESERVED14
;

905 
__IO
 
ušt32_t
 
CFG2
;

906 
__I
 
ušt32_t
 
CTLSTAT2
;

907 
__IO
 
ušt32_t
 
XFERCFG2
;

908 
__I
 
ušt32_t
 
RESERVED15
;

909 
__IO
 
ušt32_t
 
CFG3
;

910 
__I
 
ušt32_t
 
CTLSTAT3
;

911 
__IO
 
ušt32_t
 
XFERCFG3
;

912 
__I
 
ušt32_t
 
RESERVED16
;

913 
__IO
 
ušt32_t
 
CFG4
;

914 
__I
 
ušt32_t
 
CTLSTAT4
;

915 
__IO
 
ušt32_t
 
XFERCFG4
;

916 
__I
 
ušt32_t
 
RESERVED17
;

917 
__IO
 
ušt32_t
 
CFG5
;

918 
__I
 
ušt32_t
 
CTLSTAT5
;

919 
__IO
 
ušt32_t
 
XFERCFG5
;

920 
__I
 
ušt32_t
 
RESERVED18
;

921 
__IO
 
ušt32_t
 
CFG6
;

922 
__I
 
ušt32_t
 
CTLSTAT6
;

923 
__IO
 
ušt32_t
 
XFERCFG6
;

924 
__I
 
ušt32_t
 
RESERVED19
;

925 
__IO
 
ušt32_t
 
CFG7
;

926 
__I
 
ušt32_t
 
CTLSTAT7
;

927 
__IO
 
ušt32_t
 
XFERCFG7
;

928 
__I
 
ušt32_t
 
RESERVED20
;

929 
__IO
 
ušt32_t
 
CFG8
;

930 
__I
 
ušt32_t
 
CTLSTAT8
;

931 
__IO
 
ušt32_t
 
XFERCFG8
;

932 
__I
 
ušt32_t
 
RESERVED21
;

933 
__IO
 
ušt32_t
 
CFG9
;

934 
__I
 
ušt32_t
 
CTLSTAT9
;

935 
__IO
 
ušt32_t
 
XFERCFG9
;

936 
__I
 
ušt32_t
 
RESERVED22
;

937 
__IO
 
ušt32_t
 
CFG10
;

938 
__I
 
ušt32_t
 
CTLSTAT10
;

939 
__IO
 
ušt32_t
 
XFERCFG10
;

940 
__I
 
ušt32_t
 
RESERVED23
;

941 
__IO
 
ušt32_t
 
CFG11
;

942 
__I
 
ušt32_t
 
CTLSTAT11
;

943 
__IO
 
ušt32_t
 
XFERCFG11
;

944 
__I
 
ušt32_t
 
RESERVED24
;

945 
__IO
 
ušt32_t
 
CFG12
;

946 
__I
 
ušt32_t
 
CTLSTAT12
;

947 
__IO
 
ušt32_t
 
XFERCFG12
;

948 
__I
 
ušt32_t
 
RESERVED25
;

949 
__IO
 
ušt32_t
 
CFG13
;

950 
__I
 
ušt32_t
 
CTLSTAT13
;

951 
__IO
 
ušt32_t
 
XFERCFG13
;

952 
__I
 
ušt32_t
 
RESERVED26
;

953 
__IO
 
ušt32_t
 
CFG14
;

954 
__I
 
ušt32_t
 
CTLSTAT14
;

955 
__IO
 
ušt32_t
 
XFERCFG14
;

956 
__I
 
ušt32_t
 
RESERVED27
;

957 
__IO
 
ušt32_t
 
CFG15
;

958 
__I
 
ušt32_t
 
CTLSTAT15
;

959 
__IO
 
ušt32_t
 
XFERCFG15
;

960 } 
	tLPC_DMA_Ty³
;

973 
__IO
 
ušt32_t
 
CONFIG
;

974 
__IO
 
ušt32_t
 
CTRL
;

975 
__IO
 
ušt32_t
 
LIMIT
;

976 
__IO
 
ušt32_t
 
HALT
;

977 
__IO
 
ušt32_t
 
STOP
;

978 
__IO
 
ušt32_t
 
START
;

979 
__I
 
ušt32_t
 
RESERVED0
[10];

980 
__IO
 
ušt32_t
 
COUNT
;

981 
__IO
 
ušt32_t
 
STATE
;

982 
__I
 
ušt32_t
 
INPUT
;

983 
__IO
 
ušt32_t
 
REGMODE
;

984 
__IO
 
ušt32_t
 
OUTPUT
;

985 
__IO
 
ušt32_t
 
OUTPUTDIRCTRL
;

986 
__IO
 
ušt32_t
 
RES
;

987 
__IO
 
ušt32_t
 
DMAREQ0
;

988 
__IO
 
ušt32_t
 
DMAREQ1
;

989 
__I
 
ušt32_t
 
RESERVED1
[35];

990 
__IO
 
ušt32_t
 
EVEN
;

991 
__IO
 
ušt32_t
 
EVFLAG
;

992 
__IO
 
ušt32_t
 
CONEN
;

993 
__IO
 
ušt32_t
 
CONFLAG
;

996 
__IO
 
ušt32_t
 
CAP0
;

998 
__IO
 
ušt32_t
 
MATCH0
;

1003 
__IO
 
ušt32_t
 
CAP1
;

1005 
__IO
 
ušt32_t
 
MATCH1
;

1010 
__IO
 
ušt32_t
 
MATCH2
;

1012 
__IO
 
ušt32_t
 
CAP2
;

1017 
__IO
 
ušt32_t
 
CAP3
;

1019 
__IO
 
ušt32_t
 
MATCH3
;

1024 
__IO
 
ušt32_t
 
CAP4
;

1026 
__IO
 
ušt32_t
 
MATCH4
;

1029 
__I
 
ušt32_t
 
RESERVED2
[59];

1032 
__IO
 
ušt32_t
 
CAPCTRL0
;

1034 
__IO
 
ušt32_t
 
MATCHREL0
;

1039 
__IO
 
ušt32_t
 
MATCHREL1
;

1041 
__IO
 
ušt32_t
 
CAPCTRL1
;

1046 
__IO
 
ušt32_t
 
MATCHREL2
;

1048 
__IO
 
ušt32_t
 
CAPCTRL2
;

1053 
__IO
 
ušt32_t
 
CAPCTRL3
;

1055 
__IO
 
ušt32_t
 
MATCHREL3
;

1060 
__IO
 
ušt32_t
 
CAPCTRL4
;

1062 
__IO
 
ušt32_t
 
MATCHREL4
;

1065 
__I
 
ušt32_t
 
RESERVED3
[59];

1066 
__IO
 
ušt32_t
 
EV0_STATE
;

1067 
__IO
 
ušt32_t
 
EV0_CTRL
;

1068 
__IO
 
ušt32_t
 
EV1_STATE
;

1069 
__IO
 
ušt32_t
 
EV1_CTRL
;

1070 
__IO
 
ušt32_t
 
EV2_STATE
;

1071 
__IO
 
ušt32_t
 
EV2_CTRL
;

1072 
__IO
 
ušt32_t
 
EV3_STATE
;

1073 
__IO
 
ušt32_t
 
EV3_CTRL
;

1074 
__IO
 
ušt32_t
 
EV4_STATE
;

1075 
__IO
 
ušt32_t
 
EV4_CTRL
;

1076 
__IO
 
ušt32_t
 
EV5_STATE
;

1077 
__IO
 
ušt32_t
 
EV5_CTRL
;

1078 
__I
 
ušt32_t
 
RESERVED4
[116];

1079 
__IO
 
ušt32_t
 
OUT0_SET
;

1080 
__IO
 
ušt32_t
 
OUT0_CLR
;

1081 
__IO
 
ušt32_t
 
OUT1_SET
;

1082 
__IO
 
ušt32_t
 
OUT1_CLR
;

1083 
__IO
 
ušt32_t
 
OUT2_SET
;

1084 
__IO
 
ušt32_t
 
OUT2_CLR
;

1085 
__IO
 
ušt32_t
 
OUT3_SET
;

1086 
__IO
 
ušt32_t
 
OUT3_CLR
;

1087 } 
	tLPC_SCT0_Ty³
;

1100 
__IO
 
ušt8_t
 
B
[88];

1101 
__I
 
ušt32_t
 
RESERVED0
[42];

1102 
__IO
 
ušt32_t
 
W
[88];

1103 
__I
 
ušt32_t
 
RESERVED1
[1896];

1104 
__IO
 
ušt32_t
 
DIR
[3];

1105 
__I
 
ušt32_t
 
RESERVED2
[29];

1106 
__IO
 
ušt32_t
 
MASK
[3];

1107 
__I
 
ušt32_t
 
RESERVED3
[29];

1108 
__IO
 
ušt32_t
 
PIN
[3];

1109 
__I
 
ušt32_t
 
RESERVED4
[29];

1110 
__IO
 
ušt32_t
 
MPIN
[3];

1111 
__I
 
ušt32_t
 
RESERVED5
[29];

1112 
__IO
 
ušt32_t
 
SET
[3];

1113 
__I
 
ušt32_t
 
RESERVED6
[29];

1114 
__O
 
ušt32_t
 
CLR
[3];

1115 
__I
 
ušt32_t
 
RESERVED7
[29];

1116 
__O
 
ušt32_t
 
NOT
[3];

1117 } 
	tLPC_GPIO_PORT_Ty³
;

1130 
__IO
 
ušt32_t
 
ISEL
;

1131 
__IO
 
ušt32_t
 
IENR
;

1132 
__O
 
ušt32_t
 
SIENR
;

1133 
__O
 
ušt32_t
 
CIENR
;

1134 
__IO
 
ušt32_t
 
IENF
;

1136 
__O
 
ušt32_t
 
SIENF
;

1137 
__O
 
ušt32_t
 
CIENF
;

1138 
__IO
 
ušt32_t
 
RISE
;

1139 
__IO
 
ušt32_t
 
FALL
;

1140 
__IO
 
ušt32_t
 
IST
;

1141 
__IO
 
ušt32_t
 
PMCTRL
;

1142 
__IO
 
ušt32_t
 
PMSRC
;

1143 
__IO
 
ušt32_t
 
PMCFG
;

1144 } 
	tLPC_PINT_Ty³
;

1148 #ià
defšed
(
__CC_ARM
)

1149 #´agm¨
pİ


1150 #–ià
defšed
(
__ICCARM__
)

1152 #–ià
defšed
(
__GNUC__
)

1154 #–ià
defšed
(
__TMS470__
)

1156 #–ià
defšed
(
__TASKING__
)

1157 #´agm¨
w¬nšg
 
»¡Üe


1159 #w¬nšg 
NÙ
 
suµÜ‹d
 
comp”
 
ty³


1169 
	#LPC_I2C0_BASE
 0x40000000UL

	)

1170 
	#LPC_WWDT_BASE
 0x40004000UL

	)

1171 
	#LPC_USART0_BASE
 0x40008000UL

	)

1172 
	#LPC_CT16B0_BASE
 0x4000C000UL

	)

1173 
	#LPC_CT16B1_BASE
 0x40010000UL

	)

1174 
	#LPC_CT32B0_BASE
 0x40014000UL

	)

1175 
	#LPC_CT32B1_BASE
 0x40018000UL

	)

1176 
	#LPC_ADC_BASE
 0x4001C000UL

	)

1177 
	#LPC_I2C1_BASE
 0x40020000UL

	)

1178 
	#LPC_RTC_BASE
 0x40024000UL

	)

1179 
	#LPC_DMATRIGMUX_BASE
 0x40028000UL

	)

1180 
	#LPC_PMU_BASE
 0x40038000UL

	)

1181 
	#LPC_FLASHCTRL_BASE
 0x4003C000UL

	)

1182 
	#LPC_SSP0_BASE
 0x40040000UL

	)

1183 
	#LPC_IOCON_BASE
 0x40044000UL

	)

1184 
	#LPC_SYSCON_BASE
 0x40048000UL

	)

1185 
	#LPC_USART4_BASE
 0x4004C000UL

	)

1186 
	#LPC_SSP1_BASE
 0x40058000UL

	)

1187 
	#LPC_GINT0_BASE
 0x4005C000UL

	)

1188 
	#LPC_GINT1_BASE
 0x40060000UL

	)

1189 
	#LPC_USART1_BASE
 0x4006C000UL

	)

1190 
	#LPC_USART2_BASE
 0x40070000UL

	)

1191 
	#LPC_USART3_BASE
 0x40074000UL

	)

1192 
	#LPC_USB_BASE
 0x40080000UL

	)

1193 
	#LPC_CRC_BASE
 0x50000000UL

	)

1194 
	#LPC_DMA_BASE
 0x50004000UL

	)

1195 
	#LPC_SCT0_BASE
 0x5000C000UL

	)

1196 
	#LPC_SCT1_BASE
 0x5000E000UL

	)

1197 
	#LPC_GPIO_PORT_BASE
 0xA0000000UL

	)

1198 
	#LPC_PINT_BASE
 0xA0004000UL

	)

1205 
	#LPC_I2C0
 ((
LPC_I2C0_Ty³
 *è
LPC_I2C0_BASE
)

	)

1206 
	#LPC_WWDT
 ((
LPC_WWDT_Ty³
 *è
LPC_WWDT_BASE
)

	)

1207 
	#LPC_USART0
 ((
LPC_USART0_Ty³
 *è
LPC_USART0_BASE
)

	)

1208 
	#LPC_CT16B0
 ((
LPC_CT16B0_Ty³
 *è
LPC_CT16B0_BASE
)

	)

1209 
	#LPC_CT16B1
 ((
LPC_CT16B0_Ty³
 *è
LPC_CT16B1_BASE
)

	)

1210 
	#LPC_CT32B0
 ((
LPC_CT32B0_Ty³
 *è
LPC_CT32B0_BASE
)

	)

1211 
	#LPC_CT32B1
 ((
LPC_CT32B0_Ty³
 *è
LPC_CT32B1_BASE
)

	)

1212 
	#LPC_ADC
 ((
LPC_ADC_Ty³
 *è
LPC_ADC_BASE
)

	)

1213 
	#LPC_I2C1
 ((
LPC_I2C0_Ty³
 *è
LPC_I2C1_BASE
)

	)

1214 
	#LPC_RTC
 ((
LPC_RTC_Ty³
 *è
LPC_RTC_BASE
)

	)

1215 
	#LPC_DMATRIGMUX
 ((
LPC_DMATRIGMUX_Ty³
 *è
LPC_DMATRIGMUX_BASE
)

	)

1216 
	#LPC_PMU
 ((
LPC_PMU_Ty³
 *è
LPC_PMU_BASE
)

	)

1217 
	#LPC_FLASHCTRL
 ((
LPC_FLASHCTRL_Ty³
 *è
LPC_FLASHCTRL_BASE
)

	)

1218 
	#LPC_SSP0
 ((
LPC_SSP0_Ty³
 *è
LPC_SSP0_BASE
)

	)

1219 
	#LPC_IOCON
 ((
LPC_IOCON_Ty³
 *è
LPC_IOCON_BASE
)

	)

1220 
	#LPC_SYSCON
 ((
LPC_SYSCON_Ty³
 *è
LPC_SYSCON_BASE
)

	)

1221 
	#LPC_USART4
 ((
LPC_USART4_Ty³
 *è
LPC_USART4_BASE
)

	)

1222 
	#LPC_SSP1
 ((
LPC_SSP0_Ty³
 *è
LPC_SSP1_BASE
)

	)

1223 
	#LPC_GINT0
 ((
LPC_GINT0_Ty³
 *è
LPC_GINT0_BASE
)

	)

1224 
	#LPC_GINT1
 ((
LPC_GINT0_Ty³
 *è
LPC_GINT1_BASE
)

	)

1225 
	#LPC_USART1
 ((
LPC_USART4_Ty³
 *è
LPC_USART1_BASE
)

	)

1226 
	#LPC_USART2
 ((
LPC_USART4_Ty³
 *è
LPC_USART2_BASE
)

	)

1227 
	#LPC_USART3
 ((
LPC_USART4_Ty³
 *è
LPC_USART3_BASE
)

	)

1228 
	#LPC_USB
 ((
LPC_USB_Ty³
 *è
LPC_USB_BASE
)

	)

1229 
	#LPC_CRC
 ((
LPC_CRC_Ty³
 *è
LPC_CRC_BASE
)

	)

1230 
	#LPC_DMA
 ((
LPC_DMA_Ty³
 *è
LPC_DMA_BASE
)

	)

1231 
	#LPC_SCT0
 ((
LPC_SCT0_Ty³
 *è
LPC_SCT0_BASE
)

	)

1232 
	#LPC_SCT1
 ((
LPC_SCT0_Ty³
 *è
LPC_SCT1_BASE
)

	)

1233 
	#LPC_GPIO_PORT
 ((
LPC_GPIO_PORT_Ty³
 *è
LPC_GPIO_PORT_BASE
)

	)

1234 
	#LPC_PINT
 ((
LPC_PINT_Ty³
 *è
LPC_PINT_BASE
)

	)

1241 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\TARGET_NXP\TARGET_LPC11U6X\TOOLCHAIN_GCC_ARM\TARGET_LPC11U68\startup_LPC11U68.cpp

3 
	~"LPC11U6x.h
"

5 
	#WEAK
 
	`__©Œibu‹__
 ((
w—k
))

	)

6 
	#ALIAS
(
f
è
	`__©Œibu‹__
 ((
w—k
, 
	`®Ÿs
 (#f)))

	)

7 
	#AFTER_VECTORS
 
	`__©Œibu‹__
 ((
	`£ùiÚ
(".aá”_veùÜs")))
	`Re£tISR
();

	)

9 
__d©a_£ùiÚ_bË
;

10 
__d©a_£ùiÚ_bË_’d
;

11 
__bss_£ùiÚ_bË
;

12 
__bss_£ùiÚ_bË_’d
;

15 
__libc_š™_¬¿y
();

16 
maš
();

17 
_vSckTİ
();

18 (* cÚ¡ 
g_pâVeùÜs
[])();

20 
Re£tISR
();

21 
WEAK
 
NMI_HªdËr
();

22 
WEAK
 
H¬dFauÉ_HªdËr
();

23 
WEAK
 
SVC_HªdËr
();

24 
WEAK
 
P’dSV_HªdËr
();

25 
WEAK
 
SysTick_HªdËr
();

26 
WEAK
 
IÁDeçuÉHªdËr
();

28 
PIN_INT0_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

29 
PIN_INT1_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

30 
PIN_INT2_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

31 
PIN_INT3_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

32 
PIN_INT4_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

33 
PIN_INT5_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

34 
PIN_INT6_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

35 
PIN_INT7_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

36 
GINT0_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

37 
GINT1_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

38 
I2C1_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

39 
USART1_4_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

40 
USART2_3_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

41 
SCT0_1_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

42 
SSP1_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

43 
I2C0_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

44 
TIMER16_0_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

45 
TIMER16_1_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

46 
TIMER32_0_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

47 
TIMER32_1_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

48 
SSP0_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

49 
USART0_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

50 
USB_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

51 
USB_FIQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

52 
ADCA_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

53 
RTC_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

54 
BOD_WDT_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

55 
FMC_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

56 
DMA_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

57 
ADCB_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

58 
USBWakeup_IRQHªdËr
 (è
ALIAS
(
IÁDeçuÉHªdËr
);

60 
__©Œibu‹__
 ((
£ùiÚ
(".isr_vector")))

61 (* cÚ¡ 
	gg_pâVeùÜs
[])() = {

63 &
_vSckTİ
,

64 
Re£tISR
,

65 
NMI_HªdËr
,

66 
H¬dFauÉ_HªdËr
,

74 
SVC_HªdËr
,

77 
P’dSV_HªdËr
,

78 
SysTick_HªdËr
,

81 
PIN_INT0_IRQHªdËr
,

82 
PIN_INT1_IRQHªdËr
,

83 
PIN_INT2_IRQHªdËr
,

84 
PIN_INT3_IRQHªdËr
,

85 
PIN_INT4_IRQHªdËr
,

86 
PIN_INT5_IRQHªdËr
,

87 
PIN_INT6_IRQHªdËr
,

88 
PIN_INT7_IRQHªdËr
,

89 
GINT0_IRQHªdËr
,

90 
GINT1_IRQHªdËr
,

91 
I2C1_IRQHªdËr
,

92 
USART1_4_IRQHªdËr
,

93 
USART2_3_IRQHªdËr
,

94 
SCT0_1_IRQHªdËr
,

95 
SSP1_IRQHªdËr
,

96 
I2C0_IRQHªdËr
,

97 
TIMER16_0_IRQHªdËr
,

98 
TIMER16_1_IRQHªdËr
,

99 
TIMER32_0_IRQHªdËr
,

100 
TIMER32_1_IRQHªdËr
,

101 
SSP0_IRQHªdËr
,

102 
USART0_IRQHªdËr
,

103 
USB_IRQHªdËr
,

104 
USB_FIQHªdËr
,

105 
ADCA_IRQHªdËr
,

106 
RTC_IRQHªdËr
,

107 
BOD_WDT_IRQHªdËr
,

108 
FMC_IRQHªdËr
,

109 
DMA_IRQHªdËr
,

110 
ADCB_IRQHªdËr
,

111 
USBWakeup_IRQHªdËr
,

116 
AFTER_VECTORS
 
d©a_š™
(
rom¡¬t
, 
¡¬t
, 
Ën
) {

117 *
	gpulDe¡
 = (*è
¡¬t
;

118 *
	gpulSrc
 = (*è
rom¡¬t
;

119 
	gloİ
;

120 
	gloİ
 = 0;†oİ < 
	gËn
;†oİ = 
loİ
 + 4è*
pulDe¡
++ = *
pulSrc
++;

123 
AFTER_VECTORS
 
bss_š™
(
¡¬t
, 
Ën
) {

124 *
	gpulDe¡
 = (*è
¡¬t
;

125 
	gloİ
;

126 
	gloİ
 = 0;†oİ < 
	gËn
;†oİ = 
loİ
 + 4è*
pulDe¡
++ = 0;

131 "C" 
soáw¬e_š™_hook
(è
__©Œibu‹__
((
w—k
));

133 
AFTER_VECTORS
 
Re£tISR
() {

134 
	gLßdAddr
, 
	gExeAddr
, 
	gSeùiÚL’
;

135 *
	gSeùiÚTabËAddr
;

137 
	gSeùiÚTabËAddr
 = &
__d©a_£ùiÚ_bË
;

139 
	gSeùiÚTabËAddr
 < &
	g__d©a_£ùiÚ_bË_’d
) {

140 
	gLßdAddr
 = *
SeùiÚTabËAddr
++;

141 
	gExeAddr
 = *
SeùiÚTabËAddr
++;

142 
	gSeùiÚL’
 = *
SeùiÚTabËAddr
++;

143 
d©a_š™
(
LßdAddr
, 
ExeAddr
, 
SeùiÚL’
);

145 
	gSeùiÚTabËAddr
 < &
	g__bss_£ùiÚ_bË_’d
) {

146 
	gExeAddr
 = *
SeùiÚTabËAddr
++;

147 
	gSeùiÚL’
 = *
SeùiÚTabËAddr
++;

148 
bss_š™
(
ExeAddr
, 
SeùiÚL’
);

151 
Sy¡emIn™
();

152 ià(
	gsoáw¬e_š™_hook
)

153 
soáw¬e_š™_hook
();

155 
__libc_š™_¬¿y
();

156 
maš
();

161 
AFTER_VECTORS
 
NMI_HªdËr
 () {}

162 
AFTER_VECTORS
 
H¬dFauÉ_HªdËr
 () {}

163 
AFTER_VECTORS
 
MemMªage_HªdËr
 () {}

164 
AFTER_VECTORS
 
BusFauÉ_HªdËr
 () {}

165 
AFTER_VECTORS
 
U§geFauÉ_HªdËr
() {}

166 
AFTER_VECTORS
 
SVC_HªdËr
 () {}

167 
AFTER_VECTORS
 
DebugMÚ_HªdËr
 () {}

168 
AFTER_VECTORS
 
P’dSV_HªdËr
 () {}

169 
AFTER_VECTORS
 
SysTick_HªdËr
 () {}

170 
AFTER_VECTORS
 
IÁDeçuÉHªdËr
 () {}

172 
__«abi_©ex™
(*
objeù
, (*
de¡ruùÜ
)(*), *
dso_hªdË
) { 0;}

175 
	~<¡dlib.h
>

177 *
İ”©Ü
 
	$Ãw
(
size_t
 
size
è{ 
	`m®loc
(size);
	}
}

178 *
İ”©Ü
 
	gÃw
[](
size_t
 
	gsize
){ 
m®loc
(
size
);}

180 
İ”©Ü
 
	$d–‘e
(*
p
è{
	`ä“
Õ);
	}
}

181 
İ”©Ü
 
	gd–‘e
[](*
	gp
è{
ä“
(
p
);}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\TARGET_NXP\TARGET_LPC11U6X\cmsis.h

7 #iâdeà
MBED_CMSIS_H


8 
	#MBED_CMSIS_H


	)

10 
	~"LPC11U6x.h
"

11 
	~"cmsis_nvic.h
"

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\TARGET_NXP\TARGET_LPC11U6X\cmsis_nvic.c

31 
	~"cmsis_nvic.h
"

33 
	#NVIC_RAM_VECTOR_ADDRESS
 (0x10000000)

34 
	#NVIC_FLASH_VECTOR_ADDRESS
 (0x0)

35 

	)

36 
	$NVIC_S‘VeùÜ
(
IRQn_Ty³
 
IRQn
, 
ušt32_t
 
veùÜ
) {

37 
ušt32_t
 *
veùÜs
 = (ušt32_t*)
SCB
->
VTOR
;

38 
ušt32_t
 
i
;

41 ià(
SCB
->
VTOR
 =ğ
NVIC_FLASH_VECTOR_ADDRESS
) {

42 
ušt32_t
 *
Şd_veùÜs
 = 
veùÜs
;

43 
veùÜs
 = (
ušt32_t
*)
NVIC_RAM_VECTOR_ADDRESS
;

44 
i
=0; i<
NVIC_NUM_VECTORS
; i++) {

45 
veùÜs
[
i
] = 
Şd_veùÜs
[i];

47 
SCB
->
VTOR
 = (
ušt32_t
)
NVIC_RAM_VECTOR_ADDRESS
;

49 
veùÜs
[
IRQn
 + 16] = 
veùÜ
;

50 
	}
}

52 
ušt32_t
 
	$NVIC_G‘VeùÜ
(
IRQn_Ty³
 
IRQn
) {

53 
ušt32_t
 *
veùÜs
 = (ušt32_t*)
SCB
->
VTOR
;

54  
veùÜs
[
IRQn
 + 16];

55 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\TARGET_NXP\TARGET_LPC11U6X\cmsis_nvic.h

32 #iâdeà
MBED_CMSIS_NVIC_H


33 
	#MBED_CMSIS_NVIC_H


	)

35 
	#NVIC_NUM_VECTORS
 (16 + 32)

36 
	#NVIC_USER_IRQ_OFFSET
 16

	)

38 
	~"cmsis.h
"

40 #ifdeà
__ılu¥lus


44 
NVIC_S‘VeùÜ
(
IRQn_Ty³
 
IRQn
, 
ušt32_t
 
veùÜ
);

45 
ušt32_t
 
NVIC_G‘VeùÜ
(
IRQn_Ty³
 
IRQn
);

47 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\TARGET_NXP\TARGET_LPC11U6X\system_LPC11U6x.c

26 
	~<¡dšt.h
>

27 
	~"LPC11U6x.h
"

35 
	#CLOCK_SETUP
 1

	)

46 
	#SYSOSCCTRL_V®
 0x00000000

52 
	#SYSPLLCLKSEL_V®
 0x00000001

55 
	#CLOCK_SETUP_REG
 1

	)

78 
	#WDTOSCCTRL_V®
 0x000000A0

94 #ifdeà
_OSCT


	)

95 
	#SYSPLLCTRL_V®
 (0x00000023+
_OSCT
)

96 #–£

	)

97 
	#SYSPLLCTRL_V®
 0x00000023

105 
	#MAINCLKSEL_V®
 0x00000003

111 
	#SYSAHBCLKDIV_V®
 0x00000001

115 
	#CLOCK_SETUP_API
 0

	)

122 
	#PLL_API_MODE_V®
 0

	)

125 
	#PLL_API_FREQ_V®
 48000000

	)

129 
	#USB_CLOCK_SETUP
 1

	)

144 #ifdeà
_OSCT


145 
	#USBPLLCTRL_V®
 (0x00000023+
_OSCT
)

146 #–£

	)

147 
	#USBPLLCTRL_V®
 0x00000023

	)

154 
	#USBPLLCLKSEL_V®
 0x00000001

159 
	#USBCLKSEL_V®
 0x00000000

165 
	#USBCLKDIV_V®
 0x00000001

173 
	#XTAL_CLK_V®
 12000000

	)

182 
	#__XTAL_CLK
 ( 
XTAL_CLK_V®
è

	)

183 
	#__SYS_OSC_CLK
 ( 
__XTAL_CLK
è

	)

184 
	#__IRC_OSC_CLK
 ( 12000000ULè

	)

185 
	#__RTC_OSC_CLK
 ( 32768ULè

	)

190 
	#CHECK_RANGE
(
v®
, 
mš
, 
max
è((v® < mšè|| (v® > max))

	)

191 
	#CHECK_RSVD
(
v®
, 
mask
è(v® & mask)

	)

193 #ià(
CHECK_RSVD
((
SYSOSCCTRL_V®
), ~0x00000003))

197 #ià(
CHECK_RSVD
((
WDTOSCCTRL_V®
), ~0x000001FF))

201 #ià(
CHECK_RANGE
((
SYSPLLCLKSEL_V®
), 0, 3))

205 #ià(
SYSPLLCLKSEL_V®
 == 3)

206 #ià(
CLOCK_SETUP_API
 == 1)

209 #ià(
CLOCK_SETUP_REG
 =ğ1è&& (
MAINCLKSEL_V®
 == 3)

214 #ià(
CHECK_RSVD
((
SYSPLLCTRL_V®
), ~0x0000007F))

218 #ià(
CHECK_RSVD
((
MAINCLKSEL_V®
), ~0x00000003))

222 #ià(
CHECK_RANGE
((
SYSAHBCLKDIV_V®
), 0, 255))

226 #iàĞ
CLOCK_SETUP_REG
 =ğ
CLOCK_SETUP_API
 )

230 #ià(
CHECK_RANGE
((
USBPLLCLKSEL_V®
), 0, 1))

234 #ià(
CHECK_RSVD
((
USBPLLCTRL_V®
), ~0x000007F))

238 #ià(
CHECK_RANGE
((
USBCLKSEL_V®
), 0, 1))

242 #ià(
CHECK_RANGE
((
USBCLKDIV_V®
), 0, 255))

246 #ià(
CHECK_RANGE
(
XTAL_CLK_V®
, 1000000, 25000000))

250 #ià(
CHECK_RANGE
(
PLL_API_MODE_V®
, 0, 3))

254 #ià(
CHECK_RANGE
(
PLL_API_FREQ_V®
, 1000000, 50000000))

263 #ià(
CLOCK_SETUP
)

266 #ià ((
SYSPLLCLKSEL_V®
 & 0x03) == 0)

267 
	#__SYS_PLLCLKIN
 (
__IRC_OSC_CLK
)

	)

268 #–ià((
SYSPLLCLKSEL_V®
 & 0x03) == 1)

269 
	#__SYS_PLLCLKIN
 (
__SYS_OSC_CLK
)

	)

270 #–ià((
SYSPLLCLKSEL_V®
 & 0x03) == 3)

271 
	#__SYS_PLLCLKIN
 (
__RTC_OSC_CLK
)

	)

276 #ià(
CLOCK_SETUP_REG
 == 1)

278 
	#__FREQSEL
 ((
WDTOSCCTRL_V®
 >> 5è& 0x0F)

	)

279 
	#__DIVSEL
 (((
WDTOSCCTRL_V®
 & 0x1Fè<< 1è+ 2)

	)

281 #ià (
__FREQSEL
 == 0)

283 #–ià(
__FREQSEL
 == 1)

284 
	#__OSC_CLK
 ( 500000 / 
__DIVSEL
)

	)

285 #–ià(
__FREQSEL
 == 2)

286 
	#__OSC_CLK
 ( 800000 / 
__DIVSEL
)

	)

287 #–ià(
__FREQSEL
 == 3)

288 
	#__OSC_CLK
 (1100000 / 
__DIVSEL
)

	)

289 #–ià(
__FREQSEL
 == 4)

290 
	#__OSC_CLK
 (1400000 / 
__DIVSEL
)

	)

291 #–ià(
__FREQSEL
 == 5)

292 
	#__OSC_CLK
 (1600000 / 
__DIVSEL
)

	)

293 #–ià(
__FREQSEL
 == 6)

294 
	#__OSC_CLK
 (1800000 / 
__DIVSEL
)

	)

295 #–ià(
__FREQSEL
 == 7)

296 
	#__OSC_CLK
 (2000000 / 
__DIVSEL
)

	)

297 #–ià(
__FREQSEL
 == 8)

298 
	#__OSC_CLK
 (2200000 / 
__DIVSEL
)

	)

299 #–ià(
__FREQSEL
 == 9)

300 
	#__OSC_CLK
 (2400000 / 
__DIVSEL
)

	)

301 #–ià(
__FREQSEL
 == 10)

302 
	#__OSC_CLK
 (2600000 / 
__DIVSEL
)

	)

303 #–ià(
__FREQSEL
 == 11)

304 
	#__OSC_CLK
 (2700000 / 
__DIVSEL
)

	)

305 #–ià(
__FREQSEL
 == 12)

306 
	#__OSC_CLK
 (2900000 / 
__DIVSEL
)

	)

307 #–ià(
__FREQSEL
 == 13)

308 
	#__OSC_CLK
 (3100000 / 
__DIVSEL
)

	)

309 #–ià(
__FREQSEL
 == 14)

310 
	#__OSC_CLK
 (3200000 / 
__DIVSEL
)

	)

312 
	#__OSC_CLK
 (3400000 / 
__DIVSEL
)

	)

315 
	#__SYS_PLLCLKOUT
 (
__SYS_PLLCLKIN
 * ((
SYSPLLCTRL_V®
 & 0x01Fè+ 1))

	)

318 #ià ((
MAINCLKSEL_V®
 & 0x03) == 0)

319 
	#__MAIN_CLOCK
 (
__IRC_OSC_CLK
)

	)

320 #–ià((
MAINCLKSEL_V®
 & 0x03) == 1)

321 
	#__MAIN_CLOCK
 (
__SYS_PLLCLKIN
)

	)

322 #–ià((
MAINCLKSEL_V®
 & 0x03) == 2)

323 
	#__MAIN_CLOCK
 (
__OSC_CLK
)

	)

324 #–ià((
MAINCLKSEL_V®
 & 0x03) == 3)

325 
	#__MAIN_CLOCK
 (
__SYS_PLLCLKOUT
)

	)

330 
	#__SYSTEM_CLOCK
 (
__MAIN_CLOCK
 / 
SYSAHBCLKDIV_V®
)

	)

333 #ià(
CLOCK_SETUP_API
 == 1)

334 
	#__SYSTEM_CLOCK
 (
PLL_API_FREQ_V®
)

	)

338 
	#__SYSTEM_CLOCK
 (
__IRC_OSC_CLK
)

	)

343 #ià((
CLOCK_SETUP
 =ğ1è&& (
CLOCK_SETUP_API
 == 1))

344 
	~"pow”_­i.h
"

346 
	s_ROM
 {

347 cÚ¡ 
	mp_dev0
;

348 cÚ¡ 
	mp_dev1
;

349 cÚ¡ 
	mp_dev2
;

350 cÚ¡ 
PWRD
 * 
	mpPWRD
;

351 cÚ¡ 
	mp_dev4
;

352 cÚ¡ 
	mp_dev5
;

353 cÚ¡ 
	mp_dev6
;

354 cÚ¡ 
	mp_dev7
;

355 } 
	tROM
;

360 
	$£tPLL
(cÚ¡ 
ušt32_t
 
¶lMode
, cÚ¡ ušt32_ˆ
¶lInF»q
, cÚ¡ ušt32_ˆ
»qCpuF»q
)

362 
ušt32_t
 
cmd
[5], 
»s
[5];

363 
ROM
 ** 
rom
 = (ROM **) 0x1FFF1FF8;

365 
cmd
[0] = 
¶lInF»q
;

366 
cmd
[1] = 
»qCpuF»q
;

367 
cmd
[2] = 
¶lMode
;

368 
cmd
[3] = 0;

371 (*
rom
)->
pPWRD
->
	`£t_¶l
(
cmd
, 
»s
);

372 ià((
»s
[0] !ğ
PLL_CMD_SUCCESS
)){

375 
	}
}

384 
ušt32_t
 
	gSy¡emCÜeClock
 = 
__SYSTEM_CLOCK
;

390 
	$Sy¡emCÜeClockUpd©e
 ()

392 
ušt32_t
 
oscClk
 = 0;

395 (
LPC_SYSCON
->
WDTOSCCTRL
 >> 5) & 0x0F) {

396 0: 
oscClk
 = 0; ;

397 1: 
oscClk
 = 500000; ;

398 2: 
oscClk
 = 800000; ;

399 3: 
oscClk
 = 1100000; ;

400 4: 
oscClk
 = 1400000; ;

401 5: 
oscClk
 = 1600000; ;

402 6: 
oscClk
 = 1800000; ;

403 7: 
oscClk
 = 2000000; ;

404 8: 
oscClk
 = 2200000; ;

405 9: 
oscClk
 = 2400000; ;

406 10: 
oscClk
 = 2600000; ;

407 11: 
oscClk
 = 2700000; ;

408 12: 
oscClk
 = 2900000; ;

409 13: 
oscClk
 = 3100000; ;

410 14: 
oscClk
 = 3200000; ;

411 15: 
oscClk
 = 3400000; ;

413 
oscClk
 /ğ((
LPC_SYSCON
->
WDTOSCCTRL
 & 0x1F) << 1) + 2;

415 
LPC_SYSCON
->
MAINCLKSEL
 & 0x03) {

417 
Sy¡emCÜeClock
 = 
__IRC_OSC_CLK
;

420 
LPC_SYSCON
->
SYSPLLCLKSEL
 & 0x03) {

422 
Sy¡emCÜeClock
 = 
__IRC_OSC_CLK
;

425 
Sy¡emCÜeClock
 = 
__SYS_OSC_CLK
;

429 
Sy¡emCÜeClock
 = 0;

434 
Sy¡emCÜeClock
 = 
oscClk
;

437 
LPC_SYSCON
->
SYSPLLCLKSEL
 & 0x03) {

439 
Sy¡emCÜeClock
 = 
__IRC_OSC_CLK
 * ((
LPC_SYSCON
->
SYSPLLCTRL
 & 0x01F) + 1);

442 
Sy¡emCÜeClock
 = 
__SYS_OSC_CLK
 * ((
LPC_SYSCON
->
SYSPLLCTRL
 & 0x01F) + 1);

446 
Sy¡emCÜeClock
 = 0;

452 
Sy¡emCÜeClock
 /ğ
LPC_SYSCON
->
SYSAHBCLKDIV
;

454 
	}
}

456 
	#PDRUN_VALID_BITS
 0x000025FFL

	)

457 
	#PDRUN_RESERVED_ONE
 0x0000C800L

	)

459 
	$pow”_down_cÚfig
(
ušt32_t
 
v®
)

461 vŞ©
ušt32_t
 
tmp
;

462 
tmp
 = (
LPC_SYSCON
->
PDRUNCFG
 & 
PDRUN_VALID_BITS
);

463 
tmp
 |ğ(
v®
 & 
PDRUN_VALID_BITS
);

464 
LPC_SYSCON
->
PDRUNCFG
 = (
tmp
 | 
PDRUN_RESERVED_ONE
);

465 
	}
}

467 
	$pow”_up_cÚfig
(
ušt32_t
 
v®
)

469 vŞ©
ušt32_t
 
tmp
;

470 
tmp
 = (
LPC_SYSCON
->
PDRUNCFG
 & 
PDRUN_VALID_BITS
);

471 
tmp
 &ğ~(
v®
 & 
PDRUN_VALID_BITS
);

472 
LPC_SYSCON
->
PDRUNCFG
 = (
tmp
 | 
PDRUN_RESERVED_ONE
);

473 
	}
}

483 
	$Sy¡emIn™
 () {

484 #ià(
CLOCK_SETUP
)

485 vŞ©
ušt32_t
 
i
;

487 
LPC_SYSCON
->
SYSAHBCLKCTRL
 |= (1<<16);

488 
LPC_SYSCON
->
SYSPLLCTRL
 = 
SYSPLLCTRL_V®
;

490 #ià(
CLOCK_SETUP
)

492 #ià((
SYSPLLCLKSEL_V®
 & 0x03) == 1)

494 
LPC_IOCON
->
PIO2_0
 = 0x01;

495 
LPC_IOCON
->
PIO2_1
 = 0x01;

497 
LPC_SYSCON
->
SYSOSCCTRL
 = 
SYSOSCCTRL_V®
;

498 
	`pow”_up_cÚfig
(1<<5);

499 
i
 = 0; i < 2500; i++è
	`__NOP
();

502 #ià((
SYSPLLCLKSEL_V®
 & 0x03) == 3)

503 
LPC_SYSCON
->
RTCOSCCTRL
 = (1 << 0);

504 
i
 = 0; i < 200; i++è
	`__NOP
();

507 
LPC_SYSCON
->
SYSPLLCLKSEL
 = 
SYSPLLCLKSEL_V®
;

508 
LPC_SYSCON
->
SYSPLLCLKUEN
 = 0x01;

509 
LPC_SYSCON
->
SYSPLLCLKUEN
 = 0x00;

510 
LPC_SYSCON
->
SYSPLLCLKUEN
 = 0x01;

511 !(
LPC_SYSCON
->
SYSPLLCLKUEN
 & 0x01));

513 #ià(
CLOCK_SETUP_REG
 == 1)

515 #ià(((
MAINCLKSEL_V®
 & 0x03) == 2) )

516 
LPC_SYSCON
->
WDTOSCCTRL
 = 
WDTOSCCTRL_V®
;

517 
LPC_SYSCON
->
PDRUNCFG
 &= ~(1 << 6);

518 
i
 = 0; i < 2000; i++è
	`__NOP
();

521 #ià((
MAINCLKSEL_V®
 & 0x03) == 3)

522 
	`pow”_down_cÚfig
(1<<7);

523 
LPC_SYSCON
->
SYSPLLCTRL
 = 
SYSPLLCTRL_V®
;

524 
	`pow”_up_cÚfig
(1<<7);

525 !(
LPC_SYSCON
->
SYSPLLSTAT
 & 0x01));

528 
LPC_SYSCON
->
MAINCLKSEL
 = 
MAINCLKSEL_V®
;

529 
LPC_SYSCON
->
MAINCLKUEN
 = 0x01;

530 
LPC_SYSCON
->
MAINCLKUEN
 = 0x00;

531 
LPC_SYSCON
->
MAINCLKUEN
 = 0x01;

532 !(
LPC_SYSCON
->
MAINCLKUEN
 & 0x01));

534 
LPC_SYSCON
->
SYSAHBCLKDIV
 = 
SYSAHBCLKDIV_V®
;

537 #ià(
CLOCK_SETUP_API
 == 1)

544 
LPC_SYSCON
->
MAINCLKSEL
 = 
SYSPLLCLKSEL_V®
;

545 
LPC_SYSCON
->
MAINCLKUEN
 = 0x01;

546 
LPC_SYSCON
->
MAINCLKUEN
 = 0x00;

547 
LPC_SYSCON
->
MAINCLKUEN
 = 0x01;

548 !(
LPC_SYSCON
->
MAINCLKUEN
 & 0x01));

550 
LPC_SYSCON
->
SYSAHBCLKDIV
 = 1;

552 
	`£tPLL
(
PLL_API_MODE_V®
, 
__SYS_PLLCLKIN
 / 1000, 
PLL_API_FREQ_V®
 / 1000);

555 #ià(
USB_CLOCK_SETUP
 == 1)

556 
LPC_SYSCON
->
PDRUNCFG
 &= ~(1 << 10);

558 #ià((
USBCLKSEL_V®
 & 0x003) == 0)

559 
LPC_SYSCON
->
PDRUNCFG
 &= ~(1 << 8);

560 
LPC_SYSCON
->
USBPLLCLKSEL
 = 
USBPLLCLKSEL_V®
;

561 
LPC_SYSCON
->
USBPLLCLKUEN
 = 0x01;

562 
LPC_SYSCON
->
USBPLLCLKUEN
 = 0x00;

563 
LPC_SYSCON
->
USBPLLCLKUEN
 = 0x01;

564 !(
LPC_SYSCON
->
USBPLLCLKUEN
 & 0x01));

566 
LPC_SYSCON
->
USBPLLCTRL
 = 
USBPLLCTRL_V®
;

567 !(
LPC_SYSCON
->
USBPLLSTAT
 & 0x01));

569 
LPC_SYSCON
->
USBCLKSEL
 = 0x00;

572 
LPC_SYSCON
->
USBCLKSEL
 = 
USBCLKSEL_V®
;

573 
LPC_SYSCON
->
USBCLKDIV
 = 
USBCLKDIV_V®
;

576 
LPC_SYSCON
->
PDRUNCFG
 |= (1 << 10);

577 
LPC_SYSCON
->
PDRUNCFG
 |= (1 << 8);

582 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\TARGET_NXP\TARGET_LPC11U6X\system_LPC11U6x.h

26 #iâdeà
__SYSTEM_LPC11U6x_H


27 
	#__SYSTEM_LPC11U6x_H


	)

29 #ifdeà
__ılu¥lus


33 
	~<¡dšt.h
>

35 
ušt32_t
 
Sy¡emCÜeClock
;

47 
Sy¡emIn™
 ();

58 
Sy¡emCÜeClockUpd©e
 ();

60 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_ca9.h

38 #ià
defšed
 ( 
__ICCARM__
 )

39 #´agm¨
sy¡em_šşude


42 #ifdeà
__ılu¥lus


46 #iâdeà
__CORE_CA9_H_GENERIC


47 
	#__CORE_CA9_H_GENERIC


	)

72 
	#__CA9_CMSIS_VERSION_MAIN
 (0x03è

	)

73 
	#__CA9_CMSIS_VERSION_SUB
 (0x10è

	)

74 
	#__CA9_CMSIS_VERSION
 ((
__CA9_CMSIS_VERSION_MAIN
 << 16) | \

75 
__CA9_CMSIS_VERSION_SUB
 )

	)

77 
	#__CORTEX_A
 (0x09è

	)

80 #ià 
defšed
 ( 
__CC_ARM
 )

81 
	#__ASM
 
__asm


	)

82 
	#__INLINE
 
__šlše


	)

83 
	#__STATIC_INLINE
 
__šlše


	)

84 
	#__STATIC_ASM
 
__asm


	)

86 #–ià
defšed
 ( 
__ICCARM__
 )

87 
	#__ASM
 
__asm


	)

88 
	#__INLINE
 
šlše


	)

89 
	#__STATIC_INLINE
 
šlše


	)

90 
	#__STATIC_ASM
 
__asm


	)

92 #–ià
defšed
 ( 
__TMS470__
 )

93 
	#__ASM
 
__asm


	)

94 
	#__STATIC_INLINE
 
šlše


	)

95 
	#__STATIC_ASM
 
__asm


	)

97 #–ià
defšed
 ( 
__GNUC__
 )

98 
	#__ASM
 
__asm


	)

99 
	#__INLINE
 
šlše


	)

100 
	#__STATIC_INLINE
 
šlše


	)

101 
	#__STATIC_ASM
 
__asm


	)

103 #–ià
defšed
 ( 
__TASKING__
 )

104 
	#__ASM
 
__asm


	)

105 
	#__INLINE
 
šlše


	)

106 
	#__STATIC_INLINE
 
šlše


	)

107 
	#__STATIC_ASM
 
__asm


	)

113 #ià
defšed
 ( 
__CC_ARM
 )

114 #ià
defšed
 
__TARGET_FPU_VFP


115 #ià(
__FPU_PRESENT
 == 1)

116 
	#__FPU_USED
 1

	)

119 
	#__FPU_USED
 0

	)

122 
	#__FPU_USED
 0

	)

125 #–ià
defšed
 ( 
__ICCARM__
 )

126 #ià
defšed
 
__ARMVFP__


127 #ià(
__FPU_PRESENT
 == 1)

128 
	#__FPU_USED
 1

	)

131 
	#__FPU_USED
 0

	)

134 
	#__FPU_USED
 0

	)

137 #–ià
defšed
 ( 
__TMS470__
 )

138 #ià
defšed
 
__TI_VFP_SUPPORT__


139 #ià(
__FPU_PRESENT
 == 1)

140 
	#__FPU_USED
 1

	)

143 
	#__FPU_USED
 0

	)

146 
	#__FPU_USED
 0

	)

149 #–ià
defšed
 ( 
__GNUC__
 )

150 #ià
defšed
 (
__VFP_FP__
è&& !defšed(
__SOFTFP__
)

151 #ià(
__FPU_PRESENT
 == 1)

152 
	#__FPU_USED
 1

	)

155 
	#__FPU_USED
 0

	)

158 
	#__FPU_USED
 0

	)

161 #–ià
defšed
 ( 
__TASKING__
 )

162 #ià
defšed
 
__FPU_VFP__


163 #ià(
__FPU_PRESENT
 == 1)

164 
	#__FPU_USED
 1

	)

167 
	#__FPU_USED
 0

	)

170 
	#__FPU_USED
 0

	)

174 
	~<¡dšt.h
>

175 
	~"cÜe_ÿIn¡r.h
"

176 
	~"cÜe_ÿFunc.h
"

177 
	~"cÜe_cm4_simd.h
"

181 #iâdeà
__CMSIS_GENERIC


183 #iâdeà
__CORE_CA9_H_DEPENDANT


184 
	#__CORE_CA9_H_DEPENDANT


	)

187 #ià
defšed
 
__CHECK_DEVICE_DEFINES


188 #iâdeà
__CA9_REV


189 
	#__CA9_REV
 0x0000

	)

193 #iâdeà
__FPU_PRESENT


194 
	#__FPU_PRESENT
 1

	)

198 #iâdeà
__V’dÜ_SysTickCÚfig


199 
	#__V’dÜ_SysTickCÚfig
 1

	)

202 #ià
__V’dÜ_SysTickCÚfig
 == 0

215 #ifdeà
__ılu¥lus


216 
	#__I
 vŞ©

	)

218 
	#__I
 vŞ©cÚ¡

	)

220 
	#__O
 vŞ©

	)

221 
	#__IO
 vŞ©

	)

245 
ušt32_t
 
_»£rved0
:16;

246 
ušt32_t
 
GE
:4;

247 
ušt32_t
 
»£rved1
:7;

248 
ušt32_t
 
Q
:1;

249 
ušt32_t
 
V
:1;

250 
ušt32_t
 
C
:1;

251 
ušt32_t
 
Z
:1;

252 
ušt32_t
 
N
:1;

253 } 
b
;

254 
ušt32_t
 
w
;

255 } 
	tAPSR_Ty³
;

267 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_caFunc.h

38 #iâdeà
__CORE_CAFUNC_H__


39 
	#__CORE_CAFUNC_H__


	)

48 #ià 
defšed
 ( 
__CC_ARM
 )

51 #ià(
__ARMCC_VERSION
 < 400677)

55 
	#MODE_USR
 0x10

	)

56 
	#MODE_FIQ
 0x11

	)

57 
	#MODE_IRQ
 0x12

	)

58 
	#MODE_SVC
 0x13

	)

59 
	#MODE_MON
 0x16

	)

60 
	#MODE_ABT
 0x17

	)

61 
	#MODE_HYP
 0x1A

	)

62 
	#MODE_UND
 0x1B

	)

63 
	#MODE_SYS
 0x1F

	)

71 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_APSR
()

73 
ušt32_t
 
__»gAPSR
 
	`__ASM
("apsr");

74 (
__»gAPSR
);

75 
	}
}

84 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_CPSR
()

86 
ušt32_t
 
__»gCPSR
 
	`__ASM
("cpsr");

87 (
__»gCPSR
);

88 
	}
}

96 
ušt32_t
 
__»gSP
 
__ASM
("sp");

97 
__STATIC_INLINE
 
	$__£t_SP
(
ušt32_t
 
tİOfSck
)

99 
__»gSP
 = 
tİOfSck
;

100 
	}
}

109 
ušt32_t
 
__»gÌ
 
__ASM
("lr");

110 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_LR
()

112 (
__»gÌ
);

113 
	}
}

121 
__STATIC_INLINE
 
	$__£t_LR
(
ušt32_t
 
Ì
)

123 
__»gÌ
 = 
Ì
;

124 
	}
}

132 
__STATIC_ASM
 
	$__£t_PSP
(
ušt32_t
 
tİOfProcSck
)

134 
ARM


135 
PRESERVE8


137 
BIC
 
R0
, R0, #7 ;
’su»
 
¡ack
 
is
 8-
by‹
 
®igÃd


138 
MRS
 
R1
, 
CPSR


139 
CPS
 #MODE_SYS ;
no
 
efãù
 
š
 
USR
 
mode


140 
MOV
 
SP
, 
R0


141 
MSR
 
CPSR_c
, 
R1
 ;
no
 
efãù
 
š
 
USR
 
mode


142 
ISB


143 
BX
 
LR


145 
	}
}

151 
__STATIC_ASM
 
	$__£t_CPS_USR
()

153 
ARM


155 
CPS
 #MODE_USR

156 
BX
 
LR


157 
	}
}

165 
	#__’abË_çuÉ_œq
 
__’abË_fiq


	)

173 
	#__di§bË_çuÉ_œq
 
__di§bË_fiq


	)

182 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_FPSCR
()

184 #ià(
__FPU_PRESENT
 =ğ1è&& (
__FPU_USED
 == 1)

185 
ušt32_t
 
__»gåsü
 
	`__ASM
("fpscr");

186 (
__»gåsü
);

190 
	}
}

199 
__STATIC_INLINE
 
	$__£t_FPSCR
(
ušt32_t
 
åsü
)

201 #ià(
__FPU_PRESENT
 =ğ1è&& (
__FPU_USED
 == 1)

202 
ušt32_t
 
__»gåsü
 
	`__ASM
("fpscr");

203 
__»gåsü
 = (
åsü
);

205 
	}
}

213 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_FPEXC
()

215 #ià(
__FPU_PRESENT
 == 1)

216 
ušt32_t
 
__»gåexc
 
	`__ASM
("fpexc");

217 (
__»gåexc
);

221 
	}
}

230 
__STATIC_INLINE
 
	$__£t_FPEXC
(
ušt32_t
 
åexc
)

232 #ià(
__FPU_PRESENT
 == 1)

233 
ušt32_t
 
__»gåexc
 
	`__ASM
("fpexc");

234 
__»gåexc
 = (
åexc
);

236 
	}
}

244 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_CPACR
()

246 
ušt32_t
 
__»gCPACR
 
	`__ASM
("cp15:0:c1:c0:2");

247  
__»gCPACR
;

248 
	}
}

256 
__STATIC_INLINE
 
	$__£t_CPACR
(
ušt32_t
 
ıaü
)

258 
ušt32_t
 
__»gCPACR
 
	`__ASM
("cp15:0:c1:c0:2");

259 
__»gCPACR
 = 
ıaü
;

260 
	`__ISB
();

261 
	}
}

269 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_CBAR
() {

270 
ušt32_t
 
__»gCBAR
 
	`__ASM
("cp15:4:c15:c0:0");

271 (
__»gCBAR
);

272 
	}
}

280 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_TTBR0
() {

281 
ušt32_t
 
__»gTTBR0
 
	`__ASM
("cp15:0:c2:c0:0");

282 (
__»gTTBR0
);

283 
	}
}

291 
__STATIC_INLINE
 
	$__£t_TTBR0
(
ušt32_t
 
‰br0
) {

292 
ušt32_t
 
__»gTTBR0
 
	`__ASM
("cp15:0:c2:c0:0");

293 
__»gTTBR0
 = 
‰br0
;

294 
	`__ISB
();

295 
	}
}

303 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_DACR
() {

304 
ušt32_t
 
__»gDACR
 
	`__ASM
("cp15:0:c3:c0:0");

305 (
__»gDACR
);

306 
	}
}

314 
__STATIC_INLINE
 
	$__£t_DACR
(
ušt32_t
 
daü
) {

315 
ušt32_t
 
__»gDACR
 
	`__ASM
("cp15:0:c3:c0:0");

316 
__»gDACR
 = 
daü
;

317 
	`__ISB
();

318 
	}
}

328 
__STATIC_INLINE
 
	$__£t_SCTLR
(
ušt32_t
 
sùÌ
)

330 
ušt32_t
 
__»gSCTLR
 
	`__ASM
("cp15:0:c1:c0:0");

331 
__»gSCTLR
 = 
sùÌ
;

332 
	}
}

340 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_SCTLR
() {

341 
ušt32_t
 
__»gSCTLR
 
	`__ASM
("cp15:0:c1:c0:0");

342 (
__»gSCTLR
);

343 
	}
}

349 
__STATIC_INLINE
 
	$__’abË_ÿches
() {

352 
	`__£t_SCTLR
Ğ
	`__g‘_SCTLR
() | (1 << 12) | (1 << 2));

353 
	}
}

359 
__STATIC_INLINE
 
	$__di§bË_ÿches
() {

362 
	`__£t_SCTLR
Ğ
	`__g‘_SCTLR
() & ~(1 << 12) & ~(1 << 2));

363 
	`__ISB
();

364 
	}
}

370 
__STATIC_INLINE
 
	$__’abË_bc
() {

372 
	`__£t_SCTLR
Ğ
	`__g‘_SCTLR
() | (1 << 11));

373 
	`__ISB
();

374 
	}
}

380 
__STATIC_INLINE
 
	$__di§bË_bc
() {

382 
	`__£t_SCTLR
Ğ
	`__g‘_SCTLR
() & ~(1 << 11));

383 
	}
}

390 
__STATIC_INLINE
 
	$__’abË_mmu
() {

394 
	`__£t_SCTLR
Ğ(
	`__g‘_SCTLR
() & ~(1 << 28) & ~(1 << 1)) | 1 | (1 << 29));

395 
	`__ISB
();

396 
	}
}

402 
__STATIC_INLINE
 
	$__di§bË_mmu
() {

404 
	`__£t_SCTLR
Ğ
	`__g‘_SCTLR
() & ~1);

405 
	`__ISB
();

406 
	}
}

414 
__STATIC_INLINE
 
	$__ÿ9u_šv_b_®l
() {

415 
ušt32_t
 
__TLBIALL
 
	`__ASM
("cp15:0:c8:c7:0");

416 
__TLBIALL
 = 0;

417 
	`__DSB
();

418 
	`__ISB
();

419 
	}
}

427 
__STATIC_INLINE
 
	$__v7_šv_bc
() {

428 
ušt32_t
 
__BPIALL
 
	`__ASM
("cp15:0:c7:c5:6");

429 
__BPIALL
 = 0;

430 
	`__DSB
();

431 
	`__ISB
();

432 
	}
}

441 
__STATIC_INLINE
 
	$__v7_šv_iÿche_®l
() {

442 
ušt32_t
 
__ICIALLU
 
	`__ASM
("cp15:0:c7:c5:0");

443 
__ICIALLU
 = 0;

444 
	`__DSB
();

445 
	`__ISB
();

446 
	}
}

452 
__STATIC_INLINE
 
	$__v7_ş—n_dÿche_mva
(*
va
) {

453 
ušt32_t
 
__DCCMVAC
 
	`__ASM
("cp15:0:c7:c10:1");

454 
__DCCMVAC
 = (
ušt32_t
)
va
;

455 
	`__DMB
();

456 
	}
}

462 
__STATIC_INLINE
 
	$__v7_šv_dÿche_mva
(*
va
) {

463 
ušt32_t
 
__DCIMVAC
 
	`__ASM
("cp15:0:c7:c6:1");

464 
__DCIMVAC
 = (
ušt32_t
)
va
;

465 
	`__DMB
();

466 
	}
}

472 
__STATIC_INLINE
 
	$__v7_ş—n_šv_dÿche_mva
(*
va
) {

473 
ušt32_t
 
__DCCIMVAC
 
	`__ASM
("cp15:0:c7:c14:1");

474 
__DCCIMVAC
 = (
ušt32_t
)
va
;

475 
	`__DMB
();

476 
	}
}

482 #´agm¨
push


483 #´agm¨
¬m


484 
__STATIC_ASM
 
	$__v7_®l_ÿche
(
ušt32_t
 
İ
) {

485 
ARM


487 
PUSH
 {
R4
-
R11
}

489 
MRC
 
p15
, 1, 
R6
, 
c0
, c0, 1

490 
ANDS
 
R3
, 
R6
, #0
x07000000


491 
MOV
 
R3
, R3, 
LSR
 #23

492 
BEQ
 
Fšished


494 
MOV
 
R10
, #0

495 
Loİ1
 
ADD
 
R2
, 
R10
, R10, 
LSR
 #1

496 
MOV
 
R1
, 
R6
, 
LSR
 
R2


497 
AND
 
R1
, R1, #7

498 
CMP
 
R1
, #2

499 
BLT
 
Sk


501 
MCR
 
p15
, 2, 
R10
, 
c0
, c0, 0

502 
ISB


503 
MRC
 
p15
, 1, 
R1
, 
c0
, c0, 0

504 
AND
 
R2
, 
R1
, #7

505 
ADD
 
R2
, R2, #4

506 
LDR
 
R4
, =0x3FF

507 
ANDS
 
R4
, R4, 
R1
, 
LSR
 #3

508 
CLZ
 
R5
, 
R4


509 
LDR
 
R7
, =0x7FFF

510 
ANDS
 
R7
, R7, 
R1
, 
LSR
 #13

512 
Loİ2
 
MOV
 
R9
, 
R4


514 
Loİ3
 
ORR
 
R11
, 
R10
, 
R9
, 
LSL
 
R5


515 
ORR
 
R11
, R11, 
R7
, 
LSL
 
R2


516 
CMP
 
R0
, #0

517 
BNE
 
Dccsw


518 
MCR
 
p15
, 0, 
R11
, 
c7
, 
c6
, 2

519 
B
 
cÚt


520 
Dccsw
 
CMP
 
R0
, #1

521 
BNE
 
Dccisw


522 
MCR
 
p15
, 0, 
R11
, 
c7
, 
c10
, 2

523 
B
 
cÚt


524 
Dccisw
 
MCR
 
p15
, 0, 
R11
, 
c7
, 
c14
, 2

525 
cÚt
 
SUBS
 
R9
, R9, #1

526 
BGE
 
Loİ3


527 
SUBS
 
R7
, R7, #1

528 
BGE
 
Loİ2


529 
Sk
 
ADD
 
R10
, R10, #2

530 
CMP
 
R3
, 
R10


531 
BGT
 
Loİ1


533 
Fšished


534 
DSB


535 
POP
 {
R4
-
R11
}

536 
BX
 
Ì


538 
	}
}

539 #´agm¨
pİ


547 
__STATIC_INLINE
 
	$__v7_šv_dÿche_®l
() {

548 
	`__v7_®l_ÿche
(0);

549 
	}
}

556 
__STATIC_INLINE
 
	$__v7_ş—n_dÿche_®l
() {

557 
	`__v7_®l_ÿche
(1);

558 
	}
}

565 
__STATIC_INLINE
 
	$__v7_ş—n_šv_dÿche_®l
() {

566 
	`__v7_®l_ÿche
(2);

567 
	}
}

569 
	~"cÜe_ÿ_mmu.h
"

571 #–ià(
defšed
 (
__ICCARM__
))

573 #”rÜ 
IAR
 
Comp”
 
suµÜt
 
nÙ
 
im¶em’‹d
 
CÜ‹x
-
A


575 #–ià(
defšed
 (
__GNUC__
))

578 
	#MODE_USR
 0x10

	)

579 
	#MODE_FIQ
 0x11

	)

580 
	#MODE_IRQ
 0x12

	)

581 
	#MODE_SVC
 0x13

	)

582 
	#MODE_MON
 0x16

	)

583 
	#MODE_ABT
 0x17

	)

584 
	#MODE_HYP
 0x1A

	)

585 
	#MODE_UND
 0x1B

	)

586 
	#MODE_SYS
 0x1F

	)

589 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__’abË_œq
()

591 
__ASM
 volatile ("cpsie i");

592 
	}
}

599 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__di§bË_œq
()

601 
ušt32_t
 
»suÉ
;

603 
__ASM
 vŞ©("mr %0, cp¤" : "ô" (
»suÉ
));

604 
__ASM
 volatile ("cpsid i");

605 (
»suÉ
 & 0x80);

606 
	}
}

615 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_APSR
()

618 
ušt32_t
 
__»gAPSR
;

619 
__ASM
 vŞ©("mr %0,‡p¤" : "ô" (
__»gAPSR
) );

621 
ušt32_t
 
__»gAPSR
 
	`__ASM
("apsr");

623 (
__»gAPSR
);

624 
	}
}

633 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_CPSR
()

636 
ušt32_t
 
__»gCPSR
;

637 
__ASM
 vŞ©("mr %0, cp¤" : "ô" (
__»gCPSR
));

639 
ušt32_t
 
__»gCPSR
 
	`__ASM
("cpsr");

641 (
__»gCPSR
);

642 
	}
}

651 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__£t_SP
(
ušt32_t
 
tİOfSck
)

653 
ušt32_t
 
__»gSP
 
	`__ASM
("sp");

654 
__»gSP
 = 
tİOfSck
;

655 
	}
}

664 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_LR
()

666 
ušt32_t
 
__»gÌ
 
	`__ASM
("lr");

667 (
__»gÌ
);

668 
	}
}

677 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__£t_LR
(
ušt32_t
 
Ì
)

679 
ušt32_t
 
__»gÌ
 
	`__ASM
("lr");

680 
__»gÌ
 = 
Ì
;

681 
	}
}

690 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__£t_PSP
(
ušt32_t
 
tİOfProcSck
)

692 
__asm__
 volatile (

704 : "i"(
MODE_SYS
)

707 
	}
}

713 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__£t_CPS_USR
()

715 
__asm__
 volatile (

721 : "i"(
MODE_USR
)

724 
	}
}

732 
	#__’abË_çuÉ_œq
(è
__asm__
 vŞ©("ıs› f")

	)

740 
	#__di§bË_çuÉ_œq
(è
__asm__
 vŞ©("ısid f")

	)

749 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_FPSCR
()

751 #ià(
__FPU_PRESENT
 =ğ1è&& (
__FPU_USED
 == 1)

753 
ušt32_t
 
»suÉ
;

755 
__ASM
 vŞ©("vmr %0, fpsü" : "ô" (
»suÉ
) );

756  (
»suÉ
);

758 
ušt32_t
 
__»gåsü
 
	`__ASM
("fpscr");

759 (
__»gåsü
);

764 
	}
}

773 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__£t_FPSCR
(
ušt32_t
 
åsü
)

775 #ià(
__FPU_PRESENT
 =ğ1è&& (
__FPU_USED
 == 1)

777 
__ASM
 vŞ©("vm¤ fpsü, %0" : : "r" (
åsü
) );

779 
ušt32_t
 
__»gåsü
 
	`__ASM
("fpscr");

780 
__»gåsü
 = (
åsü
);

783 
	}
}

791 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_FPEXC
()

793 #ià(
__FPU_PRESENT
 == 1)

795 
ušt32_t
 
»suÉ
;

797 
__ASM
 vŞ©("vmr %0, f³xc" : "ô" (
»suÉ
));

798  (
»suÉ
);

800 
ušt32_t
 
__»gåexc
 
	`__ASM
("fpexc");

801 (
__»gåexc
);

806 
	}
}

815 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__£t_FPEXC
(
ušt32_t
 
åexc
)

817 #ià(
__FPU_PRESENT
 == 1)

819 
__ASM
 vŞ©("vm¤ f³xc, %0" : : "r" (
åexc
));

821 
ušt32_t
 
__»gåexc
 
	`__ASM
("fpexc");

822 
__»gåexc
 = (
åexc
);

825 
	}
}

833 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_CPACR
()

836 
ušt32_t
 
__»gCPACR
;

837 
__ASM
 vŞ©("mrøp15, 0, %0, c1, c0, 2" : "ô" (
__»gCPACR
));

839 
ušt32_t
 
__»gCPACR
 
	`__ASM
("cp15:0:c1:c0:2");

841  
__»gCPACR
;

842 
	}
}

850 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__£t_CPACR
(
ušt32_t
 
ıaü
)

853 
__ASM
 vŞ©("mü…15, 0, %0, c1, c0, 2" : : "r" (
ıaü
));

855 
ušt32_t
 
__»gCPACR
 
	`__ASM
("cp15:0:c1:c0:2");

856 
__»gCPACR
 = 
ıaü
;

858 
	`__ISB
();

859 
	}
}

867 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_CBAR
() {

869 
ušt32_t
 
__»gCBAR
;

870 
__ASM
 vŞ©("mrøp15, 4, %0, c15, c0, 0" : "ô" (
__»gCBAR
));

872 
ušt32_t
 
__»gCBAR
 
	`__ASM
("cp15:4:c15:c0:0");

874 (
__»gCBAR
);

875 
	}
}

883 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_TTBR0
() {

885 
ušt32_t
 
__»gTTBR0
;

886 
__ASM
 vŞ©("mrøp15, 0, %0, c2, c0, 0" : "ô" (
__»gTTBR0
));

888 
ušt32_t
 
__»gTTBR0
 
	`__ASM
("cp15:0:c2:c0:0");

890 (
__»gTTBR0
);

891 
	}
}

899 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__£t_TTBR0
(
ušt32_t
 
‰br0
) {

901 
__ASM
 vŞ©("mü…15, 0, %0, c2, c0, 0" : : "r" (
‰br0
));

903 
ušt32_t
 
__»gTTBR0
 
	`__ASM
("cp15:0:c2:c0:0");

904 
__»gTTBR0
 = 
‰br0
;

906 
	`__ISB
();

907 
	}
}

915 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_DACR
() {

917 
ušt32_t
 
__»gDACR
;

918 
__ASM
 vŞ©("mrøp15, 0, %0, c3, c0, 0" : "ô" (
__»gDACR
));

920 
ušt32_t
 
__»gDACR
 
	`__ASM
("cp15:0:c3:c0:0");

922 (
__»gDACR
);

923 
	}
}

931 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__£t_DACR
(
ušt32_t
 
daü
) {

933 
__ASM
 vŞ©("mü…15, 0, %0, c3, c0, 0" : : "r" (
daü
));

935 
ušt32_t
 
__»gDACR
 
	`__ASM
("cp15:0:c3:c0:0");

936 
__»gDACR
 = 
daü
;

938 
	`__ISB
();

939 
	}
}

949 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__£t_SCTLR
(
ušt32_t
 
sùÌ
)

952 
__ASM
 vŞ©("mü…15, 0, %0, c1, c0, 0" : : "r" (
sùÌ
));

954 
ušt32_t
 
__»gSCTLR
 
	`__ASM
("cp15:0:c1:c0:0");

955 
__»gSCTLR
 = 
sùÌ
;

957 
	}
}

965 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_SCTLR
() {

967 
ušt32_t
 
__»gSCTLR
;

968 
__ASM
 vŞ©("mrøp15, 0, %0, c1, c0, 0" : "ô" (
__»gSCTLR
));

970 
ušt32_t
 
__»gSCTLR
 
	`__ASM
("cp15:0:c1:c0:0");

972 (
__»gSCTLR
);

973 
	}
}

979 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__’abË_ÿches
() {

982 
	`__£t_SCTLR
Ğ
	`__g‘_SCTLR
() | (1 << 12) | (1 << 2));

983 
	}
}

989 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__di§bË_ÿches
() {

992 
	`__£t_SCTLR
Ğ
	`__g‘_SCTLR
() & ~(1 << 12) & ~(1 << 2));

993 
	`__ISB
();

994 
	}
}

1000 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__’abË_bc
() {

1002 
	`__£t_SCTLR
Ğ
	`__g‘_SCTLR
() | (1 << 11));

1003 
	`__ISB
();

1004 
	}
}

1010 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__di§bË_bc
() {

1012 
	`__£t_SCTLR
Ğ
	`__g‘_SCTLR
() & ~(1 << 11));

1013 
	}
}

1020 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__’abË_mmu
() {

1024 
	`__£t_SCTLR
Ğ(
	`__g‘_SCTLR
() & ~(1 << 28) & ~(1 << 1)) | 1 | (1 << 29));

1025 
	`__ISB
();

1026 
	}
}

1032 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__di§bË_mmu
() {

1034 
	`__£t_SCTLR
Ğ
	`__g‘_SCTLR
() & ~1);

1035 
	`__ISB
();

1036 
	}
}

1044 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__ÿ9u_šv_b_®l
() {

1046 
__ASM
 volatile ("mcr…15, 0, %0, c8, c7, 0" : : "r" (0));

1048 
ušt32_t
 
__TLBIALL
 
	`__ASM
("cp15:0:c8:c7:0");

1049 
__TLBIALL
 = 0;

1051 
	`__DSB
();

1052 
	`__ISB
();

1053 
	}
}

1061 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__v7_šv_bc
() {

1063 
__ASM
 volatile ("mcr…15, 0, %0, c7, c5, 6" : : "r" (0));

1065 
ušt32_t
 
__BPIALL
 
	`__ASM
("cp15:0:c7:c5:6");

1066 
__BPIALL
 = 0;

1068 
	`__DSB
();

1069 
	`__ISB
();

1070 
	}
}

1079 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__v7_šv_iÿche_®l
() {

1081 
__ASM
 volatile ("mcr…15, 0, %0, c7, c5, 0" : : "r" (0));

1083 
ušt32_t
 
__ICIALLU
 
	`__ASM
("cp15:0:c7:c5:0");

1084 
__ICIALLU
 = 0;

1086 
	`__DSB
();

1087 
	`__ISB
();

1088 
	}
}

1094 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__v7_ş—n_dÿche_mva
(*
va
) {

1096 
__ASM
 vŞ©("mü…15, 0, %0, c7, c10, 1" : : "r" ((
ušt32_t
)
va
));

1098 
ušt32_t
 
__DCCMVAC
 
	`__ASM
("cp15:0:c7:c10:1");

1099 
__DCCMVAC
 = (
ušt32_t
)
va
;

1101 
	`__DMB
();

1102 
	}
}

1108 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__v7_šv_dÿche_mva
(*
va
) {

1110 
__ASM
 vŞ©("mü…15, 0, %0, c7, c6, 1" : : "r" ((
ušt32_t
)
va
));

1112 
ušt32_t
 
__DCIMVAC
 
	`__ASM
("cp15:0:c7:c6:1");

1113 
__DCIMVAC
 = (
ušt32_t
)
va
;

1115 
	`__DMB
();

1116 
	}
}

1122 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__v7_ş—n_šv_dÿche_mva
(*
va
) {

1124 
__ASM
 vŞ©("mü…15, 0, %0, c7, c14, 1" : : "r" ((
ušt32_t
)
va
));

1126 
ušt32_t
 
__DCCIMVAC
 
	`__ASM
("cp15:0:c7:c14:1");

1127 
__DCCIMVAC
 = (
ušt32_t
)
va
;

1129 
	`__DMB
();

1130 
	}
}

1136 
__v7_®l_ÿche
(
ušt32_t
 
İ
);

1144 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__v7_šv_dÿche_®l
() {

1145 
	`__v7_®l_ÿche
(0);

1146 
	}
}

1153 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__v7_ş—n_dÿche_®l
() {

1154 
	`__v7_®l_ÿche
(1);

1155 
	}
}

1162 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__v7_ş—n_šv_dÿche_®l
() {

1163 
	`__v7_®l_ÿche
(2);

1164 
	}
}

1166 
	~"cÜe_ÿ_mmu.h
"

1168 #–ià(
defšed
 (
__TASKING__
))

1170 #”rÜ 
TASKING
 
Comp”
 
suµÜt
 
nÙ
 
im¶em’‹d
 
CÜ‹x
-
A


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_caInstr.h

37 #iâdeà
__CORE_CAINSTR_H__


38 
	#__CORE_CAINSTR_H__


	)

40 
	#__CORTEX_M
 0x3

	)

41 
	~"cÜe_cmIn¡r.h
"

42 #undeà
__CORTEX_M


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_ca_mmu.h

37 #ifdeà
__ılu¥lus


41 #iâdeà
_MMU_FUNC_H


42 
	#_MMU_FUNC_H


	)

44 
	#SECTION_DESCRIPTOR
 (0x2)

	)

45 
	#SECTION_MASK
 (0xFFFFFFFC)

	)

47 
	#SECTION_TEXCB_MASK
 (0xFFFF8FF3)

	)

48 
	#SECTION_B_SHIFT
 (2)

	)

49 
	#SECTION_C_SHIFT
 (3)

	)

50 
	#SECTION_TEX0_SHIFT
 (12)

	)

51 
	#SECTION_TEX1_SHIFT
 (13)

	)

52 
	#SECTION_TEX2_SHIFT
 (14)

	)

54 
	#SECTION_XN_MASK
 (0xFFFFFFEF)

	)

55 
	#SECTION_XN_SHIFT
 (4)

	)

57 
	#SECTION_DOMAIN_MASK
 (0xFFFFFE1F)

	)

58 
	#SECTION_DOMAIN_SHIFT
 (5)

	)

60 
	#SECTION_P_MASK
 (0xFFFFFDFF)

	)

61 
	#SECTION_P_SHIFT
 (9)

	)

63 
	#SECTION_AP_MASK
 (0xFFFF73FF)

	)

64 
	#SECTION_AP_SHIFT
 (10)

	)

65 
	#SECTION_AP2_SHIFT
 (15)

	)

67 
	#SECTION_S_MASK
 (0xFFFEFFFF)

	)

68 
	#SECTION_S_SHIFT
 (16)

	)

70 
	#SECTION_NG_MASK
 (0xFFFDFFFF)

	)

71 
	#SECTION_NG_SHIFT
 (17)

	)

73 
	#SECTION_NS_MASK
 (0xFFF7FFFF)

	)

74 
	#SECTION_NS_SHIFT
 (19)

	)

77 
	#PAGE_L1_DESCRIPTOR
 (0x1)

	)

78 
	#PAGE_L1_MASK
 (0xFFFFFFFC)

	)

80 
	#PAGE_L2_4K_DESC
 (0x2)

	)

81 
	#PAGE_L2_4K_MASK
 (0xFFFFFFFD)

	)

83 
	#PAGE_L2_64K_DESC
 (0x1)

	)

84 
	#PAGE_L2_64K_MASK
 (0xFFFFFFFC)

	)

86 
	#PAGE_4K_TEXCB_MASK
 (0xFFFFFE33)

	)

87 
	#PAGE_4K_B_SHIFT
 (2)

	)

88 
	#PAGE_4K_C_SHIFT
 (3)

	)

89 
	#PAGE_4K_TEX0_SHIFT
 (6)

	)

90 
	#PAGE_4K_TEX1_SHIFT
 (7)

	)

91 
	#PAGE_4K_TEX2_SHIFT
 (8)

	)

93 
	#PAGE_64K_TEXCB_MASK
 (0xFFFF8FF3)

	)

94 
	#PAGE_64K_B_SHIFT
 (2)

	)

95 
	#PAGE_64K_C_SHIFT
 (3)

	)

96 
	#PAGE_64K_TEX0_SHIFT
 (12)

	)

97 
	#PAGE_64K_TEX1_SHIFT
 (13)

	)

98 
	#PAGE_64K_TEX2_SHIFT
 (14)

	)

100 
	#PAGE_TEXCB_MASK
 (0xFFFF8FF3)

	)

101 
	#PAGE_B_SHIFT
 (2)

	)

102 
	#PAGE_C_SHIFT
 (3)

	)

103 
	#PAGE_TEX_SHIFT
 (12)

	)

105 
	#PAGE_XN_4K_MASK
 (0xFFFFFFFE)

	)

106 
	#PAGE_XN_4K_SHIFT
 (0)

	)

107 
	#PAGE_XN_64K_MASK
 (0xFFFF7FFF)

	)

108 
	#PAGE_XN_64K_SHIFT
 (15)

	)

111 
	#PAGE_DOMAIN_MASK
 (0xFFFFFE1F)

	)

112 
	#PAGE_DOMAIN_SHIFT
 (5)

	)

114 
	#PAGE_P_MASK
 (0xFFFFFDFF)

	)

115 
	#PAGE_P_SHIFT
 (9)

	)

117 
	#PAGE_AP_MASK
 (0xFFFFFDCF)

	)

118 
	#PAGE_AP_SHIFT
 (4)

	)

119 
	#PAGE_AP2_SHIFT
 (9)

	)

121 
	#PAGE_S_MASK
 (0xFFFFFBFF)

	)

122 
	#PAGE_S_SHIFT
 (10)

	)

124 
	#PAGE_NG_MASK
 (0xFFFFF7FF)

	)

125 
	#PAGE_NG_SHIFT
 (11)

	)

127 
	#PAGE_NS_MASK
 (0xFFFFFFF7)

	)

128 
	#PAGE_NS_SHIFT
 (3)

	)

130 
	#OFFSET_1M
 (0x00100000)

	)

131 
	#OFFSET_64K
 (0x00010000)

	)

132 
	#OFFSET_4K
 (0x00001000)

	)

134 
	#DESCRIPTOR_FAULT
 (0x00000000)

	)

147 
SECTION
,

148 
PAGE_4k
,

149 
PAGE_64k
,

150 } 
	tmmu_»giÚ_size_Ty³
;

155 
	mNORMAL
,

156 
	mDEVICE
,

157 
	mSHARED_DEVICE
,

158 
	mNON_SHARED_DEVICE
,

159 
	mSTRONGLY_ORDERED


160 } 
	tmmu_memÜy_Ty³
;

165 
	mNON_CACHEABLE
,

166 
	mWB_WA
,

167 
	mWT
,

168 
	mWB_NO_WA
,

169 } 
	tmmu_ÿch—b™y_Ty³
;

174 
	mECC_DISABLED
,

175 
	mECC_ENABLED
,

176 } 
	tmmu_ecc_check_Ty³
;

181 
	mEXECUTE
,

182 
	mNON_EXECUTE
,

183 } 
	tmmu_execu‹_Ty³
;

188 
	mGLOBAL
,

189 
	mNON_GLOBAL
,

190 } 
	tmmu_glob®_Ty³
;

195 
	mNON_SHARED
,

196 
	mSHARED
,

197 } 
	tmmu_sh¬ed_Ty³
;

202 
	mSECURE
,

203 
	mNON_SECURE
,

204 } 
	tmmu_£cu»_Ty³
;

209 
	mNO_ACCESS
,

210 
	mRW
,

211 
	mREAD
,

212 } 
	tmmu_acûss_Ty³
;

215 
	sRegiÚSŒuù
 {

216 
mmu_»giÚ_size_Ty³
 
	mrg_t
;

217 
mmu_memÜy_Ty³
 
	mmem_t
;

218 
ušt8_t
 
	mdomaš
;

219 
mmu_ÿch—b™y_Ty³
 
	mšÃr_nÜm_t
;

220 
mmu_ÿch—b™y_Ty³
 
	mou‹r_nÜm_t
;

221 
mmu_ecc_check_Ty³
 
	me_t
;

222 
mmu_execu‹_Ty³
 
	mxn_t
;

223 
mmu_glob®_Ty³
 
	mg_t
;

224 
mmu_£cu»_Ty³
 
	m£c_t
;

225 
mmu_acûss_Ty³
 
	m´iv_t
;

226 
mmu_acûss_Ty³
 
	mu£r_t
;

227 
mmu_sh¬ed_Ty³
 
	msh_t
;

229 } 
	tmmu_»giÚ_©Œibu‹s_Ty³
;

240 
__STATIC_INLINE
 
	$__xn_£ùiÚ
(
ušt32_t
 *
desütÜ_l1
, 
mmu_execu‹_Ty³
 
xn
)

242 *
desütÜ_l1
 &ğ
SECTION_XN_MASK
;

243 *
desütÜ_l1
 |ğ((
xn
 & 0x1è<< 
SECTION_XN_SHIFT
);

245 
	}
}

256 
__STATIC_INLINE
 
	$__domaš_£ùiÚ
(
ušt32_t
 *
desütÜ_l1
, 
ušt8_t
 
domaš
)

258 *
desütÜ_l1
 &ğ
SECTION_DOMAIN_MASK
;

259 *
desütÜ_l1
 |ğ((
domaš
 & 0xFè<< 
SECTION_DOMAIN_SHIFT
);

261 
	}
}

272 
__STATIC_INLINE
 
	$__p_£ùiÚ
(
ušt32_t
 *
desütÜ_l1
, 
mmu_ecc_check_Ty³
 
p_b™
)

274 *
desütÜ_l1
 &ğ
SECTION_P_MASK
;

275 *
desütÜ_l1
 |ğ((
p_b™
 & 0x1è<< 
SECTION_P_SHIFT
);

277 
	}
}

290 
__STATIC_INLINE
 
	$__­_£ùiÚ
(
ušt32_t
 *
desütÜ_l1
, 
mmu_acûss_Ty³
 
u£r
, mmu_acûss_Ty³ 
´iv
, ušt32_ˆ
aã
)

292 
ušt32_t
 
­
 = 0;

294 ià(
aã
 == 0) {

295 ià((
´iv
 =ğ
NO_ACCESS
è&& (
u£r
 =ğNO_ACCESS)è{ 
­
 = 0x0; }

296 ià((
´iv
 =ğ
RW
è&& (
u£r
 =ğ
NO_ACCESS
)è{ 
­
 = 0x1; }

297 ià((
´iv
 =ğ
RW
è&& (
u£r
 =ğ
READ
)è{ 
­
 = 0x2; }

298 ià((
´iv
 =ğ
RW
è&& (
u£r
 =ğRW)è{ 
­
 = 0x3; }

299 ià((
´iv
 =ğ
READ
è&& (
u£r
 =ğ
NO_ACCESS
)è{ 
­
 = 0x5; }

300 ià((
´iv
 =ğ
READ
è&& (
u£r
 =ğREAD)è{ 
­
 = 0x7; }

304 ià((
´iv
 =ğ
RW
è&& (
u£r
 =ğ
NO_ACCESS
)è{ 
­
 = 0x1; }

305 ià((
´iv
 =ğ
RW
è&& (
u£r
 =ğRW)è{ 
­
 = 0x3; }

306 ià((
´iv
 =ğ
READ
è&& (
u£r
 =ğ
NO_ACCESS
)è{ 
­
 = 0x5; }

307 ià((
´iv
 =ğ
READ
è&& (
u£r
 =ğREAD)è{ 
­
 = 0x7; }

310 *
desütÜ_l1
 &ğ
SECTION_AP_MASK
;

311 *
desütÜ_l1
 |ğ(
­
 & 0x3è<< 
SECTION_AP_SHIFT
;

312 *
desütÜ_l1
 |ğ((
­
 & 0x4)>>2è<< 
SECTION_AP2_SHIFT
;

315 
	}
}

326 
__STATIC_INLINE
 
	$__sh¬ed_£ùiÚ
(
ušt32_t
 *
desütÜ_l1
, 
mmu_sh¬ed_Ty³
 
s_b™
)

328 *
desütÜ_l1
 &ğ
SECTION_S_MASK
;

329 *
desütÜ_l1
 |ğ((
s_b™
 & 0x1è<< 
SECTION_S_SHIFT
);

331 
	}
}

342 
__STATIC_INLINE
 
	$__glob®_£ùiÚ
(
ušt32_t
 *
desütÜ_l1
, 
mmu_glob®_Ty³
 
g_b™
)

344 *
desütÜ_l1
 &ğ
SECTION_NG_MASK
;

345 *
desütÜ_l1
 |ğ((
g_b™
 & 0x1è<< 
SECTION_NG_SHIFT
);

347 
	}
}

358 
__STATIC_INLINE
 
	$__£cu»_£ùiÚ
(
ušt32_t
 *
desütÜ_l1
, 
mmu_£cu»_Ty³
 
s_b™
)

360 *
desütÜ_l1
 &ğ
SECTION_NS_MASK
;

361 *
desütÜ_l1
 |ğ((
s_b™
 & 0x1è<< 
SECTION_NS_SHIFT
);

363 
	}
}

376 
__STATIC_INLINE
 
	$__xn_·ge
(
ušt32_t
 *
desütÜ_l2
, 
mmu_execu‹_Ty³
 
xn
, 
mmu_»giÚ_size_Ty³
 
·ge
)

378 ià(
·ge
 =ğ
PAGE_4k
)

380 *
desütÜ_l2
 &ğ
PAGE_XN_4K_MASK
;

381 *
desütÜ_l2
 |ğ((
xn
 & 0x1è<< 
PAGE_XN_4K_SHIFT
);

385 *
desütÜ_l2
 &ğ
PAGE_XN_64K_MASK
;

386 *
desütÜ_l2
 |ğ((
xn
 & 0x1è<< 
PAGE_XN_64K_SHIFT
);

389 
	}
}

400 
__STATIC_INLINE
 
	$__domaš_·ge
(
ušt32_t
 *
desütÜ_l1
, 
ušt8_t
 
domaš
)

402 *
desütÜ_l1
 &ğ
PAGE_DOMAIN_MASK
;

403 *
desütÜ_l1
 |ğ((
domaš
 & 0xfè<< 
PAGE_DOMAIN_SHIFT
);

405 
	}
}

416 
__STATIC_INLINE
 
	$__p_·ge
(
ušt32_t
 *
desütÜ_l1
, 
mmu_ecc_check_Ty³
 
p_b™
)

418 *
desütÜ_l1
 &ğ
SECTION_P_MASK
;

419 *
desütÜ_l1
 |ğ((
p_b™
 & 0x1è<< 
SECTION_P_SHIFT
);

421 
	}
}

434 
__STATIC_INLINE
 
	$__­_·ge
(
ušt32_t
 *
desütÜ_l2
, 
mmu_acûss_Ty³
 
u£r
, mmu_acûss_Ty³ 
´iv
, ušt32_ˆ
aã
)

436 
ušt32_t
 
­
 = 0;

438 ià(
aã
 == 0) {

439 ià((
´iv
 =ğ
NO_ACCESS
è&& (
u£r
 =ğNO_ACCESS)è{ 
­
 = 0x0; }

440 ià((
´iv
 =ğ
RW
è&& (
u£r
 =ğ
NO_ACCESS
)è{ 
­
 = 0x1; }

441 ià((
´iv
 =ğ
RW
è&& (
u£r
 =ğ
READ
)è{ 
­
 = 0x2; }

442 ià((
´iv
 =ğ
RW
è&& (
u£r
 =ğRW)è{ 
­
 = 0x3; }

443 ià((
´iv
 =ğ
READ
è&& (
u£r
 =ğ
NO_ACCESS
)è{ 
­
 = 0x5; }

444 ià((
´iv
 =ğ
READ
è&& (
u£r
 =ğREAD)è{ 
­
 = 0x6; }

448 ià((
´iv
 =ğ
RW
è&& (
u£r
 =ğ
NO_ACCESS
)è{ 
­
 = 0x1; }

449 ià((
´iv
 =ğ
RW
è&& (
u£r
 =ğRW)è{ 
­
 = 0x3; }

450 ià((
´iv
 =ğ
READ
è&& (
u£r
 =ğ
NO_ACCESS
)è{ 
­
 = 0x5; }

451 ià((
´iv
 =ğ
READ
è&& (
u£r
 =ğREAD)è{ 
­
 = 0x7; }

454 *
desütÜ_l2
 &ğ
PAGE_AP_MASK
;

455 *
desütÜ_l2
 |ğ(
­
 & 0x3è<< 
PAGE_AP_SHIFT
;

456 *
desütÜ_l2
 |ğ((
­
 & 0x4)>>2è<< 
PAGE_AP2_SHIFT
;

459 
	}
}

470 
__STATIC_INLINE
 
	$__sh¬ed_·ge
(
ušt32_t
 *
desütÜ_l2
, 
mmu_sh¬ed_Ty³
 
s_b™
)

472 *
desütÜ_l2
 &ğ
PAGE_S_MASK
;

473 *
desütÜ_l2
 |ğ((
s_b™
 & 0x1è<< 
PAGE_S_SHIFT
);

475 
	}
}

486 
__STATIC_INLINE
 
	$__glob®_·ge
(
ušt32_t
 *
desütÜ_l2
, 
mmu_glob®_Ty³
 
g_b™
)

488 *
desütÜ_l2
 &ğ
PAGE_NG_MASK
;

489 *
desütÜ_l2
 |ğ((
g_b™
 & 0x1è<< 
PAGE_NG_SHIFT
);

491 
	}
}

502 
__STATIC_INLINE
 
	$__£cu»_·ge
(
ušt32_t
 *
desütÜ_l1
, 
mmu_£cu»_Ty³
 
s_b™
)

504 *
desütÜ_l1
 &ğ
PAGE_NS_MASK
;

505 *
desütÜ_l1
 |ğ((
s_b™
 & 0x1è<< 
PAGE_NS_SHIFT
);

507 
	}
}

521 
__STATIC_INLINE
 
	$__memÜy_£ùiÚ
(
ušt32_t
 *
desütÜ_l1
, 
mmu_memÜy_Ty³
 
mem
, 
mmu_ÿch—b™y_Ty³
 
ou‹r
, mmu_ÿch—b™y_Ty³ 
šÃr
)

523 *
desütÜ_l1
 &ğ
SECTION_TEXCB_MASK
;

525 ià(
STRONGLY_ORDERED
 =ğ
mem
)

529 ià(
SHARED_DEVICE
 =ğ
mem
)

531 *
desütÜ_l1
 |ğ(1 << 
SECTION_B_SHIFT
);

533 ià(
NON_SHARED_DEVICE
 =ğ
mem
)

535 *
desütÜ_l1
 |ğ(1 << 
SECTION_TEX1_SHIFT
);

537 ià(
NORMAL
 =ğ
mem
)

539 *
desütÜ_l1
 |ğ1 << 
SECTION_TEX2_SHIFT
;

540 
šÃr
)

542 
NON_CACHEABLE
:

544 
WB_WA
:

545 *
desütÜ_l1
 |ğ(1 << 
SECTION_B_SHIFT
);

547 
WT
:

548 *
desütÜ_l1
 |ğ1 << 
SECTION_C_SHIFT
;

550 
WB_NO_WA
:

551 *
desütÜ_l1
 |ğ(1 << 
SECTION_B_SHIFT
è| (1 << 
SECTION_C_SHIFT
);

554 
ou‹r
)

556 
NON_CACHEABLE
:

558 
WB_WA
:

559 *
desütÜ_l1
 |ğ(1 << 
SECTION_TEX0_SHIFT
);

561 
WT
:

562 *
desütÜ_l1
 |ğ1 << 
SECTION_TEX1_SHIFT
;

564 
WB_NO_WA
:

565 *
desütÜ_l1
 |ğ(1 << 
SECTION_TEX0_SHIFT
) | (1 << SECTION_TEX0_SHIFT);

571 
	}
}

584 
__STATIC_INLINE
 
	$__memÜy_·ge
(
ušt32_t
 *
desütÜ_l2
, 
mmu_memÜy_Ty³
 
mem
, 
mmu_ÿch—b™y_Ty³
 
ou‹r
, mmu_ÿch—b™y_Ty³ 
šÃr
, 
mmu_»giÚ_size_Ty³
 
·ge
)

586 *
desütÜ_l2
 &ğ
PAGE_4K_TEXCB_MASK
;

588 ià(
·ge
 =ğ
PAGE_64k
)

591 
	`__memÜy_£ùiÚ
(
desütÜ_l2
, 
mem
, 
ou‹r
, 
šÃr
);

595 ià(
STRONGLY_ORDERED
 =ğ
mem
)

599 ià(
SHARED_DEVICE
 =ğ
mem
)

601 *
desütÜ_l2
 |ğ(1 << 
PAGE_4K_B_SHIFT
);

603 ià(
NON_SHARED_DEVICE
 =ğ
mem
)

605 *
desütÜ_l2
 |ğ(1 << 
PAGE_4K_TEX1_SHIFT
);

607 ià(
NORMAL
 =ğ
mem
)

609 *
desütÜ_l2
 |ğ1 << 
PAGE_4K_TEX2_SHIFT
;

610 
šÃr
)

612 
NON_CACHEABLE
:

614 
WB_WA
:

615 *
desütÜ_l2
 |ğ(1 << 
PAGE_4K_B_SHIFT
);

617 
WT
:

618 *
desütÜ_l2
 |ğ1 << 
PAGE_4K_C_SHIFT
;

620 
WB_NO_WA
:

621 *
desütÜ_l2
 |ğ(1 << 
PAGE_4K_B_SHIFT
è| (1 << 
PAGE_4K_C_SHIFT
);

624 
ou‹r
)

626 
NON_CACHEABLE
:

628 
WB_WA
:

629 *
desütÜ_l2
 |ğ(1 << 
PAGE_4K_TEX0_SHIFT
);

631 
WT
:

632 *
desütÜ_l2
 |ğ1 << 
PAGE_4K_TEX1_SHIFT
;

634 
WB_NO_WA
:

635 *
desütÜ_l2
 |ğ(1 << 
PAGE_4K_TEX0_SHIFT
) | (1 << PAGE_4K_TEX0_SHIFT);

642 
	}
}

659 
__STATIC_INLINE
 
	$__g‘_£ùiÚ_desütÜ
(
ušt32_t
 *
desütÜ
, 
mmu_»giÚ_©Œibu‹s_Ty³
 
»g
)

661 *
desütÜ
 = 0;

663 
	`__memÜy_£ùiÚ
(
desütÜ
, 
»g
.
mem_t
,„eg.
ou‹r_nÜm_t
,„eg.
šÃr_nÜm_t
);

664 
	`__xn_£ùiÚ
(
desütÜ
,
»g
.
xn_t
);

665 
	`__domaš_£ùiÚ
(
desütÜ
, 
»g
.
domaš
);

666 
	`__p_£ùiÚ
(
desütÜ
, 
»g
.
e_t
);

667 
	`__­_£ùiÚ
(
desütÜ
, 
»g
.
´iv_t
,„eg.
u£r_t
, 1);

668 
	`__sh¬ed_£ùiÚ
(
desütÜ
,
»g
.
sh_t
);

669 
	`__glob®_£ùiÚ
(
desütÜ
,
»g
.
g_t
);

670 
	`__£cu»_£ùiÚ
(
desütÜ
,
»g
.
£c_t
);

671 *
desütÜ
 &ğ
SECTION_MASK
;

672 *
desütÜ
 |ğ
SECTION_DESCRIPTOR
;

676 
	}
}

692 
__STATIC_INLINE
 
	$__g‘_·ge_desütÜ
(
ušt32_t
 *
desütÜ
, ušt32_ˆ*
desütÜ2
, 
mmu_»giÚ_©Œibu‹s_Ty³
 
»g
)

694 *
desütÜ
 = 0;

695 *
desütÜ2
 = 0;

697 
»g
.
rg_t
)

699 
PAGE_4k
:

700 
	`__memÜy_·ge
(
desütÜ2
, 
»g
.
mem_t
,„eg.
ou‹r_nÜm_t
,„eg.
šÃr_nÜm_t
, 
PAGE_4k
);

701 
	`__xn_·ge
(
desütÜ2
, 
»g
.
xn_t
, 
PAGE_4k
);

702 
	`__domaš_·ge
(
desütÜ
, 
»g
.
domaš
);

703 
	`__p_·ge
(
desütÜ
, 
»g
.
e_t
);

704 
	`__­_·ge
(
desütÜ2
, 
»g
.
´iv_t
,„eg.
u£r_t
, 1);

705 
	`__sh¬ed_·ge
(
desütÜ2
,
»g
.
sh_t
);

706 
	`__glob®_·ge
(
desütÜ2
,
»g
.
g_t
);

707 
	`__£cu»_·ge
(
desütÜ
,
»g
.
£c_t
);

708 *
desütÜ
 &ğ
PAGE_L1_MASK
;

709 *
desütÜ
 |ğ
PAGE_L1_DESCRIPTOR
;

710 *
desütÜ2
 &ğ
PAGE_L2_4K_MASK
;

711 *
desütÜ2
 |ğ
PAGE_L2_4K_DESC
;

714 
PAGE_64k
:

715 
	`__memÜy_·ge
(
desütÜ2
, 
»g
.
mem_t
,„eg.
ou‹r_nÜm_t
,„eg.
šÃr_nÜm_t
, 
PAGE_64k
);

716 
	`__xn_·ge
(
desütÜ2
, 
»g
.
xn_t
, 
PAGE_64k
);

717 
	`__domaš_·ge
(
desütÜ
, 
»g
.
domaš
);

718 
	`__p_·ge
(
desütÜ
, 
»g
.
e_t
);

719 
	`__­_·ge
(
desütÜ2
, 
»g
.
´iv_t
,„eg.
u£r_t
, 1);

720 
	`__sh¬ed_·ge
(
desütÜ2
,
»g
.
sh_t
);

721 
	`__glob®_·ge
(
desütÜ2
,
»g
.
g_t
);

722 
	`__£cu»_·ge
(
desütÜ
,
»g
.
£c_t
);

723 *
desütÜ
 &ğ
PAGE_L1_MASK
;

724 *
desütÜ
 |ğ
PAGE_L1_DESCRIPTOR
;

725 *
desütÜ2
 &ğ
PAGE_L2_64K_MASK
;

726 *
desütÜ2
 |ğ
PAGE_L2_64K_DESC
;

729 
SECTION
:

737 
	}
}

747 
__STATIC_INLINE
 
	$__TTSeùiÚ
(
ušt32_t
 *
‰b
, ušt32_ˆ
ba£_add»ss
, ušt32_ˆ
couÁ
, ušt32_ˆ
desütÜ_l1
)

749 
ušt32_t
 
off£t
;

750 
ušt32_t
 
’Œy
;

751 
ušt32_t
 
i
;

753 
off£t
 = 
ba£_add»ss
 >> 20;

754 
’Œy
 = (
ba£_add»ss
 & 0xFFF00000è| 
desütÜ_l1
;

757 
‰b
 =tb + 
off£t
;

759 
i
 = 0; i < 
couÁ
; i++ )

762 *
‰b
++ = 
’Œy
;

763 
’Œy
 +ğ
OFFSET_1M
;

765 
	}
}

777 
__STATIC_INLINE
 
	$__TTPage_4k
(
ušt32_t
 *
‰b
, ušt32_ˆ
ba£_add»ss
, ušt32_ˆ
couÁ
, ušt32_ˆ
desütÜ_l1
, ušt32_ˆ*
‰b_l2
, ušt32_ˆ
desütÜ_l2
 )

780 
ušt32_t
 
off£t
, 
off£t2
;

781 
ušt32_t
 
’Œy
, 
’Œy2
;

782 
ušt32_t
 
i
;

785 
off£t
 = 
ba£_add»ss
 >> 20;

786 
’Œy
 = (()
‰b_l2
 & 0xFFFFFC00è| 
desütÜ_l1
;

789 
‰b
 +ğ
off£t
;

791 *
‰b
 = 
’Œy
;

793 
off£t2
 = (
ba£_add»ss
 & 0xff000) >> 12;

794 
‰b_l2
 +ğ
off£t2
;

795 
’Œy2
 = (
ba£_add»ss
 & 0xFFFFF000è| 
desütÜ_l2
;

796 
i
 = 0; i < 
couÁ
; i++ )

799 *
‰b_l2
++ = 
’Œy2
;

800 
’Œy2
 +ğ
OFFSET_4K
;

802 
	}
}

814 
__STATIC_INLINE
 
	$__TTPage_64k
(
ušt32_t
 *
‰b
, ušt32_ˆ
ba£_add»ss
, ušt32_ˆ
couÁ
, ušt32_ˆ
desütÜ_l1
, ušt32_ˆ*
‰b_l2
, ušt32_ˆ
desütÜ_l2
 )

816 
ušt32_t
 
off£t
, 
off£t2
;

817 
ušt32_t
 
’Œy
, 
’Œy2
;

818 
ušt32_t
 
i
,
j
;

821 
off£t
 = 
ba£_add»ss
 >> 20;

822 
’Œy
 = (()
‰b_l2
 & 0xFFFFFC00è| 
desütÜ_l1
;

825 
‰b
 +ğ
off£t
;

827 *
‰b
 = 
’Œy
;

829 
off£t2
 = (
ba£_add»ss
 & 0xff000) >> 12;

830 
‰b_l2
 +ğ
off£t2
;

831 
’Œy2
 = (
ba£_add»ss
 & 0xFFFF0000è| 
desütÜ_l2
;

832 
i
 = 0; i < 
couÁ
; i++ )

835 
j
 = 0; j < 16; j++)

837 *
‰b_l2
++ = 
’Œy2
;

838 
’Œy2
 +ğ
OFFSET_64K
;

840 
	}
}

845 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_cm0.h

38 #ià
defšed
 ( 
__ICCARM__
 )

39 #´agm¨
sy¡em_šşude


42 #ifdeà
__ılu¥lus


46 #iâdeà
__CORE_CM0_H_GENERIC


47 
	#__CORE_CM0_H_GENERIC


	)

71 
	#__CM0_CMSIS_VERSION_MAIN
 (0x03è

	)

72 
	#__CM0_CMSIS_VERSION_SUB
 (0x20è

	)

73 
	#__CM0_CMSIS_VERSION
 ((
__CM0_CMSIS_VERSION_MAIN
 << 16) | \

74 
__CM0_CMSIS_VERSION_SUB
 )

	)

76 
	#__CORTEX_M
 (0x00è

	)

79 #ià 
defšed
 ( 
__CC_ARM
 )

80 
	#__ASM
 
__asm


	)

81 
	#__INLINE
 
__šlše


	)

82 
	#__STATIC_INLINE
 
__šlše


	)

84 #–ià
defšed
 ( 
__ICCARM__
 )

85 
	#__ASM
 
__asm


	)

86 
	#__INLINE
 
šlše


	)

87 
	#__STATIC_INLINE
 
šlše


	)

89 #–ià
defšed
 ( 
__GNUC__
 )

90 
	#__ASM
 
__asm


	)

91 
	#__INLINE
 
šlše


	)

92 
	#__STATIC_INLINE
 
šlše


	)

94 #–ià
defšed
 ( 
__TASKING__
 )

95 
	#__ASM
 
__asm


	)

96 
	#__INLINE
 
šlše


	)

97 
	#__STATIC_INLINE
 
šlše


	)

103 
	#__FPU_USED
 0

	)

105 #ià
defšed
 ( 
__CC_ARM
 )

106 #ià
defšed
 
__TARGET_FPU_VFP


110 #–ià
defšed
 ( 
__ICCARM__
 )

111 #ià
defšed
 
__ARMVFP__


115 #–ià
defšed
 ( 
__GNUC__
 )

116 #ià
defšed
 (
__VFP_FP__
è&& !defšed(
__SOFTFP__
)

120 #–ià
defšed
 ( 
__TASKING__
 )

121 #ià
defšed
 
__FPU_VFP__


126 
	~<¡dšt.h
>

127 
	~<cÜe_cmIn¡r.h
>

128 
	~<cÜe_cmFunc.h
>

132 #iâdeà
__CMSIS_GENERIC


134 #iâdeà
__CORE_CM0_H_DEPENDANT


135 
	#__CORE_CM0_H_DEPENDANT


	)

138 #ià
defšed
 
__CHECK_DEVICE_DEFINES


139 #iâdeà
__CM0_REV


140 
	#__CM0_REV
 0x0000

	)

144 #iâdeà
__NVIC_PRIO_BITS


145 
	#__NVIC_PRIO_BITS
 2

	)

149 #iâdeà
__V’dÜ_SysTickCÚfig


150 
	#__V’dÜ_SysTickCÚfig
 0

	)

163 #ifdeà
__ılu¥lus


164 
	#__I
 vŞ©

	)

166 
	#__I
 vŞ©cÚ¡

	)

168 
	#__O
 vŞ©

	)

169 
	#__IO
 vŞ©

	)

199 #ià(
__CORTEX_M
 != 0x04)

200 
ušt32_t
 
_»£rved0
:27;

202 
ušt32_t
 
_»£rved0
:16;

203 
ušt32_t
 
GE
:4;

204 
ušt32_t
 
_»£rved1
:7;

206 
ušt32_t
 
Q
:1;

207 
ušt32_t
 
V
:1;

208 
ušt32_t
 
C
:1;

209 
ušt32_t
 
Z
:1;

210 
ušt32_t
 
N
:1;

211 } 
b
;

212 
ušt32_t
 
w
;

213 } 
	tAPSR_Ty³
;

222 
ušt32_t
 
	mISR
:9;

223 
ušt32_t
 
	m_»£rved0
:23;

224 } 
	mb
;

225 
ušt32_t
 
	mw
;

226 } 
	tIPSR_Ty³
;

235 
ušt32_t
 
	mISR
:9;

236 #ià(
__CORTEX_M
 != 0x04)

237 
ušt32_t
 
	m_»£rved0
:15;

239 
ušt32_t
 
	m_»£rved0
:7;

240 
ušt32_t
 
	mGE
:4;

241 
ušt32_t
 
	m_»£rved1
:4;

243 
ušt32_t
 
	mT
:1;

244 
ušt32_t
 
	mIT
:2;

245 
ušt32_t
 
	mQ
:1;

246 
ušt32_t
 
	mV
:1;

247 
ušt32_t
 
	mC
:1;

248 
ušt32_t
 
	mZ
:1;

249 
ušt32_t
 
	mN
:1;

250 } 
	mb
;

251 
ušt32_t
 
	mw
;

252 } 
	txPSR_Ty³
;

261 
ušt32_t
 
	mnPRIV
:1;

262 
ušt32_t
 
	mSPSEL
:1;

263 
ušt32_t
 
	mFPCA
:1;

264 
ušt32_t
 
	m_»£rved0
:29;

265 } 
	mb
;

266 
ušt32_t
 
	mw
;

267 } 
	tCONTROL_Ty³
;

282 
__IO
 
ušt32_t
 
	mISER
[1];

283 
ušt32_t
 
	mRESERVED0
[31];

284 
__IO
 
ušt32_t
 
	mICER
[1];

285 
ušt32_t
 
	mRSERVED1
[31];

286 
__IO
 
ušt32_t
 
	mISPR
[1];

287 
ušt32_t
 
	mRESERVED2
[31];

288 
__IO
 
ušt32_t
 
	mICPR
[1];

289 
ušt32_t
 
	mRESERVED3
[31];

290 
ušt32_t
 
	mRESERVED4
[64];

291 
__IO
 
ušt32_t
 
	mIP
[8];

292 } 
	tNVIC_Ty³
;

307 
__I
 
ušt32_t
 
	mCPUID
;

308 
__IO
 
ušt32_t
 
	mICSR
;

309 
ušt32_t
 
	mRESERVED0
;

310 
__IO
 
ušt32_t
 
	mAIRCR
;

311 
__IO
 
ušt32_t
 
	mSCR
;

312 
__IO
 
ušt32_t
 
	mCCR
;

313 
ušt32_t
 
	mRESERVED1
;

314 
__IO
 
ušt32_t
 
	mSHP
[2];

315 
__IO
 
ušt32_t
 
	mSHCSR
;

316 } 
	tSCB_Ty³
;

319 
	#SCB_CPUID_IMPLEMENTER_Pos
 24

	)

320 
	#SCB_CPUID_IMPLEMENTER_Msk
 (0xFFUL << 
SCB_CPUID_IMPLEMENTER_Pos
è

	)

322 
	#SCB_CPUID_VARIANT_Pos
 20

	)

323 
	#SCB_CPUID_VARIANT_Msk
 (0xFUL << 
SCB_CPUID_VARIANT_Pos
è

	)

325 
	#SCB_CPUID_ARCHITECTURE_Pos
 16

	)

326 
	#SCB_CPUID_ARCHITECTURE_Msk
 (0xFUL << 
SCB_CPUID_ARCHITECTURE_Pos
è

	)

328 
	#SCB_CPUID_PARTNO_Pos
 4

	)

329 
	#SCB_CPUID_PARTNO_Msk
 (0xFFFUL << 
SCB_CPUID_PARTNO_Pos
è

	)

331 
	#SCB_CPUID_REVISION_Pos
 0

	)

332 
	#SCB_CPUID_REVISION_Msk
 (0xFUL << 
SCB_CPUID_REVISION_Pos
è

	)

335 
	#SCB_ICSR_NMIPENDSET_Pos
 31

	)

336 
	#SCB_ICSR_NMIPENDSET_Msk
 (1UL << 
SCB_ICSR_NMIPENDSET_Pos
è

	)

338 
	#SCB_ICSR_PENDSVSET_Pos
 28

	)

339 
	#SCB_ICSR_PENDSVSET_Msk
 (1UL << 
SCB_ICSR_PENDSVSET_Pos
è

	)

341 
	#SCB_ICSR_PENDSVCLR_Pos
 27

	)

342 
	#SCB_ICSR_PENDSVCLR_Msk
 (1UL << 
SCB_ICSR_PENDSVCLR_Pos
è

	)

344 
	#SCB_ICSR_PENDSTSET_Pos
 26

	)

345 
	#SCB_ICSR_PENDSTSET_Msk
 (1UL << 
SCB_ICSR_PENDSTSET_Pos
è

	)

347 
	#SCB_ICSR_PENDSTCLR_Pos
 25

	)

348 
	#SCB_ICSR_PENDSTCLR_Msk
 (1UL << 
SCB_ICSR_PENDSTCLR_Pos
è

	)

350 
	#SCB_ICSR_ISRPREEMPT_Pos
 23

	)

351 
	#SCB_ICSR_ISRPREEMPT_Msk
 (1UL << 
SCB_ICSR_ISRPREEMPT_Pos
è

	)

353 
	#SCB_ICSR_ISRPENDING_Pos
 22

	)

354 
	#SCB_ICSR_ISRPENDING_Msk
 (1UL << 
SCB_ICSR_ISRPENDING_Pos
è

	)

356 
	#SCB_ICSR_VECTPENDING_Pos
 12

	)

357 
	#SCB_ICSR_VECTPENDING_Msk
 (0x1FFUL << 
SCB_ICSR_VECTPENDING_Pos
è

	)

359 
	#SCB_ICSR_VECTACTIVE_Pos
 0

	)

360 
	#SCB_ICSR_VECTACTIVE_Msk
 (0x1FFUL << 
SCB_ICSR_VECTACTIVE_Pos
è

	)

363 
	#SCB_AIRCR_VECTKEY_Pos
 16

	)

364 
	#SCB_AIRCR_VECTKEY_Msk
 (0xFFFFUL << 
SCB_AIRCR_VECTKEY_Pos
è

	)

366 
	#SCB_AIRCR_VECTKEYSTAT_Pos
 16

	)

367 
	#SCB_AIRCR_VECTKEYSTAT_Msk
 (0xFFFFUL << 
SCB_AIRCR_VECTKEYSTAT_Pos
è

	)

369 
	#SCB_AIRCR_ENDIANESS_Pos
 15

	)

370 
	#SCB_AIRCR_ENDIANESS_Msk
 (1UL << 
SCB_AIRCR_ENDIANESS_Pos
è

	)

372 
	#SCB_AIRCR_SYSRESETREQ_Pos
 2

	)

373 
	#SCB_AIRCR_SYSRESETREQ_Msk
 (1UL << 
SCB_AIRCR_SYSRESETREQ_Pos
è

	)

375 
	#SCB_AIRCR_VECTCLRACTIVE_Pos
 1

	)

376 
	#SCB_AIRCR_VECTCLRACTIVE_Msk
 (1UL << 
SCB_AIRCR_VECTCLRACTIVE_Pos
è

	)

379 
	#SCB_SCR_SEVONPEND_Pos
 4

	)

380 
	#SCB_SCR_SEVONPEND_Msk
 (1UL << 
SCB_SCR_SEVONPEND_Pos
è

	)

382 
	#SCB_SCR_SLEEPDEEP_Pos
 2

	)

383 
	#SCB_SCR_SLEEPDEEP_Msk
 (1UL << 
SCB_SCR_SLEEPDEEP_Pos
è

	)

385 
	#SCB_SCR_SLEEPONEXIT_Pos
 1

	)

386 
	#SCB_SCR_SLEEPONEXIT_Msk
 (1UL << 
SCB_SCR_SLEEPONEXIT_Pos
è

	)

389 
	#SCB_CCR_STKALIGN_Pos
 9

	)

390 
	#SCB_CCR_STKALIGN_Msk
 (1UL << 
SCB_CCR_STKALIGN_Pos
è

	)

392 
	#SCB_CCR_UNALIGN_TRP_Pos
 3

	)

393 
	#SCB_CCR_UNALIGN_TRP_Msk
 (1UL << 
SCB_CCR_UNALIGN_TRP_Pos
è

	)

396 
	#SCB_SHCSR_SVCALLPENDED_Pos
 15

	)

397 
	#SCB_SHCSR_SVCALLPENDED_Msk
 (1UL << 
SCB_SHCSR_SVCALLPENDED_Pos
è

	)

412 
__IO
 
ušt32_t
 
	mCTRL
;

413 
__IO
 
ušt32_t
 
	mLOAD
;

414 
__IO
 
ušt32_t
 
	mVAL
;

415 
__I
 
ušt32_t
 
	mCALIB
;

416 } 
	tSysTick_Ty³
;

419 
	#SysTick_CTRL_COUNTFLAG_Pos
 16

	)

420 
	#SysTick_CTRL_COUNTFLAG_Msk
 (1UL << 
SysTick_CTRL_COUNTFLAG_Pos
è

	)

422 
	#SysTick_CTRL_CLKSOURCE_Pos
 2

	)

423 
	#SysTick_CTRL_CLKSOURCE_Msk
 (1UL << 
SysTick_CTRL_CLKSOURCE_Pos
è

	)

425 
	#SysTick_CTRL_TICKINT_Pos
 1

	)

426 
	#SysTick_CTRL_TICKINT_Msk
 (1UL << 
SysTick_CTRL_TICKINT_Pos
è

	)

428 
	#SysTick_CTRL_ENABLE_Pos
 0

	)

429 
	#SysTick_CTRL_ENABLE_Msk
 (1UL << 
SysTick_CTRL_ENABLE_Pos
è

	)

432 
	#SysTick_LOAD_RELOAD_Pos
 0

	)

433 
	#SysTick_LOAD_RELOAD_Msk
 (0xFFFFFFUL << 
SysTick_LOAD_RELOAD_Pos
è

	)

436 
	#SysTick_VAL_CURRENT_Pos
 0

	)

437 
	#SysTick_VAL_CURRENT_Msk
 (0xFFFFFFUL << 
SysTick_VAL_CURRENT_Pos
è

	)

440 
	#SysTick_CALIB_NOREF_Pos
 31

	)

441 
	#SysTick_CALIB_NOREF_Msk
 (1UL << 
SysTick_CALIB_NOREF_Pos
è

	)

443 
	#SysTick_CALIB_SKEW_Pos
 30

	)

444 
	#SysTick_CALIB_SKEW_Msk
 (1UL << 
SysTick_CALIB_SKEW_Pos
è

	)

446 
	#SysTick_CALIB_TENMS_Pos
 0

	)

447 
	#SysTick_CALIB_TENMS_Msk
 (0xFFFFFFUL << 
SysTick_VAL_CURRENT_Pos
è

	)

469 
	#SCS_BASE
 (0xE000E000ULè

	)

470 
	#SysTick_BASE
 (
SCS_BASE
 + 0x0010ULè

	)

471 
	#NVIC_BASE
 (
SCS_BASE
 + 0x0100ULè

	)

472 
	#SCB_BASE
 (
SCS_BASE
 + 0x0D00ULè

	)

474 
	#SCB
 ((
SCB_Ty³
 *è
SCB_BASE
 )

	)

475 
	#SysTick
 ((
SysTick_Ty³
 *è
SysTick_BASE
 )

	)

476 
	#NVIC
 ((
NVIC_Ty³
 *è
NVIC_BASE
 )

	)

504 
	#_BIT_SHIFT
(
IRQn
èĞ(((
ušt32_t
)(IRQnèè& 0x03è* 8 )

	)

505 
	#_SHP_IDX
(
IRQn
èĞ((((
ušt32_t
)(IRQnè& 0x0F)-8è>> 2è)

	)

506 
	#_IP_IDX
(
IRQn
èĞ((
ušt32_t
)(IRQnè>> 2è)

	)

515 
__STATIC_INLINE
 
	$NVIC_EÇbËIRQ
(
IRQn_Ty³
 
IRQn
)

517 
NVIC
->
ISER
[0] = (1 << ((
ušt32_t
)(
IRQn
) & 0x1F));

518 
	}
}

527 
__STATIC_INLINE
 
	$NVIC_Di§bËIRQ
(
IRQn_Ty³
 
IRQn
)

529 
NVIC
->
ICER
[0] = (1 << ((
ušt32_t
)(
IRQn
) & 0x1F));

530 
	}
}

543 
__STATIC_INLINE
 
ušt32_t
 
	$NVIC_G‘P’dšgIRQ
(
IRQn_Ty³
 
IRQn
)

545 ((
ušt32_t
è((
NVIC
->
ISPR
[0] & (1 << ((ušt32_t)(
IRQn
) & 0x1F)))?1:0));

546 
	}
}

555 
__STATIC_INLINE
 
	$NVIC_S‘P’dšgIRQ
(
IRQn_Ty³
 
IRQn
)

557 
NVIC
->
ISPR
[0] = (1 << ((
ušt32_t
)(
IRQn
) & 0x1F));

558 
	}
}

567 
__STATIC_INLINE
 
	$NVIC_CË¬P’dšgIRQ
(
IRQn_Ty³
 
IRQn
)

569 
NVIC
->
ICPR
[0] = (1 << ((
ušt32_t
)(
IRQn
) & 0x1F));

570 
	}
}

582 
__STATIC_INLINE
 
	$NVIC_S‘PriÜ™y
(
IRQn_Ty³
 
IRQn
, 
ušt32_t
 
´iÜ™y
)

584 if(
IRQn
 < 0) {

585 
SCB
->
SHP
[
	`_SHP_IDX
(
IRQn
)] = (SCB->SHP[_SHP_IDX(IRQn)] & ~(0xFF << 
	`_BIT_SHIFT
(IRQn))) |

586 (((
´iÜ™y
 << (8 - 
__NVIC_PRIO_BITS
)è& 0xFFè<< 
	`_BIT_SHIFT
(
IRQn
)); }

588 
NVIC
->
IP
[
	`_IP_IDX
(
IRQn
)] = (NVIC->IP[_IP_IDX(IRQn)] & ~(0xFF << 
	`_BIT_SHIFT
(IRQn))) |

589 (((
´iÜ™y
 << (8 - 
__NVIC_PRIO_BITS
)è& 0xFFè<< 
	`_BIT_SHIFT
(
IRQn
)); }

590 
	}
}

604 
__STATIC_INLINE
 
ušt32_t
 
	$NVIC_G‘PriÜ™y
(
IRQn_Ty³
 
IRQn
)

607 if(
IRQn
 < 0) {

608 ((
ušt32_t
)(((
SCB
->
SHP
[
	`_SHP_IDX
(
IRQn
)] >> 
	`_BIT_SHIFT
(IRQnèè& 0xFFè>> (8 - 
__NVIC_PRIO_BITS
))); }

610 ((
ušt32_t
)(((
NVIC
->
IP
[ 
	`_IP_IDX
(
IRQn
)] >> 
	`_BIT_SHIFT
(IRQnèè& 0xFFè>> (8 - 
__NVIC_PRIO_BITS
))); }

611 
	}
}

618 
__STATIC_INLINE
 
	$NVIC_Sy¡emRe£t
()

620 
	`__DSB
();

622 
SCB
->
AIRCR
 = ((0x5FA << 
SCB_AIRCR_VECTKEY_Pos
) |

623 
SCB_AIRCR_SYSRESETREQ_Msk
);

624 
	`__DSB
();

626 
	}
}

639 #ià(
__V’dÜ_SysTickCÚfig
 == 0)

656 
__STATIC_INLINE
 
ušt32_t
 
	$SysTick_CÚfig
(
ušt32_t
 
ticks
)

658 ià((
ticks
 - 1è> 
SysTick_LOAD_RELOAD_Msk
)  (1);

660 
SysTick
->
LOAD
 = 
ticks
 - 1;

661 
	`NVIC_S‘PriÜ™y
 (
SysTick_IRQn
, (1<<
__NVIC_PRIO_BITS
) - 1);

662 
SysTick
->
VAL
 = 0;

663 
SysTick
->
CTRL
 = 
SysTick_CTRL_CLKSOURCE_Msk
 |

664 
SysTick_CTRL_TICKINT_Msk
 |

665 
SysTick_CTRL_ENABLE_Msk
;

667 
	}
}

680 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_cm0plus.h

38 #ià
defšed
 ( 
__ICCARM__
 )

39 #´agm¨
sy¡em_šşude


42 #ifdeà
__ılu¥lus


46 #iâdeà
__CORE_CM0PLUS_H_GENERIC


47 
	#__CORE_CM0PLUS_H_GENERIC


	)

71 
	#__CM0PLUS_CMSIS_VERSION_MAIN
 (0x03è

	)

72 
	#__CM0PLUS_CMSIS_VERSION_SUB
 (0x20è

	)

73 
	#__CM0PLUS_CMSIS_VERSION
 ((
__CM0PLUS_CMSIS_VERSION_MAIN
 << 16) | \

74 
__CM0PLUS_CMSIS_VERSION_SUB
è

	)

76 
	#__CORTEX_M
 (0x00è

	)

79 #ià 
defšed
 ( 
__CC_ARM
 )

80 
	#__ASM
 
__asm


	)

81 
	#__INLINE
 
__šlše


	)

82 
	#__STATIC_INLINE
 
__šlše


	)

84 #–ià
defšed
 ( 
__ICCARM__
 )

85 
	#__ASM
 
__asm


	)

86 
	#__INLINE
 
šlše


	)

87 
	#__STATIC_INLINE
 
šlše


	)

89 #–ià
defšed
 ( 
__GNUC__
 )

90 
	#__ASM
 
__asm


	)

91 
	#__INLINE
 
šlše


	)

92 
	#__STATIC_INLINE
 
šlše


	)

94 #–ià
defšed
 ( 
__TASKING__
 )

95 
	#__ASM
 
__asm


	)

96 
	#__INLINE
 
šlše


	)

97 
	#__STATIC_INLINE
 
šlše


	)

103 
	#__FPU_USED
 0

	)

105 #ià
defšed
 ( 
__CC_ARM
 )

106 #ià
defšed
 
__TARGET_FPU_VFP


110 #–ià
defšed
 ( 
__ICCARM__
 )

111 #ià
defšed
 
__ARMVFP__


115 #–ià
defšed
 ( 
__GNUC__
 )

116 #ià
defšed
 (
__VFP_FP__
è&& !defšed(
__SOFTFP__
)

120 #–ià
defšed
 ( 
__TASKING__
 )

121 #ià
defšed
 
__FPU_VFP__


126 
	~<¡dšt.h
>

127 
	~<cÜe_cmIn¡r.h
>

128 
	~<cÜe_cmFunc.h
>

132 #iâdeà
__CMSIS_GENERIC


134 #iâdeà
__CORE_CM0PLUS_H_DEPENDANT


135 
	#__CORE_CM0PLUS_H_DEPENDANT


	)

138 #ià
defšed
 
__CHECK_DEVICE_DEFINES


139 #iâdeà
__CM0PLUS_REV


140 
	#__CM0PLUS_REV
 0x0000

	)

144 #iâdeà
__MPU_PRESENT


145 
	#__MPU_PRESENT
 0

	)

149 #iâdeà
__VTOR_PRESENT


150 
	#__VTOR_PRESENT
 0

	)

154 #iâdeà
__NVIC_PRIO_BITS


155 
	#__NVIC_PRIO_BITS
 2

	)

159 #iâdeà
__V’dÜ_SysTickCÚfig


160 
	#__V’dÜ_SysTickCÚfig
 0

	)

173 #ifdeà
__ılu¥lus


174 
	#__I
 vŞ©

	)

176 
	#__I
 vŞ©cÚ¡

	)

178 
	#__O
 vŞ©

	)

179 
	#__IO
 vŞ©

	)

210 #ià(
__CORTEX_M
 != 0x04)

211 
ušt32_t
 
_»£rved0
:27;

213 
ušt32_t
 
_»£rved0
:16;

214 
ušt32_t
 
GE
:4;

215 
ušt32_t
 
_»£rved1
:7;

217 
ušt32_t
 
Q
:1;

218 
ušt32_t
 
V
:1;

219 
ušt32_t
 
C
:1;

220 
ušt32_t
 
Z
:1;

221 
ušt32_t
 
N
:1;

222 } 
b
;

223 
ušt32_t
 
w
;

224 } 
	tAPSR_Ty³
;

233 
ušt32_t
 
	mISR
:9;

234 
ušt32_t
 
	m_»£rved0
:23;

235 } 
	mb
;

236 
ušt32_t
 
	mw
;

237 } 
	tIPSR_Ty³
;

246 
ušt32_t
 
	mISR
:9;

247 #ià(
__CORTEX_M
 != 0x04)

248 
ušt32_t
 
	m_»£rved0
:15;

250 
ušt32_t
 
	m_»£rved0
:7;

251 
ušt32_t
 
	mGE
:4;

252 
ušt32_t
 
	m_»£rved1
:4;

254 
ušt32_t
 
	mT
:1;

255 
ušt32_t
 
	mIT
:2;

256 
ušt32_t
 
	mQ
:1;

257 
ušt32_t
 
	mV
:1;

258 
ušt32_t
 
	mC
:1;

259 
ušt32_t
 
	mZ
:1;

260 
ušt32_t
 
	mN
:1;

261 } 
	mb
;

262 
ušt32_t
 
	mw
;

263 } 
	txPSR_Ty³
;

272 
ušt32_t
 
	mnPRIV
:1;

273 
ušt32_t
 
	mSPSEL
:1;

274 
ušt32_t
 
	mFPCA
:1;

275 
ušt32_t
 
	m_»£rved0
:29;

276 } 
	mb
;

277 
ušt32_t
 
	mw
;

278 } 
	tCONTROL_Ty³
;

293 
__IO
 
ušt32_t
 
	mISER
[1];

294 
ušt32_t
 
	mRESERVED0
[31];

295 
__IO
 
ušt32_t
 
	mICER
[1];

296 
ušt32_t
 
	mRSERVED1
[31];

297 
__IO
 
ušt32_t
 
	mISPR
[1];

298 
ušt32_t
 
	mRESERVED2
[31];

299 
__IO
 
ušt32_t
 
	mICPR
[1];

300 
ušt32_t
 
	mRESERVED3
[31];

301 
ušt32_t
 
	mRESERVED4
[64];

302 
__IO
 
ušt32_t
 
	mIP
[8];

303 } 
	tNVIC_Ty³
;

318 
__I
 
ušt32_t
 
	mCPUID
;

319 
__IO
 
ušt32_t
 
	mICSR
;

320 #ià(
__VTOR_PRESENT
 == 1)

321 
__IO
 
ušt32_t
 
	mVTOR
;

323 
ušt32_t
 
	mRESERVED0
;

325 
__IO
 
ušt32_t
 
	mAIRCR
;

326 
__IO
 
ušt32_t
 
	mSCR
;

327 
__IO
 
ušt32_t
 
	mCCR
;

328 
ušt32_t
 
	mRESERVED1
;

329 
__IO
 
ušt32_t
 
	mSHP
[2];

330 
__IO
 
ušt32_t
 
	mSHCSR
;

331 } 
	tSCB_Ty³
;

334 
	#SCB_CPUID_IMPLEMENTER_Pos
 24

	)

335 
	#SCB_CPUID_IMPLEMENTER_Msk
 (0xFFUL << 
SCB_CPUID_IMPLEMENTER_Pos
è

	)

337 
	#SCB_CPUID_VARIANT_Pos
 20

	)

338 
	#SCB_CPUID_VARIANT_Msk
 (0xFUL << 
SCB_CPUID_VARIANT_Pos
è

	)

340 
	#SCB_CPUID_ARCHITECTURE_Pos
 16

	)

341 
	#SCB_CPUID_ARCHITECTURE_Msk
 (0xFUL << 
SCB_CPUID_ARCHITECTURE_Pos
è

	)

343 
	#SCB_CPUID_PARTNO_Pos
 4

	)

344 
	#SCB_CPUID_PARTNO_Msk
 (0xFFFUL << 
SCB_CPUID_PARTNO_Pos
è

	)

346 
	#SCB_CPUID_REVISION_Pos
 0

	)

347 
	#SCB_CPUID_REVISION_Msk
 (0xFUL << 
SCB_CPUID_REVISION_Pos
è

	)

350 
	#SCB_ICSR_NMIPENDSET_Pos
 31

	)

351 
	#SCB_ICSR_NMIPENDSET_Msk
 (1UL << 
SCB_ICSR_NMIPENDSET_Pos
è

	)

353 
	#SCB_ICSR_PENDSVSET_Pos
 28

	)

354 
	#SCB_ICSR_PENDSVSET_Msk
 (1UL << 
SCB_ICSR_PENDSVSET_Pos
è

	)

356 
	#SCB_ICSR_PENDSVCLR_Pos
 27

	)

357 
	#SCB_ICSR_PENDSVCLR_Msk
 (1UL << 
SCB_ICSR_PENDSVCLR_Pos
è

	)

359 
	#SCB_ICSR_PENDSTSET_Pos
 26

	)

360 
	#SCB_ICSR_PENDSTSET_Msk
 (1UL << 
SCB_ICSR_PENDSTSET_Pos
è

	)

362 
	#SCB_ICSR_PENDSTCLR_Pos
 25

	)

363 
	#SCB_ICSR_PENDSTCLR_Msk
 (1UL << 
SCB_ICSR_PENDSTCLR_Pos
è

	)

365 
	#SCB_ICSR_ISRPREEMPT_Pos
 23

	)

366 
	#SCB_ICSR_ISRPREEMPT_Msk
 (1UL << 
SCB_ICSR_ISRPREEMPT_Pos
è

	)

368 
	#SCB_ICSR_ISRPENDING_Pos
 22

	)

369 
	#SCB_ICSR_ISRPENDING_Msk
 (1UL << 
SCB_ICSR_ISRPENDING_Pos
è

	)

371 
	#SCB_ICSR_VECTPENDING_Pos
 12

	)

372 
	#SCB_ICSR_VECTPENDING_Msk
 (0x1FFUL << 
SCB_ICSR_VECTPENDING_Pos
è

	)

374 
	#SCB_ICSR_VECTACTIVE_Pos
 0

	)

375 
	#SCB_ICSR_VECTACTIVE_Msk
 (0x1FFUL << 
SCB_ICSR_VECTACTIVE_Pos
è

	)

377 #ià(
__VTOR_PRESENT
 == 1)

379 
	#SCB_VTOR_TBLOFF_Pos
 8

	)

380 
	#SCB_VTOR_TBLOFF_Msk
 (0xFFFFFFUL << 
SCB_VTOR_TBLOFF_Pos
è

	)

384 
	#SCB_AIRCR_VECTKEY_Pos
 16

	)

385 
	#SCB_AIRCR_VECTKEY_Msk
 (0xFFFFUL << 
SCB_AIRCR_VECTKEY_Pos
è

	)

387 
	#SCB_AIRCR_VECTKEYSTAT_Pos
 16

	)

388 
	#SCB_AIRCR_VECTKEYSTAT_Msk
 (0xFFFFUL << 
SCB_AIRCR_VECTKEYSTAT_Pos
è

	)

390 
	#SCB_AIRCR_ENDIANESS_Pos
 15

	)

391 
	#SCB_AIRCR_ENDIANESS_Msk
 (1UL << 
SCB_AIRCR_ENDIANESS_Pos
è

	)

393 
	#SCB_AIRCR_SYSRESETREQ_Pos
 2

	)

394 
	#SCB_AIRCR_SYSRESETREQ_Msk
 (1UL << 
SCB_AIRCR_SYSRESETREQ_Pos
è

	)

396 
	#SCB_AIRCR_VECTCLRACTIVE_Pos
 1

	)

397 
	#SCB_AIRCR_VECTCLRACTIVE_Msk
 (1UL << 
SCB_AIRCR_VECTCLRACTIVE_Pos
è

	)

400 
	#SCB_SCR_SEVONPEND_Pos
 4

	)

401 
	#SCB_SCR_SEVONPEND_Msk
 (1UL << 
SCB_SCR_SEVONPEND_Pos
è

	)

403 
	#SCB_SCR_SLEEPDEEP_Pos
 2

	)

404 
	#SCB_SCR_SLEEPDEEP_Msk
 (1UL << 
SCB_SCR_SLEEPDEEP_Pos
è

	)

406 
	#SCB_SCR_SLEEPONEXIT_Pos
 1

	)

407 
	#SCB_SCR_SLEEPONEXIT_Msk
 (1UL << 
SCB_SCR_SLEEPONEXIT_Pos
è

	)

410 
	#SCB_CCR_STKALIGN_Pos
 9

	)

411 
	#SCB_CCR_STKALIGN_Msk
 (1UL << 
SCB_CCR_STKALIGN_Pos
è

	)

413 
	#SCB_CCR_UNALIGN_TRP_Pos
 3

	)

414 
	#SCB_CCR_UNALIGN_TRP_Msk
 (1UL << 
SCB_CCR_UNALIGN_TRP_Pos
è

	)

417 
	#SCB_SHCSR_SVCALLPENDED_Pos
 15

	)

418 
	#SCB_SHCSR_SVCALLPENDED_Msk
 (1UL << 
SCB_SHCSR_SVCALLPENDED_Pos
è

	)

433 
__IO
 
ušt32_t
 
	mCTRL
;

434 
__IO
 
ušt32_t
 
	mLOAD
;

435 
__IO
 
ušt32_t
 
	mVAL
;

436 
__I
 
ušt32_t
 
	mCALIB
;

437 } 
	tSysTick_Ty³
;

440 
	#SysTick_CTRL_COUNTFLAG_Pos
 16

	)

441 
	#SysTick_CTRL_COUNTFLAG_Msk
 (1UL << 
SysTick_CTRL_COUNTFLAG_Pos
è

	)

443 
	#SysTick_CTRL_CLKSOURCE_Pos
 2

	)

444 
	#SysTick_CTRL_CLKSOURCE_Msk
 (1UL << 
SysTick_CTRL_CLKSOURCE_Pos
è

	)

446 
	#SysTick_CTRL_TICKINT_Pos
 1

	)

447 
	#SysTick_CTRL_TICKINT_Msk
 (1UL << 
SysTick_CTRL_TICKINT_Pos
è

	)

449 
	#SysTick_CTRL_ENABLE_Pos
 0

	)

450 
	#SysTick_CTRL_ENABLE_Msk
 (1UL << 
SysTick_CTRL_ENABLE_Pos
è

	)

453 
	#SysTick_LOAD_RELOAD_Pos
 0

	)

454 
	#SysTick_LOAD_RELOAD_Msk
 (0xFFFFFFUL << 
SysTick_LOAD_RELOAD_Pos
è

	)

457 
	#SysTick_VAL_CURRENT_Pos
 0

	)

458 
	#SysTick_VAL_CURRENT_Msk
 (0xFFFFFFUL << 
SysTick_VAL_CURRENT_Pos
è

	)

461 
	#SysTick_CALIB_NOREF_Pos
 31

	)

462 
	#SysTick_CALIB_NOREF_Msk
 (1UL << 
SysTick_CALIB_NOREF_Pos
è

	)

464 
	#SysTick_CALIB_SKEW_Pos
 30

	)

465 
	#SysTick_CALIB_SKEW_Msk
 (1UL << 
SysTick_CALIB_SKEW_Pos
è

	)

467 
	#SysTick_CALIB_TENMS_Pos
 0

	)

468 
	#SysTick_CALIB_TENMS_Msk
 (0xFFFFFFUL << 
SysTick_VAL_CURRENT_Pos
è

	)

472 #ià(
__MPU_PRESENT
 == 1)

483 
__I
 
ušt32_t
 
	mTYPE
;

484 
__IO
 
ušt32_t
 
	mCTRL
;

485 
__IO
 
ušt32_t
 
	mRNR
;

486 
__IO
 
ušt32_t
 
	mRBAR
;

487 
__IO
 
ušt32_t
 
	mRASR
;

488 } 
	tMPU_Ty³
;

491 
	#MPU_TYPE_IREGION_Pos
 16

	)

492 
	#MPU_TYPE_IREGION_Msk
 (0xFFUL << 
MPU_TYPE_IREGION_Pos
è

	)

494 
	#MPU_TYPE_DREGION_Pos
 8

	)

495 
	#MPU_TYPE_DREGION_Msk
 (0xFFUL << 
MPU_TYPE_DREGION_Pos
è

	)

497 
	#MPU_TYPE_SEPARATE_Pos
 0

	)

498 
	#MPU_TYPE_SEPARATE_Msk
 (1UL << 
MPU_TYPE_SEPARATE_Pos
è

	)

501 
	#MPU_CTRL_PRIVDEFENA_Pos
 2

	)

502 
	#MPU_CTRL_PRIVDEFENA_Msk
 (1UL << 
MPU_CTRL_PRIVDEFENA_Pos
è

	)

504 
	#MPU_CTRL_HFNMIENA_Pos
 1

	)

505 
	#MPU_CTRL_HFNMIENA_Msk
 (1UL << 
MPU_CTRL_HFNMIENA_Pos
è

	)

507 
	#MPU_CTRL_ENABLE_Pos
 0

	)

508 
	#MPU_CTRL_ENABLE_Msk
 (1UL << 
MPU_CTRL_ENABLE_Pos
è

	)

511 
	#MPU_RNR_REGION_Pos
 0

	)

512 
	#MPU_RNR_REGION_Msk
 (0xFFUL << 
MPU_RNR_REGION_Pos
è

	)

515 
	#MPU_RBAR_ADDR_Pos
 8

	)

516 
	#MPU_RBAR_ADDR_Msk
 (0xFFFFFFUL << 
MPU_RBAR_ADDR_Pos
è

	)

518 
	#MPU_RBAR_VALID_Pos
 4

	)

519 
	#MPU_RBAR_VALID_Msk
 (1UL << 
MPU_RBAR_VALID_Pos
è

	)

521 
	#MPU_RBAR_REGION_Pos
 0

	)

522 
	#MPU_RBAR_REGION_Msk
 (0xFUL << 
MPU_RBAR_REGION_Pos
è

	)

525 
	#MPU_RASR_ATTRS_Pos
 16

	)

526 
	#MPU_RASR_ATTRS_Msk
 (0xFFFFUL << 
MPU_RASR_ATTRS_Pos
è

	)

528 
	#MPU_RASR_XN_Pos
 28

	)

529 
	#MPU_RASR_XN_Msk
 (1UL << 
MPU_RASR_XN_Pos
è

	)

531 
	#MPU_RASR_AP_Pos
 24

	)

532 
	#MPU_RASR_AP_Msk
 (0x7UL << 
MPU_RASR_AP_Pos
è

	)

534 
	#MPU_RASR_TEX_Pos
 19

	)

535 
	#MPU_RASR_TEX_Msk
 (0x7UL << 
MPU_RASR_TEX_Pos
è

	)

537 
	#MPU_RASR_S_Pos
 18

	)

538 
	#MPU_RASR_S_Msk
 (1UL << 
MPU_RASR_S_Pos
è

	)

540 
	#MPU_RASR_C_Pos
 17

	)

541 
	#MPU_RASR_C_Msk
 (1UL << 
MPU_RASR_C_Pos
è

	)

543 
	#MPU_RASR_B_Pos
 16

	)

544 
	#MPU_RASR_B_Msk
 (1UL << 
MPU_RASR_B_Pos
è

	)

546 
	#MPU_RASR_SRD_Pos
 8

	)

547 
	#MPU_RASR_SRD_Msk
 (0xFFUL << 
MPU_RASR_SRD_Pos
è

	)

549 
	#MPU_RASR_SIZE_Pos
 1

	)

550 
	#MPU_RASR_SIZE_Msk
 (0x1FUL << 
MPU_RASR_SIZE_Pos
è

	)

552 
	#MPU_RASR_ENABLE_Pos
 0

	)

553 
	#MPU_RASR_ENABLE_Msk
 (1UL << 
MPU_RASR_ENABLE_Pos
è

	)

576 
	#SCS_BASE
 (0xE000E000ULè

	)

577 
	#SysTick_BASE
 (
SCS_BASE
 + 0x0010ULè

	)

578 
	#NVIC_BASE
 (
SCS_BASE
 + 0x0100ULè

	)

579 
	#SCB_BASE
 (
SCS_BASE
 + 0x0D00ULè

	)

581 
	#SCB
 ((
SCB_Ty³
 *è
SCB_BASE
 )

	)

582 
	#SysTick
 ((
SysTick_Ty³
 *è
SysTick_BASE
 )

	)

583 
	#NVIC
 ((
NVIC_Ty³
 *è
NVIC_BASE
 )

	)

585 #ià(
__MPU_PRESENT
 == 1)

586 
	#MPU_BASE
 (
SCS_BASE
 + 0x0D90ULè

	)

587 
	#MPU
 ((
MPU_Ty³
 *è
MPU_BASE
 )

	)

615 
	#_BIT_SHIFT
(
IRQn
èĞ(((
ušt32_t
)(IRQnèè& 0x03è* 8 )

	)

616 
	#_SHP_IDX
(
IRQn
èĞ((((
ušt32_t
)(IRQnè& 0x0F)-8è>> 2è)

	)

617 
	#_IP_IDX
(
IRQn
èĞ((
ušt32_t
)(IRQnè>> 2è)

	)

626 
__STATIC_INLINE
 
	$NVIC_EÇbËIRQ
(
IRQn_Ty³
 
IRQn
)

628 
NVIC
->
ISER
[0] = (1 << ((
ušt32_t
)(
IRQn
) & 0x1F));

629 
	}
}

638 
__STATIC_INLINE
 
	$NVIC_Di§bËIRQ
(
IRQn_Ty³
 
IRQn
)

640 
NVIC
->
ICER
[0] = (1 << ((
ušt32_t
)(
IRQn
) & 0x1F));

641 
	}
}

654 
__STATIC_INLINE
 
ušt32_t
 
	$NVIC_G‘P’dšgIRQ
(
IRQn_Ty³
 
IRQn
)

656 ((
ušt32_t
è((
NVIC
->
ISPR
[0] & (1 << ((ušt32_t)(
IRQn
) & 0x1F)))?1:0));

657 
	}
}

666 
__STATIC_INLINE
 
	$NVIC_S‘P’dšgIRQ
(
IRQn_Ty³
 
IRQn
)

668 
NVIC
->
ISPR
[0] = (1 << ((
ušt32_t
)(
IRQn
) & 0x1F));

669 
	}
}

678 
__STATIC_INLINE
 
	$NVIC_CË¬P’dšgIRQ
(
IRQn_Ty³
 
IRQn
)

680 
NVIC
->
ICPR
[0] = (1 << ((
ušt32_t
)(
IRQn
) & 0x1F));

681 
	}
}

693 
__STATIC_INLINE
 
	$NVIC_S‘PriÜ™y
(
IRQn_Ty³
 
IRQn
, 
ušt32_t
 
´iÜ™y
)

695 if(
IRQn
 < 0) {

696 
SCB
->
SHP
[
	`_SHP_IDX
(
IRQn
)] = (SCB->SHP[_SHP_IDX(IRQn)] & ~(0xFF << 
	`_BIT_SHIFT
(IRQn))) |

697 (((
´iÜ™y
 << (8 - 
__NVIC_PRIO_BITS
)è& 0xFFè<< 
	`_BIT_SHIFT
(
IRQn
)); }

699 
NVIC
->
IP
[
	`_IP_IDX
(
IRQn
)] = (NVIC->IP[_IP_IDX(IRQn)] & ~(0xFF << 
	`_BIT_SHIFT
(IRQn))) |

700 (((
´iÜ™y
 << (8 - 
__NVIC_PRIO_BITS
)è& 0xFFè<< 
	`_BIT_SHIFT
(
IRQn
)); }

701 
	}
}

715 
__STATIC_INLINE
 
ušt32_t
 
	$NVIC_G‘PriÜ™y
(
IRQn_Ty³
 
IRQn
)

718 if(
IRQn
 < 0) {

719 ((
ušt32_t
)(((
SCB
->
SHP
[
	`_SHP_IDX
(
IRQn
)] >> 
	`_BIT_SHIFT
(IRQnèè& 0xFFè>> (8 - 
__NVIC_PRIO_BITS
))); }

721 ((
ušt32_t
)(((
NVIC
->
IP
[ 
	`_IP_IDX
(
IRQn
)] >> 
	`_BIT_SHIFT
(IRQnèè& 0xFFè>> (8 - 
__NVIC_PRIO_BITS
))); }

722 
	}
}

729 
__STATIC_INLINE
 
	$NVIC_Sy¡emRe£t
()

731 
	`__DSB
();

733 
SCB
->
AIRCR
 = ((0x5FA << 
SCB_AIRCR_VECTKEY_Pos
) |

734 
SCB_AIRCR_SYSRESETREQ_Msk
);

735 
	`__DSB
();

737 
	}
}

750 #ià(
__V’dÜ_SysTickCÚfig
 == 0)

767 
__STATIC_INLINE
 
ušt32_t
 
	$SysTick_CÚfig
(
ušt32_t
 
ticks
)

769 ià((
ticks
 - 1è> 
SysTick_LOAD_RELOAD_Msk
)  (1);

771 
SysTick
->
LOAD
 = 
ticks
 - 1;

772 
	`NVIC_S‘PriÜ™y
 (
SysTick_IRQn
, (1<<
__NVIC_PRIO_BITS
) - 1);

773 
SysTick
->
VAL
 = 0;

774 
SysTick
->
CTRL
 = 
SysTick_CTRL_CLKSOURCE_Msk
 |

775 
SysTick_CTRL_TICKINT_Msk
 |

776 
SysTick_CTRL_ENABLE_Msk
;

778 
	}
}

791 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_cm3.h

38 #ià
defšed
 ( 
__ICCARM__
 )

39 #´agm¨
sy¡em_šşude


42 #ifdeà
__ılu¥lus


46 #iâdeà
__CORE_CM3_H_GENERIC


47 
	#__CORE_CM3_H_GENERIC


	)

71 
	#__CM3_CMSIS_VERSION_MAIN
 (0x03è

	)

72 
	#__CM3_CMSIS_VERSION_SUB
 (0x20è

	)

73 
	#__CM3_CMSIS_VERSION
 ((
__CM3_CMSIS_VERSION_MAIN
 << 16) | \

74 
__CM3_CMSIS_VERSION_SUB
 )

	)

76 
	#__CORTEX_M
 (0x03è

	)

79 #ià 
defšed
 ( 
__CC_ARM
 )

80 
	#__ASM
 
__asm


	)

81 
	#__INLINE
 
__šlše


	)

82 
	#__STATIC_INLINE
 
__šlše


	)

84 #–ià
defšed
 ( 
__ICCARM__
 )

85 
	#__ASM
 
__asm


	)

86 
	#__INLINE
 
šlše


	)

87 
	#__STATIC_INLINE
 
šlše


	)

89 #–ià
defšed
 ( 
__TMS470__
 )

90 
	#__ASM
 
__asm


	)

91 
	#__STATIC_INLINE
 
šlše


	)

93 #–ià
defšed
 ( 
__GNUC__
 )

94 
	#__ASM
 
__asm


	)

95 
	#__INLINE
 
šlše


	)

96 
	#__STATIC_INLINE
 
šlše


	)

98 #–ià
defšed
 ( 
__TASKING__
 )

99 
	#__ASM
 
__asm


	)

100 
	#__INLINE
 
šlše


	)

101 
	#__STATIC_INLINE
 
šlše


	)

107 
	#__FPU_USED
 0

	)

109 #ià
defšed
 ( 
__CC_ARM
 )

110 #ià
defšed
 
__TARGET_FPU_VFP


114 #–ià
defšed
 ( 
__ICCARM__
 )

115 #ià
defšed
 
__ARMVFP__


119 #–ià
defšed
 ( 
__TMS470__
 )

120 #ià
defšed
 
__TI__VFP_SUPPORT____


124 #–ià
defšed
 ( 
__GNUC__
 )

125 #ià
defšed
 (
__VFP_FP__
è&& !defšed(
__SOFTFP__
)

129 #–ià
defšed
 ( 
__TASKING__
 )

130 #ià
defšed
 
__FPU_VFP__


135 
	~<¡dšt.h
>

136 
	~<cÜe_cmIn¡r.h
>

137 
	~<cÜe_cmFunc.h
>

141 #iâdeà
__CMSIS_GENERIC


143 #iâdeà
__CORE_CM3_H_DEPENDANT


144 
	#__CORE_CM3_H_DEPENDANT


	)

147 #ià
defšed
 
__CHECK_DEVICE_DEFINES


148 #iâdeà
__CM3_REV


149 
	#__CM3_REV
 0x0200

	)

153 #iâdeà
__MPU_PRESENT


154 
	#__MPU_PRESENT
 0

	)

158 #iâdeà
__NVIC_PRIO_BITS


159 
	#__NVIC_PRIO_BITS
 4

	)

163 #iâdeà
__V’dÜ_SysTickCÚfig


164 
	#__V’dÜ_SysTickCÚfig
 0

	)

177 #ifdeà
__ılu¥lus


178 
	#__I
 vŞ©

	)

180 
	#__I
 vŞ©cÚ¡

	)

182 
	#__O
 vŞ©

	)

183 
	#__IO
 vŞ©

	)

215 #ià(
__CORTEX_M
 != 0x04)

216 
ušt32_t
 
_»£rved0
:27;

218 
ušt32_t
 
_»£rved0
:16;

219 
ušt32_t
 
GE
:4;

220 
ušt32_t
 
_»£rved1
:7;

222 
ušt32_t
 
Q
:1;

223 
ušt32_t
 
V
:1;

224 
ušt32_t
 
C
:1;

225 
ušt32_t
 
Z
:1;

226 
ušt32_t
 
N
:1;

227 } 
b
;

228 
ušt32_t
 
w
;

229 } 
	tAPSR_Ty³
;

238 
ušt32_t
 
	mISR
:9;

239 
ušt32_t
 
	m_»£rved0
:23;

240 } 
	mb
;

241 
ušt32_t
 
	mw
;

242 } 
	tIPSR_Ty³
;

251 
ušt32_t
 
	mISR
:9;

252 #ià(
__CORTEX_M
 != 0x04)

253 
ušt32_t
 
	m_»£rved0
:15;

255 
ušt32_t
 
	m_»£rved0
:7;

256 
ušt32_t
 
	mGE
:4;

257 
ušt32_t
 
	m_»£rved1
:4;

259 
ušt32_t
 
	mT
:1;

260 
ušt32_t
 
	mIT
:2;

261 
ušt32_t
 
	mQ
:1;

262 
ušt32_t
 
	mV
:1;

263 
ušt32_t
 
	mC
:1;

264 
ušt32_t
 
	mZ
:1;

265 
ušt32_t
 
	mN
:1;

266 } 
	mb
;

267 
ušt32_t
 
	mw
;

268 } 
	txPSR_Ty³
;

277 
ušt32_t
 
	mnPRIV
:1;

278 
ušt32_t
 
	mSPSEL
:1;

279 
ušt32_t
 
	mFPCA
:1;

280 
ušt32_t
 
	m_»£rved0
:29;

281 } 
	mb
;

282 
ušt32_t
 
	mw
;

283 } 
	tCONTROL_Ty³
;

298 
__IO
 
ušt32_t
 
	mISER
[8];

299 
ušt32_t
 
	mRESERVED0
[24];

300 
__IO
 
ušt32_t
 
	mICER
[8];

301 
ušt32_t
 
	mRSERVED1
[24];

302 
__IO
 
ušt32_t
 
	mISPR
[8];

303 
ušt32_t
 
	mRESERVED2
[24];

304 
__IO
 
ušt32_t
 
	mICPR
[8];

305 
ušt32_t
 
	mRESERVED3
[24];

306 
__IO
 
ušt32_t
 
	mIABR
[8];

307 
ušt32_t
 
	mRESERVED4
[56];

308 
__IO
 
ušt8_t
 
	mIP
[240];

309 
ušt32_t
 
	mRESERVED5
[644];

310 
__O
 
ušt32_t
 
	mSTIR
;

311 } 
	tNVIC_Ty³
;

314 
	#NVIC_STIR_INTID_Pos
 0

	)

315 
	#NVIC_STIR_INTID_Msk
 (0x1FFUL << 
NVIC_STIR_INTID_Pos
è

	)

330 
__I
 
ušt32_t
 
	mCPUID
;

331 
__IO
 
ušt32_t
 
	mICSR
;

332 
__IO
 
ušt32_t
 
	mVTOR
;

333 
__IO
 
ušt32_t
 
	mAIRCR
;

334 
__IO
 
ušt32_t
 
	mSCR
;

335 
__IO
 
ušt32_t
 
	mCCR
;

336 
__IO
 
ušt8_t
 
	mSHP
[12];

337 
__IO
 
ušt32_t
 
	mSHCSR
;

338 
__IO
 
ušt32_t
 
	mCFSR
;

339 
__IO
 
ušt32_t
 
	mHFSR
;

340 
__IO
 
ušt32_t
 
	mDFSR
;

341 
__IO
 
ušt32_t
 
	mMMFAR
;

342 
__IO
 
ušt32_t
 
	mBFAR
;

343 
__IO
 
ušt32_t
 
	mAFSR
;

344 
__I
 
ušt32_t
 
	mPFR
[2];

345 
__I
 
ušt32_t
 
	mDFR
;

346 
__I
 
ušt32_t
 
	mADR
;

347 
__I
 
ušt32_t
 
	mMMFR
[4];

348 
__I
 
ušt32_t
 
	mISAR
[5];

349 
ušt32_t
 
	mRESERVED0
[5];

350 
__IO
 
ušt32_t
 
	mCPACR
;

351 } 
	tSCB_Ty³
;

354 
	#SCB_CPUID_IMPLEMENTER_Pos
 24

	)

355 
	#SCB_CPUID_IMPLEMENTER_Msk
 (0xFFUL << 
SCB_CPUID_IMPLEMENTER_Pos
è

	)

357 
	#SCB_CPUID_VARIANT_Pos
 20

	)

358 
	#SCB_CPUID_VARIANT_Msk
 (0xFUL << 
SCB_CPUID_VARIANT_Pos
è

	)

360 
	#SCB_CPUID_ARCHITECTURE_Pos
 16

	)

361 
	#SCB_CPUID_ARCHITECTURE_Msk
 (0xFUL << 
SCB_CPUID_ARCHITECTURE_Pos
è

	)

363 
	#SCB_CPUID_PARTNO_Pos
 4

	)

364 
	#SCB_CPUID_PARTNO_Msk
 (0xFFFUL << 
SCB_CPUID_PARTNO_Pos
è

	)

366 
	#SCB_CPUID_REVISION_Pos
 0

	)

367 
	#SCB_CPUID_REVISION_Msk
 (0xFUL << 
SCB_CPUID_REVISION_Pos
è

	)

370 
	#SCB_ICSR_NMIPENDSET_Pos
 31

	)

371 
	#SCB_ICSR_NMIPENDSET_Msk
 (1UL << 
SCB_ICSR_NMIPENDSET_Pos
è

	)

373 
	#SCB_ICSR_PENDSVSET_Pos
 28

	)

374 
	#SCB_ICSR_PENDSVSET_Msk
 (1UL << 
SCB_ICSR_PENDSVSET_Pos
è

	)

376 
	#SCB_ICSR_PENDSVCLR_Pos
 27

	)

377 
	#SCB_ICSR_PENDSVCLR_Msk
 (1UL << 
SCB_ICSR_PENDSVCLR_Pos
è

	)

379 
	#SCB_ICSR_PENDSTSET_Pos
 26

	)

380 
	#SCB_ICSR_PENDSTSET_Msk
 (1UL << 
SCB_ICSR_PENDSTSET_Pos
è

	)

382 
	#SCB_ICSR_PENDSTCLR_Pos
 25

	)

383 
	#SCB_ICSR_PENDSTCLR_Msk
 (1UL << 
SCB_ICSR_PENDSTCLR_Pos
è

	)

385 
	#SCB_ICSR_ISRPREEMPT_Pos
 23

	)

386 
	#SCB_ICSR_ISRPREEMPT_Msk
 (1UL << 
SCB_ICSR_ISRPREEMPT_Pos
è

	)

388 
	#SCB_ICSR_ISRPENDING_Pos
 22

	)

389 
	#SCB_ICSR_ISRPENDING_Msk
 (1UL << 
SCB_ICSR_ISRPENDING_Pos
è

	)

391 
	#SCB_ICSR_VECTPENDING_Pos
 12

	)

392 
	#SCB_ICSR_VECTPENDING_Msk
 (0x1FFUL << 
SCB_ICSR_VECTPENDING_Pos
è

	)

394 
	#SCB_ICSR_RETTOBASE_Pos
 11

	)

395 
	#SCB_ICSR_RETTOBASE_Msk
 (1UL << 
SCB_ICSR_RETTOBASE_Pos
è

	)

397 
	#SCB_ICSR_VECTACTIVE_Pos
 0

	)

398 
	#SCB_ICSR_VECTACTIVE_Msk
 (0x1FFUL << 
SCB_ICSR_VECTACTIVE_Pos
è

	)

401 #ià(
__CM3_REV
 < 0x0201)

402 
	#SCB_VTOR_TBLBASE_Pos
 29

	)

403 
	#SCB_VTOR_TBLBASE_Msk
 (1UL << 
SCB_VTOR_TBLBASE_Pos
è

	)

405 
	#SCB_VTOR_TBLOFF_Pos
 7

	)

406 
	#SCB_VTOR_TBLOFF_Msk
 (0x3FFFFFUL << 
SCB_VTOR_TBLOFF_Pos
è

	)

408 
	#SCB_VTOR_TBLOFF_Pos
 7

	)

409 
	#SCB_VTOR_TBLOFF_Msk
 (0x1FFFFFFUL << 
SCB_VTOR_TBLOFF_Pos
è

	)

413 
	#SCB_AIRCR_VECTKEY_Pos
 16

	)

414 
	#SCB_AIRCR_VECTKEY_Msk
 (0xFFFFUL << 
SCB_AIRCR_VECTKEY_Pos
è

	)

416 
	#SCB_AIRCR_VECTKEYSTAT_Pos
 16

	)

417 
	#SCB_AIRCR_VECTKEYSTAT_Msk
 (0xFFFFUL << 
SCB_AIRCR_VECTKEYSTAT_Pos
è

	)

419 
	#SCB_AIRCR_ENDIANESS_Pos
 15

	)

420 
	#SCB_AIRCR_ENDIANESS_Msk
 (1UL << 
SCB_AIRCR_ENDIANESS_Pos
è

	)

422 
	#SCB_AIRCR_PRIGROUP_Pos
 8

	)

423 
	#SCB_AIRCR_PRIGROUP_Msk
 (7UL << 
SCB_AIRCR_PRIGROUP_Pos
è

	)

425 
	#SCB_AIRCR_SYSRESETREQ_Pos
 2

	)

426 
	#SCB_AIRCR_SYSRESETREQ_Msk
 (1UL << 
SCB_AIRCR_SYSRESETREQ_Pos
è

	)

428 
	#SCB_AIRCR_VECTCLRACTIVE_Pos
 1

	)

429 
	#SCB_AIRCR_VECTCLRACTIVE_Msk
 (1UL << 
SCB_AIRCR_VECTCLRACTIVE_Pos
è

	)

431 
	#SCB_AIRCR_VECTRESET_Pos
 0

	)

432 
	#SCB_AIRCR_VECTRESET_Msk
 (1UL << 
SCB_AIRCR_VECTRESET_Pos
è

	)

435 
	#SCB_SCR_SEVONPEND_Pos
 4

	)

436 
	#SCB_SCR_SEVONPEND_Msk
 (1UL << 
SCB_SCR_SEVONPEND_Pos
è

	)

438 
	#SCB_SCR_SLEEPDEEP_Pos
 2

	)

439 
	#SCB_SCR_SLEEPDEEP_Msk
 (1UL << 
SCB_SCR_SLEEPDEEP_Pos
è

	)

441 
	#SCB_SCR_SLEEPONEXIT_Pos
 1

	)

442 
	#SCB_SCR_SLEEPONEXIT_Msk
 (1UL << 
SCB_SCR_SLEEPONEXIT_Pos
è

	)

445 
	#SCB_CCR_STKALIGN_Pos
 9

	)

446 
	#SCB_CCR_STKALIGN_Msk
 (1UL << 
SCB_CCR_STKALIGN_Pos
è

	)

448 
	#SCB_CCR_BFHFNMIGN_Pos
 8

	)

449 
	#SCB_CCR_BFHFNMIGN_Msk
 (1UL << 
SCB_CCR_BFHFNMIGN_Pos
è

	)

451 
	#SCB_CCR_DIV_0_TRP_Pos
 4

	)

452 
	#SCB_CCR_DIV_0_TRP_Msk
 (1UL << 
SCB_CCR_DIV_0_TRP_Pos
è

	)

454 
	#SCB_CCR_UNALIGN_TRP_Pos
 3

	)

455 
	#SCB_CCR_UNALIGN_TRP_Msk
 (1UL << 
SCB_CCR_UNALIGN_TRP_Pos
è

	)

457 
	#SCB_CCR_USERSETMPEND_Pos
 1

	)

458 
	#SCB_CCR_USERSETMPEND_Msk
 (1UL << 
SCB_CCR_USERSETMPEND_Pos
è

	)

460 
	#SCB_CCR_NONBASETHRDENA_Pos
 0

	)

461 
	#SCB_CCR_NONBASETHRDENA_Msk
 (1UL << 
SCB_CCR_NONBASETHRDENA_Pos
è

	)

464 
	#SCB_SHCSR_USGFAULTENA_Pos
 18

	)

465 
	#SCB_SHCSR_USGFAULTENA_Msk
 (1UL << 
SCB_SHCSR_USGFAULTENA_Pos
è

	)

467 
	#SCB_SHCSR_BUSFAULTENA_Pos
 17

	)

468 
	#SCB_SHCSR_BUSFAULTENA_Msk
 (1UL << 
SCB_SHCSR_BUSFAULTENA_Pos
è

	)

470 
	#SCB_SHCSR_MEMFAULTENA_Pos
 16

	)

471 
	#SCB_SHCSR_MEMFAULTENA_Msk
 (1UL << 
SCB_SHCSR_MEMFAULTENA_Pos
è

	)

473 
	#SCB_SHCSR_SVCALLPENDED_Pos
 15

	)

474 
	#SCB_SHCSR_SVCALLPENDED_Msk
 (1UL << 
SCB_SHCSR_SVCALLPENDED_Pos
è

	)

476 
	#SCB_SHCSR_BUSFAULTPENDED_Pos
 14

	)

477 
	#SCB_SHCSR_BUSFAULTPENDED_Msk
 (1UL << 
SCB_SHCSR_BUSFAULTPENDED_Pos
è

	)

479 
	#SCB_SHCSR_MEMFAULTPENDED_Pos
 13

	)

480 
	#SCB_SHCSR_MEMFAULTPENDED_Msk
 (1UL << 
SCB_SHCSR_MEMFAULTPENDED_Pos
è

	)

482 
	#SCB_SHCSR_USGFAULTPENDED_Pos
 12

	)

483 
	#SCB_SHCSR_USGFAULTPENDED_Msk
 (1UL << 
SCB_SHCSR_USGFAULTPENDED_Pos
è

	)

485 
	#SCB_SHCSR_SYSTICKACT_Pos
 11

	)

486 
	#SCB_SHCSR_SYSTICKACT_Msk
 (1UL << 
SCB_SHCSR_SYSTICKACT_Pos
è

	)

488 
	#SCB_SHCSR_PENDSVACT_Pos
 10

	)

489 
	#SCB_SHCSR_PENDSVACT_Msk
 (1UL << 
SCB_SHCSR_PENDSVACT_Pos
è

	)

491 
	#SCB_SHCSR_MONITORACT_Pos
 8

	)

492 
	#SCB_SHCSR_MONITORACT_Msk
 (1UL << 
SCB_SHCSR_MONITORACT_Pos
è

	)

494 
	#SCB_SHCSR_SVCALLACT_Pos
 7

	)

495 
	#SCB_SHCSR_SVCALLACT_Msk
 (1UL << 
SCB_SHCSR_SVCALLACT_Pos
è

	)

497 
	#SCB_SHCSR_USGFAULTACT_Pos
 3

	)

498 
	#SCB_SHCSR_USGFAULTACT_Msk
 (1UL << 
SCB_SHCSR_USGFAULTACT_Pos
è

	)

500 
	#SCB_SHCSR_BUSFAULTACT_Pos
 1

	)

501 
	#SCB_SHCSR_BUSFAULTACT_Msk
 (1UL << 
SCB_SHCSR_BUSFAULTACT_Pos
è

	)

503 
	#SCB_SHCSR_MEMFAULTACT_Pos
 0

	)

504 
	#SCB_SHCSR_MEMFAULTACT_Msk
 (1UL << 
SCB_SHCSR_MEMFAULTACT_Pos
è

	)

507 
	#SCB_CFSR_USGFAULTSR_Pos
 16

	)

508 
	#SCB_CFSR_USGFAULTSR_Msk
 (0xFFFFUL << 
SCB_CFSR_USGFAULTSR_Pos
è

	)

510 
	#SCB_CFSR_BUSFAULTSR_Pos
 8

	)

511 
	#SCB_CFSR_BUSFAULTSR_Msk
 (0xFFUL << 
SCB_CFSR_BUSFAULTSR_Pos
è

	)

513 
	#SCB_CFSR_MEMFAULTSR_Pos
 0

	)

514 
	#SCB_CFSR_MEMFAULTSR_Msk
 (0xFFUL << 
SCB_CFSR_MEMFAULTSR_Pos
è

	)

517 
	#SCB_HFSR_DEBUGEVT_Pos
 31

	)

518 
	#SCB_HFSR_DEBUGEVT_Msk
 (1UL << 
SCB_HFSR_DEBUGEVT_Pos
è

	)

520 
	#SCB_HFSR_FORCED_Pos
 30

	)

521 
	#SCB_HFSR_FORCED_Msk
 (1UL << 
SCB_HFSR_FORCED_Pos
è

	)

523 
	#SCB_HFSR_VECTTBL_Pos
 1

	)

524 
	#SCB_HFSR_VECTTBL_Msk
 (1UL << 
SCB_HFSR_VECTTBL_Pos
è

	)

527 
	#SCB_DFSR_EXTERNAL_Pos
 4

	)

528 
	#SCB_DFSR_EXTERNAL_Msk
 (1UL << 
SCB_DFSR_EXTERNAL_Pos
è

	)

530 
	#SCB_DFSR_VCATCH_Pos
 3

	)

531 
	#SCB_DFSR_VCATCH_Msk
 (1UL << 
SCB_DFSR_VCATCH_Pos
è

	)

533 
	#SCB_DFSR_DWTTRAP_Pos
 2

	)

534 
	#SCB_DFSR_DWTTRAP_Msk
 (1UL << 
SCB_DFSR_DWTTRAP_Pos
è

	)

536 
	#SCB_DFSR_BKPT_Pos
 1

	)

537 
	#SCB_DFSR_BKPT_Msk
 (1UL << 
SCB_DFSR_BKPT_Pos
è

	)

539 
	#SCB_DFSR_HALTED_Pos
 0

	)

540 
	#SCB_DFSR_HALTED_Msk
 (1UL << 
SCB_DFSR_HALTED_Pos
è

	)

555 
ušt32_t
 
	mRESERVED0
[1];

556 
__I
 
ušt32_t
 
	mICTR
;

557 #ià((
defšed
 
__CM3_REV
) && (__CM3_REV >= 0x200))

558 
__IO
 
ušt32_t
 
	mACTLR
;

560 
ušt32_t
 
	mRESERVED1
[1];

562 } 
	tSCnSCB_Ty³
;

565 
	#SCnSCB_ICTR_INTLINESNUM_Pos
 0

	)

566 
	#SCnSCB_ICTR_INTLINESNUM_Msk
 (0xFUL << 
SCnSCB_ICTR_INTLINESNUM_Pos
è

	)

570 
	#SCnSCB_ACTLR_DISFOLD_Pos
 2

	)

571 
	#SCnSCB_ACTLR_DISFOLD_Msk
 (1UL << 
SCnSCB_ACTLR_DISFOLD_Pos
è

	)

573 
	#SCnSCB_ACTLR_DISDEFWBUF_Pos
 1

	)

574 
	#SCnSCB_ACTLR_DISDEFWBUF_Msk
 (1UL << 
SCnSCB_ACTLR_DISDEFWBUF_Pos
è

	)

576 
	#SCnSCB_ACTLR_DISMCYCINT_Pos
 0

	)

577 
	#SCnSCB_ACTLR_DISMCYCINT_Msk
 (1UL << 
SCnSCB_ACTLR_DISMCYCINT_Pos
è

	)

592 
__IO
 
ušt32_t
 
	mCTRL
;

593 
__IO
 
ušt32_t
 
	mLOAD
;

594 
__IO
 
ušt32_t
 
	mVAL
;

595 
__I
 
ušt32_t
 
	mCALIB
;

596 } 
	tSysTick_Ty³
;

599 
	#SysTick_CTRL_COUNTFLAG_Pos
 16

	)

600 
	#SysTick_CTRL_COUNTFLAG_Msk
 (1UL << 
SysTick_CTRL_COUNTFLAG_Pos
è

	)

602 
	#SysTick_CTRL_CLKSOURCE_Pos
 2

	)

603 
	#SysTick_CTRL_CLKSOURCE_Msk
 (1UL << 
SysTick_CTRL_CLKSOURCE_Pos
è

	)

605 
	#SysTick_CTRL_TICKINT_Pos
 1

	)

606 
	#SysTick_CTRL_TICKINT_Msk
 (1UL << 
SysTick_CTRL_TICKINT_Pos
è

	)

608 
	#SysTick_CTRL_ENABLE_Pos
 0

	)

609 
	#SysTick_CTRL_ENABLE_Msk
 (1UL << 
SysTick_CTRL_ENABLE_Pos
è

	)

612 
	#SysTick_LOAD_RELOAD_Pos
 0

	)

613 
	#SysTick_LOAD_RELOAD_Msk
 (0xFFFFFFUL << 
SysTick_LOAD_RELOAD_Pos
è

	)

616 
	#SysTick_VAL_CURRENT_Pos
 0

	)

617 
	#SysTick_VAL_CURRENT_Msk
 (0xFFFFFFUL << 
SysTick_VAL_CURRENT_Pos
è

	)

620 
	#SysTick_CALIB_NOREF_Pos
 31

	)

621 
	#SysTick_CALIB_NOREF_Msk
 (1UL << 
SysTick_CALIB_NOREF_Pos
è

	)

623 
	#SysTick_CALIB_SKEW_Pos
 30

	)

624 
	#SysTick_CALIB_SKEW_Msk
 (1UL << 
SysTick_CALIB_SKEW_Pos
è

	)

626 
	#SysTick_CALIB_TENMS_Pos
 0

	)

627 
	#SysTick_CALIB_TENMS_Msk
 (0xFFFFFFUL << 
SysTick_VAL_CURRENT_Pos
è

	)

642 
__O
 union

644 
__O
 
ušt8_t
 
	mu8
;

645 
__O
 
ušt16_t
 
	mu16
;

646 
__O
 
ušt32_t
 
	mu32
;

647 } 
	mPORT
 [32];

648 
ušt32_t
 
	mRESERVED0
[864];

649 
__IO
 
ušt32_t
 
	mTER
;

650 
ušt32_t
 
	mRESERVED1
[15];

651 
__IO
 
ušt32_t
 
	mTPR
;

652 
ušt32_t
 
	mRESERVED2
[15];

653 
__IO
 
ušt32_t
 
	mTCR
;

654 
ušt32_t
 
	mRESERVED3
[29];

655 
__O
 
ušt32_t
 
	mIWR
;

656 
__I
 
ušt32_t
 
	mIRR
;

657 
__IO
 
ušt32_t
 
	mIMCR
;

658 
ušt32_t
 
	mRESERVED4
[43];

659 
__O
 
ušt32_t
 
	mLAR
;

660 
__I
 
ušt32_t
 
	mLSR
;

661 
ušt32_t
 
	mRESERVED5
[6];

662 
__I
 
ušt32_t
 
	mPID4
;

663 
__I
 
ušt32_t
 
	mPID5
;

664 
__I
 
ušt32_t
 
	mPID6
;

665 
__I
 
ušt32_t
 
	mPID7
;

666 
__I
 
ušt32_t
 
	mPID0
;

667 
__I
 
ušt32_t
 
	mPID1
;

668 
__I
 
ušt32_t
 
	mPID2
;

669 
__I
 
ušt32_t
 
	mPID3
;

670 
__I
 
ušt32_t
 
	mCID0
;

671 
__I
 
ušt32_t
 
	mCID1
;

672 
__I
 
ušt32_t
 
	mCID2
;

673 
__I
 
ušt32_t
 
	mCID3
;

674 } 
	tITM_Ty³
;

677 
	#ITM_TPR_PRIVMASK_Pos
 0

	)

678 
	#ITM_TPR_PRIVMASK_Msk
 (0xFUL << 
ITM_TPR_PRIVMASK_Pos
è

	)

681 
	#ITM_TCR_BUSY_Pos
 23

	)

682 
	#ITM_TCR_BUSY_Msk
 (1UL << 
ITM_TCR_BUSY_Pos
è

	)

684 
	#ITM_TCR_T¿ûBusID_Pos
 16

	)

685 
	#ITM_TCR_T¿ûBusID_Msk
 (0x7FUL << 
ITM_TCR_T¿ûBusID_Pos
è

	)

687 
	#ITM_TCR_GTSFREQ_Pos
 10

	)

688 
	#ITM_TCR_GTSFREQ_Msk
 (3UL << 
ITM_TCR_GTSFREQ_Pos
è

	)

690 
	#ITM_TCR_TSP»sÿË_Pos
 8

	)

691 
	#ITM_TCR_TSP»sÿË_Msk
 (3UL << 
ITM_TCR_TSP»sÿË_Pos
è

	)

693 
	#ITM_TCR_SWOENA_Pos
 4

	)

694 
	#ITM_TCR_SWOENA_Msk
 (1UL << 
ITM_TCR_SWOENA_Pos
è

	)

696 
	#ITM_TCR_DWTENA_Pos
 3

	)

697 
	#ITM_TCR_DWTENA_Msk
 (1UL << 
ITM_TCR_DWTENA_Pos
è

	)

699 
	#ITM_TCR_SYNCENA_Pos
 2

	)

700 
	#ITM_TCR_SYNCENA_Msk
 (1UL << 
ITM_TCR_SYNCENA_Pos
è

	)

702 
	#ITM_TCR_TSENA_Pos
 1

	)

703 
	#ITM_TCR_TSENA_Msk
 (1UL << 
ITM_TCR_TSENA_Pos
è

	)

705 
	#ITM_TCR_ITMENA_Pos
 0

	)

706 
	#ITM_TCR_ITMENA_Msk
 (1UL << 
ITM_TCR_ITMENA_Pos
è

	)

709 
	#ITM_IWR_ATVALIDM_Pos
 0

	)

710 
	#ITM_IWR_ATVALIDM_Msk
 (1UL << 
ITM_IWR_ATVALIDM_Pos
è

	)

713 
	#ITM_IRR_ATREADYM_Pos
 0

	)

714 
	#ITM_IRR_ATREADYM_Msk
 (1UL << 
ITM_IRR_ATREADYM_Pos
è

	)

717 
	#ITM_IMCR_INTEGRATION_Pos
 0

	)

718 
	#ITM_IMCR_INTEGRATION_Msk
 (1UL << 
ITM_IMCR_INTEGRATION_Pos
è

	)

721 
	#ITM_LSR_By‹Acc_Pos
 2

	)

722 
	#ITM_LSR_By‹Acc_Msk
 (1UL << 
ITM_LSR_By‹Acc_Pos
è

	)

724 
	#ITM_LSR_Acûss_Pos
 1

	)

725 
	#ITM_LSR_Acûss_Msk
 (1UL << 
ITM_LSR_Acûss_Pos
è

	)

727 
	#ITM_LSR_P»£Á_Pos
 0

	)

728 
	#ITM_LSR_P»£Á_Msk
 (1UL << 
ITM_LSR_P»£Á_Pos
è

	)

743 
__IO
 
ušt32_t
 
	mCTRL
;

744 
__IO
 
ušt32_t
 
	mCYCCNT
;

745 
__IO
 
ušt32_t
 
	mCPICNT
;

746 
__IO
 
ušt32_t
 
	mEXCCNT
;

747 
__IO
 
ušt32_t
 
	mSLEEPCNT
;

748 
__IO
 
ušt32_t
 
	mLSUCNT
;

749 
__IO
 
ušt32_t
 
	mFOLDCNT
;

750 
__I
 
ušt32_t
 
	mPCSR
;

751 
__IO
 
ušt32_t
 
	mCOMP0
;

752 
__IO
 
ušt32_t
 
	mMASK0
;

753 
__IO
 
ušt32_t
 
	mFUNCTION0
;

754 
ušt32_t
 
	mRESERVED0
[1];

755 
__IO
 
ušt32_t
 
	mCOMP1
;

756 
__IO
 
ušt32_t
 
	mMASK1
;

757 
__IO
 
ušt32_t
 
	mFUNCTION1
;

758 
ušt32_t
 
	mRESERVED1
[1];

759 
__IO
 
ušt32_t
 
	mCOMP2
;

760 
__IO
 
ušt32_t
 
	mMASK2
;

761 
__IO
 
ušt32_t
 
	mFUNCTION2
;

762 
ušt32_t
 
	mRESERVED2
[1];

763 
__IO
 
ušt32_t
 
	mCOMP3
;

764 
__IO
 
ušt32_t
 
	mMASK3
;

765 
__IO
 
ušt32_t
 
	mFUNCTION3
;

766 } 
	tDWT_Ty³
;

769 
	#DWT_CTRL_NUMCOMP_Pos
 28

	)

770 
	#DWT_CTRL_NUMCOMP_Msk
 (0xFUL << 
DWT_CTRL_NUMCOMP_Pos
è

	)

772 
	#DWT_CTRL_NOTRCPKT_Pos
 27

	)

773 
	#DWT_CTRL_NOTRCPKT_Msk
 (0x1UL << 
DWT_CTRL_NOTRCPKT_Pos
è

	)

775 
	#DWT_CTRL_NOEXTTRIG_Pos
 26

	)

776 
	#DWT_CTRL_NOEXTTRIG_Msk
 (0x1UL << 
DWT_CTRL_NOEXTTRIG_Pos
è

	)

778 
	#DWT_CTRL_NOCYCCNT_Pos
 25

	)

779 
	#DWT_CTRL_NOCYCCNT_Msk
 (0x1UL << 
DWT_CTRL_NOCYCCNT_Pos
è

	)

781 
	#DWT_CTRL_NOPRFCNT_Pos
 24

	)

782 
	#DWT_CTRL_NOPRFCNT_Msk
 (0x1UL << 
DWT_CTRL_NOPRFCNT_Pos
è

	)

784 
	#DWT_CTRL_CYCEVTENA_Pos
 22

	)

785 
	#DWT_CTRL_CYCEVTENA_Msk
 (0x1UL << 
DWT_CTRL_CYCEVTENA_Pos
è

	)

787 
	#DWT_CTRL_FOLDEVTENA_Pos
 21

	)

788 
	#DWT_CTRL_FOLDEVTENA_Msk
 (0x1UL << 
DWT_CTRL_FOLDEVTENA_Pos
è

	)

790 
	#DWT_CTRL_LSUEVTENA_Pos
 20

	)

791 
	#DWT_CTRL_LSUEVTENA_Msk
 (0x1UL << 
DWT_CTRL_LSUEVTENA_Pos
è

	)

793 
	#DWT_CTRL_SLEEPEVTENA_Pos
 19

	)

794 
	#DWT_CTRL_SLEEPEVTENA_Msk
 (0x1UL << 
DWT_CTRL_SLEEPEVTENA_Pos
è

	)

796 
	#DWT_CTRL_EXCEVTENA_Pos
 18

	)

797 
	#DWT_CTRL_EXCEVTENA_Msk
 (0x1UL << 
DWT_CTRL_EXCEVTENA_Pos
è

	)

799 
	#DWT_CTRL_CPIEVTENA_Pos
 17

	)

800 
	#DWT_CTRL_CPIEVTENA_Msk
 (0x1UL << 
DWT_CTRL_CPIEVTENA_Pos
è

	)

802 
	#DWT_CTRL_EXCTRCENA_Pos
 16

	)

803 
	#DWT_CTRL_EXCTRCENA_Msk
 (0x1UL << 
DWT_CTRL_EXCTRCENA_Pos
è

	)

805 
	#DWT_CTRL_PCSAMPLENA_Pos
 12

	)

806 
	#DWT_CTRL_PCSAMPLENA_Msk
 (0x1UL << 
DWT_CTRL_PCSAMPLENA_Pos
è

	)

808 
	#DWT_CTRL_SYNCTAP_Pos
 10

	)

809 
	#DWT_CTRL_SYNCTAP_Msk
 (0x3UL << 
DWT_CTRL_SYNCTAP_Pos
è

	)

811 
	#DWT_CTRL_CYCTAP_Pos
 9

	)

812 
	#DWT_CTRL_CYCTAP_Msk
 (0x1UL << 
DWT_CTRL_CYCTAP_Pos
è

	)

814 
	#DWT_CTRL_POSTINIT_Pos
 5

	)

815 
	#DWT_CTRL_POSTINIT_Msk
 (0xFUL << 
DWT_CTRL_POSTINIT_Pos
è

	)

817 
	#DWT_CTRL_POSTPRESET_Pos
 1

	)

818 
	#DWT_CTRL_POSTPRESET_Msk
 (0xFUL << 
DWT_CTRL_POSTPRESET_Pos
è

	)

820 
	#DWT_CTRL_CYCCNTENA_Pos
 0

	)

821 
	#DWT_CTRL_CYCCNTENA_Msk
 (0x1UL << 
DWT_CTRL_CYCCNTENA_Pos
è

	)

824 
	#DWT_CPICNT_CPICNT_Pos
 0

	)

825 
	#DWT_CPICNT_CPICNT_Msk
 (0xFFUL << 
DWT_CPICNT_CPICNT_Pos
è

	)

828 
	#DWT_EXCCNT_EXCCNT_Pos
 0

	)

829 
	#DWT_EXCCNT_EXCCNT_Msk
 (0xFFUL << 
DWT_EXCCNT_EXCCNT_Pos
è

	)

832 
	#DWT_SLEEPCNT_SLEEPCNT_Pos
 0

	)

833 
	#DWT_SLEEPCNT_SLEEPCNT_Msk
 (0xFFUL << 
DWT_SLEEPCNT_SLEEPCNT_Pos
è

	)

836 
	#DWT_LSUCNT_LSUCNT_Pos
 0

	)

837 
	#DWT_LSUCNT_LSUCNT_Msk
 (0xFFUL << 
DWT_LSUCNT_LSUCNT_Pos
è

	)

840 
	#DWT_FOLDCNT_FOLDCNT_Pos
 0

	)

841 
	#DWT_FOLDCNT_FOLDCNT_Msk
 (0xFFUL << 
DWT_FOLDCNT_FOLDCNT_Pos
è

	)

844 
	#DWT_MASK_MASK_Pos
 0

	)

845 
	#DWT_MASK_MASK_Msk
 (0x1FUL << 
DWT_MASK_MASK_Pos
è

	)

848 
	#DWT_FUNCTION_MATCHED_Pos
 24

	)

849 
	#DWT_FUNCTION_MATCHED_Msk
 (0x1UL << 
DWT_FUNCTION_MATCHED_Pos
è

	)

851 
	#DWT_FUNCTION_DATAVADDR1_Pos
 16

	)

852 
	#DWT_FUNCTION_DATAVADDR1_Msk
 (0xFUL << 
DWT_FUNCTION_DATAVADDR1_Pos
è

	)

854 
	#DWT_FUNCTION_DATAVADDR0_Pos
 12

	)

855 
	#DWT_FUNCTION_DATAVADDR0_Msk
 (0xFUL << 
DWT_FUNCTION_DATAVADDR0_Pos
è

	)

857 
	#DWT_FUNCTION_DATAVSIZE_Pos
 10

	)

858 
	#DWT_FUNCTION_DATAVSIZE_Msk
 (0x3UL << 
DWT_FUNCTION_DATAVSIZE_Pos
è

	)

860 
	#DWT_FUNCTION_LNK1ENA_Pos
 9

	)

861 
	#DWT_FUNCTION_LNK1ENA_Msk
 (0x1UL << 
DWT_FUNCTION_LNK1ENA_Pos
è

	)

863 
	#DWT_FUNCTION_DATAVMATCH_Pos
 8

	)

864 
	#DWT_FUNCTION_DATAVMATCH_Msk
 (0x1UL << 
DWT_FUNCTION_DATAVMATCH_Pos
è

	)

866 
	#DWT_FUNCTION_CYCMATCH_Pos
 7

	)

867 
	#DWT_FUNCTION_CYCMATCH_Msk
 (0x1UL << 
DWT_FUNCTION_CYCMATCH_Pos
è

	)

869 
	#DWT_FUNCTION_EMITRANGE_Pos
 5

	)

870 
	#DWT_FUNCTION_EMITRANGE_Msk
 (0x1UL << 
DWT_FUNCTION_EMITRANGE_Pos
è

	)

872 
	#DWT_FUNCTION_FUNCTION_Pos
 0

	)

873 
	#DWT_FUNCTION_FUNCTION_Msk
 (0xFUL << 
DWT_FUNCTION_FUNCTION_Pos
è

	)

888 
__IO
 
ušt32_t
 
	mSSPSR
;

889 
__IO
 
ušt32_t
 
	mCSPSR
;

890 
ušt32_t
 
	mRESERVED0
[2];

891 
__IO
 
ušt32_t
 
	mACPR
;

892 
ušt32_t
 
	mRESERVED1
[55];

893 
__IO
 
ušt32_t
 
	mSPPR
;

894 
ušt32_t
 
	mRESERVED2
[131];

895 
__I
 
ušt32_t
 
	mFFSR
;

896 
__IO
 
ušt32_t
 
	mFFCR
;

897 
__I
 
ušt32_t
 
	mFSCR
;

898 
ušt32_t
 
	mRESERVED3
[759];

899 
__I
 
ušt32_t
 
	mTRIGGER
;

900 
__I
 
ušt32_t
 
	mFIFO0
;

901 
__I
 
ušt32_t
 
	mITATBCTR2
;

902 
ušt32_t
 
	mRESERVED4
[1];

903 
__I
 
ušt32_t
 
	mITATBCTR0
;

904 
__I
 
ušt32_t
 
	mFIFO1
;

905 
__IO
 
ušt32_t
 
	mITCTRL
;

906 
ušt32_t
 
	mRESERVED5
[39];

907 
__IO
 
ušt32_t
 
	mCLAIMSET
;

908 
__IO
 
ušt32_t
 
	mCLAIMCLR
;

909 
ušt32_t
 
	mRESERVED7
[8];

910 
__I
 
ušt32_t
 
	mDEVID
;

911 
__I
 
ušt32_t
 
	mDEVTYPE
;

912 } 
	tTPI_Ty³
;

915 
	#TPI_ACPR_PRESCALER_Pos
 0

	)

916 
	#TPI_ACPR_PRESCALER_Msk
 (0x1FFFUL << 
TPI_ACPR_PRESCALER_Pos
è

	)

919 
	#TPI_SPPR_TXMODE_Pos
 0

	)

920 
	#TPI_SPPR_TXMODE_Msk
 (0x3UL << 
TPI_SPPR_TXMODE_Pos
è

	)

923 
	#TPI_FFSR_FtNÚStİ_Pos
 3

	)

924 
	#TPI_FFSR_FtNÚStİ_Msk
 (0x1UL << 
TPI_FFSR_FtNÚStİ_Pos
è

	)

926 
	#TPI_FFSR_TCP»£Á_Pos
 2

	)

927 
	#TPI_FFSR_TCP»£Á_Msk
 (0x1UL << 
TPI_FFSR_TCP»£Á_Pos
è

	)

929 
	#TPI_FFSR_FtStİ³d_Pos
 1

	)

930 
	#TPI_FFSR_FtStİ³d_Msk
 (0x1UL << 
TPI_FFSR_FtStİ³d_Pos
è

	)

932 
	#TPI_FFSR_FlInProg_Pos
 0

	)

933 
	#TPI_FFSR_FlInProg_Msk
 (0x1UL << 
TPI_FFSR_FlInProg_Pos
è

	)

936 
	#TPI_FFCR_TrigIn_Pos
 8

	)

937 
	#TPI_FFCR_TrigIn_Msk
 (0x1UL << 
TPI_FFCR_TrigIn_Pos
è

	)

939 
	#TPI_FFCR_EnFCÚt_Pos
 1

	)

940 
	#TPI_FFCR_EnFCÚt_Msk
 (0x1UL << 
TPI_FFCR_EnFCÚt_Pos
è

	)

943 
	#TPI_TRIGGER_TRIGGER_Pos
 0

	)

944 
	#TPI_TRIGGER_TRIGGER_Msk
 (0x1UL << 
TPI_TRIGGER_TRIGGER_Pos
è

	)

947 
	#TPI_FIFO0_ITM_ATVALID_Pos
 29

	)

948 
	#TPI_FIFO0_ITM_ATVALID_Msk
 (0x3UL << 
TPI_FIFO0_ITM_ATVALID_Pos
è

	)

950 
	#TPI_FIFO0_ITM_by‹couÁ_Pos
 27

	)

951 
	#TPI_FIFO0_ITM_by‹couÁ_Msk
 (0x3UL << 
TPI_FIFO0_ITM_by‹couÁ_Pos
è

	)

953 
	#TPI_FIFO0_ETM_ATVALID_Pos
 26

	)

954 
	#TPI_FIFO0_ETM_ATVALID_Msk
 (0x3UL << 
TPI_FIFO0_ETM_ATVALID_Pos
è

	)

956 
	#TPI_FIFO0_ETM_by‹couÁ_Pos
 24

	)

957 
	#TPI_FIFO0_ETM_by‹couÁ_Msk
 (0x3UL << 
TPI_FIFO0_ETM_by‹couÁ_Pos
è

	)

959 
	#TPI_FIFO0_ETM2_Pos
 16

	)

960 
	#TPI_FIFO0_ETM2_Msk
 (0xFFUL << 
TPI_FIFO0_ETM2_Pos
è

	)

962 
	#TPI_FIFO0_ETM1_Pos
 8

	)

963 
	#TPI_FIFO0_ETM1_Msk
 (0xFFUL << 
TPI_FIFO0_ETM1_Pos
è

	)

965 
	#TPI_FIFO0_ETM0_Pos
 0

	)

966 
	#TPI_FIFO0_ETM0_Msk
 (0xFFUL << 
TPI_FIFO0_ETM0_Pos
è

	)

969 
	#TPI_ITATBCTR2_ATREADY_Pos
 0

	)

970 
	#TPI_ITATBCTR2_ATREADY_Msk
 (0x1UL << 
TPI_ITATBCTR2_ATREADY_Pos
è

	)

973 
	#TPI_FIFO1_ITM_ATVALID_Pos
 29

	)

974 
	#TPI_FIFO1_ITM_ATVALID_Msk
 (0x3UL << 
TPI_FIFO1_ITM_ATVALID_Pos
è

	)

976 
	#TPI_FIFO1_ITM_by‹couÁ_Pos
 27

	)

977 
	#TPI_FIFO1_ITM_by‹couÁ_Msk
 (0x3UL << 
TPI_FIFO1_ITM_by‹couÁ_Pos
è

	)

979 
	#TPI_FIFO1_ETM_ATVALID_Pos
 26

	)

980 
	#TPI_FIFO1_ETM_ATVALID_Msk
 (0x3UL << 
TPI_FIFO1_ETM_ATVALID_Pos
è

	)

982 
	#TPI_FIFO1_ETM_by‹couÁ_Pos
 24

	)

983 
	#TPI_FIFO1_ETM_by‹couÁ_Msk
 (0x3UL << 
TPI_FIFO1_ETM_by‹couÁ_Pos
è

	)

985 
	#TPI_FIFO1_ITM2_Pos
 16

	)

986 
	#TPI_FIFO1_ITM2_Msk
 (0xFFUL << 
TPI_FIFO1_ITM2_Pos
è

	)

988 
	#TPI_FIFO1_ITM1_Pos
 8

	)

989 
	#TPI_FIFO1_ITM1_Msk
 (0xFFUL << 
TPI_FIFO1_ITM1_Pos
è

	)

991 
	#TPI_FIFO1_ITM0_Pos
 0

	)

992 
	#TPI_FIFO1_ITM0_Msk
 (0xFFUL << 
TPI_FIFO1_ITM0_Pos
è

	)

995 
	#TPI_ITATBCTR0_ATREADY_Pos
 0

	)

996 
	#TPI_ITATBCTR0_ATREADY_Msk
 (0x1UL << 
TPI_ITATBCTR0_ATREADY_Pos
è

	)

999 
	#TPI_ITCTRL_Mode_Pos
 0

	)

1000 
	#TPI_ITCTRL_Mode_Msk
 (0x1UL << 
TPI_ITCTRL_Mode_Pos
è

	)

1003 
	#TPI_DEVID_NRZVALID_Pos
 11

	)

1004 
	#TPI_DEVID_NRZVALID_Msk
 (0x1UL << 
TPI_DEVID_NRZVALID_Pos
è

	)

1006 
	#TPI_DEVID_MANCVALID_Pos
 10

	)

1007 
	#TPI_DEVID_MANCVALID_Msk
 (0x1UL << 
TPI_DEVID_MANCVALID_Pos
è

	)

1009 
	#TPI_DEVID_PTINVALID_Pos
 9

	)

1010 
	#TPI_DEVID_PTINVALID_Msk
 (0x1UL << 
TPI_DEVID_PTINVALID_Pos
è

	)

1012 
	#TPI_DEVID_MšBufSz_Pos
 6

	)

1013 
	#TPI_DEVID_MšBufSz_Msk
 (0x7UL << 
TPI_DEVID_MšBufSz_Pos
è

	)

1015 
	#TPI_DEVID_AsynClkIn_Pos
 5

	)

1016 
	#TPI_DEVID_AsynClkIn_Msk
 (0x1UL << 
TPI_DEVID_AsynClkIn_Pos
è

	)

1018 
	#TPI_DEVID_NrT¿ûIÅut_Pos
 0

	)

1019 
	#TPI_DEVID_NrT¿ûIÅut_Msk
 (0x1FUL << 
TPI_DEVID_NrT¿ûIÅut_Pos
è

	)

1022 
	#TPI_DEVTYPE_SubTy³_Pos
 0

	)

1023 
	#TPI_DEVTYPE_SubTy³_Msk
 (0xFUL << 
TPI_DEVTYPE_SubTy³_Pos
è

	)

1025 
	#TPI_DEVTYPE_MajÜTy³_Pos
 4

	)

1026 
	#TPI_DEVTYPE_MajÜTy³_Msk
 (0xFUL << 
TPI_DEVTYPE_MajÜTy³_Pos
è

	)

1031 #ià(
__MPU_PRESENT
 == 1)

1042 
__I
 
ušt32_t
 
	mTYPE
;

1043 
__IO
 
ušt32_t
 
	mCTRL
;

1044 
__IO
 
ušt32_t
 
	mRNR
;

1045 
__IO
 
ušt32_t
 
	mRBAR
;

1046 
__IO
 
ušt32_t
 
	mRASR
;

1047 
__IO
 
ušt32_t
 
	mRBAR_A1
;

1048 
__IO
 
ušt32_t
 
	mRASR_A1
;

1049 
__IO
 
ušt32_t
 
	mRBAR_A2
;

1050 
__IO
 
ušt32_t
 
	mRASR_A2
;

1051 
__IO
 
ušt32_t
 
	mRBAR_A3
;

1052 
__IO
 
ušt32_t
 
	mRASR_A3
;

1053 } 
	tMPU_Ty³
;

1056 
	#MPU_TYPE_IREGION_Pos
 16

	)

1057 
	#MPU_TYPE_IREGION_Msk
 (0xFFUL << 
MPU_TYPE_IREGION_Pos
è

	)

1059 
	#MPU_TYPE_DREGION_Pos
 8

	)

1060 
	#MPU_TYPE_DREGION_Msk
 (0xFFUL << 
MPU_TYPE_DREGION_Pos
è

	)

1062 
	#MPU_TYPE_SEPARATE_Pos
 0

	)

1063 
	#MPU_TYPE_SEPARATE_Msk
 (1UL << 
MPU_TYPE_SEPARATE_Pos
è

	)

1066 
	#MPU_CTRL_PRIVDEFENA_Pos
 2

	)

1067 
	#MPU_CTRL_PRIVDEFENA_Msk
 (1UL << 
MPU_CTRL_PRIVDEFENA_Pos
è

	)

1069 
	#MPU_CTRL_HFNMIENA_Pos
 1

	)

1070 
	#MPU_CTRL_HFNMIENA_Msk
 (1UL << 
MPU_CTRL_HFNMIENA_Pos
è

	)

1072 
	#MPU_CTRL_ENABLE_Pos
 0

	)

1073 
	#MPU_CTRL_ENABLE_Msk
 (1UL << 
MPU_CTRL_ENABLE_Pos
è

	)

1076 
	#MPU_RNR_REGION_Pos
 0

	)

1077 
	#MPU_RNR_REGION_Msk
 (0xFFUL << 
MPU_RNR_REGION_Pos
è

	)

1080 
	#MPU_RBAR_ADDR_Pos
 5

	)

1081 
	#MPU_RBAR_ADDR_Msk
 (0x7FFFFFFUL << 
MPU_RBAR_ADDR_Pos
è

	)

1083 
	#MPU_RBAR_VALID_Pos
 4

	)

1084 
	#MPU_RBAR_VALID_Msk
 (1UL << 
MPU_RBAR_VALID_Pos
è

	)

1086 
	#MPU_RBAR_REGION_Pos
 0

	)

1087 
	#MPU_RBAR_REGION_Msk
 (0xFUL << 
MPU_RBAR_REGION_Pos
è

	)

1090 
	#MPU_RASR_ATTRS_Pos
 16

	)

1091 
	#MPU_RASR_ATTRS_Msk
 (0xFFFFUL << 
MPU_RASR_ATTRS_Pos
è

	)

1093 
	#MPU_RASR_XN_Pos
 28

	)

1094 
	#MPU_RASR_XN_Msk
 (1UL << 
MPU_RASR_XN_Pos
è

	)

1096 
	#MPU_RASR_AP_Pos
 24

	)

1097 
	#MPU_RASR_AP_Msk
 (0x7UL << 
MPU_RASR_AP_Pos
è

	)

1099 
	#MPU_RASR_TEX_Pos
 19

	)

1100 
	#MPU_RASR_TEX_Msk
 (0x7UL << 
MPU_RASR_TEX_Pos
è

	)

1102 
	#MPU_RASR_S_Pos
 18

	)

1103 
	#MPU_RASR_S_Msk
 (1UL << 
MPU_RASR_S_Pos
è

	)

1105 
	#MPU_RASR_C_Pos
 17

	)

1106 
	#MPU_RASR_C_Msk
 (1UL << 
MPU_RASR_C_Pos
è

	)

1108 
	#MPU_RASR_B_Pos
 16

	)

1109 
	#MPU_RASR_B_Msk
 (1UL << 
MPU_RASR_B_Pos
è

	)

1111 
	#MPU_RASR_SRD_Pos
 8

	)

1112 
	#MPU_RASR_SRD_Msk
 (0xFFUL << 
MPU_RASR_SRD_Pos
è

	)

1114 
	#MPU_RASR_SIZE_Pos
 1

	)

1115 
	#MPU_RASR_SIZE_Msk
 (0x1FUL << 
MPU_RASR_SIZE_Pos
è

	)

1117 
	#MPU_RASR_ENABLE_Pos
 0

	)

1118 
	#MPU_RASR_ENABLE_Msk
 (1UL << 
MPU_RASR_ENABLE_Pos
è

	)

1134 
__IO
 
ušt32_t
 
	mDHCSR
;

1135 
__O
 
ušt32_t
 
	mDCRSR
;

1136 
__IO
 
ušt32_t
 
	mDCRDR
;

1137 
__IO
 
ušt32_t
 
	mDEMCR
;

1138 } 
	tCÜeDebug_Ty³
;

1141 
	#CÜeDebug_DHCSR_DBGKEY_Pos
 16

	)

1142 
	#CÜeDebug_DHCSR_DBGKEY_Msk
 (0xFFFFUL << 
CÜeDebug_DHCSR_DBGKEY_Pos
è

	)

1144 
	#CÜeDebug_DHCSR_S_RESET_ST_Pos
 25

	)

1145 
	#CÜeDebug_DHCSR_S_RESET_ST_Msk
 (1UL << 
CÜeDebug_DHCSR_S_RESET_ST_Pos
è

	)

1147 
	#CÜeDebug_DHCSR_S_RETIRE_ST_Pos
 24

	)

1148 
	#CÜeDebug_DHCSR_S_RETIRE_ST_Msk
 (1UL << 
CÜeDebug_DHCSR_S_RETIRE_ST_Pos
è

	)

1150 
	#CÜeDebug_DHCSR_S_LOCKUP_Pos
 19

	)

1151 
	#CÜeDebug_DHCSR_S_LOCKUP_Msk
 (1UL << 
CÜeDebug_DHCSR_S_LOCKUP_Pos
è

	)

1153 
	#CÜeDebug_DHCSR_S_SLEEP_Pos
 18

	)

1154 
	#CÜeDebug_DHCSR_S_SLEEP_Msk
 (1UL << 
CÜeDebug_DHCSR_S_SLEEP_Pos
è

	)

1156 
	#CÜeDebug_DHCSR_S_HALT_Pos
 17

	)

1157 
	#CÜeDebug_DHCSR_S_HALT_Msk
 (1UL << 
CÜeDebug_DHCSR_S_HALT_Pos
è

	)

1159 
	#CÜeDebug_DHCSR_S_REGRDY_Pos
 16

	)

1160 
	#CÜeDebug_DHCSR_S_REGRDY_Msk
 (1UL << 
CÜeDebug_DHCSR_S_REGRDY_Pos
è

	)

1162 
	#CÜeDebug_DHCSR_C_SNAPSTALL_Pos
 5

	)

1163 
	#CÜeDebug_DHCSR_C_SNAPSTALL_Msk
 (1UL << 
CÜeDebug_DHCSR_C_SNAPSTALL_Pos
è

	)

1165 
	#CÜeDebug_DHCSR_C_MASKINTS_Pos
 3

	)

1166 
	#CÜeDebug_DHCSR_C_MASKINTS_Msk
 (1UL << 
CÜeDebug_DHCSR_C_MASKINTS_Pos
è

	)

1168 
	#CÜeDebug_DHCSR_C_STEP_Pos
 2

	)

1169 
	#CÜeDebug_DHCSR_C_STEP_Msk
 (1UL << 
CÜeDebug_DHCSR_C_STEP_Pos
è

	)

1171 
	#CÜeDebug_DHCSR_C_HALT_Pos
 1

	)

1172 
	#CÜeDebug_DHCSR_C_HALT_Msk
 (1UL << 
CÜeDebug_DHCSR_C_HALT_Pos
è

	)

1174 
	#CÜeDebug_DHCSR_C_DEBUGEN_Pos
 0

	)

1175 
	#CÜeDebug_DHCSR_C_DEBUGEN_Msk
 (1UL << 
CÜeDebug_DHCSR_C_DEBUGEN_Pos
è

	)

1178 
	#CÜeDebug_DCRSR_REGWnR_Pos
 16

	)

1179 
	#CÜeDebug_DCRSR_REGWnR_Msk
 (1UL << 
CÜeDebug_DCRSR_REGWnR_Pos
è

	)

1181 
	#CÜeDebug_DCRSR_REGSEL_Pos
 0

	)

1182 
	#CÜeDebug_DCRSR_REGSEL_Msk
 (0x1FUL << 
CÜeDebug_DCRSR_REGSEL_Pos
è

	)

1185 
	#CÜeDebug_DEMCR_TRCENA_Pos
 24

	)

1186 
	#CÜeDebug_DEMCR_TRCENA_Msk
 (1UL << 
CÜeDebug_DEMCR_TRCENA_Pos
è

	)

1188 
	#CÜeDebug_DEMCR_MON_REQ_Pos
 19

	)

1189 
	#CÜeDebug_DEMCR_MON_REQ_Msk
 (1UL << 
CÜeDebug_DEMCR_MON_REQ_Pos
è

	)

1191 
	#CÜeDebug_DEMCR_MON_STEP_Pos
 18

	)

1192 
	#CÜeDebug_DEMCR_MON_STEP_Msk
 (1UL << 
CÜeDebug_DEMCR_MON_STEP_Pos
è

	)

1194 
	#CÜeDebug_DEMCR_MON_PEND_Pos
 17

	)

1195 
	#CÜeDebug_DEMCR_MON_PEND_Msk
 (1UL << 
CÜeDebug_DEMCR_MON_PEND_Pos
è

	)

1197 
	#CÜeDebug_DEMCR_MON_EN_Pos
 16

	)

1198 
	#CÜeDebug_DEMCR_MON_EN_Msk
 (1UL << 
CÜeDebug_DEMCR_MON_EN_Pos
è

	)

1200 
	#CÜeDebug_DEMCR_VC_HARDERR_Pos
 10

	)

1201 
	#CÜeDebug_DEMCR_VC_HARDERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_HARDERR_Pos
è

	)

1203 
	#CÜeDebug_DEMCR_VC_INTERR_Pos
 9

	)

1204 
	#CÜeDebug_DEMCR_VC_INTERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_INTERR_Pos
è

	)

1206 
	#CÜeDebug_DEMCR_VC_BUSERR_Pos
 8

	)

1207 
	#CÜeDebug_DEMCR_VC_BUSERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_BUSERR_Pos
è

	)

1209 
	#CÜeDebug_DEMCR_VC_STATERR_Pos
 7

	)

1210 
	#CÜeDebug_DEMCR_VC_STATERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_STATERR_Pos
è

	)

1212 
	#CÜeDebug_DEMCR_VC_CHKERR_Pos
 6

	)

1213 
	#CÜeDebug_DEMCR_VC_CHKERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_CHKERR_Pos
è

	)

1215 
	#CÜeDebug_DEMCR_VC_NOCPERR_Pos
 5

	)

1216 
	#CÜeDebug_DEMCR_VC_NOCPERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_NOCPERR_Pos
è

	)

1218 
	#CÜeDebug_DEMCR_VC_MMERR_Pos
 4

	)

1219 
	#CÜeDebug_DEMCR_VC_MMERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_MMERR_Pos
è

	)

1221 
	#CÜeDebug_DEMCR_VC_CORERESET_Pos
 0

	)

1222 
	#CÜeDebug_DEMCR_VC_CORERESET_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_CORERESET_Pos
è

	)

1234 
	#SCS_BASE
 (0xE000E000ULè

	)

1235 
	#ITM_BASE
 (0xE0000000ULè

	)

1236 
	#DWT_BASE
 (0xE0001000ULè

	)

1237 
	#TPI_BASE
 (0xE0040000ULè

	)

1238 
	#CÜeDebug_BASE
 (0xE000EDF0ULè

	)

1239 
	#SysTick_BASE
 (
SCS_BASE
 + 0x0010ULè

	)

1240 
	#NVIC_BASE
 (
SCS_BASE
 + 0x0100ULè

	)

1241 
	#SCB_BASE
 (
SCS_BASE
 + 0x0D00ULè

	)

1243 
	#SCnSCB
 ((
SCnSCB_Ty³
 *è
SCS_BASE
 )

	)

1244 
	#SCB
 ((
SCB_Ty³
 *è
SCB_BASE
 )

	)

1245 
	#SysTick
 ((
SysTick_Ty³
 *è
SysTick_BASE
 )

	)

1246 
	#NVIC
 ((
NVIC_Ty³
 *è
NVIC_BASE
 )

	)

1247 
	#ITM
 ((
ITM_Ty³
 *è
ITM_BASE
 )

	)

1248 
	#DWT
 ((
DWT_Ty³
 *è
DWT_BASE
 )

	)

1249 
	#TPI
 ((
TPI_Ty³
 *è
TPI_BASE
 )

	)

1250 
	#CÜeDebug
 ((
CÜeDebug_Ty³
 *è
CÜeDebug_BASE
è

	)

1252 #ià(
__MPU_PRESENT
 == 1)

1253 
	#MPU_BASE
 (
SCS_BASE
 + 0x0D90ULè

	)

1254 
	#MPU
 ((
MPU_Ty³
 *è
MPU_BASE
 )

	)

1291 
__STATIC_INLINE
 
	$NVIC_S‘PriÜ™yGroupšg
(
ušt32_t
 
PriÜ™yGroup
)

1293 
ušt32_t
 
»g_v®ue
;

1294 
ušt32_t
 
PriÜ™yGroupTmp
 = (
PriÜ™yGroup
 & (uint32_t)0x07);

1296 
»g_v®ue
 = 
SCB
->
AIRCR
;

1297 
»g_v®ue
 &ğ~(
SCB_AIRCR_VECTKEY_Msk
 | 
SCB_AIRCR_PRIGROUP_Msk
);

1298 
»g_v®ue
 = (reg_value |

1299 ((
ušt32_t
)0x5FA << 
SCB_AIRCR_VECTKEY_Pos
) |

1300 (
PriÜ™yGroupTmp
 << 8));

1301 
SCB
->
AIRCR
 = 
»g_v®ue
;

1302 
	}
}

1311 
__STATIC_INLINE
 
ušt32_t
 
	$NVIC_G‘PriÜ™yGroupšg
()

1313  ((
SCB
->
AIRCR
 & 
SCB_AIRCR_PRIGROUP_Msk
è>> 
SCB_AIRCR_PRIGROUP_Pos
);

1314 
	}
}

1323 
__STATIC_INLINE
 
	$NVIC_EÇbËIRQ
(
IRQn_Ty³
 
IRQn
)

1325 
NVIC
->
ISER
[((
ušt32_t
)(
IRQn
) >> 5)] = (1 << ((uint32_t)(IRQn) & 0x1F));

1326 
	}
}

1335 
__STATIC_INLINE
 
	$NVIC_Di§bËIRQ
(
IRQn_Ty³
 
IRQn
)

1337 
NVIC
->
ICER
[((
ušt32_t
)(
IRQn
) >> 5)] = (1 << ((uint32_t)(IRQn) & 0x1F));

1338 
	}
}

1351 
__STATIC_INLINE
 
ušt32_t
 
	$NVIC_G‘P’dšgIRQ
(
IRQn_Ty³
 
IRQn
)

1353 ((
ušt32_t
è((
NVIC
->
ISPR
[(ušt32_t)(
IRQn
) >> 5] & (1 << ((uint32_t)(IRQn) & 0x1F)))?1:0));

1354 
	}
}

1363 
__STATIC_INLINE
 
	$NVIC_S‘P’dšgIRQ
(
IRQn_Ty³
 
IRQn
)

1365 
NVIC
->
ISPR
[((
ušt32_t
)(
IRQn
) >> 5)] = (1 << ((uint32_t)(IRQn) & 0x1F));

1366 
	}
}

1375 
__STATIC_INLINE
 
	$NVIC_CË¬P’dšgIRQ
(
IRQn_Ty³
 
IRQn
)

1377 
NVIC
->
ICPR
[((
ušt32_t
)(
IRQn
) >> 5)] = (1 << ((uint32_t)(IRQn) & 0x1F));

1378 
	}
}

1390 
__STATIC_INLINE
 
ušt32_t
 
	$NVIC_G‘Aùive
(
IRQn_Ty³
 
IRQn
)

1392 ((
ušt32_t
)((
NVIC
->
IABR
[(ušt32_t)(
IRQn
) >> 5] & (1 << ((uint32_t)(IRQn) & 0x1F)))?1:0));

1393 
	}
}

1405 
__STATIC_INLINE
 
	$NVIC_S‘PriÜ™y
(
IRQn_Ty³
 
IRQn
, 
ušt32_t
 
´iÜ™y
)

1407 if(
IRQn
 < 0) {

1408 
SCB
->
SHP
[((
ušt32_t
)(
IRQn
è& 0xF)-4] = ((
´iÜ™y
 << (8 - 
__NVIC_PRIO_BITS
)) & 0xff); }

1410 
NVIC
->
IP
[(
ušt32_t
)(
IRQn
)] = ((
´iÜ™y
 << (8 - 
__NVIC_PRIO_BITS
)) & 0xff); }

1411 
	}
}

1425 
__STATIC_INLINE
 
ušt32_t
 
	$NVIC_G‘PriÜ™y
(
IRQn_Ty³
 
IRQn
)

1428 if(
IRQn
 < 0) {

1429 ((
ušt32_t
)(
SCB
->
SHP
[((ušt32_t)(
IRQn
è& 0xF)-4] >> (8 - 
__NVIC_PRIO_BITS
))); }

1431 ((
ušt32_t
)(
NVIC
->
IP
[(ušt32_t)(
IRQn
)] >> (8 - 
__NVIC_PRIO_BITS
))); }

1432 
	}
}

1447 
__STATIC_INLINE
 
ušt32_t
 
	$NVIC_EncodePriÜ™y
 (
ušt32_t
 
PriÜ™yGroup
, ušt32_ˆ
P»em±PriÜ™y
, ušt32_ˆ
SubPriÜ™y
)

1449 
ušt32_t
 
PriÜ™yGroupTmp
 = (
PriÜ™yGroup
 & 0x07);

1450 
ušt32_t
 
P»em±PriÜ™yB™s
;

1451 
ušt32_t
 
SubPriÜ™yB™s
;

1453 
P»em±PriÜ™yB™s
 = ((7 - 
PriÜ™yGroupTmp
è> 
__NVIC_PRIO_BITS
) ? __NVIC_PRIO_BITS : 7 - PriorityGroupTmp;

1454 
SubPriÜ™yB™s
 = ((
PriÜ™yGroupTmp
 + 
__NVIC_PRIO_BITS
) < 7) ? 0 : PriorityGroupTmp - 7 + __NVIC_PRIO_BITS;

1457 ((
P»em±PriÜ™y
 & ((1 << (
P»em±PriÜ™yB™s
)è- 1)è<< 
SubPriÜ™yB™s
) |

1458 ((
SubPriÜ™y
 & ((1 << (
SubPriÜ™yB™s
 )) - 1)))

1460 
	}
}

1475 
__STATIC_INLINE
 
	$NVIC_DecodePriÜ™y
 (
ušt32_t
 
PriÜ™y
, ušt32_ˆ
PriÜ™yGroup
, ušt32_t* 
pP»em±PriÜ™y
, ušt32_t* 
pSubPriÜ™y
)

1477 
ušt32_t
 
PriÜ™yGroupTmp
 = (
PriÜ™yGroup
 & 0x07);

1478 
ušt32_t
 
P»em±PriÜ™yB™s
;

1479 
ušt32_t
 
SubPriÜ™yB™s
;

1481 
P»em±PriÜ™yB™s
 = ((7 - 
PriÜ™yGroupTmp
è> 
__NVIC_PRIO_BITS
) ? __NVIC_PRIO_BITS : 7 - PriorityGroupTmp;

1482 
SubPriÜ™yB™s
 = ((
PriÜ™yGroupTmp
 + 
__NVIC_PRIO_BITS
) < 7) ? 0 : PriorityGroupTmp - 7 + __NVIC_PRIO_BITS;

1484 *
pP»em±PriÜ™y
 = (
PriÜ™y
 >> 
SubPriÜ™yB™s
è& ((1 << (
P»em±PriÜ™yB™s
)) - 1);

1485 *
pSubPriÜ™y
 = (
PriÜ™y
 ) & ((1 << (
SubPriÜ™yB™s
 )) - 1);

1486 
	}
}

1493 
__STATIC_INLINE
 
	$NVIC_Sy¡emRe£t
()

1495 
	`__DSB
();

1497 
SCB
->
AIRCR
 = ((0x5FA << 
SCB_AIRCR_VECTKEY_Pos
) |

1498 (
SCB
->
AIRCR
 & 
SCB_AIRCR_PRIGROUP_Msk
) |

1499 
SCB_AIRCR_SYSRESETREQ_Msk
);

1500 
	`__DSB
();

1502 
	}
}

1515 #ià(
__V’dÜ_SysTickCÚfig
 == 0)

1532 
__STATIC_INLINE
 
ušt32_t
 
	$SysTick_CÚfig
(
ušt32_t
 
ticks
)

1534 ià((
ticks
 - 1è> 
SysTick_LOAD_RELOAD_Msk
)  (1);

1536 
SysTick
->
LOAD
 = 
ticks
 - 1;

1537 
	`NVIC_S‘PriÜ™y
 (
SysTick_IRQn
, (1<<
__NVIC_PRIO_BITS
) - 1);

1538 
SysTick
->
VAL
 = 0;

1539 
SysTick
->
CTRL
 = 
SysTick_CTRL_CLKSOURCE_Msk
 |

1540 
SysTick_CTRL_TICKINT_Msk
 |

1541 
SysTick_CTRL_ENABLE_Msk
;

1543 
	}
}

1558 vŞ©
št32_t
 
ITM_RxBufãr
;

1559 
	#ITM_RXBUFFER_EMPTY
 0x5AA55AA5

	)

1572 
__STATIC_INLINE
 
ušt32_t
 
	$ITM_S’dCh¬
 (
ušt32_t
 
ch
)

1574 ià((
ITM
->
TCR
 & 
ITM_TCR_ITMENA_Msk
) &&

1575 (
ITM
->
TER
 & (1UL << 0) ) )

1577 
ITM
->
PORT
[0].
u32
 == 0);

1578 
ITM
->
PORT
[0].
u8
 = (
ušt8_t
è
ch
;

1580  (
ch
);

1581 
	}
}

1591 
__STATIC_INLINE
 
št32_t
 
	$ITM_ReûiveCh¬
 () {

1592 
št32_t
 
ch
 = -1;

1594 ià(
ITM_RxBufãr
 !ğ
ITM_RXBUFFER_EMPTY
) {

1595 
ch
 = 
ITM_RxBufãr
;

1596 
ITM_RxBufãr
 = 
ITM_RXBUFFER_EMPTY
;

1599  (
ch
);

1600 
	}
}

1610 
__STATIC_INLINE
 
št32_t
 
	$ITM_CheckCh¬
 () {

1612 ià(
ITM_RxBufãr
 =ğ
ITM_RXBUFFER_EMPTY
) {

1617 
	}
}

1625 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_cm4.h

38 #ià
defšed
 ( 
__ICCARM__
 )

39 #´agm¨
sy¡em_šşude


42 #ifdeà
__ılu¥lus


46 #iâdeà
__CORE_CM4_H_GENERIC


47 
	#__CORE_CM4_H_GENERIC


	)

71 
	#__CM4_CMSIS_VERSION_MAIN
 (0x03è

	)

72 
	#__CM4_CMSIS_VERSION_SUB
 (0x20è

	)

73 
	#__CM4_CMSIS_VERSION
 ((
__CM4_CMSIS_VERSION_MAIN
 << 16) | \

74 
__CM4_CMSIS_VERSION_SUB
 )

	)

76 
	#__CORTEX_M
 (0x04è

	)

79 #ià 
defšed
 ( 
__CC_ARM
 )

80 
	#__ASM
 
__asm


	)

81 
	#__INLINE
 
__šlše


	)

82 
	#__STATIC_INLINE
 
__šlše


	)

84 #–ià
defšed
 ( 
__ICCARM__
 )

85 
	#__ASM
 
__asm


	)

86 
	#__INLINE
 
šlše


	)

87 
	#__STATIC_INLINE
 
šlše


	)

89 #–ià
defšed
 ( 
__TMS470__
 )

90 
	#__ASM
 
__asm


	)

91 
	#__STATIC_INLINE
 
šlše


	)

93 #–ià
defšed
 ( 
__GNUC__
 )

94 
	#__ASM
 
__asm


	)

95 
	#__INLINE
 
šlše


	)

96 
	#__STATIC_INLINE
 
šlše


	)

98 #–ià
defšed
 ( 
__TASKING__
 )

99 
	#__ASM
 
__asm


	)

100 
	#__INLINE
 
šlše


	)

101 
	#__STATIC_INLINE
 
šlše


	)

107 #ià
defšed
 ( 
__CC_ARM
 )

108 #ià
defšed
 
__TARGET_FPU_VFP


109 #ià(
__FPU_PRESENT
 == 1)

110 
	#__FPU_USED
 1

	)

113 
	#__FPU_USED
 0

	)

116 
	#__FPU_USED
 0

	)

119 #–ià
defšed
 ( 
__ICCARM__
 )

120 #ià
defšed
 
__ARMVFP__


121 #ià(
__FPU_PRESENT
 == 1)

122 
	#__FPU_USED
 1

	)

125 
	#__FPU_USED
 0

	)

128 
	#__FPU_USED
 0

	)

131 #–ià
defšed
 ( 
__TMS470__
 )

132 #ià
defšed
 
__TI_VFP_SUPPORT__


133 #ià(
__FPU_PRESENT
 == 1)

134 
	#__FPU_USED
 1

	)

137 
	#__FPU_USED
 0

	)

140 
	#__FPU_USED
 0

	)

143 #–ià
defšed
 ( 
__GNUC__
 )

144 #ià
defšed
 (
__VFP_FP__
è&& !defšed(
__SOFTFP__
)

145 #ià(
__FPU_PRESENT
 == 1)

146 
	#__FPU_USED
 1

	)

149 
	#__FPU_USED
 0

	)

152 
	#__FPU_USED
 0

	)

155 #–ià
defšed
 ( 
__TASKING__
 )

156 #ià
defšed
 
__FPU_VFP__


157 #ià(
__FPU_PRESENT
 == 1)

158 
	#__FPU_USED
 1

	)

161 
	#__FPU_USED
 0

	)

164 
	#__FPU_USED
 0

	)

168 
	~<¡dšt.h
>

169 
	~<cÜe_cmIn¡r.h
>

170 
	~<cÜe_cmFunc.h
>

171 
	~<cÜe_cm4_simd.h
>

175 #iâdeà
__CMSIS_GENERIC


177 #iâdeà
__CORE_CM4_H_DEPENDANT


178 
	#__CORE_CM4_H_DEPENDANT


	)

181 #ià
defšed
 
__CHECK_DEVICE_DEFINES


182 #iâdeà
__CM4_REV


183 
	#__CM4_REV
 0x0000

	)

187 #iâdeà
__FPU_PRESENT


188 
	#__FPU_PRESENT
 0

	)

192 #iâdeà
__MPU_PRESENT


193 
	#__MPU_PRESENT
 0

	)

197 #iâdeà
__NVIC_PRIO_BITS


198 
	#__NVIC_PRIO_BITS
 4

	)

202 #iâdeà
__V’dÜ_SysTickCÚfig


203 
	#__V’dÜ_SysTickCÚfig
 0

	)

216 #ifdeà
__ılu¥lus


217 
	#__I
 vŞ©

	)

219 
	#__I
 vŞ©cÚ¡

	)

221 
	#__O
 vŞ©

	)

222 
	#__IO
 vŞ©

	)

255 #ià(
__CORTEX_M
 != 0x04)

256 
ušt32_t
 
_»£rved0
:27;

258 
ušt32_t
 
_»£rved0
:16;

259 
ušt32_t
 
GE
:4;

260 
ušt32_t
 
_»£rved1
:7;

262 
ušt32_t
 
Q
:1;

263 
ušt32_t
 
V
:1;

264 
ušt32_t
 
C
:1;

265 
ušt32_t
 
Z
:1;

266 
ušt32_t
 
N
:1;

267 } 
b
;

268 
ušt32_t
 
w
;

269 } 
	tAPSR_Ty³
;

278 
ušt32_t
 
ISR
:9;

279 
ušt32_t
 
_»£rved0
:23;

280 } 
b
;

281 
ušt32_t
 
w
;

282 } 
	tIPSR_Ty³
;

291 
ušt32_t
 
ISR
:9;

292 #ià(
__CORTEX_M
 != 0x04)

293 
ušt32_t
 
_»£rved0
:15;

295 
ušt32_t
 
_»£rved0
:7;

296 
ušt32_t
 
GE
:4;

297 
ušt32_t
 
_»£rved1
:4;

299 
ušt32_t
 
T
:1;

300 
ušt32_t
 
IT
:2;

301 
ušt32_t
 
Q
:1;

302 
ušt32_t
 
V
:1;

303 
ušt32_t
 
C
:1;

304 
ušt32_t
 
Z
:1;

305 
ušt32_t
 
N
:1;

306 } 
b
;

307 
ušt32_t
 
w
;

308 } 
	txPSR_Ty³
;

317 
ušt32_t
 
nPRIV
:1;

318 
ušt32_t
 
SPSEL
:1;

319 
ušt32_t
 
FPCA
:1;

320 
ušt32_t
 
_»£rved0
:29;

321 } 
b
;

322 
ušt32_t
 
w
;

323 } 
	tCONTROL_Ty³
;

338 
__IO
 
ušt32_t
 
ISER
[8];

339 
ušt32_t
 
RESERVED0
[24];

340 
__IO
 
ušt32_t
 
ICER
[8];

341 
ušt32_t
 
RSERVED1
[24];

342 
__IO
 
ušt32_t
 
ISPR
[8];

343 
ušt32_t
 
RESERVED2
[24];

344 
__IO
 
ušt32_t
 
ICPR
[8];

345 
ušt32_t
 
RESERVED3
[24];

346 
__IO
 
ušt32_t
 
IABR
[8];

347 
ušt32_t
 
RESERVED4
[56];

348 
__IO
 
ušt8_t
 
IP
[240];

349 
ušt32_t
 
RESERVED5
[644];

350 
__O
 
ušt32_t
 
STIR
;

351 } 
	tNVIC_Ty³
;

354 
	#NVIC_STIR_INTID_Pos
 0

	)

355 
	#NVIC_STIR_INTID_Msk
 (0x1FFUL << 
NVIC_STIR_INTID_Pos
è

	)

370 
__I
 
ušt32_t
 
CPUID
;

371 
__IO
 
ušt32_t
 
ICSR
;

372 
__IO
 
ušt32_t
 
VTOR
;

373 
__IO
 
ušt32_t
 
AIRCR
;

374 
__IO
 
ušt32_t
 
SCR
;

375 
__IO
 
ušt32_t
 
CCR
;

376 
__IO
 
ušt8_t
 
SHP
[12];

377 
__IO
 
ušt32_t
 
SHCSR
;

378 
__IO
 
ušt32_t
 
CFSR
;

379 
__IO
 
ušt32_t
 
HFSR
;

380 
__IO
 
ušt32_t
 
DFSR
;

381 
__IO
 
ušt32_t
 
MMFAR
;

382 
__IO
 
ušt32_t
 
BFAR
;

383 
__IO
 
ušt32_t
 
AFSR
;

384 
__I
 
ušt32_t
 
PFR
[2];

385 
__I
 
ušt32_t
 
DFR
;

386 
__I
 
ušt32_t
 
ADR
;

387 
__I
 
ušt32_t
 
MMFR
[4];

388 
__I
 
ušt32_t
 
ISAR
[5];

389 
ušt32_t
 
RESERVED0
[5];

390 
__IO
 
ušt32_t
 
CPACR
;

391 } 
	tSCB_Ty³
;

394 
	#SCB_CPUID_IMPLEMENTER_Pos
 24

	)

395 
	#SCB_CPUID_IMPLEMENTER_Msk
 (0xFFUL << 
SCB_CPUID_IMPLEMENTER_Pos
è

	)

397 
	#SCB_CPUID_VARIANT_Pos
 20

	)

398 
	#SCB_CPUID_VARIANT_Msk
 (0xFUL << 
SCB_CPUID_VARIANT_Pos
è

	)

400 
	#SCB_CPUID_ARCHITECTURE_Pos
 16

	)

401 
	#SCB_CPUID_ARCHITECTURE_Msk
 (0xFUL << 
SCB_CPUID_ARCHITECTURE_Pos
è

	)

403 
	#SCB_CPUID_PARTNO_Pos
 4

	)

404 
	#SCB_CPUID_PARTNO_Msk
 (0xFFFUL << 
SCB_CPUID_PARTNO_Pos
è

	)

406 
	#SCB_CPUID_REVISION_Pos
 0

	)

407 
	#SCB_CPUID_REVISION_Msk
 (0xFUL << 
SCB_CPUID_REVISION_Pos
è

	)

410 
	#SCB_ICSR_NMIPENDSET_Pos
 31

	)

411 
	#SCB_ICSR_NMIPENDSET_Msk
 (1UL << 
SCB_ICSR_NMIPENDSET_Pos
è

	)

413 
	#SCB_ICSR_PENDSVSET_Pos
 28

	)

414 
	#SCB_ICSR_PENDSVSET_Msk
 (1UL << 
SCB_ICSR_PENDSVSET_Pos
è

	)

416 
	#SCB_ICSR_PENDSVCLR_Pos
 27

	)

417 
	#SCB_ICSR_PENDSVCLR_Msk
 (1UL << 
SCB_ICSR_PENDSVCLR_Pos
è

	)

419 
	#SCB_ICSR_PENDSTSET_Pos
 26

	)

420 
	#SCB_ICSR_PENDSTSET_Msk
 (1UL << 
SCB_ICSR_PENDSTSET_Pos
è

	)

422 
	#SCB_ICSR_PENDSTCLR_Pos
 25

	)

423 
	#SCB_ICSR_PENDSTCLR_Msk
 (1UL << 
SCB_ICSR_PENDSTCLR_Pos
è

	)

425 
	#SCB_ICSR_ISRPREEMPT_Pos
 23

	)

426 
	#SCB_ICSR_ISRPREEMPT_Msk
 (1UL << 
SCB_ICSR_ISRPREEMPT_Pos
è

	)

428 
	#SCB_ICSR_ISRPENDING_Pos
 22

	)

429 
	#SCB_ICSR_ISRPENDING_Msk
 (1UL << 
SCB_ICSR_ISRPENDING_Pos
è

	)

431 
	#SCB_ICSR_VECTPENDING_Pos
 12

	)

432 
	#SCB_ICSR_VECTPENDING_Msk
 (0x1FFUL << 
SCB_ICSR_VECTPENDING_Pos
è

	)

434 
	#SCB_ICSR_RETTOBASE_Pos
 11

	)

435 
	#SCB_ICSR_RETTOBASE_Msk
 (1UL << 
SCB_ICSR_RETTOBASE_Pos
è

	)

437 
	#SCB_ICSR_VECTACTIVE_Pos
 0

	)

438 
	#SCB_ICSR_VECTACTIVE_Msk
 (0x1FFUL << 
SCB_ICSR_VECTACTIVE_Pos
è

	)

441 
	#SCB_VTOR_TBLOFF_Pos
 7

	)

442 
	#SCB_VTOR_TBLOFF_Msk
 (0x1FFFFFFUL << 
SCB_VTOR_TBLOFF_Pos
è

	)

445 
	#SCB_AIRCR_VECTKEY_Pos
 16

	)

446 
	#SCB_AIRCR_VECTKEY_Msk
 (0xFFFFUL << 
SCB_AIRCR_VECTKEY_Pos
è

	)

448 
	#SCB_AIRCR_VECTKEYSTAT_Pos
 16

	)

449 
	#SCB_AIRCR_VECTKEYSTAT_Msk
 (0xFFFFUL << 
SCB_AIRCR_VECTKEYSTAT_Pos
è

	)

451 
	#SCB_AIRCR_ENDIANESS_Pos
 15

	)

452 
	#SCB_AIRCR_ENDIANESS_Msk
 (1UL << 
SCB_AIRCR_ENDIANESS_Pos
è

	)

454 
	#SCB_AIRCR_PRIGROUP_Pos
 8

	)

455 
	#SCB_AIRCR_PRIGROUP_Msk
 (7UL << 
SCB_AIRCR_PRIGROUP_Pos
è

	)

457 
	#SCB_AIRCR_SYSRESETREQ_Pos
 2

	)

458 
	#SCB_AIRCR_SYSRESETREQ_Msk
 (1UL << 
SCB_AIRCR_SYSRESETREQ_Pos
è

	)

460 
	#SCB_AIRCR_VECTCLRACTIVE_Pos
 1

	)

461 
	#SCB_AIRCR_VECTCLRACTIVE_Msk
 (1UL << 
SCB_AIRCR_VECTCLRACTIVE_Pos
è

	)

463 
	#SCB_AIRCR_VECTRESET_Pos
 0

	)

464 
	#SCB_AIRCR_VECTRESET_Msk
 (1UL << 
SCB_AIRCR_VECTRESET_Pos
è

	)

467 
	#SCB_SCR_SEVONPEND_Pos
 4

	)

468 
	#SCB_SCR_SEVONPEND_Msk
 (1UL << 
SCB_SCR_SEVONPEND_Pos
è

	)

470 
	#SCB_SCR_SLEEPDEEP_Pos
 2

	)

471 
	#SCB_SCR_SLEEPDEEP_Msk
 (1UL << 
SCB_SCR_SLEEPDEEP_Pos
è

	)

473 
	#SCB_SCR_SLEEPONEXIT_Pos
 1

	)

474 
	#SCB_SCR_SLEEPONEXIT_Msk
 (1UL << 
SCB_SCR_SLEEPONEXIT_Pos
è

	)

477 
	#SCB_CCR_STKALIGN_Pos
 9

	)

478 
	#SCB_CCR_STKALIGN_Msk
 (1UL << 
SCB_CCR_STKALIGN_Pos
è

	)

480 
	#SCB_CCR_BFHFNMIGN_Pos
 8

	)

481 
	#SCB_CCR_BFHFNMIGN_Msk
 (1UL << 
SCB_CCR_BFHFNMIGN_Pos
è

	)

483 
	#SCB_CCR_DIV_0_TRP_Pos
 4

	)

484 
	#SCB_CCR_DIV_0_TRP_Msk
 (1UL << 
SCB_CCR_DIV_0_TRP_Pos
è

	)

486 
	#SCB_CCR_UNALIGN_TRP_Pos
 3

	)

487 
	#SCB_CCR_UNALIGN_TRP_Msk
 (1UL << 
SCB_CCR_UNALIGN_TRP_Pos
è

	)

489 
	#SCB_CCR_USERSETMPEND_Pos
 1

	)

490 
	#SCB_CCR_USERSETMPEND_Msk
 (1UL << 
SCB_CCR_USERSETMPEND_Pos
è

	)

492 
	#SCB_CCR_NONBASETHRDENA_Pos
 0

	)

493 
	#SCB_CCR_NONBASETHRDENA_Msk
 (1UL << 
SCB_CCR_NONBASETHRDENA_Pos
è

	)

496 
	#SCB_SHCSR_USGFAULTENA_Pos
 18

	)

497 
	#SCB_SHCSR_USGFAULTENA_Msk
 (1UL << 
SCB_SHCSR_USGFAULTENA_Pos
è

	)

499 
	#SCB_SHCSR_BUSFAULTENA_Pos
 17

	)

500 
	#SCB_SHCSR_BUSFAULTENA_Msk
 (1UL << 
SCB_SHCSR_BUSFAULTENA_Pos
è

	)

502 
	#SCB_SHCSR_MEMFAULTENA_Pos
 16

	)

503 
	#SCB_SHCSR_MEMFAULTENA_Msk
 (1UL << 
SCB_SHCSR_MEMFAULTENA_Pos
è

	)

505 
	#SCB_SHCSR_SVCALLPENDED_Pos
 15

	)

506 
	#SCB_SHCSR_SVCALLPENDED_Msk
 (1UL << 
SCB_SHCSR_SVCALLPENDED_Pos
è

	)

508 
	#SCB_SHCSR_BUSFAULTPENDED_Pos
 14

	)

509 
	#SCB_SHCSR_BUSFAULTPENDED_Msk
 (1UL << 
SCB_SHCSR_BUSFAULTPENDED_Pos
è

	)

511 
	#SCB_SHCSR_MEMFAULTPENDED_Pos
 13

	)

512 
	#SCB_SHCSR_MEMFAULTPENDED_Msk
 (1UL << 
SCB_SHCSR_MEMFAULTPENDED_Pos
è

	)

514 
	#SCB_SHCSR_USGFAULTPENDED_Pos
 12

	)

515 
	#SCB_SHCSR_USGFAULTPENDED_Msk
 (1UL << 
SCB_SHCSR_USGFAULTPENDED_Pos
è

	)

517 
	#SCB_SHCSR_SYSTICKACT_Pos
 11

	)

518 
	#SCB_SHCSR_SYSTICKACT_Msk
 (1UL << 
SCB_SHCSR_SYSTICKACT_Pos
è

	)

520 
	#SCB_SHCSR_PENDSVACT_Pos
 10

	)

521 
	#SCB_SHCSR_PENDSVACT_Msk
 (1UL << 
SCB_SHCSR_PENDSVACT_Pos
è

	)

523 
	#SCB_SHCSR_MONITORACT_Pos
 8

	)

524 
	#SCB_SHCSR_MONITORACT_Msk
 (1UL << 
SCB_SHCSR_MONITORACT_Pos
è

	)

526 
	#SCB_SHCSR_SVCALLACT_Pos
 7

	)

527 
	#SCB_SHCSR_SVCALLACT_Msk
 (1UL << 
SCB_SHCSR_SVCALLACT_Pos
è

	)

529 
	#SCB_SHCSR_USGFAULTACT_Pos
 3

	)

530 
	#SCB_SHCSR_USGFAULTACT_Msk
 (1UL << 
SCB_SHCSR_USGFAULTACT_Pos
è

	)

532 
	#SCB_SHCSR_BUSFAULTACT_Pos
 1

	)

533 
	#SCB_SHCSR_BUSFAULTACT_Msk
 (1UL << 
SCB_SHCSR_BUSFAULTACT_Pos
è

	)

535 
	#SCB_SHCSR_MEMFAULTACT_Pos
 0

	)

536 
	#SCB_SHCSR_MEMFAULTACT_Msk
 (1UL << 
SCB_SHCSR_MEMFAULTACT_Pos
è

	)

539 
	#SCB_CFSR_USGFAULTSR_Pos
 16

	)

540 
	#SCB_CFSR_USGFAULTSR_Msk
 (0xFFFFUL << 
SCB_CFSR_USGFAULTSR_Pos
è

	)

542 
	#SCB_CFSR_BUSFAULTSR_Pos
 8

	)

543 
	#SCB_CFSR_BUSFAULTSR_Msk
 (0xFFUL << 
SCB_CFSR_BUSFAULTSR_Pos
è

	)

545 
	#SCB_CFSR_MEMFAULTSR_Pos
 0

	)

546 
	#SCB_CFSR_MEMFAULTSR_Msk
 (0xFFUL << 
SCB_CFSR_MEMFAULTSR_Pos
è

	)

549 
	#SCB_HFSR_DEBUGEVT_Pos
 31

	)

550 
	#SCB_HFSR_DEBUGEVT_Msk
 (1UL << 
SCB_HFSR_DEBUGEVT_Pos
è

	)

552 
	#SCB_HFSR_FORCED_Pos
 30

	)

553 
	#SCB_HFSR_FORCED_Msk
 (1UL << 
SCB_HFSR_FORCED_Pos
è

	)

555 
	#SCB_HFSR_VECTTBL_Pos
 1

	)

556 
	#SCB_HFSR_VECTTBL_Msk
 (1UL << 
SCB_HFSR_VECTTBL_Pos
è

	)

559 
	#SCB_DFSR_EXTERNAL_Pos
 4

	)

560 
	#SCB_DFSR_EXTERNAL_Msk
 (1UL << 
SCB_DFSR_EXTERNAL_Pos
è

	)

562 
	#SCB_DFSR_VCATCH_Pos
 3

	)

563 
	#SCB_DFSR_VCATCH_Msk
 (1UL << 
SCB_DFSR_VCATCH_Pos
è

	)

565 
	#SCB_DFSR_DWTTRAP_Pos
 2

	)

566 
	#SCB_DFSR_DWTTRAP_Msk
 (1UL << 
SCB_DFSR_DWTTRAP_Pos
è

	)

568 
	#SCB_DFSR_BKPT_Pos
 1

	)

569 
	#SCB_DFSR_BKPT_Msk
 (1UL << 
SCB_DFSR_BKPT_Pos
è

	)

571 
	#SCB_DFSR_HALTED_Pos
 0

	)

572 
	#SCB_DFSR_HALTED_Msk
 (1UL << 
SCB_DFSR_HALTED_Pos
è

	)

587 
ušt32_t
 
RESERVED0
[1];

588 
__I
 
ušt32_t
 
ICTR
;

589 
__IO
 
ušt32_t
 
ACTLR
;

590 } 
	tSCnSCB_Ty³
;

593 
	#SCnSCB_ICTR_INTLINESNUM_Pos
 0

	)

594 
	#SCnSCB_ICTR_INTLINESNUM_Msk
 (0xFUL << 
SCnSCB_ICTR_INTLINESNUM_Pos
è

	)

597 
	#SCnSCB_ACTLR_DISOOFP_Pos
 9

	)

598 
	#SCnSCB_ACTLR_DISOOFP_Msk
 (1UL << 
SCnSCB_ACTLR_DISOOFP_Pos
è

	)

600 
	#SCnSCB_ACTLR_DISFPCA_Pos
 8

	)

601 
	#SCnSCB_ACTLR_DISFPCA_Msk
 (1UL << 
SCnSCB_ACTLR_DISFPCA_Pos
è

	)

603 
	#SCnSCB_ACTLR_DISFOLD_Pos
 2

	)

604 
	#SCnSCB_ACTLR_DISFOLD_Msk
 (1UL << 
SCnSCB_ACTLR_DISFOLD_Pos
è

	)

606 
	#SCnSCB_ACTLR_DISDEFWBUF_Pos
 1

	)

607 
	#SCnSCB_ACTLR_DISDEFWBUF_Msk
 (1UL << 
SCnSCB_ACTLR_DISDEFWBUF_Pos
è

	)

609 
	#SCnSCB_ACTLR_DISMCYCINT_Pos
 0

	)

610 
	#SCnSCB_ACTLR_DISMCYCINT_Msk
 (1UL << 
SCnSCB_ACTLR_DISMCYCINT_Pos
è

	)

625 
__IO
 
ušt32_t
 
CTRL
;

626 
__IO
 
ušt32_t
 
LOAD
;

627 
__IO
 
ušt32_t
 
VAL
;

628 
__I
 
ušt32_t
 
CALIB
;

629 } 
	tSysTick_Ty³
;

632 
	#SysTick_CTRL_COUNTFLAG_Pos
 16

	)

633 
	#SysTick_CTRL_COUNTFLAG_Msk
 (1UL << 
SysTick_CTRL_COUNTFLAG_Pos
è

	)

635 
	#SysTick_CTRL_CLKSOURCE_Pos
 2

	)

636 
	#SysTick_CTRL_CLKSOURCE_Msk
 (1UL << 
SysTick_CTRL_CLKSOURCE_Pos
è

	)

638 
	#SysTick_CTRL_TICKINT_Pos
 1

	)

639 
	#SysTick_CTRL_TICKINT_Msk
 (1UL << 
SysTick_CTRL_TICKINT_Pos
è

	)

641 
	#SysTick_CTRL_ENABLE_Pos
 0

	)

642 
	#SysTick_CTRL_ENABLE_Msk
 (1UL << 
SysTick_CTRL_ENABLE_Pos
è

	)

645 
	#SysTick_LOAD_RELOAD_Pos
 0

	)

646 
	#SysTick_LOAD_RELOAD_Msk
 (0xFFFFFFUL << 
SysTick_LOAD_RELOAD_Pos
è

	)

649 
	#SysTick_VAL_CURRENT_Pos
 0

	)

650 
	#SysTick_VAL_CURRENT_Msk
 (0xFFFFFFUL << 
SysTick_VAL_CURRENT_Pos
è

	)

653 
	#SysTick_CALIB_NOREF_Pos
 31

	)

654 
	#SysTick_CALIB_NOREF_Msk
 (1UL << 
SysTick_CALIB_NOREF_Pos
è

	)

656 
	#SysTick_CALIB_SKEW_Pos
 30

	)

657 
	#SysTick_CALIB_SKEW_Msk
 (1UL << 
SysTick_CALIB_SKEW_Pos
è

	)

659 
	#SysTick_CALIB_TENMS_Pos
 0

	)

660 
	#SysTick_CALIB_TENMS_Msk
 (0xFFFFFFUL << 
SysTick_VAL_CURRENT_Pos
è

	)

675 
__O
 union

677 
__O
 
ušt8_t
 
u8
;

678 
__O
 
ušt16_t
 
u16
;

679 
__O
 
ušt32_t
 
u32
;

680 } 
PORT
 [32];

681 
ušt32_t
 
RESERVED0
[864];

682 
__IO
 
ušt32_t
 
TER
;

683 
ušt32_t
 
RESERVED1
[15];

684 
__IO
 
ušt32_t
 
TPR
;

685 
ušt32_t
 
RESERVED2
[15];

686 
__IO
 
ušt32_t
 
TCR
;

687 
ušt32_t
 
RESERVED3
[29];

688 
__O
 
ušt32_t
 
IWR
;

689 
__I
 
ušt32_t
 
IRR
;

690 
__IO
 
ušt32_t
 
IMCR
;

691 
ušt32_t
 
RESERVED4
[43];

692 
__O
 
ušt32_t
 
LAR
;

693 
__I
 
ušt32_t
 
LSR
;

694 
ušt32_t
 
RESERVED5
[6];

695 
__I
 
ušt32_t
 
PID4
;

696 
__I
 
ušt32_t
 
PID5
;

697 
__I
 
ušt32_t
 
PID6
;

698 
__I
 
ušt32_t
 
PID7
;

699 
__I
 
ušt32_t
 
PID0
;

700 
__I
 
ušt32_t
 
PID1
;

701 
__I
 
ušt32_t
 
PID2
;

702 
__I
 
ušt32_t
 
PID3
;

703 
__I
 
ušt32_t
 
CID0
;

704 
__I
 
ušt32_t
 
CID1
;

705 
__I
 
ušt32_t
 
CID2
;

706 
__I
 
ušt32_t
 
CID3
;

707 } 
	tITM_Ty³
;

710 
	#ITM_TPR_PRIVMASK_Pos
 0

	)

711 
	#ITM_TPR_PRIVMASK_Msk
 (0xFUL << 
ITM_TPR_PRIVMASK_Pos
è

	)

714 
	#ITM_TCR_BUSY_Pos
 23

	)

715 
	#ITM_TCR_BUSY_Msk
 (1UL << 
ITM_TCR_BUSY_Pos
è

	)

717 
	#ITM_TCR_T¿ûBusID_Pos
 16

	)

718 
	#ITM_TCR_T¿ûBusID_Msk
 (0x7FUL << 
ITM_TCR_T¿ûBusID_Pos
è

	)

720 
	#ITM_TCR_GTSFREQ_Pos
 10

	)

721 
	#ITM_TCR_GTSFREQ_Msk
 (3UL << 
ITM_TCR_GTSFREQ_Pos
è

	)

723 
	#ITM_TCR_TSP»sÿË_Pos
 8

	)

724 
	#ITM_TCR_TSP»sÿË_Msk
 (3UL << 
ITM_TCR_TSP»sÿË_Pos
è

	)

726 
	#ITM_TCR_SWOENA_Pos
 4

	)

727 
	#ITM_TCR_SWOENA_Msk
 (1UL << 
ITM_TCR_SWOENA_Pos
è

	)

729 
	#ITM_TCR_DWTENA_Pos
 3

	)

730 
	#ITM_TCR_DWTENA_Msk
 (1UL << 
ITM_TCR_DWTENA_Pos
è

	)

732 
	#ITM_TCR_SYNCENA_Pos
 2

	)

733 
	#ITM_TCR_SYNCENA_Msk
 (1UL << 
ITM_TCR_SYNCENA_Pos
è

	)

735 
	#ITM_TCR_TSENA_Pos
 1

	)

736 
	#ITM_TCR_TSENA_Msk
 (1UL << 
ITM_TCR_TSENA_Pos
è

	)

738 
	#ITM_TCR_ITMENA_Pos
 0

	)

739 
	#ITM_TCR_ITMENA_Msk
 (1UL << 
ITM_TCR_ITMENA_Pos
è

	)

742 
	#ITM_IWR_ATVALIDM_Pos
 0

	)

743 
	#ITM_IWR_ATVALIDM_Msk
 (1UL << 
ITM_IWR_ATVALIDM_Pos
è

	)

746 
	#ITM_IRR_ATREADYM_Pos
 0

	)

747 
	#ITM_IRR_ATREADYM_Msk
 (1UL << 
ITM_IRR_ATREADYM_Pos
è

	)

750 
	#ITM_IMCR_INTEGRATION_Pos
 0

	)

751 
	#ITM_IMCR_INTEGRATION_Msk
 (1UL << 
ITM_IMCR_INTEGRATION_Pos
è

	)

754 
	#ITM_LSR_By‹Acc_Pos
 2

	)

755 
	#ITM_LSR_By‹Acc_Msk
 (1UL << 
ITM_LSR_By‹Acc_Pos
è

	)

757 
	#ITM_LSR_Acûss_Pos
 1

	)

758 
	#ITM_LSR_Acûss_Msk
 (1UL << 
ITM_LSR_Acûss_Pos
è

	)

760 
	#ITM_LSR_P»£Á_Pos
 0

	)

761 
	#ITM_LSR_P»£Á_Msk
 (1UL << 
ITM_LSR_P»£Á_Pos
è

	)

776 
__IO
 
ušt32_t
 
CTRL
;

777 
__IO
 
ušt32_t
 
CYCCNT
;

778 
__IO
 
ušt32_t
 
CPICNT
;

779 
__IO
 
ušt32_t
 
EXCCNT
;

780 
__IO
 
ušt32_t
 
SLEEPCNT
;

781 
__IO
 
ušt32_t
 
LSUCNT
;

782 
__IO
 
ušt32_t
 
FOLDCNT
;

783 
__I
 
ušt32_t
 
PCSR
;

784 
__IO
 
ušt32_t
 
COMP0
;

785 
__IO
 
ušt32_t
 
MASK0
;

786 
__IO
 
ušt32_t
 
FUNCTION0
;

787 
ušt32_t
 
RESERVED0
[1];

788 
__IO
 
ušt32_t
 
COMP1
;

789 
__IO
 
ušt32_t
 
MASK1
;

790 
__IO
 
ušt32_t
 
FUNCTION1
;

791 
ušt32_t
 
RESERVED1
[1];

792 
__IO
 
ušt32_t
 
COMP2
;

793 
__IO
 
ušt32_t
 
MASK2
;

794 
__IO
 
ušt32_t
 
FUNCTION2
;

795 
ušt32_t
 
RESERVED2
[1];

796 
__IO
 
ušt32_t
 
COMP3
;

797 
__IO
 
ušt32_t
 
MASK3
;

798 
__IO
 
ušt32_t
 
FUNCTION3
;

799 } 
	tDWT_Ty³
;

802 
	#DWT_CTRL_NUMCOMP_Pos
 28

	)

803 
	#DWT_CTRL_NUMCOMP_Msk
 (0xFUL << 
DWT_CTRL_NUMCOMP_Pos
è

	)

805 
	#DWT_CTRL_NOTRCPKT_Pos
 27

	)

806 
	#DWT_CTRL_NOTRCPKT_Msk
 (0x1UL << 
DWT_CTRL_NOTRCPKT_Pos
è

	)

808 
	#DWT_CTRL_NOEXTTRIG_Pos
 26

	)

809 
	#DWT_CTRL_NOEXTTRIG_Msk
 (0x1UL << 
DWT_CTRL_NOEXTTRIG_Pos
è

	)

811 
	#DWT_CTRL_NOCYCCNT_Pos
 25

	)

812 
	#DWT_CTRL_NOCYCCNT_Msk
 (0x1UL << 
DWT_CTRL_NOCYCCNT_Pos
è

	)

814 
	#DWT_CTRL_NOPRFCNT_Pos
 24

	)

815 
	#DWT_CTRL_NOPRFCNT_Msk
 (0x1UL << 
DWT_CTRL_NOPRFCNT_Pos
è

	)

817 
	#DWT_CTRL_CYCEVTENA_Pos
 22

	)

818 
	#DWT_CTRL_CYCEVTENA_Msk
 (0x1UL << 
DWT_CTRL_CYCEVTENA_Pos
è

	)

820 
	#DWT_CTRL_FOLDEVTENA_Pos
 21

	)

821 
	#DWT_CTRL_FOLDEVTENA_Msk
 (0x1UL << 
DWT_CTRL_FOLDEVTENA_Pos
è

	)

823 
	#DWT_CTRL_LSUEVTENA_Pos
 20

	)

824 
	#DWT_CTRL_LSUEVTENA_Msk
 (0x1UL << 
DWT_CTRL_LSUEVTENA_Pos
è

	)

826 
	#DWT_CTRL_SLEEPEVTENA_Pos
 19

	)

827 
	#DWT_CTRL_SLEEPEVTENA_Msk
 (0x1UL << 
DWT_CTRL_SLEEPEVTENA_Pos
è

	)

829 
	#DWT_CTRL_EXCEVTENA_Pos
 18

	)

830 
	#DWT_CTRL_EXCEVTENA_Msk
 (0x1UL << 
DWT_CTRL_EXCEVTENA_Pos
è

	)

832 
	#DWT_CTRL_CPIEVTENA_Pos
 17

	)

833 
	#DWT_CTRL_CPIEVTENA_Msk
 (0x1UL << 
DWT_CTRL_CPIEVTENA_Pos
è

	)

835 
	#DWT_CTRL_EXCTRCENA_Pos
 16

	)

836 
	#DWT_CTRL_EXCTRCENA_Msk
 (0x1UL << 
DWT_CTRL_EXCTRCENA_Pos
è

	)

838 
	#DWT_CTRL_PCSAMPLENA_Pos
 12

	)

839 
	#DWT_CTRL_PCSAMPLENA_Msk
 (0x1UL << 
DWT_CTRL_PCSAMPLENA_Pos
è

	)

841 
	#DWT_CTRL_SYNCTAP_Pos
 10

	)

842 
	#DWT_CTRL_SYNCTAP_Msk
 (0x3UL << 
DWT_CTRL_SYNCTAP_Pos
è

	)

844 
	#DWT_CTRL_CYCTAP_Pos
 9

	)

845 
	#DWT_CTRL_CYCTAP_Msk
 (0x1UL << 
DWT_CTRL_CYCTAP_Pos
è

	)

847 
	#DWT_CTRL_POSTINIT_Pos
 5

	)

848 
	#DWT_CTRL_POSTINIT_Msk
 (0xFUL << 
DWT_CTRL_POSTINIT_Pos
è

	)

850 
	#DWT_CTRL_POSTPRESET_Pos
 1

	)

851 
	#DWT_CTRL_POSTPRESET_Msk
 (0xFUL << 
DWT_CTRL_POSTPRESET_Pos
è

	)

853 
	#DWT_CTRL_CYCCNTENA_Pos
 0

	)

854 
	#DWT_CTRL_CYCCNTENA_Msk
 (0x1UL << 
DWT_CTRL_CYCCNTENA_Pos
è

	)

857 
	#DWT_CPICNT_CPICNT_Pos
 0

	)

858 
	#DWT_CPICNT_CPICNT_Msk
 (0xFFUL << 
DWT_CPICNT_CPICNT_Pos
è

	)

861 
	#DWT_EXCCNT_EXCCNT_Pos
 0

	)

862 
	#DWT_EXCCNT_EXCCNT_Msk
 (0xFFUL << 
DWT_EXCCNT_EXCCNT_Pos
è

	)

865 
	#DWT_SLEEPCNT_SLEEPCNT_Pos
 0

	)

866 
	#DWT_SLEEPCNT_SLEEPCNT_Msk
 (0xFFUL << 
DWT_SLEEPCNT_SLEEPCNT_Pos
è

	)

869 
	#DWT_LSUCNT_LSUCNT_Pos
 0

	)

870 
	#DWT_LSUCNT_LSUCNT_Msk
 (0xFFUL << 
DWT_LSUCNT_LSUCNT_Pos
è

	)

873 
	#DWT_FOLDCNT_FOLDCNT_Pos
 0

	)

874 
	#DWT_FOLDCNT_FOLDCNT_Msk
 (0xFFUL << 
DWT_FOLDCNT_FOLDCNT_Pos
è

	)

877 
	#DWT_MASK_MASK_Pos
 0

	)

878 
	#DWT_MASK_MASK_Msk
 (0x1FUL << 
DWT_MASK_MASK_Pos
è

	)

881 
	#DWT_FUNCTION_MATCHED_Pos
 24

	)

882 
	#DWT_FUNCTION_MATCHED_Msk
 (0x1UL << 
DWT_FUNCTION_MATCHED_Pos
è

	)

884 
	#DWT_FUNCTION_DATAVADDR1_Pos
 16

	)

885 
	#DWT_FUNCTION_DATAVADDR1_Msk
 (0xFUL << 
DWT_FUNCTION_DATAVADDR1_Pos
è

	)

887 
	#DWT_FUNCTION_DATAVADDR0_Pos
 12

	)

888 
	#DWT_FUNCTION_DATAVADDR0_Msk
 (0xFUL << 
DWT_FUNCTION_DATAVADDR0_Pos
è

	)

890 
	#DWT_FUNCTION_DATAVSIZE_Pos
 10

	)

891 
	#DWT_FUNCTION_DATAVSIZE_Msk
 (0x3UL << 
DWT_FUNCTION_DATAVSIZE_Pos
è

	)

893 
	#DWT_FUNCTION_LNK1ENA_Pos
 9

	)

894 
	#DWT_FUNCTION_LNK1ENA_Msk
 (0x1UL << 
DWT_FUNCTION_LNK1ENA_Pos
è

	)

896 
	#DWT_FUNCTION_DATAVMATCH_Pos
 8

	)

897 
	#DWT_FUNCTION_DATAVMATCH_Msk
 (0x1UL << 
DWT_FUNCTION_DATAVMATCH_Pos
è

	)

899 
	#DWT_FUNCTION_CYCMATCH_Pos
 7

	)

900 
	#DWT_FUNCTION_CYCMATCH_Msk
 (0x1UL << 
DWT_FUNCTION_CYCMATCH_Pos
è

	)

902 
	#DWT_FUNCTION_EMITRANGE_Pos
 5

	)

903 
	#DWT_FUNCTION_EMITRANGE_Msk
 (0x1UL << 
DWT_FUNCTION_EMITRANGE_Pos
è

	)

905 
	#DWT_FUNCTION_FUNCTION_Pos
 0

	)

906 
	#DWT_FUNCTION_FUNCTION_Msk
 (0xFUL << 
DWT_FUNCTION_FUNCTION_Pos
è

	)

921 
__IO
 
ušt32_t
 
SSPSR
;

922 
__IO
 
ušt32_t
 
CSPSR
;

923 
ušt32_t
 
RESERVED0
[2];

924 
__IO
 
ušt32_t
 
ACPR
;

925 
ušt32_t
 
RESERVED1
[55];

926 
__IO
 
ušt32_t
 
SPPR
;

927 
ušt32_t
 
RESERVED2
[131];

928 
__I
 
ušt32_t
 
FFSR
;

929 
__IO
 
ušt32_t
 
FFCR
;

930 
__I
 
ušt32_t
 
FSCR
;

931 
ušt32_t
 
RESERVED3
[759];

932 
__I
 
ušt32_t
 
TRIGGER
;

933 
__I
 
ušt32_t
 
FIFO0
;

934 
__I
 
ušt32_t
 
ITATBCTR2
;

935 
ušt32_t
 
RESERVED4
[1];

936 
__I
 
ušt32_t
 
ITATBCTR0
;

937 
__I
 
ušt32_t
 
FIFO1
;

938 
__IO
 
ušt32_t
 
ITCTRL
;

939 
ušt32_t
 
RESERVED5
[39];

940 
__IO
 
ušt32_t
 
CLAIMSET
;

941 
__IO
 
ušt32_t
 
CLAIMCLR
;

942 
ušt32_t
 
RESERVED7
[8];

943 
__I
 
ušt32_t
 
DEVID
;

944 
__I
 
ušt32_t
 
DEVTYPE
;

945 } 
	tTPI_Ty³
;

948 
	#TPI_ACPR_PRESCALER_Pos
 0

	)

949 
	#TPI_ACPR_PRESCALER_Msk
 (0x1FFFUL << 
TPI_ACPR_PRESCALER_Pos
è

	)

952 
	#TPI_SPPR_TXMODE_Pos
 0

	)

953 
	#TPI_SPPR_TXMODE_Msk
 (0x3UL << 
TPI_SPPR_TXMODE_Pos
è

	)

956 
	#TPI_FFSR_FtNÚStİ_Pos
 3

	)

957 
	#TPI_FFSR_FtNÚStİ_Msk
 (0x1UL << 
TPI_FFSR_FtNÚStİ_Pos
è

	)

959 
	#TPI_FFSR_TCP»£Á_Pos
 2

	)

960 
	#TPI_FFSR_TCP»£Á_Msk
 (0x1UL << 
TPI_FFSR_TCP»£Á_Pos
è

	)

962 
	#TPI_FFSR_FtStİ³d_Pos
 1

	)

963 
	#TPI_FFSR_FtStİ³d_Msk
 (0x1UL << 
TPI_FFSR_FtStİ³d_Pos
è

	)

965 
	#TPI_FFSR_FlInProg_Pos
 0

	)

966 
	#TPI_FFSR_FlInProg_Msk
 (0x1UL << 
TPI_FFSR_FlInProg_Pos
è

	)

969 
	#TPI_FFCR_TrigIn_Pos
 8

	)

970 
	#TPI_FFCR_TrigIn_Msk
 (0x1UL << 
TPI_FFCR_TrigIn_Pos
è

	)

972 
	#TPI_FFCR_EnFCÚt_Pos
 1

	)

973 
	#TPI_FFCR_EnFCÚt_Msk
 (0x1UL << 
TPI_FFCR_EnFCÚt_Pos
è

	)

976 
	#TPI_TRIGGER_TRIGGER_Pos
 0

	)

977 
	#TPI_TRIGGER_TRIGGER_Msk
 (0x1UL << 
TPI_TRIGGER_TRIGGER_Pos
è

	)

980 
	#TPI_FIFO0_ITM_ATVALID_Pos
 29

	)

981 
	#TPI_FIFO0_ITM_ATVALID_Msk
 (0x3UL << 
TPI_FIFO0_ITM_ATVALID_Pos
è

	)

983 
	#TPI_FIFO0_ITM_by‹couÁ_Pos
 27

	)

984 
	#TPI_FIFO0_ITM_by‹couÁ_Msk
 (0x3UL << 
TPI_FIFO0_ITM_by‹couÁ_Pos
è

	)

986 
	#TPI_FIFO0_ETM_ATVALID_Pos
 26

	)

987 
	#TPI_FIFO0_ETM_ATVALID_Msk
 (0x3UL << 
TPI_FIFO0_ETM_ATVALID_Pos
è

	)

989 
	#TPI_FIFO0_ETM_by‹couÁ_Pos
 24

	)

990 
	#TPI_FIFO0_ETM_by‹couÁ_Msk
 (0x3UL << 
TPI_FIFO0_ETM_by‹couÁ_Pos
è

	)

992 
	#TPI_FIFO0_ETM2_Pos
 16

	)

993 
	#TPI_FIFO0_ETM2_Msk
 (0xFFUL << 
TPI_FIFO0_ETM2_Pos
è

	)

995 
	#TPI_FIFO0_ETM1_Pos
 8

	)

996 
	#TPI_FIFO0_ETM1_Msk
 (0xFFUL << 
TPI_FIFO0_ETM1_Pos
è

	)

998 
	#TPI_FIFO0_ETM0_Pos
 0

	)

999 
	#TPI_FIFO0_ETM0_Msk
 (0xFFUL << 
TPI_FIFO0_ETM0_Pos
è

	)

1002 
	#TPI_ITATBCTR2_ATREADY_Pos
 0

	)

1003 
	#TPI_ITATBCTR2_ATREADY_Msk
 (0x1UL << 
TPI_ITATBCTR2_ATREADY_Pos
è

	)

1006 
	#TPI_FIFO1_ITM_ATVALID_Pos
 29

	)

1007 
	#TPI_FIFO1_ITM_ATVALID_Msk
 (0x3UL << 
TPI_FIFO1_ITM_ATVALID_Pos
è

	)

1009 
	#TPI_FIFO1_ITM_by‹couÁ_Pos
 27

	)

1010 
	#TPI_FIFO1_ITM_by‹couÁ_Msk
 (0x3UL << 
TPI_FIFO1_ITM_by‹couÁ_Pos
è

	)

1012 
	#TPI_FIFO1_ETM_ATVALID_Pos
 26

	)

1013 
	#TPI_FIFO1_ETM_ATVALID_Msk
 (0x3UL << 
TPI_FIFO1_ETM_ATVALID_Pos
è

	)

1015 
	#TPI_FIFO1_ETM_by‹couÁ_Pos
 24

	)

1016 
	#TPI_FIFO1_ETM_by‹couÁ_Msk
 (0x3UL << 
TPI_FIFO1_ETM_by‹couÁ_Pos
è

	)

1018 
	#TPI_FIFO1_ITM2_Pos
 16

	)

1019 
	#TPI_FIFO1_ITM2_Msk
 (0xFFUL << 
TPI_FIFO1_ITM2_Pos
è

	)

1021 
	#TPI_FIFO1_ITM1_Pos
 8

	)

1022 
	#TPI_FIFO1_ITM1_Msk
 (0xFFUL << 
TPI_FIFO1_ITM1_Pos
è

	)

1024 
	#TPI_FIFO1_ITM0_Pos
 0

	)

1025 
	#TPI_FIFO1_ITM0_Msk
 (0xFFUL << 
TPI_FIFO1_ITM0_Pos
è

	)

1028 
	#TPI_ITATBCTR0_ATREADY_Pos
 0

	)

1029 
	#TPI_ITATBCTR0_ATREADY_Msk
 (0x1UL << 
TPI_ITATBCTR0_ATREADY_Pos
è

	)

1032 
	#TPI_ITCTRL_Mode_Pos
 0

	)

1033 
	#TPI_ITCTRL_Mode_Msk
 (0x1UL << 
TPI_ITCTRL_Mode_Pos
è

	)

1036 
	#TPI_DEVID_NRZVALID_Pos
 11

	)

1037 
	#TPI_DEVID_NRZVALID_Msk
 (0x1UL << 
TPI_DEVID_NRZVALID_Pos
è

	)

1039 
	#TPI_DEVID_MANCVALID_Pos
 10

	)

1040 
	#TPI_DEVID_MANCVALID_Msk
 (0x1UL << 
TPI_DEVID_MANCVALID_Pos
è

	)

1042 
	#TPI_DEVID_PTINVALID_Pos
 9

	)

1043 
	#TPI_DEVID_PTINVALID_Msk
 (0x1UL << 
TPI_DEVID_PTINVALID_Pos
è

	)

1045 
	#TPI_DEVID_MšBufSz_Pos
 6

	)

1046 
	#TPI_DEVID_MšBufSz_Msk
 (0x7UL << 
TPI_DEVID_MšBufSz_Pos
è

	)

1048 
	#TPI_DEVID_AsynClkIn_Pos
 5

	)

1049 
	#TPI_DEVID_AsynClkIn_Msk
 (0x1UL << 
TPI_DEVID_AsynClkIn_Pos
è

	)

1051 
	#TPI_DEVID_NrT¿ûIÅut_Pos
 0

	)

1052 
	#TPI_DEVID_NrT¿ûIÅut_Msk
 (0x1FUL << 
TPI_DEVID_NrT¿ûIÅut_Pos
è

	)

1055 
	#TPI_DEVTYPE_SubTy³_Pos
 0

	)

1056 
	#TPI_DEVTYPE_SubTy³_Msk
 (0xFUL << 
TPI_DEVTYPE_SubTy³_Pos
è

	)

1058 
	#TPI_DEVTYPE_MajÜTy³_Pos
 4

	)

1059 
	#TPI_DEVTYPE_MajÜTy³_Msk
 (0xFUL << 
TPI_DEVTYPE_MajÜTy³_Pos
è

	)

1064 #ià(
__MPU_PRESENT
 == 1)

1075 
__I
 
ušt32_t
 
TYPE
;

1076 
__IO
 
ušt32_t
 
CTRL
;

1077 
__IO
 
ušt32_t
 
RNR
;

1078 
__IO
 
ušt32_t
 
RBAR
;

1079 
__IO
 
ušt32_t
 
RASR
;

1080 
__IO
 
ušt32_t
 
RBAR_A1
;

1081 
__IO
 
ušt32_t
 
RASR_A1
;

1082 
__IO
 
ušt32_t
 
RBAR_A2
;

1083 
__IO
 
ušt32_t
 
RASR_A2
;

1084 
__IO
 
ušt32_t
 
RBAR_A3
;

1085 
__IO
 
ušt32_t
 
RASR_A3
;

1086 } 
	tMPU_Ty³
;

1089 
	#MPU_TYPE_IREGION_Pos
 16

	)

1090 
	#MPU_TYPE_IREGION_Msk
 (0xFFUL << 
MPU_TYPE_IREGION_Pos
è

	)

1092 
	#MPU_TYPE_DREGION_Pos
 8

	)

1093 
	#MPU_TYPE_DREGION_Msk
 (0xFFUL << 
MPU_TYPE_DREGION_Pos
è

	)

1095 
	#MPU_TYPE_SEPARATE_Pos
 0

	)

1096 
	#MPU_TYPE_SEPARATE_Msk
 (1UL << 
MPU_TYPE_SEPARATE_Pos
è

	)

1099 
	#MPU_CTRL_PRIVDEFENA_Pos
 2

	)

1100 
	#MPU_CTRL_PRIVDEFENA_Msk
 (1UL << 
MPU_CTRL_PRIVDEFENA_Pos
è

	)

1102 
	#MPU_CTRL_HFNMIENA_Pos
 1

	)

1103 
	#MPU_CTRL_HFNMIENA_Msk
 (1UL << 
MPU_CTRL_HFNMIENA_Pos
è

	)

1105 
	#MPU_CTRL_ENABLE_Pos
 0

	)

1106 
	#MPU_CTRL_ENABLE_Msk
 (1UL << 
MPU_CTRL_ENABLE_Pos
è

	)

1109 
	#MPU_RNR_REGION_Pos
 0

	)

1110 
	#MPU_RNR_REGION_Msk
 (0xFFUL << 
MPU_RNR_REGION_Pos
è

	)

1113 
	#MPU_RBAR_ADDR_Pos
 5

	)

1114 
	#MPU_RBAR_ADDR_Msk
 (0x7FFFFFFUL << 
MPU_RBAR_ADDR_Pos
è

	)

1116 
	#MPU_RBAR_VALID_Pos
 4

	)

1117 
	#MPU_RBAR_VALID_Msk
 (1UL << 
MPU_RBAR_VALID_Pos
è

	)

1119 
	#MPU_RBAR_REGION_Pos
 0

	)

1120 
	#MPU_RBAR_REGION_Msk
 (0xFUL << 
MPU_RBAR_REGION_Pos
è

	)

1123 
	#MPU_RASR_ATTRS_Pos
 16

	)

1124 
	#MPU_RASR_ATTRS_Msk
 (0xFFFFUL << 
MPU_RASR_ATTRS_Pos
è

	)

1126 
	#MPU_RASR_XN_Pos
 28

	)

1127 
	#MPU_RASR_XN_Msk
 (1UL << 
MPU_RASR_XN_Pos
è

	)

1129 
	#MPU_RASR_AP_Pos
 24

	)

1130 
	#MPU_RASR_AP_Msk
 (0x7UL << 
MPU_RASR_AP_Pos
è

	)

1132 
	#MPU_RASR_TEX_Pos
 19

	)

1133 
	#MPU_RASR_TEX_Msk
 (0x7UL << 
MPU_RASR_TEX_Pos
è

	)

1135 
	#MPU_RASR_S_Pos
 18

	)

1136 
	#MPU_RASR_S_Msk
 (1UL << 
MPU_RASR_S_Pos
è

	)

1138 
	#MPU_RASR_C_Pos
 17

	)

1139 
	#MPU_RASR_C_Msk
 (1UL << 
MPU_RASR_C_Pos
è

	)

1141 
	#MPU_RASR_B_Pos
 16

	)

1142 
	#MPU_RASR_B_Msk
 (1UL << 
MPU_RASR_B_Pos
è

	)

1144 
	#MPU_RASR_SRD_Pos
 8

	)

1145 
	#MPU_RASR_SRD_Msk
 (0xFFUL << 
MPU_RASR_SRD_Pos
è

	)

1147 
	#MPU_RASR_SIZE_Pos
 1

	)

1148 
	#MPU_RASR_SIZE_Msk
 (0x1FUL << 
MPU_RASR_SIZE_Pos
è

	)

1150 
	#MPU_RASR_ENABLE_Pos
 0

	)

1151 
	#MPU_RASR_ENABLE_Msk
 (1UL << 
MPU_RASR_ENABLE_Pos
è

	)

1157 #ià(
__FPU_PRESENT
 == 1)

1168 
ušt32_t
 
RESERVED0
[1];

1169 
__IO
 
ušt32_t
 
FPCCR
;

1170 
__IO
 
ušt32_t
 
FPCAR
;

1171 
__IO
 
ušt32_t
 
FPDSCR
;

1172 
__I
 
ušt32_t
 
MVFR0
;

1173 
__I
 
ušt32_t
 
MVFR1
;

1174 } 
	tFPU_Ty³
;

1177 
	#FPU_FPCCR_ASPEN_Pos
 31

	)

1178 
	#FPU_FPCCR_ASPEN_Msk
 (1UL << 
FPU_FPCCR_ASPEN_Pos
è

	)

1180 
	#FPU_FPCCR_LSPEN_Pos
 30

	)

1181 
	#FPU_FPCCR_LSPEN_Msk
 (1UL << 
FPU_FPCCR_LSPEN_Pos
è

	)

1183 
	#FPU_FPCCR_MONRDY_Pos
 8

	)

1184 
	#FPU_FPCCR_MONRDY_Msk
 (1UL << 
FPU_FPCCR_MONRDY_Pos
è

	)

1186 
	#FPU_FPCCR_BFRDY_Pos
 6

	)

1187 
	#FPU_FPCCR_BFRDY_Msk
 (1UL << 
FPU_FPCCR_BFRDY_Pos
è

	)

1189 
	#FPU_FPCCR_MMRDY_Pos
 5

	)

1190 
	#FPU_FPCCR_MMRDY_Msk
 (1UL << 
FPU_FPCCR_MMRDY_Pos
è

	)

1192 
	#FPU_FPCCR_HFRDY_Pos
 4

	)

1193 
	#FPU_FPCCR_HFRDY_Msk
 (1UL << 
FPU_FPCCR_HFRDY_Pos
è

	)

1195 
	#FPU_FPCCR_THREAD_Pos
 3

	)

1196 
	#FPU_FPCCR_THREAD_Msk
 (1UL << 
FPU_FPCCR_THREAD_Pos
è

	)

1198 
	#FPU_FPCCR_USER_Pos
 1

	)

1199 
	#FPU_FPCCR_USER_Msk
 (1UL << 
FPU_FPCCR_USER_Pos
è

	)

1201 
	#FPU_FPCCR_LSPACT_Pos
 0

	)

1202 
	#FPU_FPCCR_LSPACT_Msk
 (1UL << 
FPU_FPCCR_LSPACT_Pos
è

	)

1205 
	#FPU_FPCAR_ADDRESS_Pos
 3

	)

1206 
	#FPU_FPCAR_ADDRESS_Msk
 (0x1FFFFFFFUL << 
FPU_FPCAR_ADDRESS_Pos
è

	)

1209 
	#FPU_FPDSCR_AHP_Pos
 26

	)

1210 
	#FPU_FPDSCR_AHP_Msk
 (1UL << 
FPU_FPDSCR_AHP_Pos
è

	)

1212 
	#FPU_FPDSCR_DN_Pos
 25

	)

1213 
	#FPU_FPDSCR_DN_Msk
 (1UL << 
FPU_FPDSCR_DN_Pos
è

	)

1215 
	#FPU_FPDSCR_FZ_Pos
 24

	)

1216 
	#FPU_FPDSCR_FZ_Msk
 (1UL << 
FPU_FPDSCR_FZ_Pos
è

	)

1218 
	#FPU_FPDSCR_RMode_Pos
 22

	)

1219 
	#FPU_FPDSCR_RMode_Msk
 (3UL << 
FPU_FPDSCR_RMode_Pos
è

	)

1222 
	#FPU_MVFR0_FP_roundšg_modes_Pos
 28

	)

1223 
	#FPU_MVFR0_FP_roundšg_modes_Msk
 (0xFUL << 
FPU_MVFR0_FP_roundšg_modes_Pos
è

	)

1225 
	#FPU_MVFR0_ShÜt_veùÜs_Pos
 24

	)

1226 
	#FPU_MVFR0_ShÜt_veùÜs_Msk
 (0xFUL << 
FPU_MVFR0_ShÜt_veùÜs_Pos
è

	)

1228 
	#FPU_MVFR0_Squ¬e_roÙ_Pos
 20

	)

1229 
	#FPU_MVFR0_Squ¬e_roÙ_Msk
 (0xFUL << 
FPU_MVFR0_Squ¬e_roÙ_Pos
è

	)

1231 
	#FPU_MVFR0_Divide_Pos
 16

	)

1232 
	#FPU_MVFR0_Divide_Msk
 (0xFUL << 
FPU_MVFR0_Divide_Pos
è

	)

1234 
	#FPU_MVFR0_FP_exûp_Œ­pšg_Pos
 12

	)

1235 
	#FPU_MVFR0_FP_exûp_Œ­pšg_Msk
 (0xFUL << 
FPU_MVFR0_FP_exûp_Œ­pšg_Pos
è

	)

1237 
	#FPU_MVFR0_DoubË_´ecisiÚ_Pos
 8

	)

1238 
	#FPU_MVFR0_DoubË_´ecisiÚ_Msk
 (0xFUL << 
FPU_MVFR0_DoubË_´ecisiÚ_Pos
è

	)

1240 
	#FPU_MVFR0_SšgË_´ecisiÚ_Pos
 4

	)

1241 
	#FPU_MVFR0_SšgË_´ecisiÚ_Msk
 (0xFUL << 
FPU_MVFR0_SšgË_´ecisiÚ_Pos
è

	)

1243 
	#FPU_MVFR0_A_SIMD_»gi¡”s_Pos
 0

	)

1244 
	#FPU_MVFR0_A_SIMD_»gi¡”s_Msk
 (0xFUL << 
FPU_MVFR0_A_SIMD_»gi¡”s_Pos
è

	)

1247 
	#FPU_MVFR1_FP_fu£d_MAC_Pos
 28

	)

1248 
	#FPU_MVFR1_FP_fu£d_MAC_Msk
 (0xFUL << 
FPU_MVFR1_FP_fu£d_MAC_Pos
è

	)

1250 
	#FPU_MVFR1_FP_HPFP_Pos
 24

	)

1251 
	#FPU_MVFR1_FP_HPFP_Msk
 (0xFUL << 
FPU_MVFR1_FP_HPFP_Pos
è

	)

1253 
	#FPU_MVFR1_D_NaN_mode_Pos
 4

	)

1254 
	#FPU_MVFR1_D_NaN_mode_Msk
 (0xFUL << 
FPU_MVFR1_D_NaN_mode_Pos
è

	)

1256 
	#FPU_MVFR1_FtZ_mode_Pos
 0

	)

1257 
	#FPU_MVFR1_FtZ_mode_Msk
 (0xFUL << 
FPU_MVFR1_FtZ_mode_Pos
è

	)

1273 
__IO
 
ušt32_t
 
DHCSR
;

1274 
__O
 
ušt32_t
 
DCRSR
;

1275 
__IO
 
ušt32_t
 
DCRDR
;

1276 
__IO
 
ušt32_t
 
DEMCR
;

1277 } 
	tCÜeDebug_Ty³
;

1280 
	#CÜeDebug_DHCSR_DBGKEY_Pos
 16

	)

1281 
	#CÜeDebug_DHCSR_DBGKEY_Msk
 (0xFFFFUL << 
CÜeDebug_DHCSR_DBGKEY_Pos
è

	)

1283 
	#CÜeDebug_DHCSR_S_RESET_ST_Pos
 25

	)

1284 
	#CÜeDebug_DHCSR_S_RESET_ST_Msk
 (1UL << 
CÜeDebug_DHCSR_S_RESET_ST_Pos
è

	)

1286 
	#CÜeDebug_DHCSR_S_RETIRE_ST_Pos
 24

	)

1287 
	#CÜeDebug_DHCSR_S_RETIRE_ST_Msk
 (1UL << 
CÜeDebug_DHCSR_S_RETIRE_ST_Pos
è

	)

1289 
	#CÜeDebug_DHCSR_S_LOCKUP_Pos
 19

	)

1290 
	#CÜeDebug_DHCSR_S_LOCKUP_Msk
 (1UL << 
CÜeDebug_DHCSR_S_LOCKUP_Pos
è

	)

1292 
	#CÜeDebug_DHCSR_S_SLEEP_Pos
 18

	)

1293 
	#CÜeDebug_DHCSR_S_SLEEP_Msk
 (1UL << 
CÜeDebug_DHCSR_S_SLEEP_Pos
è

	)

1295 
	#CÜeDebug_DHCSR_S_HALT_Pos
 17

	)

1296 
	#CÜeDebug_DHCSR_S_HALT_Msk
 (1UL << 
CÜeDebug_DHCSR_S_HALT_Pos
è

	)

1298 
	#CÜeDebug_DHCSR_S_REGRDY_Pos
 16

	)

1299 
	#CÜeDebug_DHCSR_S_REGRDY_Msk
 (1UL << 
CÜeDebug_DHCSR_S_REGRDY_Pos
è

	)

1301 
	#CÜeDebug_DHCSR_C_SNAPSTALL_Pos
 5

	)

1302 
	#CÜeDebug_DHCSR_C_SNAPSTALL_Msk
 (1UL << 
CÜeDebug_DHCSR_C_SNAPSTALL_Pos
è

	)

1304 
	#CÜeDebug_DHCSR_C_MASKINTS_Pos
 3

	)

1305 
	#CÜeDebug_DHCSR_C_MASKINTS_Msk
 (1UL << 
CÜeDebug_DHCSR_C_MASKINTS_Pos
è

	)

1307 
	#CÜeDebug_DHCSR_C_STEP_Pos
 2

	)

1308 
	#CÜeDebug_DHCSR_C_STEP_Msk
 (1UL << 
CÜeDebug_DHCSR_C_STEP_Pos
è

	)

1310 
	#CÜeDebug_DHCSR_C_HALT_Pos
 1

	)

1311 
	#CÜeDebug_DHCSR_C_HALT_Msk
 (1UL << 
CÜeDebug_DHCSR_C_HALT_Pos
è

	)

1313 
	#CÜeDebug_DHCSR_C_DEBUGEN_Pos
 0

	)

1314 
	#CÜeDebug_DHCSR_C_DEBUGEN_Msk
 (1UL << 
CÜeDebug_DHCSR_C_DEBUGEN_Pos
è

	)

1317 
	#CÜeDebug_DCRSR_REGWnR_Pos
 16

	)

1318 
	#CÜeDebug_DCRSR_REGWnR_Msk
 (1UL << 
CÜeDebug_DCRSR_REGWnR_Pos
è

	)

1320 
	#CÜeDebug_DCRSR_REGSEL_Pos
 0

	)

1321 
	#CÜeDebug_DCRSR_REGSEL_Msk
 (0x1FUL << 
CÜeDebug_DCRSR_REGSEL_Pos
è

	)

1324 
	#CÜeDebug_DEMCR_TRCENA_Pos
 24

	)

1325 
	#CÜeDebug_DEMCR_TRCENA_Msk
 (1UL << 
CÜeDebug_DEMCR_TRCENA_Pos
è

	)

1327 
	#CÜeDebug_DEMCR_MON_REQ_Pos
 19

	)

1328 
	#CÜeDebug_DEMCR_MON_REQ_Msk
 (1UL << 
CÜeDebug_DEMCR_MON_REQ_Pos
è

	)

1330 
	#CÜeDebug_DEMCR_MON_STEP_Pos
 18

	)

1331 
	#CÜeDebug_DEMCR_MON_STEP_Msk
 (1UL << 
CÜeDebug_DEMCR_MON_STEP_Pos
è

	)

1333 
	#CÜeDebug_DEMCR_MON_PEND_Pos
 17

	)

1334 
	#CÜeDebug_DEMCR_MON_PEND_Msk
 (1UL << 
CÜeDebug_DEMCR_MON_PEND_Pos
è

	)

1336 
	#CÜeDebug_DEMCR_MON_EN_Pos
 16

	)

1337 
	#CÜeDebug_DEMCR_MON_EN_Msk
 (1UL << 
CÜeDebug_DEMCR_MON_EN_Pos
è

	)

1339 
	#CÜeDebug_DEMCR_VC_HARDERR_Pos
 10

	)

1340 
	#CÜeDebug_DEMCR_VC_HARDERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_HARDERR_Pos
è

	)

1342 
	#CÜeDebug_DEMCR_VC_INTERR_Pos
 9

	)

1343 
	#CÜeDebug_DEMCR_VC_INTERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_INTERR_Pos
è

	)

1345 
	#CÜeDebug_DEMCR_VC_BUSERR_Pos
 8

	)

1346 
	#CÜeDebug_DEMCR_VC_BUSERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_BUSERR_Pos
è

	)

1348 
	#CÜeDebug_DEMCR_VC_STATERR_Pos
 7

	)

1349 
	#CÜeDebug_DEMCR_VC_STATERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_STATERR_Pos
è

	)

1351 
	#CÜeDebug_DEMCR_VC_CHKERR_Pos
 6

	)

1352 
	#CÜeDebug_DEMCR_VC_CHKERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_CHKERR_Pos
è

	)

1354 
	#CÜeDebug_DEMCR_VC_NOCPERR_Pos
 5

	)

1355 
	#CÜeDebug_DEMCR_VC_NOCPERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_NOCPERR_Pos
è

	)

1357 
	#CÜeDebug_DEMCR_VC_MMERR_Pos
 4

	)

1358 
	#CÜeDebug_DEMCR_VC_MMERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_MMERR_Pos
è

	)

1360 
	#CÜeDebug_DEMCR_VC_CORERESET_Pos
 0

	)

1361 
	#CÜeDebug_DEMCR_VC_CORERESET_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_CORERESET_Pos
è

	)

1373 
	#SCS_BASE
 (0xE000E000ULè

	)

1374 
	#ITM_BASE
 (0xE0000000ULè

	)

1375 
	#DWT_BASE
 (0xE0001000ULè

	)

1376 
	#TPI_BASE
 (0xE0040000ULè

	)

1377 
	#CÜeDebug_BASE
 (0xE000EDF0ULè

	)

1378 
	#SysTick_BASE
 (
SCS_BASE
 + 0x0010ULè

	)

1379 
	#NVIC_BASE
 (
SCS_BASE
 + 0x0100ULè

	)

1380 
	#SCB_BASE
 (
SCS_BASE
 + 0x0D00ULè

	)

1382 
	#SCnSCB
 ((
SCnSCB_Ty³
 *è
SCS_BASE
 )

	)

1383 
	#SCB
 ((
SCB_Ty³
 *è
SCB_BASE
 )

	)

1384 
	#SysTick
 ((
SysTick_Ty³
 *è
SysTick_BASE
 )

	)

1385 
	#NVIC
 ((
NVIC_Ty³
 *è
NVIC_BASE
 )

	)

1386 
	#ITM
 ((
ITM_Ty³
 *è
ITM_BASE
 )

	)

1387 
	#DWT
 ((
DWT_Ty³
 *è
DWT_BASE
 )

	)

1388 
	#TPI
 ((
TPI_Ty³
 *è
TPI_BASE
 )

	)

1389 
	#CÜeDebug
 ((
CÜeDebug_Ty³
 *è
CÜeDebug_BASE
è

	)

1391 #ià(
__MPU_PRESENT
 == 1)

1392 
	#MPU_BASE
 (
SCS_BASE
 + 0x0D90ULè

	)

1393 
	#MPU
 ((
MPU_Ty³
 *è
MPU_BASE
 )

	)

1396 #ià(
__FPU_PRESENT
 == 1)

1397 
	#FPU_BASE
 (
SCS_BASE
 + 0x0F30ULè

	)

1398 
	#FPU
 ((
FPU_Ty³
 *è
FPU_BASE
 )

	)

1435 
__STATIC_INLINE
 
NVIC_S‘PriÜ™yGroupšg
(
ušt32_t
 
PriÜ™yGroup
)

1437 
ušt32_t
 
»g_v®ue
;

1438 
ušt32_t
 
PriÜ™yGroupTmp
 = (
PriÜ™yGroup
 & (uint32_t)0x07);

1440 
»g_v®ue
 = 
SCB
->
AIRCR
;

1441 
»g_v®ue
 &ğ~(
SCB_AIRCR_VECTKEY_Msk
 | 
SCB_AIRCR_PRIGROUP_Msk
);

1442 
»g_v®ue
 = (reg_value |

1443 ((
ušt32_t
)0x5FA << 
SCB_AIRCR_VECTKEY_Pos
) |

1444 (
PriÜ™yGroupTmp
 << 8));

1445 
SCB
->
AIRCR
 = 
»g_v®ue
;

1455 
__STATIC_INLINE
 
ušt32_t
 
NVIC_G‘PriÜ™yGroupšg
()

1457  ((
SCB
->
AIRCR
 & 
SCB_AIRCR_PRIGROUP_Msk
è>> 
SCB_AIRCR_PRIGROUP_Pos
);

1467 
__STATIC_INLINE
 
NVIC_EÇbËIRQ
(
IRQn_Ty³
 
IRQn
)

1470 
NVIC
->
ISER
[(
ušt32_t
)((
št32_t
)
IRQn
) >> 5] = (uint32_t)(1 << ((uint32_t)((int32_t)IRQn) & (uint32_t)0x1F));

1480 
__STATIC_INLINE
 
NVIC_Di§bËIRQ
(
IRQn_Ty³
 
IRQn
)

1482 
NVIC
->
ICER
[((
ušt32_t
)(
IRQn
) >> 5)] = (1 << ((uint32_t)(IRQn) & 0x1F));

1496 
__STATIC_INLINE
 
ušt32_t
 
NVIC_G‘P’dšgIRQ
(
IRQn_Ty³
 
IRQn
)

1498 ((
ušt32_t
è((
NVIC
->
ISPR
[(ušt32_t)(
IRQn
) >> 5] & (1 << ((uint32_t)(IRQn) & 0x1F)))?1:0));

1508 
__STATIC_INLINE
 
NVIC_S‘P’dšgIRQ
(
IRQn_Ty³
 
IRQn
)

1510 
NVIC
->
ISPR
[((
ušt32_t
)(
IRQn
) >> 5)] = (1 << ((uint32_t)(IRQn) & 0x1F));

1520 
__STATIC_INLINE
 
NVIC_CË¬P’dšgIRQ
(
IRQn_Ty³
 
IRQn
)

1522 
NVIC
->
ICPR
[((
ušt32_t
)(
IRQn
) >> 5)] = (1 << ((uint32_t)(IRQn) & 0x1F));

1535 
__STATIC_INLINE
 
ušt32_t
 
NVIC_G‘Aùive
(
IRQn_Ty³
 
IRQn
)

1537 ((
ušt32_t
)((
NVIC
->
IABR
[(ušt32_t)(
IRQn
) >> 5] & (1 << ((uint32_t)(IRQn) & 0x1F)))?1:0));

1550 
__STATIC_INLINE
 
NVIC_S‘PriÜ™y
(
IRQn_Ty³
 
IRQn
, 
ušt32_t
 
´iÜ™y
)

1552 if(
IRQn
 < 0) {

1553 
SCB
->
SHP
[((
ušt32_t
)(
IRQn
è& 0xF)-4] = ((
´iÜ™y
 << (8 - 
__NVIC_PRIO_BITS
)) & 0xff); }

1555 
NVIC
->
IP
[(
ušt32_t
)(
IRQn
)] = ((
´iÜ™y
 << (8 - 
__NVIC_PRIO_BITS
)) & 0xff); }

1570 
__STATIC_INLINE
 
ušt32_t
 
NVIC_G‘PriÜ™y
(
IRQn_Ty³
 
IRQn
)

1573 if(
IRQn
 < 0) {

1574 ((
ušt32_t
)(
SCB
->
SHP
[((ušt32_t)(
IRQn
è& 0xF)-4] >> (8 - 
__NVIC_PRIO_BITS
))); }

1576 ((
ušt32_t
)(
NVIC
->
IP
[(ušt32_t)(
IRQn
)] >> (8 - 
__NVIC_PRIO_BITS
))); }

1592 
__STATIC_INLINE
 
ušt32_t
 
NVIC_EncodePriÜ™y
 (ušt32_ˆ
PriÜ™yGroup
, ušt32_ˆ
P»em±PriÜ™y
, ušt32_ˆ
SubPriÜ™y
)

1594 
ušt32_t
 
PriÜ™yGroupTmp
 = (
PriÜ™yGroup
 & 0x07);

1595 
ušt32_t
 
P»em±PriÜ™yB™s
;

1596 
ušt32_t
 
SubPriÜ™yB™s
;

1598 
P»em±PriÜ™yB™s
 = ((7 - 
PriÜ™yGroupTmp
è> 
__NVIC_PRIO_BITS
) ? __NVIC_PRIO_BITS : 7 - PriorityGroupTmp;

1599 
SubPriÜ™yB™s
 = ((
PriÜ™yGroupTmp
 + 
__NVIC_PRIO_BITS
) < 7) ? 0 : PriorityGroupTmp - 7 + __NVIC_PRIO_BITS;

1602 ((
P»em±PriÜ™y
 & ((1 << (
P»em±PriÜ™yB™s
)è- 1)è<< 
SubPriÜ™yB™s
) |

1603 ((
SubPriÜ™y
 & ((1 << (
SubPriÜ™yB™s
 )) - 1)))

1620 
__STATIC_INLINE
 
NVIC_DecodePriÜ™y
 (
ušt32_t
 
PriÜ™y
, ušt32_ˆ
PriÜ™yGroup
, ušt32_t* 
pP»em±PriÜ™y
, ušt32_t* 
pSubPriÜ™y
)

1622 
ušt32_t
 
PriÜ™yGroupTmp
 = (
PriÜ™yGroup
 & 0x07);

1623 
ušt32_t
 
P»em±PriÜ™yB™s
;

1624 
ušt32_t
 
SubPriÜ™yB™s
;

1626 
P»em±PriÜ™yB™s
 = ((7 - 
PriÜ™yGroupTmp
è> 
__NVIC_PRIO_BITS
) ? __NVIC_PRIO_BITS : 7 - PriorityGroupTmp;

1627 
SubPriÜ™yB™s
 = ((
PriÜ™yGroupTmp
 + 
__NVIC_PRIO_BITS
) < 7) ? 0 : PriorityGroupTmp - 7 + __NVIC_PRIO_BITS;

1629 *
pP»em±PriÜ™y
 = (
PriÜ™y
 >> 
SubPriÜ™yB™s
è& ((1 << (
P»em±PriÜ™yB™s
)) - 1);

1630 *
pSubPriÜ™y
 = (
PriÜ™y
 ) & ((1 << (
SubPriÜ™yB™s
 )) - 1);

1638 
__STATIC_INLINE
 
NVIC_Sy¡emRe£t
()

1640 
__DSB
();

1642 
SCB
->
AIRCR
 = ((0x5FA << 
SCB_AIRCR_VECTKEY_Pos
) |

1643 (
SCB
->
AIRCR
 & 
SCB_AIRCR_PRIGROUP_Msk
) |

1644 
SCB_AIRCR_SYSRESETREQ_Msk
);

1645 
__DSB
();

1660 #ià(
__V’dÜ_SysTickCÚfig
 == 0)

1677 
__STATIC_INLINE
 
ušt32_t
 
SysTick_CÚfig
(ušt32_ˆ
ticks
)

1679 ià((
ticks
 - 1è> 
SysTick_LOAD_RELOAD_Msk
)  (1);

1681 
SysTick
->
LOAD
 = 
ticks
 - 1;

1682 
NVIC_S‘PriÜ™y
 (
SysTick_IRQn
, (1<<
__NVIC_PRIO_BITS
) - 1);

1683 
SysTick
->
VAL
 = 0;

1684 
SysTick
->
CTRL
 = 
SysTick_CTRL_CLKSOURCE_Msk
 |

1685 
SysTick_CTRL_TICKINT_Msk
 |

1686 
SysTick_CTRL_ENABLE_Msk
;

1703 vŞ©
št32_t
 
ITM_RxBufãr
;

1704 
	#ITM_RXBUFFER_EMPTY
 0x5AA55AA5

	)

1717 
__STATIC_INLINE
 
ušt32_t
 
ITM_S’dCh¬
 (ušt32_ˆ
ch
)

1719 ià((
	gITM
->
	gTCR
 & 
	gITM_TCR_ITMENA_Msk
) &&

1720 (
	gITM
->
	gTER
 & (1UL << 0) ) )

1722 
	gITM
->
	gPORT
[0].
	gu32
 == 0);

1723 
	gITM
->
	gPORT
[0].
	gu8
 = (
ušt8_t
è
ch
;

1725  (
	gch
);

1736 
__STATIC_INLINE
 
št32_t
 
ITM_ReûiveCh¬
 () {

1737 
št32_t
 
	gch
 = -1;

1739 ià(
	gITM_RxBufãr
 !ğ
ITM_RXBUFFER_EMPTY
) {

1740 
ch
 = 
ITM_RxBufãr
;

1741 
	gITM_RxBufãr
 = 
ITM_RXBUFFER_EMPTY
;

1744  (
	gch
);

1755 
__STATIC_INLINE
 
št32_t
 
ITM_CheckCh¬
 () {

1757 ià(
	gITM_RxBufãr
 =ğ
ITM_RXBUFFER_EMPTY
) {

1770 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_cm4_simd.h

38 #ifdeà
__ılu¥lus


42 #iâdeà
__CORE_CM4_SIMD_H


43 
	#__CORE_CM4_SIMD_H


	)

57 #ià 
defšed
 ( 
__CC_ARM
 )

61 
	#__SADD8
 
__§dd8


	)

62 
	#__QADD8
 
__qadd8


	)

63 
	#__SHADD8
 
__shadd8


	)

64 
	#__UADD8
 
__uadd8


	)

65 
	#__UQADD8
 
__uqadd8


	)

66 
	#__UHADD8
 
__uhadd8


	)

67 
	#__SSUB8
 
__ssub8


	)

68 
	#__QSUB8
 
__qsub8


	)

69 
	#__SHSUB8
 
__shsub8


	)

70 
	#__USUB8
 
__usub8


	)

71 
	#__UQSUB8
 
__uqsub8


	)

72 
	#__UHSUB8
 
__uhsub8


	)

73 
	#__SADD16
 
__§dd16


	)

74 
	#__QADD16
 
__qadd16


	)

75 
	#__SHADD16
 
__shadd16


	)

76 
	#__UADD16
 
__uadd16


	)

77 
	#__UQADD16
 
__uqadd16


	)

78 
	#__UHADD16
 
__uhadd16


	)

79 
	#__SSUB16
 
__ssub16


	)

80 
	#__QSUB16
 
__qsub16


	)

81 
	#__SHSUB16
 
__shsub16


	)

82 
	#__USUB16
 
__usub16


	)

83 
	#__UQSUB16
 
__uqsub16


	)

84 
	#__UHSUB16
 
__uhsub16


	)

85 
	#__SASX
 
__§sx


	)

86 
	#__QASX
 
__qasx


	)

87 
	#__SHASX
 
__shasx


	)

88 
	#__UASX
 
__uasx


	)

89 
	#__UQASX
 
__uqasx


	)

90 
	#__UHASX
 
__uhasx


	)

91 
	#__SSAX
 
__s§x


	)

92 
	#__QSAX
 
__q§x


	)

93 
	#__SHSAX
 
__sh§x


	)

94 
	#__USAX
 
__u§x


	)

95 
	#__UQSAX
 
__uq§x


	)

96 
	#__UHSAX
 
__uh§x


	)

97 
	#__USAD8
 
__u§d8


	)

98 
	#__USADA8
 
__u§da8


	)

99 
	#__SSAT16
 
__s§t16


	)

100 
	#__USAT16
 
__u§t16


	)

101 
	#__UXTB16
 
__uxtb16


	)

102 
	#__UXTAB16
 
__uxb16


	)

103 
	#__SXTB16
 
__sxtb16


	)

104 
	#__SXTAB16
 
__sxb16


	)

105 
	#__SMUAD
 
__smuad


	)

106 
	#__SMUADX
 
__smuadx


	)

107 
	#__SMLAD
 
__smÏd


	)

108 
	#__SMLADX
 
__smÏdx


	)

109 
	#__SMLALD
 
__smÏld


	)

110 
	#__SMLALDX
 
__smÏldx


	)

111 
	#__SMUSD
 
__smusd


	)

112 
	#__SMUSDX
 
__smusdx


	)

113 
	#__SMLSD
 
__smlsd


	)

114 
	#__SMLSDX
 
__smlsdx


	)

115 
	#__SMLSLD
 
__sml¦d


	)

116 
	#__SMLSLDX
 
__sml¦dx


	)

117 
	#__SEL
 
__£l


	)

118 
	#__QADD
 
__qadd


	)

119 
	#__QSUB
 
__qsub


	)

121 
	#__PKHBT
(
ARG1
,
ARG2
,
ARG3
èĞ((((
ušt32_t
)(ARG1)) ) & 0x0000FFFFUL) | \

122 ((((
ušt32_t
)(
ARG2
)è<< (
ARG3
)è& 0xFFFF0000ULè)

	)

124 
	#__PKHTB
(
ARG1
,
ARG2
,
ARG3
èĞ((((
ušt32_t
)(ARG1)) ) & 0xFFFF0000UL) | \

125 ((((
ušt32_t
)(
ARG2
)è>> (
ARG3
)è& 0x0000FFFFULè)

	)

127 
	#__SMMLA
(
ARG1
,
ARG2
,
ARG3
èĞ(
št32_t
)((((
št64_t
)(ARG1) * (ARG2)) + \

128 ((
št64_t
)(
ARG3
è<< 32èè>> 32))

	)

134 #–ià
defšed
 ( 
__ICCARM__
 )

138 
	~<cmsis_Ÿr.h
>

144 #–ià
defšed
 ( 
__TMS470__
 )

148 
	~<cmsis_ccs.h
>

154 #–ià
defšed
 ( 
__GNUC__
 )

158 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SADD8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

160 
ušt32_t
 
»suÉ
;

162 
__ASM
 vŞ©("§dd8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

163 (
»suÉ
);

164 
	}
}

166 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__QADD8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

168 
ušt32_t
 
»suÉ
;

170 
__ASM
 vŞ©("qadd8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

171 (
»suÉ
);

172 
	}
}

174 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SHADD8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

176 
ušt32_t
 
»suÉ
;

178 
__ASM
 vŞ©("shadd8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

179 (
»suÉ
);

180 
	}
}

182 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UADD8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

184 
ušt32_t
 
»suÉ
;

186 
__ASM
 vŞ©("uadd8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

187 (
»suÉ
);

188 
	}
}

190 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UQADD8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

192 
ušt32_t
 
»suÉ
;

194 
__ASM
 vŞ©("uqadd8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

195 (
»suÉ
);

196 
	}
}

198 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UHADD8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

200 
ušt32_t
 
»suÉ
;

202 
__ASM
 vŞ©("uhadd8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

203 (
»suÉ
);

204 
	}
}

207 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SSUB8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

209 
ušt32_t
 
»suÉ
;

211 
__ASM
 vŞ©("ssub8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

212 (
»suÉ
);

213 
	}
}

215 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__QSUB8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

217 
ušt32_t
 
»suÉ
;

219 
__ASM
 vŞ©("qsub8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

220 (
»suÉ
);

221 
	}
}

223 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SHSUB8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

225 
ušt32_t
 
»suÉ
;

227 
__ASM
 vŞ©("shsub8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

228 (
»suÉ
);

229 
	}
}

231 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__USUB8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

233 
ušt32_t
 
»suÉ
;

235 
__ASM
 vŞ©("usub8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

236 (
»suÉ
);

237 
	}
}

239 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UQSUB8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

241 
ušt32_t
 
»suÉ
;

243 
__ASM
 vŞ©("uqsub8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

244 (
»suÉ
);

245 
	}
}

247 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UHSUB8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

249 
ušt32_t
 
»suÉ
;

251 
__ASM
 vŞ©("uhsub8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

252 (
»suÉ
);

253 
	}
}

256 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SADD16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

258 
ušt32_t
 
»suÉ
;

260 
__ASM
 vŞ©("§dd16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

261 (
»suÉ
);

262 
	}
}

264 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__QADD16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

266 
ušt32_t
 
»suÉ
;

268 
__ASM
 vŞ©("qadd16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

269 (
»suÉ
);

270 
	}
}

272 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SHADD16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

274 
ušt32_t
 
»suÉ
;

276 
__ASM
 vŞ©("shadd16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

277 (
»suÉ
);

278 
	}
}

280 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UADD16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

282 
ušt32_t
 
»suÉ
;

284 
__ASM
 vŞ©("uadd16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

285 (
»suÉ
);

286 
	}
}

288 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UQADD16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

290 
ušt32_t
 
»suÉ
;

292 
__ASM
 vŞ©("uqadd16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

293 (
»suÉ
);

294 
	}
}

296 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UHADD16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

298 
ušt32_t
 
»suÉ
;

300 
__ASM
 vŞ©("uhadd16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

301 (
»suÉ
);

302 
	}
}

304 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SSUB16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

306 
ušt32_t
 
»suÉ
;

308 
__ASM
 vŞ©("ssub16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

309 (
»suÉ
);

310 
	}
}

312 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__QSUB16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

314 
ušt32_t
 
»suÉ
;

316 
__ASM
 vŞ©("qsub16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

317 (
»suÉ
);

318 
	}
}

320 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SHSUB16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

322 
ušt32_t
 
»suÉ
;

324 
__ASM
 vŞ©("shsub16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

325 (
»suÉ
);

326 
	}
}

328 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__USUB16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

330 
ušt32_t
 
»suÉ
;

332 
__ASM
 vŞ©("usub16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

333 (
»suÉ
);

334 
	}
}

336 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UQSUB16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

338 
ušt32_t
 
»suÉ
;

340 
__ASM
 vŞ©("uqsub16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

341 (
»suÉ
);

342 
	}
}

344 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UHSUB16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

346 
ušt32_t
 
»suÉ
;

348 
__ASM
 vŞ©("uhsub16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

349 (
»suÉ
);

350 
	}
}

352 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SASX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

354 
ušt32_t
 
»suÉ
;

356 
__ASM
 vŞ©("§sx %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

357 (
»suÉ
);

358 
	}
}

360 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__QASX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

362 
ušt32_t
 
»suÉ
;

364 
__ASM
 vŞ©("qasx %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

365 (
»suÉ
);

366 
	}
}

368 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SHASX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

370 
ušt32_t
 
»suÉ
;

372 
__ASM
 vŞ©("shasx %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

373 (
»suÉ
);

374 
	}
}

376 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UASX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

378 
ušt32_t
 
»suÉ
;

380 
__ASM
 vŞ©("uasx %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

381 (
»suÉ
);

382 
	}
}

384 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UQASX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

386 
ušt32_t
 
»suÉ
;

388 
__ASM
 vŞ©("uqasx %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

389 (
»suÉ
);

390 
	}
}

392 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UHASX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

394 
ušt32_t
 
»suÉ
;

396 
__ASM
 vŞ©("uhasx %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

397 (
»suÉ
);

398 
	}
}

400 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SSAX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

402 
ušt32_t
 
»suÉ
;

404 
__ASM
 vŞ©("s§x %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

405 (
»suÉ
);

406 
	}
}

408 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__QSAX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

410 
ušt32_t
 
»suÉ
;

412 
__ASM
 vŞ©("q§x %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

413 (
»suÉ
);

414 
	}
}

416 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SHSAX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

418 
ušt32_t
 
»suÉ
;

420 
__ASM
 vŞ©("sh§x %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

421 (
»suÉ
);

422 
	}
}

424 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__USAX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

426 
ušt32_t
 
»suÉ
;

428 
__ASM
 vŞ©("u§x %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

429 (
»suÉ
);

430 
	}
}

432 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UQSAX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

434 
ušt32_t
 
»suÉ
;

436 
__ASM
 vŞ©("uq§x %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

437 (
»suÉ
);

438 
	}
}

440 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UHSAX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

442 
ušt32_t
 
»suÉ
;

444 
__ASM
 vŞ©("uh§x %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

445 (
»suÉ
);

446 
	}
}

448 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__USAD8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

450 
ušt32_t
 
»suÉ
;

452 
__ASM
 vŞ©("u§d8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

453 (
»suÉ
);

454 
	}
}

456 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__USADA8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
, ušt32_ˆ
İ3
)

458 
ušt32_t
 
»suÉ
;

460 
__ASM
 vŞ©("u§da8 %0, %1, %2, %3" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
), "r" (
İ3
) );

461 (
»suÉ
);

462 
	}
}

464 
	#__SSAT16
(
ARG1
,
ARG2
) \

466 
ušt32_t
 
__RES
, 
__ARG1
 = (
ARG1
); \

467 
	`__ASM
 ("s§t16 %0, %1, %2" : "ô" (
__RES
è: "I" (
ARG2
), "r" (
__ARG1
) ); \

468 
__RES
; \

469 })

	)

471 
	#__USAT16
(
ARG1
,
ARG2
) \

473 
ušt32_t
 
__RES
, 
__ARG1
 = (
ARG1
); \

474 
	`__ASM
 ("u§t16 %0, %1, %2" : "ô" (
__RES
è: "I" (
ARG2
), "r" (
__ARG1
) ); \

475 
__RES
; \

476 })

	)

478 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UXTB16
(
ušt32_t
 
İ1
)

480 
ušt32_t
 
»suÉ
;

482 
__ASM
 vŞ©("uxtb16 %0, %1" : "ô" (
»suÉ
è: "r" (
İ1
));

483 (
»suÉ
);

484 
	}
}

486 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UXTAB16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

488 
ušt32_t
 
»suÉ
;

490 
__ASM
 vŞ©("uxb16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

491 (
»suÉ
);

492 
	}
}

494 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SXTB16
(
ušt32_t
 
İ1
)

496 
ušt32_t
 
»suÉ
;

498 
__ASM
 vŞ©("sxtb16 %0, %1" : "ô" (
»suÉ
è: "r" (
İ1
));

499 (
»suÉ
);

500 
	}
}

502 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SXTAB16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

504 
ušt32_t
 
»suÉ
;

506 
__ASM
 vŞ©("sxb16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

507 (
»suÉ
);

508 
	}
}

510 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SMUAD
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

512 
ušt32_t
 
»suÉ
;

514 
__ASM
 vŞ©("smuad %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

515 (
»suÉ
);

516 
	}
}

518 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SMUADX
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

520 
ušt32_t
 
»suÉ
;

522 
__ASM
 vŞ©("smuadx %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

523 (
»suÉ
);

524 
	}
}

526 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SMLAD
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
, ušt32_ˆ
İ3
)

528 
ušt32_t
 
»suÉ
;

530 
__ASM
 vŞ©("smÏd %0, %1, %2, %3" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
), "r" (
İ3
) );

531 (
»suÉ
);

532 
	}
}

534 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SMLADX
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
, ušt32_ˆ
İ3
)

536 
ušt32_t
 
»suÉ
;

538 
__ASM
 vŞ©("smÏdx %0, %1, %2, %3" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
), "r" (
İ3
) );

539 (
»suÉ
);

540 
	}
}

542 
	#__SMLALD
(
ARG1
,
ARG2
,
ARG3
) \

544 
ušt32_t
 
__ARG1
 = (
ARG1
), 
__ARG2
 = (
ARG2
), 
__ARG3_H
 = (ušt32_t)((
ušt64_t
)(
ARG3
è>> 32), 
__ARG3_L
 = (uint32_t)((uint64_t)(ARG3) & 0xFFFFFFFFUL); \

545 
__ASM
 vŞ©("smÏld %0, %1, %2, %3" : "ô" (
__ARG3_L
), "ô" (
__ARG3_H
è: "r" (
__ARG1
), "r" (
__ARG2
), "0" (__ARG3_L), "1" (__ARG3_H) ); \

546 (
ušt64_t
)(((ušt64_t)
__ARG3_H
 << 32è| 
__ARG3_L
); \

547 })

	)

549 
	#__SMLALDX
(
ARG1
,
ARG2
,
ARG3
) \

551 
ušt32_t
 
__ARG1
 = (
ARG1
), 
__ARG2
 = (
ARG2
), 
__ARG3_H
 = (ušt32_t)((
ušt64_t
)(
ARG3
è>> 32), 
__ARG3_L
 = (uint32_t)((uint64_t)(ARG3) & 0xFFFFFFFFUL); \

552 
__ASM
 vŞ©("smÏldx %0, %1, %2, %3" : "ô" (
__ARG3_L
), "ô" (
__ARG3_H
è: "r" (
__ARG1
), "r" (
__ARG2
), "0" (__ARG3_L), "1" (__ARG3_H) ); \

553 (
ušt64_t
)(((ušt64_t)
__ARG3_H
 << 32è| 
__ARG3_L
); \

554 })

	)

556 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SMUSD
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

558 
ušt32_t
 
»suÉ
;

560 
__ASM
 vŞ©("smusd %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

561 (
»suÉ
);

562 
	}
}

564 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SMUSDX
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

566 
ušt32_t
 
»suÉ
;

568 
__ASM
 vŞ©("smusdx %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

569 (
»suÉ
);

570 
	}
}

572 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SMLSD
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
, ušt32_ˆ
İ3
)

574 
ušt32_t
 
»suÉ
;

576 
__ASM
 vŞ©("smlsd %0, %1, %2, %3" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
), "r" (
İ3
) );

577 (
»suÉ
);

578 
	}
}

580 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SMLSDX
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
, ušt32_ˆ
İ3
)

582 
ušt32_t
 
»suÉ
;

584 
__ASM
 vŞ©("smlsdx %0, %1, %2, %3" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
), "r" (
İ3
) );

585 (
»suÉ
);

586 
	}
}

588 
	#__SMLSLD
(
ARG1
,
ARG2
,
ARG3
) \

590 
ušt32_t
 
__ARG1
 = (
ARG1
), 
__ARG2
 = (
ARG2
), 
__ARG3_H
 = (ušt32_t)((
ARG3
è>> 32), 
__ARG3_L
 = (uint32_t)((ARG3) & 0xFFFFFFFFUL); \

591 
__ASM
 vŞ©("sml¦d %0, %1, %2, %3" : "ô" (
__ARG3_L
), "ô" (
__ARG3_H
è: "r" (
__ARG1
), "r" (
__ARG2
), "0" (__ARG3_L), "1" (__ARG3_H) ); \

592 (
ušt64_t
)(((ušt64_t)
__ARG3_H
 << 32è| 
__ARG3_L
); \

593 })

	)

595 
	#__SMLSLDX
(
ARG1
,
ARG2
,
ARG3
) \

597 
ušt32_t
 
__ARG1
 = (
ARG1
), 
__ARG2
 = (
ARG2
), 
__ARG3_H
 = (ušt32_t)((
ARG3
è>> 32), 
__ARG3_L
 = (uint32_t)((ARG3) & 0xFFFFFFFFUL); \

598 
__ASM
 vŞ©("sml¦dx %0, %1, %2, %3" : "ô" (
__ARG3_L
), "ô" (
__ARG3_H
è: "r" (
__ARG1
), "r" (
__ARG2
), "0" (__ARG3_L), "1" (__ARG3_H) ); \

599 (
ušt64_t
)(((ušt64_t)
__ARG3_H
 << 32è| 
__ARG3_L
); \

600 })

	)

602 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SEL
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

604 
ušt32_t
 
»suÉ
;

606 
__ASM
 vŞ©("£È%0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

607 (
»suÉ
);

608 
	}
}

610 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__QADD
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

612 
ušt32_t
 
»suÉ
;

614 
__ASM
 vŞ©("qadd %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

615 (
»suÉ
);

616 
	}
}

618 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__QSUB
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

620 
ušt32_t
 
»suÉ
;

622 
__ASM
 vŞ©("qsub %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

623 (
»suÉ
);

624 
	}
}

626 
	#__PKHBT
(
ARG1
,
ARG2
,
ARG3
) \

628 
ušt32_t
 
__RES
, 
__ARG1
 = (
ARG1
), 
__ARG2
 = (
ARG2
); \

629 
	`__ASM
 ("pkhbˆ%0, %1, %2,†¦ %3" : "ô" (
__RES
è: "r" (
__ARG1
), "r" (
__ARG2
), "I" (
ARG3
) ); \

630 
__RES
; \

631 })

	)

633 
	#__PKHTB
(
ARG1
,
ARG2
,
ARG3
) \

635 
ušt32_t
 
__RES
, 
__ARG1
 = (
ARG1
), 
__ARG2
 = (
ARG2
); \

636 ià(
ARG3
 == 0) \

637 
	`__ASM
 ("pkhtb %0, %1, %2" : "ô" (
__RES
è: "r" (
__ARG1
), "r" (
__ARG2
) ); \

639 
	`__ASM
 ("pkhtb %0, %1, %2,‡¤ %3" : "ô" (
__RES
è: "r" (
__ARG1
), "r" (
__ARG2
), "I" (
ARG3
) ); \

640 
__RES
; \

641 })

	)

643 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SMMLA
 (
št32_t
 
İ1
, iÁ32_ˆ
İ2
, iÁ32_ˆ
İ3
)

645 
št32_t
 
»suÉ
;

647 
__ASM
 vŞ©("smmÏ %0, %1, %2, %3" : "ô" (
»suÉ
): "r" (
İ1
), "r" (
İ2
), "r" (
İ3
) );

648 (
»suÉ
);

649 
	}
}

655 #–ià
defšed
 ( 
__TASKING__
 )

671 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_cm7.h

38 #ià
defšed
 ( 
__ICCARM__
 )

39 #´agm¨
sy¡em_šşude


42 #iâdeà
__CORE_CM7_H_GENERIC


43 
	#__CORE_CM7_H_GENERIC


	)

45 #ifdeà
__ılu¥lus


71 
	#__CM7_CMSIS_VERSION_MAIN
 (0x04è

	)

72 
	#__CM7_CMSIS_VERSION_SUB
 (0x00è

	)

73 
	#__CM7_CMSIS_VERSION
 ((
__CM7_CMSIS_VERSION_MAIN
 << 16) | \

74 
__CM7_CMSIS_VERSION_SUB
 )

	)

76 
	#__CORTEX_M
 (0x07è

	)

79 #ià 
defšed
 ( 
__CC_ARM
 )

80 
	#__ASM
 
__asm


	)

81 
	#__INLINE
 
__šlše


	)

82 
	#__STATIC_INLINE
 
__šlše


	)

84 #–ià
defšed
 ( 
__GNUC__
 )

85 
	#__ASM
 
__asm


	)

86 
	#__INLINE
 
šlše


	)

87 
	#__STATIC_INLINE
 
šlše


	)

89 #–ià
defšed
 ( 
__ICCARM__
 )

90 
	#__ASM
 
__asm


	)

91 
	#__INLINE
 
šlše


	)

92 
	#__STATIC_INLINE
 
šlše


	)

94 #–ià
defšed
 ( 
__TMS470__
 )

95 
	#__ASM
 
__asm


	)

96 
	#__STATIC_INLINE
 
šlše


	)

98 #–ià
defšed
 ( 
__TASKING__
 )

99 
	#__ASM
 
__asm


	)

100 
	#__INLINE
 
šlše


	)

101 
	#__STATIC_INLINE
 
šlše


	)

103 #–ià
defšed
 ( 
__CSMC__
 )

104 
	#__·cked


	)

105 
	#__ASM
 
_asm


	)

106 
	#__INLINE
 
šlše


	)

107 
	#__STATIC_INLINE
 
šlše


	)

114 #ià
defšed
 ( 
__CC_ARM
 )

115 #ià
defšed
 
__TARGET_FPU_VFP


116 #ià(
__FPU_PRESENT
 == 1)

117 
	#__FPU_USED
 1

	)

120 
	#__FPU_USED
 0

	)

123 
	#__FPU_USED
 0

	)

126 #–ià
defšed
 ( 
__GNUC__
 )

127 #ià
defšed
 (
__VFP_FP__
è&& !defšed(
__SOFTFP__
)

128 #ià(
__FPU_PRESENT
 == 1)

129 
	#__FPU_USED
 1

	)

132 
	#__FPU_USED
 0

	)

135 
	#__FPU_USED
 0

	)

138 #–ià
defšed
 ( 
__ICCARM__
 )

139 #ià
defšed
 
__ARMVFP__


140 #ià(
__FPU_PRESENT
 == 1)

141 
	#__FPU_USED
 1

	)

144 
	#__FPU_USED
 0

	)

147 
	#__FPU_USED
 0

	)

150 #–ià
defšed
 ( 
__TMS470__
 )

151 #ià
defšed
 
__TI_VFP_SUPPORT__


152 #ià(
__FPU_PRESENT
 == 1)

153 
	#__FPU_USED
 1

	)

156 
	#__FPU_USED
 0

	)

159 
	#__FPU_USED
 0

	)

162 #–ià
defšed
 ( 
__TASKING__
 )

163 #ià
defšed
 
__FPU_VFP__


164 #ià(
__FPU_PRESENT
 == 1)

165 
	#__FPU_USED
 1

	)

168 
	#__FPU_USED
 0

	)

171 
	#__FPU_USED
 0

	)

174 #–ià
defšed
 ( 
__CSMC__
 )

175 #iàĞ
__CSMC__
 & 0x400)

176 #ià(
__FPU_PRESENT
 == 1)

177 
	#__FPU_USED
 1

	)

180 
	#__FPU_USED
 0

	)

183 
	#__FPU_USED
 0

	)

187 
	~<¡dšt.h
>

188 
	~<cÜe_cmIn¡r.h
>

189 
	~<cÜe_cmFunc.h
>

190 
	~<cÜe_cmSimd.h
>

192 #ifdeà
__ılu¥lus


198 #iâdeà
__CMSIS_GENERIC


200 #iâdeà
__CORE_CM7_H_DEPENDANT


201 
	#__CORE_CM7_H_DEPENDANT


	)

203 #ifdeà
__ılu¥lus


208 #ià
defšed
 
__CHECK_DEVICE_DEFINES


209 #iâdeà
__CM7_REV


210 
	#__CM7_REV
 0x0000

	)

214 #iâdeà
__FPU_PRESENT


215 
	#__FPU_PRESENT
 0

	)

219 #iâdeà
__MPU_PRESENT


220 
	#__MPU_PRESENT
 0

	)

224 #iâdeà
__ICACHE_PRESENT


225 
	#__ICACHE_PRESENT
 0

	)

229 #iâdeà
__DCACHE_PRESENT


230 
	#__DCACHE_PRESENT
 0

	)

234 #iâdeà
__DTCM_PRESENT


235 
	#__DTCM_PRESENT
 0

	)

239 #iâdeà
__NVIC_PRIO_BITS


240 
	#__NVIC_PRIO_BITS
 3

	)

244 #iâdeà
__V’dÜ_SysTickCÚfig


245 
	#__V’dÜ_SysTickCÚfig
 0

	)

258 #ifdeà
__ılu¥lus


259 
	#__I
 vŞ©

	)

261 
	#__I
 vŞ©cÚ¡

	)

263 
	#__O
 vŞ©

	)

264 
	#__IO
 vŞ©

	)

297 
ušt32_t
 
_»£rved0
:16;

298 
ušt32_t
 
GE
:4;

299 
ušt32_t
 
_»£rved1
:7;

300 
ušt32_t
 
Q
:1;

301 
ušt32_t
 
V
:1;

302 
ušt32_t
 
C
:1;

303 
ušt32_t
 
Z
:1;

304 
ušt32_t
 
N
:1;

305 } 
b
;

306 
ušt32_t
 
w
;

307 } 
	tAPSR_Ty³
;

310 
	#APSR_N_Pos
 31

	)

311 
	#APSR_N_Msk
 (1UL << 
APSR_N_Pos
è

	)

313 
	#APSR_Z_Pos
 30

	)

314 
	#APSR_Z_Msk
 (1UL << 
APSR_Z_Pos
è

	)

316 
	#APSR_C_Pos
 29

	)

317 
	#APSR_C_Msk
 (1UL << 
APSR_C_Pos
è

	)

319 
	#APSR_V_Pos
 28

	)

320 
	#APSR_V_Msk
 (1UL << 
APSR_V_Pos
è

	)

322 
	#APSR_Q_Pos
 27

	)

323 
	#APSR_Q_Msk
 (1UL << 
APSR_Q_Pos
è

	)

325 
	#APSR_GE_Pos
 16

	)

326 
	#APSR_GE_Msk
 (0xFUL << 
APSR_GE_Pos
è

	)

335 
ušt32_t
 
ISR
:9;

336 
ušt32_t
 
_»£rved0
:23;

337 } 
b
;

338 
ušt32_t
 
w
;

339 } 
	tIPSR_Ty³
;

342 
	#IPSR_ISR_Pos
 0

	)

343 
	#IPSR_ISR_Msk
 (0x1FFUL )

	)

352 
ušt32_t
 
ISR
:9;

353 
ušt32_t
 
_»£rved0
:7;

354 
ušt32_t
 
GE
:4;

355 
ušt32_t
 
_»£rved1
:4;

356 
ušt32_t
 
T
:1;

357 
ušt32_t
 
IT
:2;

358 
ušt32_t
 
Q
:1;

359 
ušt32_t
 
V
:1;

360 
ušt32_t
 
C
:1;

361 
ušt32_t
 
Z
:1;

362 
ušt32_t
 
N
:1;

363 } 
b
;

364 
ušt32_t
 
w
;

365 } 
	txPSR_Ty³
;

368 
	#xPSR_N_Pos
 31

	)

369 
	#xPSR_N_Msk
 (1UL << 
xPSR_N_Pos
è

	)

371 
	#xPSR_Z_Pos
 30

	)

372 
	#xPSR_Z_Msk
 (1UL << 
xPSR_Z_Pos
è

	)

374 
	#xPSR_C_Pos
 29

	)

375 
	#xPSR_C_Msk
 (1UL << 
xPSR_C_Pos
è

	)

377 
	#xPSR_V_Pos
 28

	)

378 
	#xPSR_V_Msk
 (1UL << 
xPSR_V_Pos
è

	)

380 
	#xPSR_Q_Pos
 27

	)

381 
	#xPSR_Q_Msk
 (1UL << 
xPSR_Q_Pos
è

	)

383 
	#xPSR_IT_Pos
 25

	)

384 
	#xPSR_IT_Msk
 (3UL << 
xPSR_IT_Pos
è

	)

386 
	#xPSR_T_Pos
 24

	)

387 
	#xPSR_T_Msk
 (1UL << 
xPSR_T_Pos
è

	)

389 
	#xPSR_GE_Pos
 16

	)

390 
	#xPSR_GE_Msk
 (0xFUL << 
xPSR_GE_Pos
è

	)

392 
	#xPSR_ISR_Pos
 0

	)

393 
	#xPSR_ISR_Msk
 (0x1FFUL )

	)

402 
ušt32_t
 
nPRIV
:1;

403 
ušt32_t
 
SPSEL
:1;

404 
ušt32_t
 
FPCA
:1;

405 
ušt32_t
 
_»£rved0
:29;

406 } 
b
;

407 
ušt32_t
 
w
;

408 } 
	tCONTROL_Ty³
;

411 
	#CONTROL_FPCA_Pos
 2

	)

412 
	#CONTROL_FPCA_Msk
 (1UL << 
CONTROL_FPCA_Pos
è

	)

414 
	#CONTROL_SPSEL_Pos
 1

	)

415 
	#CONTROL_SPSEL_Msk
 (1UL << 
CONTROL_SPSEL_Pos
è

	)

417 
	#CONTROL_nPRIV_Pos
 0

	)

418 
	#CONTROL_nPRIV_Msk
 (1UL )

	)

433 
__IO
 
ušt32_t
 
ISER
[8];

434 
ušt32_t
 
RESERVED0
[24];

435 
__IO
 
ušt32_t
 
ICER
[8];

436 
ušt32_t
 
RSERVED1
[24];

437 
__IO
 
ušt32_t
 
ISPR
[8];

438 
ušt32_t
 
RESERVED2
[24];

439 
__IO
 
ušt32_t
 
ICPR
[8];

440 
ušt32_t
 
RESERVED3
[24];

441 
__IO
 
ušt32_t
 
IABR
[8];

442 
ušt32_t
 
RESERVED4
[56];

443 
__IO
 
ušt8_t
 
IP
[240];

444 
ušt32_t
 
RESERVED5
[644];

445 
__O
 
ušt32_t
 
STIR
;

446 } 
	tNVIC_Ty³
;

449 
	#NVIC_STIR_INTID_Pos
 0

	)

450 
	#NVIC_STIR_INTID_Msk
 (0x1FFUL )

	)

465 
__I
 
ušt32_t
 
CPUID
;

466 
__IO
 
ušt32_t
 
ICSR
;

467 
__IO
 
ušt32_t
 
VTOR
;

468 
__IO
 
ušt32_t
 
AIRCR
;

469 
__IO
 
ušt32_t
 
SCR
;

470 
__IO
 
ušt32_t
 
CCR
;

471 
__IO
 
ušt8_t
 
SHPR
[12];

472 
__IO
 
ušt32_t
 
SHCSR
;

473 
__IO
 
ušt32_t
 
CFSR
;

474 
__IO
 
ušt32_t
 
HFSR
;

475 
__IO
 
ušt32_t
 
DFSR
;

476 
__IO
 
ušt32_t
 
MMFAR
;

477 
__IO
 
ušt32_t
 
BFAR
;

478 
__IO
 
ušt32_t
 
AFSR
;

479 
__I
 
ušt32_t
 
ID_PFR
[2];

480 
__I
 
ušt32_t
 
ID_DFR
;

481 
__I
 
ušt32_t
 
ID_AFR
;

482 
__I
 
ušt32_t
 
ID_MFR
[4];

483 
__I
 
ušt32_t
 
ID_ISAR
[5];

484 
ušt32_t
 
RESERVED0
[1];

485 
__I
 
ušt32_t
 
CLIDR
;

486 
__I
 
ušt32_t
 
CTR
;

487 
__I
 
ušt32_t
 
CCSIDR
;

488 
__IO
 
ušt32_t
 
CSSELR
;

489 
__IO
 
ušt32_t
 
CPACR
;

490 
ušt32_t
 
RESERVED3
[93];

491 
__O
 
ušt32_t
 
STIR
;

492 
ušt32_t
 
RESERVED4
[15];

493 
__I
 
ušt32_t
 
MVFR0
;

494 
__I
 
ušt32_t
 
MVFR1
;

495 
__I
 
ušt32_t
 
MVFR2
;

496 
ušt32_t
 
RESERVED5
[1];

497 
__O
 
ušt32_t
 
ICIALLU
;

498 
ušt32_t
 
RESERVED6
[1];

499 
__O
 
ušt32_t
 
ICIMVAU
;

500 
__O
 
ušt32_t
 
DCIMVAC
;

501 
__O
 
ušt32_t
 
DCISW
;

502 
__O
 
ušt32_t
 
DCCMVAU
;

503 
__O
 
ušt32_t
 
DCCMVAC
;

504 
__O
 
ušt32_t
 
DCCSW
;

505 
__O
 
ušt32_t
 
DCCIMVAC
;

506 
__O
 
ušt32_t
 
DCCISW
;

507 
ušt32_t
 
RESERVED7
[6];

508 
__IO
 
ušt32_t
 
ITCMCR
;

509 
__IO
 
ušt32_t
 
DTCMCR
;

510 
__IO
 
ušt32_t
 
AHBPCR
;

511 
__IO
 
ušt32_t
 
CACR
;

512 
__IO
 
ušt32_t
 
AHBSCR
;

513 
ušt32_t
 
RESERVED8
[1];

514 
__IO
 
ušt32_t
 
ABFSR
;

515 } 
	tSCB_Ty³
;

518 
	#SCB_CPUID_IMPLEMENTER_Pos
 24

	)

519 
	#SCB_CPUID_IMPLEMENTER_Msk
 (0xFFUL << 
SCB_CPUID_IMPLEMENTER_Pos
è

	)

521 
	#SCB_CPUID_VARIANT_Pos
 20

	)

522 
	#SCB_CPUID_VARIANT_Msk
 (0xFUL << 
SCB_CPUID_VARIANT_Pos
è

	)

524 
	#SCB_CPUID_ARCHITECTURE_Pos
 16

	)

525 
	#SCB_CPUID_ARCHITECTURE_Msk
 (0xFUL << 
SCB_CPUID_ARCHITECTURE_Pos
è

	)

527 
	#SCB_CPUID_PARTNO_Pos
 4

	)

528 
	#SCB_CPUID_PARTNO_Msk
 (0xFFFUL << 
SCB_CPUID_PARTNO_Pos
è

	)

530 
	#SCB_CPUID_REVISION_Pos
 0

	)

531 
	#SCB_CPUID_REVISION_Msk
 (0xFUL )

	)

534 
	#SCB_ICSR_NMIPENDSET_Pos
 31

	)

535 
	#SCB_ICSR_NMIPENDSET_Msk
 (1UL << 
SCB_ICSR_NMIPENDSET_Pos
è

	)

537 
	#SCB_ICSR_PENDSVSET_Pos
 28

	)

538 
	#SCB_ICSR_PENDSVSET_Msk
 (1UL << 
SCB_ICSR_PENDSVSET_Pos
è

	)

540 
	#SCB_ICSR_PENDSVCLR_Pos
 27

	)

541 
	#SCB_ICSR_PENDSVCLR_Msk
 (1UL << 
SCB_ICSR_PENDSVCLR_Pos
è

	)

543 
	#SCB_ICSR_PENDSTSET_Pos
 26

	)

544 
	#SCB_ICSR_PENDSTSET_Msk
 (1UL << 
SCB_ICSR_PENDSTSET_Pos
è

	)

546 
	#SCB_ICSR_PENDSTCLR_Pos
 25

	)

547 
	#SCB_ICSR_PENDSTCLR_Msk
 (1UL << 
SCB_ICSR_PENDSTCLR_Pos
è

	)

549 
	#SCB_ICSR_ISRPREEMPT_Pos
 23

	)

550 
	#SCB_ICSR_ISRPREEMPT_Msk
 (1UL << 
SCB_ICSR_ISRPREEMPT_Pos
è

	)

552 
	#SCB_ICSR_ISRPENDING_Pos
 22

	)

553 
	#SCB_ICSR_ISRPENDING_Msk
 (1UL << 
SCB_ICSR_ISRPENDING_Pos
è

	)

555 
	#SCB_ICSR_VECTPENDING_Pos
 12

	)

556 
	#SCB_ICSR_VECTPENDING_Msk
 (0x1FFUL << 
SCB_ICSR_VECTPENDING_Pos
è

	)

558 
	#SCB_ICSR_RETTOBASE_Pos
 11

	)

559 
	#SCB_ICSR_RETTOBASE_Msk
 (1UL << 
SCB_ICSR_RETTOBASE_Pos
è

	)

561 
	#SCB_ICSR_VECTACTIVE_Pos
 0

	)

562 
	#SCB_ICSR_VECTACTIVE_Msk
 (0x1FFUL )

	)

565 
	#SCB_VTOR_TBLOFF_Pos
 7

	)

566 
	#SCB_VTOR_TBLOFF_Msk
 (0x1FFFFFFUL << 
SCB_VTOR_TBLOFF_Pos
è

	)

569 
	#SCB_AIRCR_VECTKEY_Pos
 16

	)

570 
	#SCB_AIRCR_VECTKEY_Msk
 (0xFFFFUL << 
SCB_AIRCR_VECTKEY_Pos
è

	)

572 
	#SCB_AIRCR_VECTKEYSTAT_Pos
 16

	)

573 
	#SCB_AIRCR_VECTKEYSTAT_Msk
 (0xFFFFUL << 
SCB_AIRCR_VECTKEYSTAT_Pos
è

	)

575 
	#SCB_AIRCR_ENDIANESS_Pos
 15

	)

576 
	#SCB_AIRCR_ENDIANESS_Msk
 (1UL << 
SCB_AIRCR_ENDIANESS_Pos
è

	)

578 
	#SCB_AIRCR_PRIGROUP_Pos
 8

	)

579 
	#SCB_AIRCR_PRIGROUP_Msk
 (7UL << 
SCB_AIRCR_PRIGROUP_Pos
è

	)

581 
	#SCB_AIRCR_SYSRESETREQ_Pos
 2

	)

582 
	#SCB_AIRCR_SYSRESETREQ_Msk
 (1UL << 
SCB_AIRCR_SYSRESETREQ_Pos
è

	)

584 
	#SCB_AIRCR_VECTCLRACTIVE_Pos
 1

	)

585 
	#SCB_AIRCR_VECTCLRACTIVE_Msk
 (1UL << 
SCB_AIRCR_VECTCLRACTIVE_Pos
è

	)

587 
	#SCB_AIRCR_VECTRESET_Pos
 0

	)

588 
	#SCB_AIRCR_VECTRESET_Msk
 (1UL )

	)

591 
	#SCB_SCR_SEVONPEND_Pos
 4

	)

592 
	#SCB_SCR_SEVONPEND_Msk
 (1UL << 
SCB_SCR_SEVONPEND_Pos
è

	)

594 
	#SCB_SCR_SLEEPDEEP_Pos
 2

	)

595 
	#SCB_SCR_SLEEPDEEP_Msk
 (1UL << 
SCB_SCR_SLEEPDEEP_Pos
è

	)

597 
	#SCB_SCR_SLEEPONEXIT_Pos
 1

	)

598 
	#SCB_SCR_SLEEPONEXIT_Msk
 (1UL << 
SCB_SCR_SLEEPONEXIT_Pos
è

	)

601 
	#SCB_CCR_BP_Pos
 18

	)

602 
	#SCB_CCR_BP_Msk
 (1UL << 
SCB_CCR_BP_Pos
è

	)

604 
	#SCB_CCR_IC_Pos
 17

	)

605 
	#SCB_CCR_IC_Msk
 (1UL << 
SCB_CCR_IC_Pos
è

	)

607 
	#SCB_CCR_DC_Pos
 16

	)

608 
	#SCB_CCR_DC_Msk
 (1UL << 
SCB_CCR_DC_Pos
è

	)

610 
	#SCB_CCR_STKALIGN_Pos
 9

	)

611 
	#SCB_CCR_STKALIGN_Msk
 (1UL << 
SCB_CCR_STKALIGN_Pos
è

	)

613 
	#SCB_CCR_BFHFNMIGN_Pos
 8

	)

614 
	#SCB_CCR_BFHFNMIGN_Msk
 (1UL << 
SCB_CCR_BFHFNMIGN_Pos
è

	)

616 
	#SCB_CCR_DIV_0_TRP_Pos
 4

	)

617 
	#SCB_CCR_DIV_0_TRP_Msk
 (1UL << 
SCB_CCR_DIV_0_TRP_Pos
è

	)

619 
	#SCB_CCR_UNALIGN_TRP_Pos
 3

	)

620 
	#SCB_CCR_UNALIGN_TRP_Msk
 (1UL << 
SCB_CCR_UNALIGN_TRP_Pos
è

	)

622 
	#SCB_CCR_USERSETMPEND_Pos
 1

	)

623 
	#SCB_CCR_USERSETMPEND_Msk
 (1UL << 
SCB_CCR_USERSETMPEND_Pos
è

	)

625 
	#SCB_CCR_NONBASETHRDENA_Pos
 0

	)

626 
	#SCB_CCR_NONBASETHRDENA_Msk
 (1UL )

	)

629 
	#SCB_SHCSR_USGFAULTENA_Pos
 18

	)

630 
	#SCB_SHCSR_USGFAULTENA_Msk
 (1UL << 
SCB_SHCSR_USGFAULTENA_Pos
è

	)

632 
	#SCB_SHCSR_BUSFAULTENA_Pos
 17

	)

633 
	#SCB_SHCSR_BUSFAULTENA_Msk
 (1UL << 
SCB_SHCSR_BUSFAULTENA_Pos
è

	)

635 
	#SCB_SHCSR_MEMFAULTENA_Pos
 16

	)

636 
	#SCB_SHCSR_MEMFAULTENA_Msk
 (1UL << 
SCB_SHCSR_MEMFAULTENA_Pos
è

	)

638 
	#SCB_SHCSR_SVCALLPENDED_Pos
 15

	)

639 
	#SCB_SHCSR_SVCALLPENDED_Msk
 (1UL << 
SCB_SHCSR_SVCALLPENDED_Pos
è

	)

641 
	#SCB_SHCSR_BUSFAULTPENDED_Pos
 14

	)

642 
	#SCB_SHCSR_BUSFAULTPENDED_Msk
 (1UL << 
SCB_SHCSR_BUSFAULTPENDED_Pos
è

	)

644 
	#SCB_SHCSR_MEMFAULTPENDED_Pos
 13

	)

645 
	#SCB_SHCSR_MEMFAULTPENDED_Msk
 (1UL << 
SCB_SHCSR_MEMFAULTPENDED_Pos
è

	)

647 
	#SCB_SHCSR_USGFAULTPENDED_Pos
 12

	)

648 
	#SCB_SHCSR_USGFAULTPENDED_Msk
 (1UL << 
SCB_SHCSR_USGFAULTPENDED_Pos
è

	)

650 
	#SCB_SHCSR_SYSTICKACT_Pos
 11

	)

651 
	#SCB_SHCSR_SYSTICKACT_Msk
 (1UL << 
SCB_SHCSR_SYSTICKACT_Pos
è

	)

653 
	#SCB_SHCSR_PENDSVACT_Pos
 10

	)

654 
	#SCB_SHCSR_PENDSVACT_Msk
 (1UL << 
SCB_SHCSR_PENDSVACT_Pos
è

	)

656 
	#SCB_SHCSR_MONITORACT_Pos
 8

	)

657 
	#SCB_SHCSR_MONITORACT_Msk
 (1UL << 
SCB_SHCSR_MONITORACT_Pos
è

	)

659 
	#SCB_SHCSR_SVCALLACT_Pos
 7

	)

660 
	#SCB_SHCSR_SVCALLACT_Msk
 (1UL << 
SCB_SHCSR_SVCALLACT_Pos
è

	)

662 
	#SCB_SHCSR_USGFAULTACT_Pos
 3

	)

663 
	#SCB_SHCSR_USGFAULTACT_Msk
 (1UL << 
SCB_SHCSR_USGFAULTACT_Pos
è

	)

665 
	#SCB_SHCSR_BUSFAULTACT_Pos
 1

	)

666 
	#SCB_SHCSR_BUSFAULTACT_Msk
 (1UL << 
SCB_SHCSR_BUSFAULTACT_Pos
è

	)

668 
	#SCB_SHCSR_MEMFAULTACT_Pos
 0

	)

669 
	#SCB_SHCSR_MEMFAULTACT_Msk
 (1UL )

	)

672 
	#SCB_CFSR_USGFAULTSR_Pos
 16

	)

673 
	#SCB_CFSR_USGFAULTSR_Msk
 (0xFFFFUL << 
SCB_CFSR_USGFAULTSR_Pos
è

	)

675 
	#SCB_CFSR_BUSFAULTSR_Pos
 8

	)

676 
	#SCB_CFSR_BUSFAULTSR_Msk
 (0xFFUL << 
SCB_CFSR_BUSFAULTSR_Pos
è

	)

678 
	#SCB_CFSR_MEMFAULTSR_Pos
 0

	)

679 
	#SCB_CFSR_MEMFAULTSR_Msk
 (0xFFUL )

	)

682 
	#SCB_HFSR_DEBUGEVT_Pos
 31

	)

683 
	#SCB_HFSR_DEBUGEVT_Msk
 (1UL << 
SCB_HFSR_DEBUGEVT_Pos
è

	)

685 
	#SCB_HFSR_FORCED_Pos
 30

	)

686 
	#SCB_HFSR_FORCED_Msk
 (1UL << 
SCB_HFSR_FORCED_Pos
è

	)

688 
	#SCB_HFSR_VECTTBL_Pos
 1

	)

689 
	#SCB_HFSR_VECTTBL_Msk
 (1UL << 
SCB_HFSR_VECTTBL_Pos
è

	)

692 
	#SCB_DFSR_EXTERNAL_Pos
 4

	)

693 
	#SCB_DFSR_EXTERNAL_Msk
 (1UL << 
SCB_DFSR_EXTERNAL_Pos
è

	)

695 
	#SCB_DFSR_VCATCH_Pos
 3

	)

696 
	#SCB_DFSR_VCATCH_Msk
 (1UL << 
SCB_DFSR_VCATCH_Pos
è

	)

698 
	#SCB_DFSR_DWTTRAP_Pos
 2

	)

699 
	#SCB_DFSR_DWTTRAP_Msk
 (1UL << 
SCB_DFSR_DWTTRAP_Pos
è

	)

701 
	#SCB_DFSR_BKPT_Pos
 1

	)

702 
	#SCB_DFSR_BKPT_Msk
 (1UL << 
SCB_DFSR_BKPT_Pos
è

	)

704 
	#SCB_DFSR_HALTED_Pos
 0

	)

705 
	#SCB_DFSR_HALTED_Msk
 (1UL )

	)

708 
	#SCB_CLIDR_LOUU_Pos
 27

	)

709 
	#SCB_CLIDR_LOUU_Msk
 (7UL << 
SCB_CLIDR_LOUU_Pos
è

	)

711 
	#SCB_CLIDR_LOC_Pos
 24

	)

712 
	#SCB_CLIDR_LOC_Msk
 (7UL << 
SCB_CLIDR_FORMAT_Pos
è

	)

715 
	#SCB_CTR_FORMAT_Pos
 29

	)

716 
	#SCB_CTR_FORMAT_Msk
 (7UL << 
SCB_CTR_FORMAT_Pos
è

	)

718 
	#SCB_CTR_CWG_Pos
 24

	)

719 
	#SCB_CTR_CWG_Msk
 (0xFUL << 
SCB_CTR_CWG_Pos
è

	)

721 
	#SCB_CTR_ERG_Pos
 20

	)

722 
	#SCB_CTR_ERG_Msk
 (0xFUL << 
SCB_CTR_ERG_Pos
è

	)

724 
	#SCB_CTR_DMINLINE_Pos
 16

	)

725 
	#SCB_CTR_DMINLINE_Msk
 (0xFUL << 
SCB_CTR_DMINLINE_Pos
è

	)

727 
	#SCB_CTR_IMINLINE_Pos
 0

	)

728 
	#SCB_CTR_IMINLINE_Msk
 (0xFUL )

	)

731 
	#SCB_CCSIDR_WT_Pos
 31

	)

732 
	#SCB_CCSIDR_WT_Msk
 (7UL << 
SCB_CCSIDR_WT_Pos
è

	)

734 
	#SCB_CCSIDR_WB_Pos
 30

	)

735 
	#SCB_CCSIDR_WB_Msk
 (7UL << 
SCB_CCSIDR_WB_Pos
è

	)

737 
	#SCB_CCSIDR_RA_Pos
 29

	)

738 
	#SCB_CCSIDR_RA_Msk
 (7UL << 
SCB_CCSIDR_RA_Pos
è

	)

740 
	#SCB_CCSIDR_WA_Pos
 28

	)

741 
	#SCB_CCSIDR_WA_Msk
 (7UL << 
SCB_CCSIDR_WA_Pos
è

	)

743 
	#SCB_CCSIDR_NUMSETS_Pos
 13

	)

744 
	#SCB_CCSIDR_NUMSETS_Msk
 (0x7FFFUL << 
SCB_CCSIDR_NUMSETS_Pos
è

	)

746 
	#SCB_CCSIDR_ASSOCIATIVITY_Pos
 3

	)

747 
	#SCB_CCSIDR_ASSOCIATIVITY_Msk
 (0x3FFUL << 
SCB_CCSIDR_ASSOCIATIVITY_Pos
è

	)

749 
	#SCB_CCSIDR_LINESIZE_Pos
 0

	)

750 
	#SCB_CCSIDR_LINESIZE_Msk
 (7UL )

	)

753 
	#SCB_CSSELR_LEVEL_Pos
 1

	)

754 
	#SCB_CSSELR_LEVEL_Msk
 (7UL << 
SCB_CSSELR_LEVEL_Pos
è

	)

756 
	#SCB_CSSELR_IND_Pos
 0

	)

757 
	#SCB_CSSELR_IND_Msk
 (1UL )

	)

760 
	#SCB_STIR_INTID_Pos
 0

	)

761 
	#SCB_STIR_INTID_Msk
 (0x1FFUL )

	)

764 
	#SCB_ITCMCR_SZ_Pos
 3

	)

765 
	#SCB_ITCMCR_SZ_Msk
 (0xFUL << 
SCB_ITCMCR_SZ_Pos
è

	)

767 
	#SCB_ITCMCR_RETEN_Pos
 2

	)

768 
	#SCB_ITCMCR_RETEN_Msk
 (1UL << 
SCB_ITCMCR_RETEN_Pos
è

	)

770 
	#SCB_ITCMCR_RMW_Pos
 1

	)

771 
	#SCB_ITCMCR_RMW_Msk
 (1UL << 
SCB_ITCMCR_RMW_Pos
è

	)

773 
	#SCB_ITCMCR_EN_Pos
 0

	)

774 
	#SCB_ITCMCR_EN_Msk
 (1UL )

	)

777 
	#SCB_DTCMCR_SZ_Pos
 3

	)

778 
	#SCB_DTCMCR_SZ_Msk
 (0xFUL << 
SCB_DTCMCR_SZ_Pos
è

	)

780 
	#SCB_DTCMCR_RETEN_Pos
 2

	)

781 
	#SCB_DTCMCR_RETEN_Msk
 (1UL << 
SCB_DTCMCR_RETEN_Pos
è

	)

783 
	#SCB_DTCMCR_RMW_Pos
 1

	)

784 
	#SCB_DTCMCR_RMW_Msk
 (1UL << 
SCB_DTCMCR_RMW_Pos
è

	)

786 
	#SCB_DTCMCR_EN_Pos
 0

	)

787 
	#SCB_DTCMCR_EN_Msk
 (1UL )

	)

790 
	#SCB_AHBPCR_SZ_Pos
 1

	)

791 
	#SCB_AHBPCR_SZ_Msk
 (7UL << 
SCB_AHBPCR_SZ_Pos
è

	)

793 
	#SCB_AHBPCR_EN_Pos
 0

	)

794 
	#SCB_AHBPCR_EN_Msk
 (1UL )

	)

797 
	#SCB_CACR_FORCEWT_Pos
 2

	)

798 
	#SCB_CACR_FORCEWT_Msk
 (1UL << 
SCB_CACR_FORCEWT_Pos
è

	)

800 
	#SCB_CACR_ECCEN_Pos
 1

	)

801 
	#SCB_CACR_ECCEN_Msk
 (1UL << 
SCB_CACR_ECCEN_Pos
è

	)

803 
	#SCB_CACR_SIWT_Pos
 0

	)

804 
	#SCB_CACR_SIWT_Msk
 (1UL )

	)

807 
	#SCB_AHBSCR_INITCOUNT_Pos
 11

	)

808 
	#SCB_AHBSCR_INITCOUNT_Msk
 (0x1FUL << 
SCB_AHBPCR_INITCOUNT_Pos
è

	)

810 
	#SCB_AHBSCR_TPRI_Pos
 2

	)

811 
	#SCB_AHBSCR_TPRI_Msk
 (0x1FFUL << 
SCB_AHBPCR_TPRI_Pos
è

	)

813 
	#SCB_AHBSCR_CTL_Pos
 0

	)

814 
	#SCB_AHBSCR_CTL_Msk
 (3UL )

	)

817 
	#SCB_ABFSR_AXIMTYPE_Pos
 8

	)

818 
	#SCB_ABFSR_AXIMTYPE_Msk
 (3UL << 
SCB_ABFSR_AXIMTYPE_Pos
è

	)

820 
	#SCB_ABFSR_EPPB_Pos
 4

	)

821 
	#SCB_ABFSR_EPPB_Msk
 (1UL << 
SCB_ABFSR_EPPB_Pos
è

	)

823 
	#SCB_ABFSR_AXIM_Pos
 3

	)

824 
	#SCB_ABFSR_AXIM_Msk
 (1UL << 
SCB_ABFSR_AXIM_Pos
è

	)

826 
	#SCB_ABFSR_AHBP_Pos
 2

	)

827 
	#SCB_ABFSR_AHBP_Msk
 (1UL << 
SCB_ABFSR_AHBP_Pos
è

	)

829 
	#SCB_ABFSR_DTCM_Pos
 1

	)

830 
	#SCB_ABFSR_DTCM_Msk
 (1UL << 
SCB_ABFSR_DTCM_Pos
è

	)

832 
	#SCB_ABFSR_ITCM_Pos
 0

	)

833 
	#SCB_ABFSR_ITCM_Msk
 (1UL )

	)

848 
ušt32_t
 
RESERVED0
[1];

849 
__I
 
ušt32_t
 
ICTR
;

850 
__IO
 
ušt32_t
 
ACTLR
;

851 } 
	tSCnSCB_Ty³
;

854 
	#SCnSCB_ICTR_INTLINESNUM_Pos
 0

	)

855 
	#SCnSCB_ICTR_INTLINESNUM_Msk
 (0xFUL )

	)

858 
	#SCnSCB_ACTLR_DISITMATBFLUSH_Pos
 12

	)

859 
	#SCnSCB_ACTLR_DISITMATBFLUSH_Msk
 (1UL << 
SCnSCB_ACTLR_DISITMATBFLUSH_Pos
è

	)

861 
	#SCnSCB_ACTLR_DISRAMODE_Pos
 11

	)

862 
	#SCnSCB_ACTLR_DISRAMODE_Msk
 (1UL << 
SCnSCB_ACTLR_DISRAMODE_Pos
è

	)

864 
	#SCnSCB_ACTLR_FPEXCODIS_Pos
 10

	)

865 
	#SCnSCB_ACTLR_FPEXCODIS_Msk
 (1UL << 
SCnSCB_ACTLR_FPEXCODIS_Pos
è

	)

867 
	#SCnSCB_ACTLR_DISFOLD_Pos
 2

	)

868 
	#SCnSCB_ACTLR_DISFOLD_Msk
 (1UL << 
SCnSCB_ACTLR_DISFOLD_Pos
è

	)

870 
	#SCnSCB_ACTLR_DISMCYCINT_Pos
 0

	)

871 
	#SCnSCB_ACTLR_DISMCYCINT_Msk
 (1UL )

	)

886 
__IO
 
ušt32_t
 
CTRL
;

887 
__IO
 
ušt32_t
 
LOAD
;

888 
__IO
 
ušt32_t
 
VAL
;

889 
__I
 
ušt32_t
 
CALIB
;

890 } 
	tSysTick_Ty³
;

893 
	#SysTick_CTRL_COUNTFLAG_Pos
 16

	)

894 
	#SysTick_CTRL_COUNTFLAG_Msk
 (1UL << 
SysTick_CTRL_COUNTFLAG_Pos
è

	)

896 
	#SysTick_CTRL_CLKSOURCE_Pos
 2

	)

897 
	#SysTick_CTRL_CLKSOURCE_Msk
 (1UL << 
SysTick_CTRL_CLKSOURCE_Pos
è

	)

899 
	#SysTick_CTRL_TICKINT_Pos
 1

	)

900 
	#SysTick_CTRL_TICKINT_Msk
 (1UL << 
SysTick_CTRL_TICKINT_Pos
è

	)

902 
	#SysTick_CTRL_ENABLE_Pos
 0

	)

903 
	#SysTick_CTRL_ENABLE_Msk
 (1UL )

	)

906 
	#SysTick_LOAD_RELOAD_Pos
 0

	)

907 
	#SysTick_LOAD_RELOAD_Msk
 (0xFFFFFFUL )

	)

910 
	#SysTick_VAL_CURRENT_Pos
 0

	)

911 
	#SysTick_VAL_CURRENT_Msk
 (0xFFFFFFUL )

	)

914 
	#SysTick_CALIB_NOREF_Pos
 31

	)

915 
	#SysTick_CALIB_NOREF_Msk
 (1UL << 
SysTick_CALIB_NOREF_Pos
è

	)

917 
	#SysTick_CALIB_SKEW_Pos
 30

	)

918 
	#SysTick_CALIB_SKEW_Msk
 (1UL << 
SysTick_CALIB_SKEW_Pos
è

	)

920 
	#SysTick_CALIB_TENMS_Pos
 0

	)

921 
	#SysTick_CALIB_TENMS_Msk
 (0xFFFFFFUL )

	)

936 
__O
 union

938 
__O
 
ušt8_t
 
u8
;

939 
__O
 
ušt16_t
 
u16
;

940 
__O
 
ušt32_t
 
u32
;

941 } 
PORT
 [32];

942 
ušt32_t
 
RESERVED0
[864];

943 
__IO
 
ušt32_t
 
TER
;

944 
ušt32_t
 
RESERVED1
[15];

945 
__IO
 
ušt32_t
 
TPR
;

946 
ušt32_t
 
RESERVED2
[15];

947 
__IO
 
ušt32_t
 
TCR
;

948 
ušt32_t
 
RESERVED3
[29];

949 
__O
 
ušt32_t
 
IWR
;

950 
__I
 
ušt32_t
 
IRR
;

951 
__IO
 
ušt32_t
 
IMCR
;

952 
ušt32_t
 
RESERVED4
[43];

953 
__O
 
ušt32_t
 
LAR
;

954 
__I
 
ušt32_t
 
LSR
;

955 
ušt32_t
 
RESERVED5
[6];

956 
__I
 
ušt32_t
 
PID4
;

957 
__I
 
ušt32_t
 
PID5
;

958 
__I
 
ušt32_t
 
PID6
;

959 
__I
 
ušt32_t
 
PID7
;

960 
__I
 
ušt32_t
 
PID0
;

961 
__I
 
ušt32_t
 
PID1
;

962 
__I
 
ušt32_t
 
PID2
;

963 
__I
 
ušt32_t
 
PID3
;

964 
__I
 
ušt32_t
 
CID0
;

965 
__I
 
ušt32_t
 
CID1
;

966 
__I
 
ušt32_t
 
CID2
;

967 
__I
 
ušt32_t
 
CID3
;

968 } 
	tITM_Ty³
;

971 
	#ITM_TPR_PRIVMASK_Pos
 0

	)

972 
	#ITM_TPR_PRIVMASK_Msk
 (0xFUL )

	)

975 
	#ITM_TCR_BUSY_Pos
 23

	)

976 
	#ITM_TCR_BUSY_Msk
 (1UL << 
ITM_TCR_BUSY_Pos
è

	)

978 
	#ITM_TCR_T¿ûBusID_Pos
 16

	)

979 
	#ITM_TCR_T¿ûBusID_Msk
 (0x7FUL << 
ITM_TCR_T¿ûBusID_Pos
è

	)

981 
	#ITM_TCR_GTSFREQ_Pos
 10

	)

982 
	#ITM_TCR_GTSFREQ_Msk
 (3UL << 
ITM_TCR_GTSFREQ_Pos
è

	)

984 
	#ITM_TCR_TSP»sÿË_Pos
 8

	)

985 
	#ITM_TCR_TSP»sÿË_Msk
 (3UL << 
ITM_TCR_TSP»sÿË_Pos
è

	)

987 
	#ITM_TCR_SWOENA_Pos
 4

	)

988 
	#ITM_TCR_SWOENA_Msk
 (1UL << 
ITM_TCR_SWOENA_Pos
è

	)

990 
	#ITM_TCR_DWTENA_Pos
 3

	)

991 
	#ITM_TCR_DWTENA_Msk
 (1UL << 
ITM_TCR_DWTENA_Pos
è

	)

993 
	#ITM_TCR_SYNCENA_Pos
 2

	)

994 
	#ITM_TCR_SYNCENA_Msk
 (1UL << 
ITM_TCR_SYNCENA_Pos
è

	)

996 
	#ITM_TCR_TSENA_Pos
 1

	)

997 
	#ITM_TCR_TSENA_Msk
 (1UL << 
ITM_TCR_TSENA_Pos
è

	)

999 
	#ITM_TCR_ITMENA_Pos
 0

	)

1000 
	#ITM_TCR_ITMENA_Msk
 (1UL )

	)

1003 
	#ITM_IWR_ATVALIDM_Pos
 0

	)

1004 
	#ITM_IWR_ATVALIDM_Msk
 (1UL )

	)

1007 
	#ITM_IRR_ATREADYM_Pos
 0

	)

1008 
	#ITM_IRR_ATREADYM_Msk
 (1UL )

	)

1011 
	#ITM_IMCR_INTEGRATION_Pos
 0

	)

1012 
	#ITM_IMCR_INTEGRATION_Msk
 (1UL )

	)

1015 
	#ITM_LSR_By‹Acc_Pos
 2

	)

1016 
	#ITM_LSR_By‹Acc_Msk
 (1UL << 
ITM_LSR_By‹Acc_Pos
è

	)

1018 
	#ITM_LSR_Acûss_Pos
 1

	)

1019 
	#ITM_LSR_Acûss_Msk
 (1UL << 
ITM_LSR_Acûss_Pos
è

	)

1021 
	#ITM_LSR_P»£Á_Pos
 0

	)

1022 
	#ITM_LSR_P»£Á_Msk
 (1UL )

	)

1037 
__IO
 
ušt32_t
 
CTRL
;

1038 
__IO
 
ušt32_t
 
CYCCNT
;

1039 
__IO
 
ušt32_t
 
CPICNT
;

1040 
__IO
 
ušt32_t
 
EXCCNT
;

1041 
__IO
 
ušt32_t
 
SLEEPCNT
;

1042 
__IO
 
ušt32_t
 
LSUCNT
;

1043 
__IO
 
ušt32_t
 
FOLDCNT
;

1044 
__I
 
ušt32_t
 
PCSR
;

1045 
__IO
 
ušt32_t
 
COMP0
;

1046 
__IO
 
ušt32_t
 
MASK0
;

1047 
__IO
 
ušt32_t
 
FUNCTION0
;

1048 
ušt32_t
 
RESERVED0
[1];

1049 
__IO
 
ušt32_t
 
COMP1
;

1050 
__IO
 
ušt32_t
 
MASK1
;

1051 
__IO
 
ušt32_t
 
FUNCTION1
;

1052 
ušt32_t
 
RESERVED1
[1];

1053 
__IO
 
ušt32_t
 
COMP2
;

1054 
__IO
 
ušt32_t
 
MASK2
;

1055 
__IO
 
ušt32_t
 
FUNCTION2
;

1056 
ušt32_t
 
RESERVED2
[1];

1057 
__IO
 
ušt32_t
 
COMP3
;

1058 
__IO
 
ušt32_t
 
MASK3
;

1059 
__IO
 
ušt32_t
 
FUNCTION3
;

1060 
ušt32_t
 
RESERVED3
[981];

1061 
__O
 
ušt32_t
 
LAR
;

1062 
__I
 
ušt32_t
 
LSR
;

1063 } 
	tDWT_Ty³
;

1066 
	#DWT_CTRL_NUMCOMP_Pos
 28

	)

1067 
	#DWT_CTRL_NUMCOMP_Msk
 (0xFUL << 
DWT_CTRL_NUMCOMP_Pos
è

	)

1069 
	#DWT_CTRL_NOTRCPKT_Pos
 27

	)

1070 
	#DWT_CTRL_NOTRCPKT_Msk
 (0x1UL << 
DWT_CTRL_NOTRCPKT_Pos
è

	)

1072 
	#DWT_CTRL_NOEXTTRIG_Pos
 26

	)

1073 
	#DWT_CTRL_NOEXTTRIG_Msk
 (0x1UL << 
DWT_CTRL_NOEXTTRIG_Pos
è

	)

1075 
	#DWT_CTRL_NOCYCCNT_Pos
 25

	)

1076 
	#DWT_CTRL_NOCYCCNT_Msk
 (0x1UL << 
DWT_CTRL_NOCYCCNT_Pos
è

	)

1078 
	#DWT_CTRL_NOPRFCNT_Pos
 24

	)

1079 
	#DWT_CTRL_NOPRFCNT_Msk
 (0x1UL << 
DWT_CTRL_NOPRFCNT_Pos
è

	)

1081 
	#DWT_CTRL_CYCEVTENA_Pos
 22

	)

1082 
	#DWT_CTRL_CYCEVTENA_Msk
 (0x1UL << 
DWT_CTRL_CYCEVTENA_Pos
è

	)

1084 
	#DWT_CTRL_FOLDEVTENA_Pos
 21

	)

1085 
	#DWT_CTRL_FOLDEVTENA_Msk
 (0x1UL << 
DWT_CTRL_FOLDEVTENA_Pos
è

	)

1087 
	#DWT_CTRL_LSUEVTENA_Pos
 20

	)

1088 
	#DWT_CTRL_LSUEVTENA_Msk
 (0x1UL << 
DWT_CTRL_LSUEVTENA_Pos
è

	)

1090 
	#DWT_CTRL_SLEEPEVTENA_Pos
 19

	)

1091 
	#DWT_CTRL_SLEEPEVTENA_Msk
 (0x1UL << 
DWT_CTRL_SLEEPEVTENA_Pos
è

	)

1093 
	#DWT_CTRL_EXCEVTENA_Pos
 18

	)

1094 
	#DWT_CTRL_EXCEVTENA_Msk
 (0x1UL << 
DWT_CTRL_EXCEVTENA_Pos
è

	)

1096 
	#DWT_CTRL_CPIEVTENA_Pos
 17

	)

1097 
	#DWT_CTRL_CPIEVTENA_Msk
 (0x1UL << 
DWT_CTRL_CPIEVTENA_Pos
è

	)

1099 
	#DWT_CTRL_EXCTRCENA_Pos
 16

	)

1100 
	#DWT_CTRL_EXCTRCENA_Msk
 (0x1UL << 
DWT_CTRL_EXCTRCENA_Pos
è

	)

1102 
	#DWT_CTRL_PCSAMPLENA_Pos
 12

	)

1103 
	#DWT_CTRL_PCSAMPLENA_Msk
 (0x1UL << 
DWT_CTRL_PCSAMPLENA_Pos
è

	)

1105 
	#DWT_CTRL_SYNCTAP_Pos
 10

	)

1106 
	#DWT_CTRL_SYNCTAP_Msk
 (0x3UL << 
DWT_CTRL_SYNCTAP_Pos
è

	)

1108 
	#DWT_CTRL_CYCTAP_Pos
 9

	)

1109 
	#DWT_CTRL_CYCTAP_Msk
 (0x1UL << 
DWT_CTRL_CYCTAP_Pos
è

	)

1111 
	#DWT_CTRL_POSTINIT_Pos
 5

	)

1112 
	#DWT_CTRL_POSTINIT_Msk
 (0xFUL << 
DWT_CTRL_POSTINIT_Pos
è

	)

1114 
	#DWT_CTRL_POSTPRESET_Pos
 1

	)

1115 
	#DWT_CTRL_POSTPRESET_Msk
 (0xFUL << 
DWT_CTRL_POSTPRESET_Pos
è

	)

1117 
	#DWT_CTRL_CYCCNTENA_Pos
 0

	)

1118 
	#DWT_CTRL_CYCCNTENA_Msk
 (0x1UL )

	)

1121 
	#DWT_CPICNT_CPICNT_Pos
 0

	)

1122 
	#DWT_CPICNT_CPICNT_Msk
 (0xFFUL )

	)

1125 
	#DWT_EXCCNT_EXCCNT_Pos
 0

	)

1126 
	#DWT_EXCCNT_EXCCNT_Msk
 (0xFFUL )

	)

1129 
	#DWT_SLEEPCNT_SLEEPCNT_Pos
 0

	)

1130 
	#DWT_SLEEPCNT_SLEEPCNT_Msk
 (0xFFUL )

	)

1133 
	#DWT_LSUCNT_LSUCNT_Pos
 0

	)

1134 
	#DWT_LSUCNT_LSUCNT_Msk
 (0xFFUL )

	)

1137 
	#DWT_FOLDCNT_FOLDCNT_Pos
 0

	)

1138 
	#DWT_FOLDCNT_FOLDCNT_Msk
 (0xFFUL )

	)

1141 
	#DWT_MASK_MASK_Pos
 0

	)

1142 
	#DWT_MASK_MASK_Msk
 (0x1FUL )

	)

1145 
	#DWT_FUNCTION_MATCHED_Pos
 24

	)

1146 
	#DWT_FUNCTION_MATCHED_Msk
 (0x1UL << 
DWT_FUNCTION_MATCHED_Pos
è

	)

1148 
	#DWT_FUNCTION_DATAVADDR1_Pos
 16

	)

1149 
	#DWT_FUNCTION_DATAVADDR1_Msk
 (0xFUL << 
DWT_FUNCTION_DATAVADDR1_Pos
è

	)

1151 
	#DWT_FUNCTION_DATAVADDR0_Pos
 12

	)

1152 
	#DWT_FUNCTION_DATAVADDR0_Msk
 (0xFUL << 
DWT_FUNCTION_DATAVADDR0_Pos
è

	)

1154 
	#DWT_FUNCTION_DATAVSIZE_Pos
 10

	)

1155 
	#DWT_FUNCTION_DATAVSIZE_Msk
 (0x3UL << 
DWT_FUNCTION_DATAVSIZE_Pos
è

	)

1157 
	#DWT_FUNCTION_LNK1ENA_Pos
 9

	)

1158 
	#DWT_FUNCTION_LNK1ENA_Msk
 (0x1UL << 
DWT_FUNCTION_LNK1ENA_Pos
è

	)

1160 
	#DWT_FUNCTION_DATAVMATCH_Pos
 8

	)

1161 
	#DWT_FUNCTION_DATAVMATCH_Msk
 (0x1UL << 
DWT_FUNCTION_DATAVMATCH_Pos
è

	)

1163 
	#DWT_FUNCTION_CYCMATCH_Pos
 7

	)

1164 
	#DWT_FUNCTION_CYCMATCH_Msk
 (0x1UL << 
DWT_FUNCTION_CYCMATCH_Pos
è

	)

1166 
	#DWT_FUNCTION_EMITRANGE_Pos
 5

	)

1167 
	#DWT_FUNCTION_EMITRANGE_Msk
 (0x1UL << 
DWT_FUNCTION_EMITRANGE_Pos
è

	)

1169 
	#DWT_FUNCTION_FUNCTION_Pos
 0

	)

1170 
	#DWT_FUNCTION_FUNCTION_Msk
 (0xFUL )

	)

1185 
__IO
 
ušt32_t
 
SSPSR
;

1186 
__IO
 
ušt32_t
 
CSPSR
;

1187 
ušt32_t
 
RESERVED0
[2];

1188 
__IO
 
ušt32_t
 
ACPR
;

1189 
ušt32_t
 
RESERVED1
[55];

1190 
__IO
 
ušt32_t
 
SPPR
;

1191 
ušt32_t
 
RESERVED2
[131];

1192 
__I
 
ušt32_t
 
FFSR
;

1193 
__IO
 
ušt32_t
 
FFCR
;

1194 
__I
 
ušt32_t
 
FSCR
;

1195 
ušt32_t
 
RESERVED3
[759];

1196 
__I
 
ušt32_t
 
TRIGGER
;

1197 
__I
 
ušt32_t
 
FIFO0
;

1198 
__I
 
ušt32_t
 
ITATBCTR2
;

1199 
ušt32_t
 
RESERVED4
[1];

1200 
__I
 
ušt32_t
 
ITATBCTR0
;

1201 
__I
 
ušt32_t
 
FIFO1
;

1202 
__IO
 
ušt32_t
 
ITCTRL
;

1203 
ušt32_t
 
RESERVED5
[39];

1204 
__IO
 
ušt32_t
 
CLAIMSET
;

1205 
__IO
 
ušt32_t
 
CLAIMCLR
;

1206 
ušt32_t
 
RESERVED7
[8];

1207 
__I
 
ušt32_t
 
DEVID
;

1208 
__I
 
ušt32_t
 
DEVTYPE
;

1209 } 
	tTPI_Ty³
;

1212 
	#TPI_ACPR_PRESCALER_Pos
 0

	)

1213 
	#TPI_ACPR_PRESCALER_Msk
 (0x1FFFUL )

	)

1216 
	#TPI_SPPR_TXMODE_Pos
 0

	)

1217 
	#TPI_SPPR_TXMODE_Msk
 (0x3UL )

	)

1220 
	#TPI_FFSR_FtNÚStİ_Pos
 3

	)

1221 
	#TPI_FFSR_FtNÚStİ_Msk
 (0x1UL << 
TPI_FFSR_FtNÚStİ_Pos
è

	)

1223 
	#TPI_FFSR_TCP»£Á_Pos
 2

	)

1224 
	#TPI_FFSR_TCP»£Á_Msk
 (0x1UL << 
TPI_FFSR_TCP»£Á_Pos
è

	)

1226 
	#TPI_FFSR_FtStİ³d_Pos
 1

	)

1227 
	#TPI_FFSR_FtStİ³d_Msk
 (0x1UL << 
TPI_FFSR_FtStİ³d_Pos
è

	)

1229 
	#TPI_FFSR_FlInProg_Pos
 0

	)

1230 
	#TPI_FFSR_FlInProg_Msk
 (0x1UL )

	)

1233 
	#TPI_FFCR_TrigIn_Pos
 8

	)

1234 
	#TPI_FFCR_TrigIn_Msk
 (0x1UL << 
TPI_FFCR_TrigIn_Pos
è

	)

1236 
	#TPI_FFCR_EnFCÚt_Pos
 1

	)

1237 
	#TPI_FFCR_EnFCÚt_Msk
 (0x1UL << 
TPI_FFCR_EnFCÚt_Pos
è

	)

1240 
	#TPI_TRIGGER_TRIGGER_Pos
 0

	)

1241 
	#TPI_TRIGGER_TRIGGER_Msk
 (0x1UL )

	)

1244 
	#TPI_FIFO0_ITM_ATVALID_Pos
 29

	)

1245 
	#TPI_FIFO0_ITM_ATVALID_Msk
 (0x3UL << 
TPI_FIFO0_ITM_ATVALID_Pos
è

	)

1247 
	#TPI_FIFO0_ITM_by‹couÁ_Pos
 27

	)

1248 
	#TPI_FIFO0_ITM_by‹couÁ_Msk
 (0x3UL << 
TPI_FIFO0_ITM_by‹couÁ_Pos
è

	)

1250 
	#TPI_FIFO0_ETM_ATVALID_Pos
 26

	)

1251 
	#TPI_FIFO0_ETM_ATVALID_Msk
 (0x3UL << 
TPI_FIFO0_ETM_ATVALID_Pos
è

	)

1253 
	#TPI_FIFO0_ETM_by‹couÁ_Pos
 24

	)

1254 
	#TPI_FIFO0_ETM_by‹couÁ_Msk
 (0x3UL << 
TPI_FIFO0_ETM_by‹couÁ_Pos
è

	)

1256 
	#TPI_FIFO0_ETM2_Pos
 16

	)

1257 
	#TPI_FIFO0_ETM2_Msk
 (0xFFUL << 
TPI_FIFO0_ETM2_Pos
è

	)

1259 
	#TPI_FIFO0_ETM1_Pos
 8

	)

1260 
	#TPI_FIFO0_ETM1_Msk
 (0xFFUL << 
TPI_FIFO0_ETM1_Pos
è

	)

1262 
	#TPI_FIFO0_ETM0_Pos
 0

	)

1263 
	#TPI_FIFO0_ETM0_Msk
 (0xFFUL )

	)

1266 
	#TPI_ITATBCTR2_ATREADY_Pos
 0

	)

1267 
	#TPI_ITATBCTR2_ATREADY_Msk
 (0x1UL )

	)

1270 
	#TPI_FIFO1_ITM_ATVALID_Pos
 29

	)

1271 
	#TPI_FIFO1_ITM_ATVALID_Msk
 (0x3UL << 
TPI_FIFO1_ITM_ATVALID_Pos
è

	)

1273 
	#TPI_FIFO1_ITM_by‹couÁ_Pos
 27

	)

1274 
	#TPI_FIFO1_ITM_by‹couÁ_Msk
 (0x3UL << 
TPI_FIFO1_ITM_by‹couÁ_Pos
è

	)

1276 
	#TPI_FIFO1_ETM_ATVALID_Pos
 26

	)

1277 
	#TPI_FIFO1_ETM_ATVALID_Msk
 (0x3UL << 
TPI_FIFO1_ETM_ATVALID_Pos
è

	)

1279 
	#TPI_FIFO1_ETM_by‹couÁ_Pos
 24

	)

1280 
	#TPI_FIFO1_ETM_by‹couÁ_Msk
 (0x3UL << 
TPI_FIFO1_ETM_by‹couÁ_Pos
è

	)

1282 
	#TPI_FIFO1_ITM2_Pos
 16

	)

1283 
	#TPI_FIFO1_ITM2_Msk
 (0xFFUL << 
TPI_FIFO1_ITM2_Pos
è

	)

1285 
	#TPI_FIFO1_ITM1_Pos
 8

	)

1286 
	#TPI_FIFO1_ITM1_Msk
 (0xFFUL << 
TPI_FIFO1_ITM1_Pos
è

	)

1288 
	#TPI_FIFO1_ITM0_Pos
 0

	)

1289 
	#TPI_FIFO1_ITM0_Msk
 (0xFFUL )

	)

1292 
	#TPI_ITATBCTR0_ATREADY_Pos
 0

	)

1293 
	#TPI_ITATBCTR0_ATREADY_Msk
 (0x1UL )

	)

1296 
	#TPI_ITCTRL_Mode_Pos
 0

	)

1297 
	#TPI_ITCTRL_Mode_Msk
 (0x1UL )

	)

1300 
	#TPI_DEVID_NRZVALID_Pos
 11

	)

1301 
	#TPI_DEVID_NRZVALID_Msk
 (0x1UL << 
TPI_DEVID_NRZVALID_Pos
è

	)

1303 
	#TPI_DEVID_MANCVALID_Pos
 10

	)

1304 
	#TPI_DEVID_MANCVALID_Msk
 (0x1UL << 
TPI_DEVID_MANCVALID_Pos
è

	)

1306 
	#TPI_DEVID_PTINVALID_Pos
 9

	)

1307 
	#TPI_DEVID_PTINVALID_Msk
 (0x1UL << 
TPI_DEVID_PTINVALID_Pos
è

	)

1309 
	#TPI_DEVID_MšBufSz_Pos
 6

	)

1310 
	#TPI_DEVID_MšBufSz_Msk
 (0x7UL << 
TPI_DEVID_MšBufSz_Pos
è

	)

1312 
	#TPI_DEVID_AsynClkIn_Pos
 5

	)

1313 
	#TPI_DEVID_AsynClkIn_Msk
 (0x1UL << 
TPI_DEVID_AsynClkIn_Pos
è

	)

1315 
	#TPI_DEVID_NrT¿ûIÅut_Pos
 0

	)

1316 
	#TPI_DEVID_NrT¿ûIÅut_Msk
 (0x1FUL )

	)

1319 
	#TPI_DEVTYPE_MajÜTy³_Pos
 4

	)

1320 
	#TPI_DEVTYPE_MajÜTy³_Msk
 (0xFUL << 
TPI_DEVTYPE_MajÜTy³_Pos
è

	)

1322 
	#TPI_DEVTYPE_SubTy³_Pos
 0

	)

1323 
	#TPI_DEVTYPE_SubTy³_Msk
 (0xFUL )

	)

1328 #ià(
__MPU_PRESENT
 == 1)

1339 
__I
 
ušt32_t
 
TYPE
;

1340 
__IO
 
ušt32_t
 
CTRL
;

1341 
__IO
 
ušt32_t
 
RNR
;

1342 
__IO
 
ušt32_t
 
RBAR
;

1343 
__IO
 
ušt32_t
 
RASR
;

1344 
__IO
 
ušt32_t
 
RBAR_A1
;

1345 
__IO
 
ušt32_t
 
RASR_A1
;

1346 
__IO
 
ušt32_t
 
RBAR_A2
;

1347 
__IO
 
ušt32_t
 
RASR_A2
;

1348 
__IO
 
ušt32_t
 
RBAR_A3
;

1349 
__IO
 
ušt32_t
 
RASR_A3
;

1350 } 
	tMPU_Ty³
;

1353 
	#MPU_TYPE_IREGION_Pos
 16

	)

1354 
	#MPU_TYPE_IREGION_Msk
 (0xFFUL << 
MPU_TYPE_IREGION_Pos
è

	)

1356 
	#MPU_TYPE_DREGION_Pos
 8

	)

1357 
	#MPU_TYPE_DREGION_Msk
 (0xFFUL << 
MPU_TYPE_DREGION_Pos
è

	)

1359 
	#MPU_TYPE_SEPARATE_Pos
 0

	)

1360 
	#MPU_TYPE_SEPARATE_Msk
 (1UL )

	)

1363 
	#MPU_CTRL_PRIVDEFENA_Pos
 2

	)

1364 
	#MPU_CTRL_PRIVDEFENA_Msk
 (1UL << 
MPU_CTRL_PRIVDEFENA_Pos
è

	)

1366 
	#MPU_CTRL_HFNMIENA_Pos
 1

	)

1367 
	#MPU_CTRL_HFNMIENA_Msk
 (1UL << 
MPU_CTRL_HFNMIENA_Pos
è

	)

1369 
	#MPU_CTRL_ENABLE_Pos
 0

	)

1370 
	#MPU_CTRL_ENABLE_Msk
 (1UL )

	)

1373 
	#MPU_RNR_REGION_Pos
 0

	)

1374 
	#MPU_RNR_REGION_Msk
 (0xFFUL )

	)

1377 
	#MPU_RBAR_ADDR_Pos
 5

	)

1378 
	#MPU_RBAR_ADDR_Msk
 (0x7FFFFFFUL << 
MPU_RBAR_ADDR_Pos
è

	)

1380 
	#MPU_RBAR_VALID_Pos
 4

	)

1381 
	#MPU_RBAR_VALID_Msk
 (1UL << 
MPU_RBAR_VALID_Pos
è

	)

1383 
	#MPU_RBAR_REGION_Pos
 0

	)

1384 
	#MPU_RBAR_REGION_Msk
 (0xFUL )

	)

1387 
	#MPU_RASR_ATTRS_Pos
 16

	)

1388 
	#MPU_RASR_ATTRS_Msk
 (0xFFFFUL << 
MPU_RASR_ATTRS_Pos
è

	)

1390 
	#MPU_RASR_XN_Pos
 28

	)

1391 
	#MPU_RASR_XN_Msk
 (1UL << 
MPU_RASR_XN_Pos
è

	)

1393 
	#MPU_RASR_AP_Pos
 24

	)

1394 
	#MPU_RASR_AP_Msk
 (0x7UL << 
MPU_RASR_AP_Pos
è

	)

1396 
	#MPU_RASR_TEX_Pos
 19

	)

1397 
	#MPU_RASR_TEX_Msk
 (0x7UL << 
MPU_RASR_TEX_Pos
è

	)

1399 
	#MPU_RASR_S_Pos
 18

	)

1400 
	#MPU_RASR_S_Msk
 (1UL << 
MPU_RASR_S_Pos
è

	)

1402 
	#MPU_RASR_C_Pos
 17

	)

1403 
	#MPU_RASR_C_Msk
 (1UL << 
MPU_RASR_C_Pos
è

	)

1405 
	#MPU_RASR_B_Pos
 16

	)

1406 
	#MPU_RASR_B_Msk
 (1UL << 
MPU_RASR_B_Pos
è

	)

1408 
	#MPU_RASR_SRD_Pos
 8

	)

1409 
	#MPU_RASR_SRD_Msk
 (0xFFUL << 
MPU_RASR_SRD_Pos
è

	)

1411 
	#MPU_RASR_SIZE_Pos
 1

	)

1412 
	#MPU_RASR_SIZE_Msk
 (0x1FUL << 
MPU_RASR_SIZE_Pos
è

	)

1414 
	#MPU_RASR_ENABLE_Pos
 0

	)

1415 
	#MPU_RASR_ENABLE_Msk
 (1UL )

	)

1421 #ià(
__FPU_PRESENT
 == 1)

1432 
ušt32_t
 
RESERVED0
[1];

1433 
__IO
 
ušt32_t
 
FPCCR
;

1434 
__IO
 
ušt32_t
 
FPCAR
;

1435 
__IO
 
ušt32_t
 
FPDSCR
;

1436 
__I
 
ušt32_t
 
MVFR0
;

1437 
__I
 
ušt32_t
 
MVFR1
;

1438 
__I
 
ušt32_t
 
MVFR2
;

1439 } 
	tFPU_Ty³
;

1442 
	#FPU_FPCCR_ASPEN_Pos
 31

	)

1443 
	#FPU_FPCCR_ASPEN_Msk
 (1UL << 
FPU_FPCCR_ASPEN_Pos
è

	)

1445 
	#FPU_FPCCR_LSPEN_Pos
 30

	)

1446 
	#FPU_FPCCR_LSPEN_Msk
 (1UL << 
FPU_FPCCR_LSPEN_Pos
è

	)

1448 
	#FPU_FPCCR_MONRDY_Pos
 8

	)

1449 
	#FPU_FPCCR_MONRDY_Msk
 (1UL << 
FPU_FPCCR_MONRDY_Pos
è

	)

1451 
	#FPU_FPCCR_BFRDY_Pos
 6

	)

1452 
	#FPU_FPCCR_BFRDY_Msk
 (1UL << 
FPU_FPCCR_BFRDY_Pos
è

	)

1454 
	#FPU_FPCCR_MMRDY_Pos
 5

	)

1455 
	#FPU_FPCCR_MMRDY_Msk
 (1UL << 
FPU_FPCCR_MMRDY_Pos
è

	)

1457 
	#FPU_FPCCR_HFRDY_Pos
 4

	)

1458 
	#FPU_FPCCR_HFRDY_Msk
 (1UL << 
FPU_FPCCR_HFRDY_Pos
è

	)

1460 
	#FPU_FPCCR_THREAD_Pos
 3

	)

1461 
	#FPU_FPCCR_THREAD_Msk
 (1UL << 
FPU_FPCCR_THREAD_Pos
è

	)

1463 
	#FPU_FPCCR_USER_Pos
 1

	)

1464 
	#FPU_FPCCR_USER_Msk
 (1UL << 
FPU_FPCCR_USER_Pos
è

	)

1466 
	#FPU_FPCCR_LSPACT_Pos
 0

	)

1467 
	#FPU_FPCCR_LSPACT_Msk
 (1UL )

	)

1470 
	#FPU_FPCAR_ADDRESS_Pos
 3

	)

1471 
	#FPU_FPCAR_ADDRESS_Msk
 (0x1FFFFFFFUL << 
FPU_FPCAR_ADDRESS_Pos
è

	)

1474 
	#FPU_FPDSCR_AHP_Pos
 26

	)

1475 
	#FPU_FPDSCR_AHP_Msk
 (1UL << 
FPU_FPDSCR_AHP_Pos
è

	)

1477 
	#FPU_FPDSCR_DN_Pos
 25

	)

1478 
	#FPU_FPDSCR_DN_Msk
 (1UL << 
FPU_FPDSCR_DN_Pos
è

	)

1480 
	#FPU_FPDSCR_FZ_Pos
 24

	)

1481 
	#FPU_FPDSCR_FZ_Msk
 (1UL << 
FPU_FPDSCR_FZ_Pos
è

	)

1483 
	#FPU_FPDSCR_RMode_Pos
 22

	)

1484 
	#FPU_FPDSCR_RMode_Msk
 (3UL << 
FPU_FPDSCR_RMode_Pos
è

	)

1487 
	#FPU_MVFR0_FP_roundšg_modes_Pos
 28

	)

1488 
	#FPU_MVFR0_FP_roundšg_modes_Msk
 (0xFUL << 
FPU_MVFR0_FP_roundšg_modes_Pos
è

	)

1490 
	#FPU_MVFR0_ShÜt_veùÜs_Pos
 24

	)

1491 
	#FPU_MVFR0_ShÜt_veùÜs_Msk
 (0xFUL << 
FPU_MVFR0_ShÜt_veùÜs_Pos
è

	)

1493 
	#FPU_MVFR0_Squ¬e_roÙ_Pos
 20

	)

1494 
	#FPU_MVFR0_Squ¬e_roÙ_Msk
 (0xFUL << 
FPU_MVFR0_Squ¬e_roÙ_Pos
è

	)

1496 
	#FPU_MVFR0_Divide_Pos
 16

	)

1497 
	#FPU_MVFR0_Divide_Msk
 (0xFUL << 
FPU_MVFR0_Divide_Pos
è

	)

1499 
	#FPU_MVFR0_FP_exûp_Œ­pšg_Pos
 12

	)

1500 
	#FPU_MVFR0_FP_exûp_Œ­pšg_Msk
 (0xFUL << 
FPU_MVFR0_FP_exûp_Œ­pšg_Pos
è

	)

1502 
	#FPU_MVFR0_DoubË_´ecisiÚ_Pos
 8

	)

1503 
	#FPU_MVFR0_DoubË_´ecisiÚ_Msk
 (0xFUL << 
FPU_MVFR0_DoubË_´ecisiÚ_Pos
è

	)

1505 
	#FPU_MVFR0_SšgË_´ecisiÚ_Pos
 4

	)

1506 
	#FPU_MVFR0_SšgË_´ecisiÚ_Msk
 (0xFUL << 
FPU_MVFR0_SšgË_´ecisiÚ_Pos
è

	)

1508 
	#FPU_MVFR0_A_SIMD_»gi¡”s_Pos
 0

	)

1509 
	#FPU_MVFR0_A_SIMD_»gi¡”s_Msk
 (0xFUL )

	)

1512 
	#FPU_MVFR1_FP_fu£d_MAC_Pos
 28

	)

1513 
	#FPU_MVFR1_FP_fu£d_MAC_Msk
 (0xFUL << 
FPU_MVFR1_FP_fu£d_MAC_Pos
è

	)

1515 
	#FPU_MVFR1_FP_HPFP_Pos
 24

	)

1516 
	#FPU_MVFR1_FP_HPFP_Msk
 (0xFUL << 
FPU_MVFR1_FP_HPFP_Pos
è

	)

1518 
	#FPU_MVFR1_D_NaN_mode_Pos
 4

	)

1519 
	#FPU_MVFR1_D_NaN_mode_Msk
 (0xFUL << 
FPU_MVFR1_D_NaN_mode_Pos
è

	)

1521 
	#FPU_MVFR1_FtZ_mode_Pos
 0

	)

1522 
	#FPU_MVFR1_FtZ_mode_Msk
 (0xFUL )

	)

1540 
__IO
 
ušt32_t
 
DHCSR
;

1541 
__O
 
ušt32_t
 
DCRSR
;

1542 
__IO
 
ušt32_t
 
DCRDR
;

1543 
__IO
 
ušt32_t
 
DEMCR
;

1544 } 
	tCÜeDebug_Ty³
;

1547 
	#CÜeDebug_DHCSR_DBGKEY_Pos
 16

	)

1548 
	#CÜeDebug_DHCSR_DBGKEY_Msk
 (0xFFFFUL << 
CÜeDebug_DHCSR_DBGKEY_Pos
è

	)

1550 
	#CÜeDebug_DHCSR_S_RESET_ST_Pos
 25

	)

1551 
	#CÜeDebug_DHCSR_S_RESET_ST_Msk
 (1UL << 
CÜeDebug_DHCSR_S_RESET_ST_Pos
è

	)

1553 
	#CÜeDebug_DHCSR_S_RETIRE_ST_Pos
 24

	)

1554 
	#CÜeDebug_DHCSR_S_RETIRE_ST_Msk
 (1UL << 
CÜeDebug_DHCSR_S_RETIRE_ST_Pos
è

	)

1556 
	#CÜeDebug_DHCSR_S_LOCKUP_Pos
 19

	)

1557 
	#CÜeDebug_DHCSR_S_LOCKUP_Msk
 (1UL << 
CÜeDebug_DHCSR_S_LOCKUP_Pos
è

	)

1559 
	#CÜeDebug_DHCSR_S_SLEEP_Pos
 18

	)

1560 
	#CÜeDebug_DHCSR_S_SLEEP_Msk
 (1UL << 
CÜeDebug_DHCSR_S_SLEEP_Pos
è

	)

1562 
	#CÜeDebug_DHCSR_S_HALT_Pos
 17

	)

1563 
	#CÜeDebug_DHCSR_S_HALT_Msk
 (1UL << 
CÜeDebug_DHCSR_S_HALT_Pos
è

	)

1565 
	#CÜeDebug_DHCSR_S_REGRDY_Pos
 16

	)

1566 
	#CÜeDebug_DHCSR_S_REGRDY_Msk
 (1UL << 
CÜeDebug_DHCSR_S_REGRDY_Pos
è

	)

1568 
	#CÜeDebug_DHCSR_C_SNAPSTALL_Pos
 5

	)

1569 
	#CÜeDebug_DHCSR_C_SNAPSTALL_Msk
 (1UL << 
CÜeDebug_DHCSR_C_SNAPSTALL_Pos
è

	)

1571 
	#CÜeDebug_DHCSR_C_MASKINTS_Pos
 3

	)

1572 
	#CÜeDebug_DHCSR_C_MASKINTS_Msk
 (1UL << 
CÜeDebug_DHCSR_C_MASKINTS_Pos
è

	)

1574 
	#CÜeDebug_DHCSR_C_STEP_Pos
 2

	)

1575 
	#CÜeDebug_DHCSR_C_STEP_Msk
 (1UL << 
CÜeDebug_DHCSR_C_STEP_Pos
è

	)

1577 
	#CÜeDebug_DHCSR_C_HALT_Pos
 1

	)

1578 
	#CÜeDebug_DHCSR_C_HALT_Msk
 (1UL << 
CÜeDebug_DHCSR_C_HALT_Pos
è

	)

1580 
	#CÜeDebug_DHCSR_C_DEBUGEN_Pos
 0

	)

1581 
	#CÜeDebug_DHCSR_C_DEBUGEN_Msk
 (1UL )

	)

1584 
	#CÜeDebug_DCRSR_REGWnR_Pos
 16

	)

1585 
	#CÜeDebug_DCRSR_REGWnR_Msk
 (1UL << 
CÜeDebug_DCRSR_REGWnR_Pos
è

	)

1587 
	#CÜeDebug_DCRSR_REGSEL_Pos
 0

	)

1588 
	#CÜeDebug_DCRSR_REGSEL_Msk
 (0x1FUL )

	)

1591 
	#CÜeDebug_DEMCR_TRCENA_Pos
 24

	)

1592 
	#CÜeDebug_DEMCR_TRCENA_Msk
 (1UL << 
CÜeDebug_DEMCR_TRCENA_Pos
è

	)

1594 
	#CÜeDebug_DEMCR_MON_REQ_Pos
 19

	)

1595 
	#CÜeDebug_DEMCR_MON_REQ_Msk
 (1UL << 
CÜeDebug_DEMCR_MON_REQ_Pos
è

	)

1597 
	#CÜeDebug_DEMCR_MON_STEP_Pos
 18

	)

1598 
	#CÜeDebug_DEMCR_MON_STEP_Msk
 (1UL << 
CÜeDebug_DEMCR_MON_STEP_Pos
è

	)

1600 
	#CÜeDebug_DEMCR_MON_PEND_Pos
 17

	)

1601 
	#CÜeDebug_DEMCR_MON_PEND_Msk
 (1UL << 
CÜeDebug_DEMCR_MON_PEND_Pos
è

	)

1603 
	#CÜeDebug_DEMCR_MON_EN_Pos
 16

	)

1604 
	#CÜeDebug_DEMCR_MON_EN_Msk
 (1UL << 
CÜeDebug_DEMCR_MON_EN_Pos
è

	)

1606 
	#CÜeDebug_DEMCR_VC_HARDERR_Pos
 10

	)

1607 
	#CÜeDebug_DEMCR_VC_HARDERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_HARDERR_Pos
è

	)

1609 
	#CÜeDebug_DEMCR_VC_INTERR_Pos
 9

	)

1610 
	#CÜeDebug_DEMCR_VC_INTERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_INTERR_Pos
è

	)

1612 
	#CÜeDebug_DEMCR_VC_BUSERR_Pos
 8

	)

1613 
	#CÜeDebug_DEMCR_VC_BUSERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_BUSERR_Pos
è

	)

1615 
	#CÜeDebug_DEMCR_VC_STATERR_Pos
 7

	)

1616 
	#CÜeDebug_DEMCR_VC_STATERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_STATERR_Pos
è

	)

1618 
	#CÜeDebug_DEMCR_VC_CHKERR_Pos
 6

	)

1619 
	#CÜeDebug_DEMCR_VC_CHKERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_CHKERR_Pos
è

	)

1621 
	#CÜeDebug_DEMCR_VC_NOCPERR_Pos
 5

	)

1622 
	#CÜeDebug_DEMCR_VC_NOCPERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_NOCPERR_Pos
è

	)

1624 
	#CÜeDebug_DEMCR_VC_MMERR_Pos
 4

	)

1625 
	#CÜeDebug_DEMCR_VC_MMERR_Msk
 (1UL << 
CÜeDebug_DEMCR_VC_MMERR_Pos
è

	)

1627 
	#CÜeDebug_DEMCR_VC_CORERESET_Pos
 0

	)

1628 
	#CÜeDebug_DEMCR_VC_CORERESET_Msk
 (1UL )

	)

1640 
	#SCS_BASE
 (0xE000E000ULè

	)

1641 
	#ITM_BASE
 (0xE0000000ULè

	)

1642 
	#DWT_BASE
 (0xE0001000ULè

	)

1643 
	#TPI_BASE
 (0xE0040000ULè

	)

1644 
	#CÜeDebug_BASE
 (0xE000EDF0ULè

	)

1645 
	#SysTick_BASE
 (
SCS_BASE
 + 0x0010ULè

	)

1646 
	#NVIC_BASE
 (
SCS_BASE
 + 0x0100ULè

	)

1647 
	#SCB_BASE
 (
SCS_BASE
 + 0x0D00ULè

	)

1649 
	#SCnSCB
 ((
SCnSCB_Ty³
 *è
SCS_BASE
 )

	)

1650 
	#SCB
 ((
SCB_Ty³
 *è
SCB_BASE
 )

	)

1651 
	#SysTick
 ((
SysTick_Ty³
 *è
SysTick_BASE
 )

	)

1652 
	#NVIC
 ((
NVIC_Ty³
 *è
NVIC_BASE
 )

	)

1653 
	#ITM
 ((
ITM_Ty³
 *è
ITM_BASE
 )

	)

1654 
	#DWT
 ((
DWT_Ty³
 *è
DWT_BASE
 )

	)

1655 
	#TPI
 ((
TPI_Ty³
 *è
TPI_BASE
 )

	)

1656 
	#CÜeDebug
 ((
CÜeDebug_Ty³
 *è
CÜeDebug_BASE
è

	)

1658 #ià(
__MPU_PRESENT
 == 1)

1659 
	#MPU_BASE
 (
SCS_BASE
 + 0x0D90ULè

	)

1660 
	#MPU
 ((
MPU_Ty³
 *è
MPU_BASE
 )

	)

1663 #ià(
__FPU_PRESENT
 == 1)

1664 
	#FPU_BASE
 (
SCS_BASE
 + 0x0F30ULè

	)

1665 
	#FPU
 ((
FPU_Ty³
 *è
FPU_BASE
 )

	)

1702 
__STATIC_INLINE
 
NVIC_S‘PriÜ™yGroupšg
(
ušt32_t
 
PriÜ™yGroup
)

1704 
ušt32_t
 
»g_v®ue
;

1705 
ušt32_t
 
PriÜ™yGroupTmp
 = (
PriÜ™yGroup
 & (uint32_t)0x07UL);

1707 
»g_v®ue
 = 
SCB
->
AIRCR
;

1708 
»g_v®ue
 &ğ~((
ušt32_t
)(
SCB_AIRCR_VECTKEY_Msk
 | 
SCB_AIRCR_PRIGROUP_Msk
));

1709 
»g_v®ue
 = (reg_value |

1710 ((
ušt32_t
)0x5FAUL << 
SCB_AIRCR_VECTKEY_Pos
) |

1711 (
PriÜ™yGroupTmp
 << 8) );

1712 
SCB
->
AIRCR
 = 
»g_v®ue
;

1722 
__STATIC_INLINE
 
ušt32_t
 
NVIC_G‘PriÜ™yGroupšg
()

1724  ((
ušt32_t
)((
SCB
->
AIRCR
 & 
SCB_AIRCR_PRIGROUP_Msk
è>> 
SCB_AIRCR_PRIGROUP_Pos
));

1734 
__STATIC_INLINE
 
NVIC_EÇbËIRQ
(
IRQn_Ty³
 
IRQn
)

1736 
NVIC
->
ISER
[(((
ušt32_t
)(
št32_t
)
IRQn
) >> 5UL)] = (uint32_t)(1UL << (((uint32_t)(int32_t)IRQn) & 0x1FUL));

1746 
__STATIC_INLINE
 
NVIC_Di§bËIRQ
(
IRQn_Ty³
 
IRQn
)

1748 
NVIC
->
ICER
[(((
ušt32_t
)(
št32_t
)
IRQn
) >> 5UL)] = (uint32_t)(1UL << (((uint32_t)(int32_t)IRQn) & 0x1FUL));

1762 
__STATIC_INLINE
 
ušt32_t
 
NVIC_G‘P’dšgIRQ
(
IRQn_Ty³
 
IRQn
)

1764 ((
ušt32_t
)(((
NVIC
->
ISPR
[(((ušt32_t)(
št32_t
)
IRQn
) >> 5UL)] & (1UL << (((uint32_t)(int32_t)IRQn) & 0x1FUL))) != 0UL) ? 1UL : 0UL));

1774 
__STATIC_INLINE
 
NVIC_S‘P’dšgIRQ
(
IRQn_Ty³
 
IRQn
)

1776 
NVIC
->
ISPR
[(((
ušt32_t
)(
št32_t
)
IRQn
) >> 5UL)] = (uint32_t)(1UL << (((uint32_t)(int32_t)IRQn) & 0x1FUL));

1786 
__STATIC_INLINE
 
NVIC_CË¬P’dšgIRQ
(
IRQn_Ty³
 
IRQn
)

1788 
NVIC
->
ICPR
[(((
ušt32_t
)(
št32_t
)
IRQn
) >> 5UL)] = (uint32_t)(1UL << (((uint32_t)(int32_t)IRQn) & 0x1FUL));

1801 
__STATIC_INLINE
 
ušt32_t
 
NVIC_G‘Aùive
(
IRQn_Ty³
 
IRQn
)

1803 ((
ušt32_t
)(((
NVIC
->
IABR
[(((ušt32_t)(
št32_t
)
IRQn
) >> 5UL)] & (1UL << (((uint32_t)(int32_t)IRQn) & 0x1FUL))) != 0UL) ? 1UL : 0UL));

1816 
__STATIC_INLINE
 
NVIC_S‘PriÜ™y
(
IRQn_Ty³
 
IRQn
, 
ušt32_t
 
´iÜ™y
)

1818 if((
št32_t
)
IRQn
 < 0) {

1819 
SCB
->
SHPR
[(((
ušt32_t
)(
št32_t
)
IRQn
è& 0xFUL)-4UL] = (
ušt8_t
)((
´iÜ™y
 << (8 - 
__NVIC_PRIO_BITS
)) & (uint32_t)0xFFUL);

1822 
NVIC
->
IP
[((
ušt32_t
)(
št32_t
)
IRQn
)] = (
ušt8_t
)((
´iÜ™y
 << (8 - 
__NVIC_PRIO_BITS
)) & (uint32_t)0xFFUL);

1838 
__STATIC_INLINE
 
ušt32_t
 
NVIC_G‘PriÜ™y
(
IRQn_Ty³
 
IRQn
)

1841 if((
št32_t
)
IRQn
 < 0) {

1842 (((
ušt32_t
)
SCB
->
SHPR
[(((ušt32_t)(
št32_t
)
IRQn
è& 0xFUL)-4UL] >> (8 - 
__NVIC_PRIO_BITS
)));

1845 (((
ušt32_t
)
NVIC
->
IP
[((ušt32_t)(
št32_t
)
IRQn
)] >> (8 - 
__NVIC_PRIO_BITS
)));

1862 
__STATIC_INLINE
 
ušt32_t
 
NVIC_EncodePriÜ™y
 (ušt32_ˆ
PriÜ™yGroup
, ušt32_ˆ
P»em±PriÜ™y
, ušt32_ˆ
SubPriÜ™y
)

1864 
ušt32_t
 
PriÜ™yGroupTmp
 = (
PriÜ™yGroup
 & (uint32_t)0x07UL);

1865 
ušt32_t
 
P»em±PriÜ™yB™s
;

1866 
ušt32_t
 
SubPriÜ™yB™s
;

1868 
P»em±PriÜ™yB™s
 = ((7UL - 
PriÜ™yGroupTmp
è> (
ušt32_t
)(
__NVIC_PRIO_BITS
)) ? (uint32_t)(__NVIC_PRIO_BITS) : (uint32_t)(7UL - PriorityGroupTmp);

1869 
SubPriÜ™yB™s
 = ((
PriÜ™yGroupTmp
 + (
ušt32_t
)(
__NVIC_PRIO_BITS
)) < (uint32_t)7UL) ? (uint32_t)0UL : (uint32_t)((PriorityGroupTmp - 7UL) + (uint32_t)(__NVIC_PRIO_BITS));

1872 ((
P»em±PriÜ™y
 & (
ušt32_t
)((1UL << (
P»em±PriÜ™yB™s
)è- 1UL)è<< 
SubPriÜ™yB™s
) |

1873 ((
SubPriÜ™y
 & (
ušt32_t
)((1UL << (
SubPriÜ™yB™s
 )) - 1UL)))

1890 
__STATIC_INLINE
 
NVIC_DecodePriÜ™y
 (
ušt32_t
 
PriÜ™y
, ušt32_ˆ
PriÜ™yGroup
, ušt32_t* 
pP»em±PriÜ™y
, ušt32_t* 
pSubPriÜ™y
)

1892 
ušt32_t
 
PriÜ™yGroupTmp
 = (
PriÜ™yGroup
 & (uint32_t)0x07UL);

1893 
ušt32_t
 
P»em±PriÜ™yB™s
;

1894 
ušt32_t
 
SubPriÜ™yB™s
;

1896 
P»em±PriÜ™yB™s
 = ((7UL - 
PriÜ™yGroupTmp
è> (
ušt32_t
)(
__NVIC_PRIO_BITS
)) ? (uint32_t)(__NVIC_PRIO_BITS) : (uint32_t)(7UL - PriorityGroupTmp);

1897 
SubPriÜ™yB™s
 = ((
PriÜ™yGroupTmp
 + (
ušt32_t
)(
__NVIC_PRIO_BITS
)) < (uint32_t)7UL) ? (uint32_t)0UL : (uint32_t)((PriorityGroupTmp - 7UL) + (uint32_t)(__NVIC_PRIO_BITS));

1899 *
pP»em±PriÜ™y
 = (
PriÜ™y
 >> 
SubPriÜ™yB™s
è& (
ušt32_t
)((1UL << (
P»em±PriÜ™yB™s
)) - 1UL);

1900 *
pSubPriÜ™y
 = (
PriÜ™y
 ) & (
ušt32_t
)((1UL << (
SubPriÜ™yB™s
 )) - 1UL);

1908 
__STATIC_INLINE
 
NVIC_Sy¡emRe£t
()

1910 
__DSB
();

1912 
SCB
->
AIRCR
 = (
ušt32_t
)((0x5FAUL << 
SCB_AIRCR_VECTKEY_Pos
) |

1913 (
SCB
->
AIRCR
 & 
SCB_AIRCR_PRIGROUP_Msk
) |

1914 
SCB_AIRCR_SYSRESETREQ_Msk
 );

1915 
__DSB
();

1916 1è{ 
__NOP
(); }

1937 
__STATIC_INLINE
 
ušt32_t
 
SCB_G‘FPUTy³
()

1939 
ušt32_t
 
mvä0
;

1941 
mvä0
 = 
SCB
->
MVFR0
;

1942 ià((
mvä0
 & 0x00000FF0UL) == 0x220UL) {

1944 } ià((
mvä0
 & 0x00000FF0UL) == 0x020UL) {

1964 
	#CCSIDR_WAYS
(
x
è(((xè& 
SCB_CCSIDR_ASSOCIATIVITY_Msk
è>> 
SCB_CCSIDR_ASSOCIATIVITY_Pos
)

	)

1965 
	#CCSIDR_SETS
(
x
è(((xè& 
SCB_CCSIDR_NUMSETS_Msk
 ) >> 
SCB_CCSIDR_NUMSETS_Pos
 )

	)

1966 
	#CCSIDR_LSSHIFT
(
x
è(((xè& 
SCB_CCSIDR_LINESIZE_Msk
 ) )

	)

1973 
__STATIC_INLINE
 
SCB_EÇbËICache
 ()

1975 #ià(
__ICACHE_PRESENT
 == 1)

1976 
__DSB
();

1977 
__ISB
();

1978 
SCB
->
ICIALLU
 = 0UL;

1979 
SCB
->
CCR
 |ğ(
ušt32_t
)
SCB_CCR_IC_Msk
;

1980 
__DSB
();

1981 
__ISB
();

1990 
__STATIC_INLINE
 
SCB_Di§bËICache
 ()

1992 #ià(
__ICACHE_PRESENT
 == 1)

1993 
__DSB
();

1994 
__ISB
();

1995 
SCB
->
CCR
 &ğ~(
ušt32_t
)
SCB_CCR_IC_Msk
;

1996 
SCB
->
ICIALLU
 = 0UL;

1997 
__DSB
();

1998 
__ISB
();

2007 
__STATIC_INLINE
 
SCB_Inv®id©eICache
 ()

2009 #ià(
__ICACHE_PRESENT
 == 1)

2010 
__DSB
();

2011 
__ISB
();

2012 
SCB
->
ICIALLU
 = 0UL;

2013 
__DSB
();

2014 
__ISB
();

2023 
__STATIC_INLINE
 
SCB_EÇbËDCache
 ()

2025 #ià(
__DCACHE_PRESENT
 == 1)

2026 
ušt32_t
 
ccsidr
, 
sshiá
, 
wshiá
, 
sw
;

2027 
ušt32_t
 
£ts
, 
ways
;

2029 
SCB
->
CSSELR
 = (0UL << 1) | 0UL;

2030 
ccsidr
 = 
SCB
->
CCSIDR
;

2031 
£ts
 = (
ušt32_t
)(
CCSIDR_SETS
(
ccsidr
));

2032 
sshiá
 = (
ušt32_t
)(
CCSIDR_LSSHIFT
(
ccsidr
) + 4UL);

2033 
ways
 = (
ušt32_t
)(
CCSIDR_WAYS
(
ccsidr
));

2034 
wshiá
 = (
ušt32_t
)((ušt32_t)
__CLZ
(
ways
) & 0x1FUL);

2036 
__DSB
();

2039 
ušt32_t
 
tmpways
 = 
ways
;

2041 
sw
 = ((
tmpways
 << 
wshiá
è| (
£ts
 << 
sshiá
));

2042 
SCB
->
DCISW
 = 
sw
;

2043 } 
tmpways
--);

2044 } 
£ts
--);

2045 
__DSB
();

2047 
SCB
->
CCR
 |ğ(
ušt32_t
)
SCB_CCR_DC_Msk
;

2049 
__DSB
();

2050 
__ISB
();

2059 
__STATIC_INLINE
 
SCB_Di§bËDCache
 ()

2061 #ià(
__DCACHE_PRESENT
 == 1)

2062 
ušt32_t
 
ccsidr
, 
sshiá
, 
wshiá
, 
sw
;

2063 
ušt32_t
 
£ts
, 
ways
;

2065 
SCB
->
CSSELR
 = (0UL << 1) | 0UL;

2066 
ccsidr
 = 
SCB
->
CCSIDR
;

2067 
£ts
 = (
ušt32_t
)(
CCSIDR_SETS
(
ccsidr
));

2068 
sshiá
 = (
ušt32_t
)(
CCSIDR_LSSHIFT
(
ccsidr
) + 4UL);

2069 
ways
 = (
ušt32_t
)(
CCSIDR_WAYS
(
ccsidr
));

2070 
wshiá
 = (
ušt32_t
)((ušt32_t)
__CLZ
(
ways
) & 0x1FUL);

2072 
__DSB
();

2074 
SCB
->
CCR
 &ğ~(
ušt32_t
)
SCB_CCR_DC_Msk
;

2077 
ušt32_t
 
tmpways
 = 
ways
;

2079 
sw
 = ((
tmpways
 << 
wshiá
è| (
£ts
 << 
sshiá
));

2080 
SCB
->
DCCISW
 = 
sw
;

2081 } 
tmpways
--);

2082 } 
£ts
--);

2085 
__DSB
();

2086 
__ISB
();

2095 
__STATIC_INLINE
 
SCB_Inv®id©eDCache
 ()

2097 #ià(
__DCACHE_PRESENT
 == 1)

2098 
ušt32_t
 
ccsidr
, 
sshiá
, 
wshiá
, 
sw
;

2099 
ušt32_t
 
£ts
, 
ways
;

2101 
SCB
->
CSSELR
 = (0UL << 1) | 0UL;

2102 
ccsidr
 = 
SCB
->
CCSIDR
;

2103 
£ts
 = (
ušt32_t
)(
CCSIDR_SETS
(
ccsidr
));

2104 
sshiá
 = (
ušt32_t
)(
CCSIDR_LSSHIFT
(
ccsidr
) + 4UL);

2105 
ways
 = (
ušt32_t
)(
CCSIDR_WAYS
(
ccsidr
));

2106 
wshiá
 = (
ušt32_t
)((ušt32_t)
__CLZ
(
ways
) & 0x1FUL);

2108 
__DSB
();

2111 
ušt32_t
 
tmpways
 = 
ways
;

2113 
sw
 = ((
tmpways
 << 
wshiá
è| (
£ts
 << 
sshiá
));

2114 
SCB
->
DCISW
 = 
sw
;

2115 } 
tmpways
--);

2116 } 
£ts
--);

2118 
__DSB
();

2119 
__ISB
();

2128 
__STATIC_INLINE
 
SCB_CËªDCache
 ()

2130 #ià(
__DCACHE_PRESENT
 == 1)

2131 
ušt32_t
 
ccsidr
, 
sshiá
, 
wshiá
, 
sw
;

2132 
ušt32_t
 
£ts
, 
ways
;

2134 
SCB
->
CSSELR
 = (0UL << 1) | 0UL;

2135 
ccsidr
 = 
SCB
->
CCSIDR
;

2136 
£ts
 = (
ušt32_t
)(
CCSIDR_SETS
(
ccsidr
));

2137 
sshiá
 = (
ušt32_t
)(
CCSIDR_LSSHIFT
(
ccsidr
) + 4UL);

2138 
ways
 = (
ušt32_t
)(
CCSIDR_WAYS
(
ccsidr
));

2139 
wshiá
 = (
ušt32_t
)((ušt32_t)
__CLZ
(
ways
) & 0x1FUL);

2141 
__DSB
();

2144 
ušt32_t
 
tmpways
 = 
ways
;

2146 
sw
 = ((
tmpways
 << 
wshiá
è| (
£ts
 << 
sshiá
));

2147 
SCB
->
DCCSW
 = 
sw
;

2148 } 
tmpways
--);

2149 } 
£ts
--);

2151 
__DSB
();

2152 
__ISB
();

2161 
__STATIC_INLINE
 
SCB_CËªInv®id©eDCache
 ()

2163 #ià(
__DCACHE_PRESENT
 == 1)

2164 
ušt32_t
 
ccsidr
, 
sshiá
, 
wshiá
, 
sw
;

2165 
ušt32_t
 
£ts
, 
ways
;

2167 
SCB
->
CSSELR
 = (0UL << 1) | 0UL;

2168 
ccsidr
 = 
SCB
->
CCSIDR
;

2169 
£ts
 = (
ušt32_t
)(
CCSIDR_SETS
(
ccsidr
));

2170 
sshiá
 = (
ušt32_t
)(
CCSIDR_LSSHIFT
(
ccsidr
) + 4UL);

2171 
ways
 = (
ušt32_t
)(
CCSIDR_WAYS
(
ccsidr
));

2172 
wshiá
 = (
ušt32_t
)((ušt32_t)
__CLZ
(
ways
) & 0x1FUL);

2174 
__DSB
();

2177 
ušt32_t
 
tmpways
 = 
ways
;

2179 
sw
 = ((
tmpways
 << 
wshiá
è| (
£ts
 << 
sshiá
));

2180 
SCB
->
DCCISW
 = 
sw
;

2181 } 
tmpways
--);

2182 } 
£ts
--);

2184 
__DSB
();

2185 
__ISB
();

2196 
__STATIC_INLINE
 
SCB_Inv®id©eDCache_by_Addr
 (
ušt32_t
 *
addr
, 
št32_t
 
dsize
)

2198 #ià(
__DCACHE_PRESENT
 == 1)

2199 
št32_t
 
İ_size
 = 
dsize
;

2200 
ušt32_t
 
İ_addr
 = (ušt32_t)
addr
;

2201 
ušt32_t
 
lšesize
 = 32UL;

2203 
__DSB
();

2205 
İ_size
 > 0) {

2206 
SCB
->
DCIMVAC
 = 
İ_addr
;

2207 
İ_addr
 +ğ
lšesize
;

2208 
İ_size
 -ğ(
št32_t
)
lšesize
;

2211 
__DSB
();

2212 
__ISB
();

2223 
__STATIC_INLINE
 
SCB_CËªDCache_by_Addr
 (
ušt32_t
 *
addr
, 
št32_t
 
dsize
)

2225 #ià(
__DCACHE_PRESENT
 == 1)

2226 
št32_t
 
İ_size
 = 
dsize
;

2227 
ušt32_t
 
İ_addr
 = (ušt32_tè
addr
;

2228 
ušt32_t
 
lšesize
 = 32UL;

2230 
__DSB
();

2232 
İ_size
 > 0) {

2233 
SCB
->
DCCMVAC
 = 
İ_addr
;

2234 
İ_addr
 +ğ
lšesize
;

2235 
İ_size
 -ğ(
št32_t
)
lšesize
;

2238 
__DSB
();

2239 
__ISB
();

2250 
__STATIC_INLINE
 
SCB_CËªInv®id©eDCache_by_Addr
 (
ušt32_t
 *
addr
, 
št32_t
 
dsize
)

2252 #ià(
__DCACHE_PRESENT
 == 1)

2253 
št32_t
 
İ_size
 = 
dsize
;

2254 
ušt32_t
 
İ_addr
 = (ušt32_tè
addr
;

2255 
ušt32_t
 
lšesize
 = 32UL;

2257 
__DSB
();

2259 
İ_size
 > 0) {

2260 
SCB
->
DCCIMVAC
 = 
İ_addr
;

2261 
İ_addr
 +ğ
lšesize
;

2262 
İ_size
 -ğ(
št32_t
)
lšesize
;

2265 
__DSB
();

2266 
__ISB
();

2282 #ià(
__V’dÜ_SysTickCÚfig
 == 0)

2299 
__STATIC_INLINE
 
ušt32_t
 
SysTick_CÚfig
(ušt32_ˆ
ticks
)

2301 ià((
ticks
 - 1ULè> 
SysTick_LOAD_RELOAD_Msk
) {  (1UL); }

2303 
SysTick
->
LOAD
 = (
ušt32_t
)(
ticks
 - 1UL);

2304 
NVIC_S‘PriÜ™y
 (
SysTick_IRQn
, (1UL << 
__NVIC_PRIO_BITS
) - 1UL);

2305 
SysTick
->
VAL
 = 0UL;

2306 
SysTick
->
CTRL
 = 
SysTick_CTRL_CLKSOURCE_Msk
 |

2307 
SysTick_CTRL_TICKINT_Msk
 |

2308 
SysTick_CTRL_ENABLE_Msk
;

2325 vŞ©
št32_t
 
ITM_RxBufãr
;

2326 
	#ITM_RXBUFFER_EMPTY
 0x5AA55AA5

	)

2339 
__STATIC_INLINE
 
ušt32_t
 
ITM_S’dCh¬
 (ušt32_ˆ
ch
)

2341 ià(((
	gITM
->
	gTCR
 & 
	gITM_TCR_ITMENA_Msk
) != 0UL) &&

2342 ((
ITM
->
TER
 & 1UL ) != 0UL) )

2344 
ITM
->
PORT
[0].
u32
 =ğ0ULè{ 
__NOP
(); }

2345 
	gITM
->
	gPORT
[0].
	gu8
 = (
ušt8_t
)
ch
;

2347  (
	gch
);

2358 
__STATIC_INLINE
 
št32_t
 
ITM_ReûiveCh¬
 () {

2359 
št32_t
 
	gch
 = -1;

2361 ià(
	gITM_RxBufãr
 !ğ
ITM_RXBUFFER_EMPTY
) {

2362 
ch
 = 
ITM_RxBufãr
;

2363 
	gITM_RxBufãr
 = 
ITM_RXBUFFER_EMPTY
;

2366  (
	gch
);

2377 
__STATIC_INLINE
 
št32_t
 
ITM_CheckCh¬
 () {

2379 ià(
	gITM_RxBufãr
 =ğ
ITM_RXBUFFER_EMPTY
) {

2391 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_cmFunc.h

38 #iâdeà
__CORE_CMFUNC_H


39 
	#__CORE_CMFUNC_H


	)

48 #ià 
defšed
 ( 
__CC_ARM
 )

51 #ià(
__ARMCC_VERSION
 < 400677)

64 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_CONTROL
()

66 
ušt32_t
 
__»gCÚŒŞ
 
	`__ASM
("control");

67 (
__»gCÚŒŞ
);

68 
	}
}

77 
__STATIC_INLINE
 
	$__£t_CONTROL
(
ušt32_t
 
cÚŒŞ
)

79 
ušt32_t
 
__»gCÚŒŞ
 
	`__ASM
("control");

80 
__»gCÚŒŞ
 = 
cÚŒŞ
;

81 
	}
}

90 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_IPSR
()

92 
ušt32_t
 
__»gIPSR
 
	`__ASM
("ipsr");

93 (
__»gIPSR
);

94 
	}
}

103 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_APSR
()

105 
ušt32_t
 
__»gAPSR
 
	`__ASM
("apsr");

106 (
__»gAPSR
);

107 
	}
}

116 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_xPSR
()

118 
ušt32_t
 
__»gXPSR
 
	`__ASM
("xpsr");

119 (
__»gXPSR
);

120 
	}
}

129 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_PSP
()

131 
ušt32_t
 
__»gProûssSckPoš‹r
 
	`__ASM
("psp");

132 (
__»gProûssSckPoš‹r
);

133 
	}
}

142 
__STATIC_INLINE
 
	$__£t_PSP
(
ušt32_t
 
tİOfProcSck
)

144 
ušt32_t
 
__»gProûssSckPoš‹r
 
	`__ASM
("psp");

145 
__»gProûssSckPoš‹r
 = 
tİOfProcSck
;

146 
	}
}

155 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_MSP
()

157 
ušt32_t
 
__»gMašSckPoš‹r
 
	`__ASM
("msp");

158 (
__»gMašSckPoš‹r
);

159 
	}
}

168 
__STATIC_INLINE
 
	$__£t_MSP
(
ušt32_t
 
tİOfMašSck
)

170 
ušt32_t
 
__»gMašSckPoš‹r
 
	`__ASM
("msp");

171 
__»gMašSckPoš‹r
 = 
tİOfMašSck
;

172 
	}
}

181 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_PRIMASK
()

183 
ušt32_t
 
__»gPriMask
 
	`__ASM
("primask");

184 (
__»gPriMask
);

185 
	}
}

194 
__STATIC_INLINE
 
	$__£t_PRIMASK
(
ušt32_t
 
´iMask
)

196 
ušt32_t
 
__»gPriMask
 
	`__ASM
("primask");

197 
__»gPriMask
 = (
´iMask
);

198 
	}
}

201 #ià (
__CORTEX_M
 >= 0x03)

208 
	#__’abË_çuÉ_œq
 
__’abË_fiq


	)

216 
	#__di§bË_çuÉ_œq
 
__di§bË_fiq


	)

225 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_BASEPRI
()

227 
ušt32_t
 
__»gBa£Pri
 
	`__ASM
("basepri");

228 (
__»gBa£Pri
);

229 
	}
}

238 
__STATIC_INLINE
 
	$__£t_BASEPRI
(
ušt32_t
 
ba£Pri
)

240 
ušt32_t
 
__»gBa£Pri
 
	`__ASM
("basepri");

241 
__»gBa£Pri
 = (
ba£Pri
 & 0xff);

242 
	}
}

251 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_FAULTMASK
()

253 
ušt32_t
 
__»gFauÉMask
 
	`__ASM
("faultmask");

254 (
__»gFauÉMask
);

255 
	}
}

264 
__STATIC_INLINE
 
	$__£t_FAULTMASK
(
ušt32_t
 
çuÉMask
)

266 
ušt32_t
 
__»gFauÉMask
 
	`__ASM
("faultmask");

267 
__»gFauÉMask
 = (
çuÉMask
 & (
ušt32_t
)1);

268 
	}
}

273 #ià (
__CORTEX_M
 == 0x04)

281 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_FPSCR
()

283 #ià(
__FPU_PRESENT
 =ğ1è&& (
__FPU_USED
 == 1)

284 
ušt32_t
 
__»gåsü
 
	`__ASM
("fpscr");

285 (
__»gåsü
);

289 
	}
}

298 
__STATIC_INLINE
 
	$__£t_FPSCR
(
ušt32_t
 
åsü
)

300 #ià(
__FPU_PRESENT
 =ğ1è&& (
__FPU_USED
 == 1)

301 
ušt32_t
 
__»gåsü
 
	`__ASM
("fpscr");

302 
__»gåsü
 = (
åsü
);

304 
	}
}

309 #–ià
defšed
 ( 
__ICCARM__
 )

312 
	~<cmsis_Ÿr.h
>

315 #–ià
defšed
 ( 
__TMS470__
 )

318 
	~<cmsis_ccs.h
>

321 #–ià
defšed
 ( 
__GNUC__
 )

329 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__’abË_œq
()

331 
__ASM
 volatile ("cpsie i" : : : "memory");

332 
	}
}

340 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__di§bË_œq
()

342 
__ASM
 volatile ("cpsid i" : : : "memory");

343 
	}
}

352 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_CONTROL
()

354 
ušt32_t
 
»suÉ
;

356 
__ASM
 vŞ©("MRS %0, cÚŒŞ" : "ô" (
»suÉ
) );

357 (
»suÉ
);

358 
	}
}

367 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__£t_CONTROL
(
ušt32_t
 
cÚŒŞ
)

369 
__ASM
 vŞ©("MSR cÚŒŞ, %0" : : "r" (
cÚŒŞ
) : "memory");

370 
	}
}

379 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_IPSR
()

381 
ušt32_t
 
»suÉ
;

383 
__ASM
 vŞ©("MRS %0, ip¤" : "ô" (
»suÉ
) );

384 (
»suÉ
);

385 
	}
}

394 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_APSR
()

396 
ušt32_t
 
»suÉ
;

398 
__ASM
 vŞ©("MRS %0,‡p¤" : "ô" (
»suÉ
) );

399 (
»suÉ
);

400 
	}
}

409 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_xPSR
()

411 
ušt32_t
 
»suÉ
;

413 
__ASM
 vŞ©("MRS %0, xp¤" : "ô" (
»suÉ
) );

414 (
»suÉ
);

415 
	}
}

424 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_PSP
()

426 
ušt32_t
 
»suÉ
;

428 
__ASM
 vŞ©("MRS %0,…¥\n" : "ô" (
»suÉ
) );

429 (
»suÉ
);

430 
	}
}

439 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__£t_PSP
(
ušt32_t
 
tİOfProcSck
)

441 
__ASM
 vŞ©("MSR…¥, %0\n" : : "r" (
tİOfProcSck
) : "sp");

442 
	}
}

451 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_MSP
()

453 
ušt32_t
 
»suÉ
;

455 
__ASM
 vŞ©("MRS %0, m¥\n" : "ô" (
»suÉ
) );

456 (
»suÉ
);

457 
	}
}

466 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__£t_MSP
(
ušt32_t
 
tİOfMašSck
)

468 
__ASM
 vŞ©("MSR m¥, %0\n" : : "r" (
tİOfMašSck
) : "sp");

469 
	}
}

478 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_PRIMASK
()

480 
ušt32_t
 
»suÉ
;

482 
__ASM
 vŞ©("MRS %0,…rimask" : "ô" (
»suÉ
) );

483 (
»suÉ
);

484 
	}
}

493 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__£t_PRIMASK
(
ušt32_t
 
´iMask
)

495 
__ASM
 vŞ©("MSR…rimask, %0" : : "r" (
´iMask
) : "memory");

496 
	}
}

499 #ià (
__CORTEX_M
 >= 0x03)

506 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__’abË_çuÉ_œq
()

508 
__ASM
 volatile ("cpsie f" : : : "memory");

509 
	}
}

517 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__di§bË_çuÉ_œq
()

519 
__ASM
 volatile ("cpsid f" : : : "memory");

520 
	}
}

529 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_BASEPRI
()

531 
ušt32_t
 
»suÉ
;

533 
__ASM
 vŞ©("MRS %0, ba£´i_max" : "ô" (
»suÉ
) );

534 (
»suÉ
);

535 
	}
}

544 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__£t_BASEPRI
(
ušt32_t
 
v®ue
)

546 
__ASM
 vŞ©("MSR ba£´i, %0" : : "r" (
v®ue
) : "memory");

547 
	}
}

556 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_FAULTMASK
()

558 
ušt32_t
 
»suÉ
;

560 
__ASM
 vŞ©("MRS %0, fauÉmask" : "ô" (
»suÉ
) );

561 (
»suÉ
);

562 
	}
}

571 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__£t_FAULTMASK
(
ušt32_t
 
çuÉMask
)

573 
__ASM
 vŞ©("MSR fauÉmask, %0" : : "r" (
çuÉMask
) : "memory");

574 
	}
}

579 #ià (
__CORTEX_M
 == 0x04)

587 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__g‘_FPSCR
()

589 #ià(
__FPU_PRESENT
 =ğ1è&& (
__FPU_USED
 == 1)

590 
ušt32_t
 
»suÉ
;

593 
__ASM
 volatile ("");

594 
__ASM
 vŞ©("VMRS %0, fpsü" : "ô" (
»suÉ
) );

595 
__ASM
 volatile ("");

596 (
»suÉ
);

600 
	}
}

609 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__£t_FPSCR
(
ušt32_t
 
åsü
)

611 #ià(
__FPU_PRESENT
 =ğ1è&& (
__FPU_USED
 == 1)

613 
__ASM
 volatile ("");

614 
__ASM
 vŞ©("VMSR fpsü, %0" : : "r" (
åsü
) : "vfpcc");

615 
__ASM
 volatile ("");

617 
	}
}

622 #–ià
defšed
 ( 
__TASKING__
 )

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_cmInstr.h

38 #iâdeà
__CORE_CMINSTR_H


39 
	#__CORE_CMINSTR_H


	)

48 #ià 
defšed
 ( 
__CC_ARM
 )

51 #ià(
__ARMCC_VERSION
 < 400677)

60 
	#__NOP
 
__nİ


	)

68 
	#__WFI
 
__wfi


	)

76 
	#__WFE
 
__wã


	)

83 
	#__SEV
 
__£v


	)

92 
	#__ISB
(è
	`__isb
(0xF)

	)

100 
	#__DSB
(è
	`__dsb
(0xF)

	)

108 
	#__DMB
(è
	`__dmb
(0xF)

	)

118 
	#__REV
 
__»v


	)

128 #iâdeà
__NO_EMBEDDED_ASM


129 
__©Œibu‹__
((
£ùiÚ
(".»v16_‹xt"))è
__STATIC_INLINE
 
__ASM
 
ušt32_t
 
	$__REV16
(
ušt32_t
 
v®ue
)

131 
»v16
 
r0
,„0

132 
bx
 
Ì


133 
	}
}

143 #iâdeà
__NO_EMBEDDED_ASM


144 
__©Œibu‹__
((
£ùiÚ
(".»vsh_‹xt"))è
__STATIC_INLINE
 
__ASM
 
št32_t
 
	$__REVSH
(
št32_t
 
v®ue
)

146 
»vsh
 
r0
,„0

147 
bx
 
Ì


148 
	}
}

160 
	#__ROR
 
__rÜ


	)

171 
	#__BKPT
(
v®ue
è
	`__b»akpošt
(v®ue)

	)

174 #ià (
__CORTEX_M
 >= 0x03)

183 
	#__RBIT
 
__rb™


	)

193 
	#__LDREXB
(
±r
è((
ušt8_t
 ) 
	`__ld»x
ÕŒ))

	)

203 
	#__LDREXH
(
±r
è((
ušt16_t
è
	`__ld»x
ÕŒ))

	)

213 
	#__LDREXW
(
±r
è((
ušt32_t
 ) 
	`__ld»x
ÕŒ))

	)

225 
	#__STREXB
(
v®ue
, 
±r
è
	`__¡»x
(v®ue,…Œ)

	)

237 
	#__STREXH
(
v®ue
, 
±r
è
	`__¡»x
(v®ue,…Œ)

	)

249 
	#__STREXW
(
v®ue
, 
±r
è
	`__¡»x
(v®ue,…Œ)

	)

257 
	#__CLREX
 
__ş»x


	)

268 
	#__SSAT
 
__s§t


	)

279 
	#__USAT
 
__u§t


	)

289 
	#__CLZ
 
__şz


	)

295 #–ià
defšed
 ( 
__ICCARM__
 )

298 
	~<cmsis_Ÿr.h
>

301 #–ià
defšed
 ( 
__TMS470__
 )

304 
	~<cmsis_ccs.h
>

307 #–ià
defšed
 ( 
__GNUC__
 )

313 #ià
defšed
 (
__thumb__
è&& !defšed (
__thumb2__
)

314 
	#__CMSIS_GCC_OUT_REG
(
r
è"ö" (r)

	)

315 
	#__CMSIS_GCC_USE_REG
(
r
è"l" (r)

	)

317 
	#__CMSIS_GCC_OUT_REG
(
r
è"ô" (r)

	)

318 
	#__CMSIS_GCC_USE_REG
(
r
è"r" (r)

	)

325 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__NOP
()

327 
__ASM
 volatile ("nop");

328 
	}
}

336 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__WFI
()

338 
__ASM
 volatile ("wfi");

339 
	}
}

347 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__WFE
()

349 
__ASM
 volatile ("wfe");

350 
	}
}

357 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__SEV
()

359 
__ASM
 volatile ("sev");

360 
	}
}

369 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__ISB
()

371 
__ASM
 volatile ("isb");

372 
	}
}

380 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__DSB
()

382 
__ASM
 volatile ("dsb");

383 
	}
}

391 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__DMB
()

393 
__ASM
 volatile ("dmb");

394 
	}
}

404 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__REV
(
ušt32_t
 
v®ue
)

406 #ià(
__GNUC__
 > 4è|| (__GNUC__ =ğ4 && 
__GNUC_MINOR__
 >= 5)

407  
	`__butš_bsw­32
(
v®ue
);

409 
ušt32_t
 
»suÉ
;

411 
__ASM
 vŞ©("»v %0, %1" : 
	`__CMSIS_GCC_OUT_REG
 (
»suÉ
è: 
	`__CMSIS_GCC_USE_REG
 (
v®ue
) );

412 (
»suÉ
);

414 
	}
}

424 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__REV16
(
ušt32_t
 
v®ue
)

426 
ušt32_t
 
»suÉ
;

428 
__ASM
 vŞ©("»v16 %0, %1" : 
	`__CMSIS_GCC_OUT_REG
 (
»suÉ
è: 
	`__CMSIS_GCC_USE_REG
 (
v®ue
) );

429 (
»suÉ
);

430 
	}
}

440 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
št32_t
 
	$__REVSH
(
št32_t
 
v®ue
)

442 #ià(
__GNUC__
 > 4è|| (__GNUC__ =ğ4 && 
__GNUC_MINOR__
 >= 8)

443  ()
	`__butš_bsw­16
(
v®ue
);

445 
ušt32_t
 
»suÉ
;

447 
__ASM
 vŞ©("»vsh %0, %1" : 
	`__CMSIS_GCC_OUT_REG
 (
»suÉ
è: 
	`__CMSIS_GCC_USE_REG
 (
v®ue
) );

448 (
»suÉ
);

450 
	}
}

461 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__ROR
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

463  (
İ1
 >> 
İ2
) | (op1 << (32 - op2));

464 
	}
}

475 
	#__BKPT
(
v®ue
è
__ASM
 vŞ©("bk± "#v®ue)

	)

478 #ià (
__CORTEX_M
 >= 0x03)

487 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__RBIT
(
ušt32_t
 
v®ue
)

489 
ušt32_t
 
»suÉ
;

491 
__ASM
 vŞ©("rb™ %0, %1" : "ô" (
»suÉ
è: "r" (
v®ue
) );

492 (
»suÉ
);

493 
	}
}

503 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt8_t
 
	$__LDREXB
(vŞ©
ušt8_t
 *
addr
)

505 
ušt32_t
 
»suÉ
;

507 #ià(
__GNUC__
 > 4è|| (__GNUC__ =ğ4 && 
__GNUC_MINOR__
 >= 8)

508 
__ASM
 vŞ©("ld»xb %0, %1" : "ô" (
»suÉ
è: "Q" (*
addr
) );

513 
__ASM
 vŞ©("ld»xb %0, [%1]" : "ô" (
»suÉ
è: "r" (
addr
) : "memory" );

515 (
»suÉ
);

516 
	}
}

526 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt16_t
 
	$__LDREXH
(vŞ©
ušt16_t
 *
addr
)

528 
ušt32_t
 
»suÉ
;

530 #ià(
__GNUC__
 > 4è|| (__GNUC__ =ğ4 && 
__GNUC_MINOR__
 >= 8)

531 
__ASM
 vŞ©("ld»xh %0, %1" : "ô" (
»suÉ
è: "Q" (*
addr
) );

536 
__ASM
 vŞ©("ld»xh %0, [%1]" : "ô" (
»suÉ
è: "r" (
addr
) : "memory" );

538 (
»suÉ
);

539 
	}
}

549 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__LDREXW
(vŞ©
ušt32_t
 *
addr
)

551 
ušt32_t
 
»suÉ
;

553 
__ASM
 vŞ©("ld»x %0, %1" : "ô" (
»suÉ
è: "Q" (*
addr
) );

554 (
»suÉ
);

555 
	}
}

567 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__STREXB
(
ušt8_t
 
v®ue
, vŞ©ušt8_ˆ*
addr
)

569 
ušt32_t
 
»suÉ
;

571 
__ASM
 vŞ©("¡»xb %0, %2, %1" : "=&r" (
»suÉ
), "=Q" (*
addr
è: "r" (
v®ue
) );

572 (
»suÉ
);

573 
	}
}

585 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__STREXH
(
ušt16_t
 
v®ue
, vŞ©ušt16_ˆ*
addr
)

587 
ušt32_t
 
»suÉ
;

589 
__ASM
 vŞ©("¡»xh %0, %2, %1" : "=&r" (
»suÉ
), "=Q" (*
addr
è: "r" (
v®ue
) );

590 (
»suÉ
);

591 
	}
}

603 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__STREXW
(
ušt32_t
 
v®ue
, vŞ©ušt32_ˆ*
addr
)

605 
ušt32_t
 
»suÉ
;

607 
__ASM
 vŞ©("¡»x %0, %2, %1" : "=&r" (
»suÉ
), "=Q" (*
addr
è: "r" (
v®ue
) );

608 (
»suÉ
);

609 
	}
}

617 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
	$__CLREX
()

619 
__ASM
 volatile ("clrex" ::: "memory");

620 
	}
}

631 
	#__SSAT
(
ARG1
,
ARG2
) \

633 
ušt32_t
 
__RES
, 
__ARG1
 = (
ARG1
); \

634 
	`__ASM
 ("s§ˆ%0, %1, %2" : "ô" (
__RES
è: "I" (
ARG2
), "r" (
__ARG1
) ); \

635 
__RES
; \

636 })

	)

647 
	#__USAT
(
ARG1
,
ARG2
) \

649 
ušt32_t
 
__RES
, 
__ARG1
 = (
ARG1
); \

650 
	`__ASM
 ("u§ˆ%0, %1, %2" : "ô" (
__RES
è: "I" (
ARG2
), "r" (
__ARG1
) ); \

651 
__RES
; \

652 })

	)

662 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt8_t
 
	$__CLZ
(
ušt32_t
 
v®ue
)

664 
ušt32_t
 
»suÉ
;

666 
__ASM
 vŞ©("şz %0, %1" : "ô" (
»suÉ
è: "r" (
v®ue
) );

667 (
»suÉ
);

668 
	}
}

675 #–ià
defšed
 ( 
__TASKING__
 )

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_cmSimd.h

38 #ià
defšed
 ( 
__ICCARM__
 )

39 #´agm¨
sy¡em_šşude


42 #iâdeà
__CORE_CMSIMD_H


43 
	#__CORE_CMSIMD_H


	)

45 #ifdeà
__ılu¥lus


61 #ià 
defšed
 ( 
__CC_ARM
 )

63 
	#__SADD8
 
__§dd8


	)

64 
	#__QADD8
 
__qadd8


	)

65 
	#__SHADD8
 
__shadd8


	)

66 
	#__UADD8
 
__uadd8


	)

67 
	#__UQADD8
 
__uqadd8


	)

68 
	#__UHADD8
 
__uhadd8


	)

69 
	#__SSUB8
 
__ssub8


	)

70 
	#__QSUB8
 
__qsub8


	)

71 
	#__SHSUB8
 
__shsub8


	)

72 
	#__USUB8
 
__usub8


	)

73 
	#__UQSUB8
 
__uqsub8


	)

74 
	#__UHSUB8
 
__uhsub8


	)

75 
	#__SADD16
 
__§dd16


	)

76 
	#__QADD16
 
__qadd16


	)

77 
	#__SHADD16
 
__shadd16


	)

78 
	#__UADD16
 
__uadd16


	)

79 
	#__UQADD16
 
__uqadd16


	)

80 
	#__UHADD16
 
__uhadd16


	)

81 
	#__SSUB16
 
__ssub16


	)

82 
	#__QSUB16
 
__qsub16


	)

83 
	#__SHSUB16
 
__shsub16


	)

84 
	#__USUB16
 
__usub16


	)

85 
	#__UQSUB16
 
__uqsub16


	)

86 
	#__UHSUB16
 
__uhsub16


	)

87 
	#__SASX
 
__§sx


	)

88 
	#__QASX
 
__qasx


	)

89 
	#__SHASX
 
__shasx


	)

90 
	#__UASX
 
__uasx


	)

91 
	#__UQASX
 
__uqasx


	)

92 
	#__UHASX
 
__uhasx


	)

93 
	#__SSAX
 
__s§x


	)

94 
	#__QSAX
 
__q§x


	)

95 
	#__SHSAX
 
__sh§x


	)

96 
	#__USAX
 
__u§x


	)

97 
	#__UQSAX
 
__uq§x


	)

98 
	#__UHSAX
 
__uh§x


	)

99 
	#__USAD8
 
__u§d8


	)

100 
	#__USADA8
 
__u§da8


	)

101 
	#__SSAT16
 
__s§t16


	)

102 
	#__USAT16
 
__u§t16


	)

103 
	#__UXTB16
 
__uxtb16


	)

104 
	#__UXTAB16
 
__uxb16


	)

105 
	#__SXTB16
 
__sxtb16


	)

106 
	#__SXTAB16
 
__sxb16


	)

107 
	#__SMUAD
 
__smuad


	)

108 
	#__SMUADX
 
__smuadx


	)

109 
	#__SMLAD
 
__smÏd


	)

110 
	#__SMLADX
 
__smÏdx


	)

111 
	#__SMLALD
 
__smÏld


	)

112 
	#__SMLALDX
 
__smÏldx


	)

113 
	#__SMUSD
 
__smusd


	)

114 
	#__SMUSDX
 
__smusdx


	)

115 
	#__SMLSD
 
__smlsd


	)

116 
	#__SMLSDX
 
__smlsdx


	)

117 
	#__SMLSLD
 
__sml¦d


	)

118 
	#__SMLSLDX
 
__sml¦dx


	)

119 
	#__SEL
 
__£l


	)

120 
	#__QADD
 
__qadd


	)

121 
	#__QSUB
 
__qsub


	)

123 
	#__PKHBT
(
ARG1
,
ARG2
,
ARG3
èĞ((((
ušt32_t
)(ARG1)) ) & 0x0000FFFFUL) | \

124 ((((
ušt32_t
)(
ARG2
)è<< (
ARG3
)è& 0xFFFF0000ULè)

	)

126 
	#__PKHTB
(
ARG1
,
ARG2
,
ARG3
èĞ((((
ušt32_t
)(ARG1)) ) & 0xFFFF0000UL) | \

127 ((((
ušt32_t
)(
ARG2
)è>> (
ARG3
)è& 0x0000FFFFULè)

	)

129 
	#__SMMLA
(
ARG1
,
ARG2
,
ARG3
èĞ(
št32_t
)((((
št64_t
)(ARG1) * (ARG2)) + \

130 ((
št64_t
)(
ARG3
è<< 32èè>> 32))

	)

133 #–ià
defšed
 ( 
__GNUC__
 )

135 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SADD8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

137 
ušt32_t
 
»suÉ
;

139 
__ASM
 vŞ©("§dd8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

140 (
»suÉ
);

141 
	}
}

143 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__QADD8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

145 
ušt32_t
 
»suÉ
;

147 
__ASM
 vŞ©("qadd8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

148 (
»suÉ
);

149 
	}
}

151 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SHADD8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

153 
ušt32_t
 
»suÉ
;

155 
__ASM
 vŞ©("shadd8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

156 (
»suÉ
);

157 
	}
}

159 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UADD8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

161 
ušt32_t
 
»suÉ
;

163 
__ASM
 vŞ©("uadd8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

164 (
»suÉ
);

165 
	}
}

167 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UQADD8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

169 
ušt32_t
 
»suÉ
;

171 
__ASM
 vŞ©("uqadd8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

172 (
»suÉ
);

173 
	}
}

175 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UHADD8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

177 
ušt32_t
 
»suÉ
;

179 
__ASM
 vŞ©("uhadd8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

180 (
»suÉ
);

181 
	}
}

184 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SSUB8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

186 
ušt32_t
 
»suÉ
;

188 
__ASM
 vŞ©("ssub8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

189 (
»suÉ
);

190 
	}
}

192 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__QSUB8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

194 
ušt32_t
 
»suÉ
;

196 
__ASM
 vŞ©("qsub8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

197 (
»suÉ
);

198 
	}
}

200 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SHSUB8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

202 
ušt32_t
 
»suÉ
;

204 
__ASM
 vŞ©("shsub8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

205 (
»suÉ
);

206 
	}
}

208 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__USUB8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

210 
ušt32_t
 
»suÉ
;

212 
__ASM
 vŞ©("usub8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

213 (
»suÉ
);

214 
	}
}

216 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UQSUB8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

218 
ušt32_t
 
»suÉ
;

220 
__ASM
 vŞ©("uqsub8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

221 (
»suÉ
);

222 
	}
}

224 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UHSUB8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

226 
ušt32_t
 
»suÉ
;

228 
__ASM
 vŞ©("uhsub8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

229 (
»suÉ
);

230 
	}
}

233 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SADD16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

235 
ušt32_t
 
»suÉ
;

237 
__ASM
 vŞ©("§dd16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

238 (
»suÉ
);

239 
	}
}

241 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__QADD16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

243 
ušt32_t
 
»suÉ
;

245 
__ASM
 vŞ©("qadd16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

246 (
»suÉ
);

247 
	}
}

249 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SHADD16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

251 
ušt32_t
 
»suÉ
;

253 
__ASM
 vŞ©("shadd16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

254 (
»suÉ
);

255 
	}
}

257 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UADD16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

259 
ušt32_t
 
»suÉ
;

261 
__ASM
 vŞ©("uadd16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

262 (
»suÉ
);

263 
	}
}

265 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UQADD16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

267 
ušt32_t
 
»suÉ
;

269 
__ASM
 vŞ©("uqadd16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

270 (
»suÉ
);

271 
	}
}

273 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UHADD16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

275 
ušt32_t
 
»suÉ
;

277 
__ASM
 vŞ©("uhadd16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

278 (
»suÉ
);

279 
	}
}

281 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SSUB16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

283 
ušt32_t
 
»suÉ
;

285 
__ASM
 vŞ©("ssub16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

286 (
»suÉ
);

287 
	}
}

289 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__QSUB16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

291 
ušt32_t
 
»suÉ
;

293 
__ASM
 vŞ©("qsub16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

294 (
»suÉ
);

295 
	}
}

297 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SHSUB16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

299 
ušt32_t
 
»suÉ
;

301 
__ASM
 vŞ©("shsub16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

302 (
»suÉ
);

303 
	}
}

305 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__USUB16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

307 
ušt32_t
 
»suÉ
;

309 
__ASM
 vŞ©("usub16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

310 (
»suÉ
);

311 
	}
}

313 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UQSUB16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

315 
ušt32_t
 
»suÉ
;

317 
__ASM
 vŞ©("uqsub16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

318 (
»suÉ
);

319 
	}
}

321 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UHSUB16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

323 
ušt32_t
 
»suÉ
;

325 
__ASM
 vŞ©("uhsub16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

326 (
»suÉ
);

327 
	}
}

329 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SASX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

331 
ušt32_t
 
»suÉ
;

333 
__ASM
 vŞ©("§sx %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

334 (
»suÉ
);

335 
	}
}

337 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__QASX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

339 
ušt32_t
 
»suÉ
;

341 
__ASM
 vŞ©("qasx %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

342 (
»suÉ
);

343 
	}
}

345 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SHASX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

347 
ušt32_t
 
»suÉ
;

349 
__ASM
 vŞ©("shasx %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

350 (
»suÉ
);

351 
	}
}

353 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UASX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

355 
ušt32_t
 
»suÉ
;

357 
__ASM
 vŞ©("uasx %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

358 (
»suÉ
);

359 
	}
}

361 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UQASX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

363 
ušt32_t
 
»suÉ
;

365 
__ASM
 vŞ©("uqasx %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

366 (
»suÉ
);

367 
	}
}

369 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UHASX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

371 
ušt32_t
 
»suÉ
;

373 
__ASM
 vŞ©("uhasx %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

374 (
»suÉ
);

375 
	}
}

377 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SSAX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

379 
ušt32_t
 
»suÉ
;

381 
__ASM
 vŞ©("s§x %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

382 (
»suÉ
);

383 
	}
}

385 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__QSAX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

387 
ušt32_t
 
»suÉ
;

389 
__ASM
 vŞ©("q§x %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

390 (
»suÉ
);

391 
	}
}

393 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SHSAX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

395 
ušt32_t
 
»suÉ
;

397 
__ASM
 vŞ©("sh§x %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

398 (
»suÉ
);

399 
	}
}

401 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__USAX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

403 
ušt32_t
 
»suÉ
;

405 
__ASM
 vŞ©("u§x %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

406 (
»suÉ
);

407 
	}
}

409 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UQSAX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

411 
ušt32_t
 
»suÉ
;

413 
__ASM
 vŞ©("uq§x %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

414 (
»suÉ
);

415 
	}
}

417 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UHSAX
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

419 
ušt32_t
 
»suÉ
;

421 
__ASM
 vŞ©("uh§x %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

422 (
»suÉ
);

423 
	}
}

425 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__USAD8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

427 
ušt32_t
 
»suÉ
;

429 
__ASM
 vŞ©("u§d8 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

430 (
»suÉ
);

431 
	}
}

433 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__USADA8
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
, ušt32_ˆ
İ3
)

435 
ušt32_t
 
»suÉ
;

437 
__ASM
 vŞ©("u§da8 %0, %1, %2, %3" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
), "r" (
İ3
) );

438 (
»suÉ
);

439 
	}
}

441 
	#__SSAT16
(
ARG1
,
ARG2
) \

443 
ušt32_t
 
__RES
, 
__ARG1
 = (
ARG1
); \

444 
	`__ASM
 ("s§t16 %0, %1, %2" : "ô" (
__RES
è: "I" (
ARG2
), "r" (
__ARG1
) ); \

445 
__RES
; \

446 })

	)

448 
	#__USAT16
(
ARG1
,
ARG2
) \

450 
ušt32_t
 
__RES
, 
__ARG1
 = (
ARG1
); \

451 
	`__ASM
 ("u§t16 %0, %1, %2" : "ô" (
__RES
è: "I" (
ARG2
), "r" (
__ARG1
) ); \

452 
__RES
; \

453 })

	)

455 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UXTB16
(
ušt32_t
 
İ1
)

457 
ušt32_t
 
»suÉ
;

459 
__ASM
 vŞ©("uxtb16 %0, %1" : "ô" (
»suÉ
è: "r" (
İ1
));

460 (
»suÉ
);

461 
	}
}

463 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__UXTAB16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

465 
ušt32_t
 
»suÉ
;

467 
__ASM
 vŞ©("uxb16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

468 (
»suÉ
);

469 
	}
}

471 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SXTB16
(
ušt32_t
 
İ1
)

473 
ušt32_t
 
»suÉ
;

475 
__ASM
 vŞ©("sxtb16 %0, %1" : "ô" (
»suÉ
è: "r" (
İ1
));

476 (
»suÉ
);

477 
	}
}

479 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SXTAB16
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

481 
ušt32_t
 
»suÉ
;

483 
__ASM
 vŞ©("sxb16 %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

484 (
»suÉ
);

485 
	}
}

487 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SMUAD
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

489 
ušt32_t
 
»suÉ
;

491 
__ASM
 vŞ©("smuad %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

492 (
»suÉ
);

493 
	}
}

495 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SMUADX
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

497 
ušt32_t
 
»suÉ
;

499 
__ASM
 vŞ©("smuadx %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

500 (
»suÉ
);

501 
	}
}

503 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SMLAD
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
, ušt32_ˆ
İ3
)

505 
ušt32_t
 
»suÉ
;

507 
__ASM
 vŞ©("smÏd %0, %1, %2, %3" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
), "r" (
İ3
) );

508 (
»suÉ
);

509 
	}
}

511 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SMLADX
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
, ušt32_ˆ
İ3
)

513 
ušt32_t
 
»suÉ
;

515 
__ASM
 vŞ©("smÏdx %0, %1, %2, %3" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
), "r" (
İ3
) );

516 (
»suÉ
);

517 
	}
}

519 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt64_t
 
	$__SMLALD
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
, 
ušt64_t
 
acc
)

521 
	uÎ»g_u
{

522 
ušt32_t
 
w32
[2];

523 
ušt64_t
 
w64
;

524 } 
Îr
;

525 
Îr
.
w64
 = 
acc
;

527 #iâdeà
__ARMEB__


528 
__ASM
 vŞ©("smÏld %0, %1, %2, %3" : "ô" (
Îr
.
w32
[0]), "ô" (Îr.w32[1]): "r" (
İ1
), "r" (
İ2
) , "0" (llr.w32[0]), "1" (llr.w32[1]) );

530 
__ASM
 vŞ©("smÏld %0, %1, %2, %3" : "ô" (
Îr
.
w32
[1]), "ô" (Îr.w32[0]): "r" (
İ1
), "r" (
İ2
) , "0" (llr.w32[1]), "1" (llr.w32[0]) );

533 (
Îr
.
w64
);

534 
	}
}

536 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt64_t
 
	$__SMLALDX
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
, 
ušt64_t
 
acc
)

538 
	uÎ»g_u
{

539 
ušt32_t
 
w32
[2];

540 
ušt64_t
 
w64
;

541 } 
Îr
;

542 
Îr
.
w64
 = 
acc
;

544 #iâdeà
__ARMEB__


545 
__ASM
 vŞ©("smÏldx %0, %1, %2, %3" : "ô" (
Îr
.
w32
[0]), "ô" (Îr.w32[1]): "r" (
İ1
), "r" (
İ2
) , "0" (llr.w32[0]), "1" (llr.w32[1]) );

547 
__ASM
 vŞ©("smÏldx %0, %1, %2, %3" : "ô" (
Îr
.
w32
[1]), "ô" (Îr.w32[0]): "r" (
İ1
), "r" (
İ2
) , "0" (llr.w32[1]), "1" (llr.w32[0]) );

550 (
Îr
.
w64
);

551 
	}
}

553 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SMUSD
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

555 
ušt32_t
 
»suÉ
;

557 
__ASM
 vŞ©("smusd %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

558 (
»suÉ
);

559 
	}
}

561 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SMUSDX
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

563 
ušt32_t
 
»suÉ
;

565 
__ASM
 vŞ©("smusdx %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

566 (
»suÉ
);

567 
	}
}

569 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SMLSD
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
, ušt32_ˆ
İ3
)

571 
ušt32_t
 
»suÉ
;

573 
__ASM
 vŞ©("smlsd %0, %1, %2, %3" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
), "r" (
İ3
) );

574 (
»suÉ
);

575 
	}
}

577 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SMLSDX
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
, ušt32_ˆ
İ3
)

579 
ušt32_t
 
»suÉ
;

581 
__ASM
 vŞ©("smlsdx %0, %1, %2, %3" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
), "r" (
İ3
) );

582 (
»suÉ
);

583 
	}
}

585 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt64_t
 
	$__SMLSLD
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
, 
ušt64_t
 
acc
)

587 
	uÎ»g_u
{

588 
ušt32_t
 
w32
[2];

589 
ušt64_t
 
w64
;

590 } 
Îr
;

591 
Îr
.
w64
 = 
acc
;

593 #iâdeà
__ARMEB__


594 
__ASM
 vŞ©("sml¦d %0, %1, %2, %3" : "ô" (
Îr
.
w32
[0]), "ô" (Îr.w32[1]): "r" (
İ1
), "r" (
İ2
) , "0" (llr.w32[0]), "1" (llr.w32[1]) );

596 
__ASM
 vŞ©("sml¦d %0, %1, %2, %3" : "ô" (
Îr
.
w32
[1]), "ô" (Îr.w32[0]): "r" (
İ1
), "r" (
İ2
) , "0" (llr.w32[1]), "1" (llr.w32[0]) );

599 (
Îr
.
w64
);

600 
	}
}

602 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt64_t
 
	$__SMLSLDX
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
, 
ušt64_t
 
acc
)

604 
	uÎ»g_u
{

605 
ušt32_t
 
w32
[2];

606 
ušt64_t
 
w64
;

607 } 
Îr
;

608 
Îr
.
w64
 = 
acc
;

610 #iâdeà
__ARMEB__


611 
__ASM
 vŞ©("sml¦dx %0, %1, %2, %3" : "ô" (
Îr
.
w32
[0]), "ô" (Îr.w32[1]): "r" (
İ1
), "r" (
İ2
) , "0" (llr.w32[0]), "1" (llr.w32[1]) );

613 
__ASM
 vŞ©("sml¦dx %0, %1, %2, %3" : "ô" (
Îr
.
w32
[1]), "ô" (Îr.w32[0]): "r" (
İ1
), "r" (
İ2
) , "0" (llr.w32[1]), "1" (llr.w32[0]) );

616 (
Îr
.
w64
);

617 
	}
}

619 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SEL
 (
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

621 
ušt32_t
 
»suÉ
;

623 
__ASM
 vŞ©("£È%0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

624 (
»suÉ
);

625 
	}
}

627 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__QADD
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

629 
ušt32_t
 
»suÉ
;

631 
__ASM
 vŞ©("qadd %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

632 (
»suÉ
);

633 
	}
}

635 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__QSUB
(
ušt32_t
 
İ1
, ušt32_ˆ
İ2
)

637 
ušt32_t
 
»suÉ
;

639 
__ASM
 vŞ©("qsub %0, %1, %2" : "ô" (
»suÉ
è: "r" (
İ1
), "r" (
İ2
) );

640 (
»suÉ
);

641 
	}
}

643 
	#__PKHBT
(
ARG1
,
ARG2
,
ARG3
) \

645 
ušt32_t
 
__RES
, 
__ARG1
 = (
ARG1
), 
__ARG2
 = (
ARG2
); \

646 
	`__ASM
 ("pkhbˆ%0, %1, %2,†¦ %3" : "ô" (
__RES
è: "r" (
__ARG1
), "r" (
__ARG2
), "I" (
ARG3
) ); \

647 
__RES
; \

648 })

	)

650 
	#__PKHTB
(
ARG1
,
ARG2
,
ARG3
) \

652 
ušt32_t
 
__RES
, 
__ARG1
 = (
ARG1
), 
__ARG2
 = (
ARG2
); \

653 ià(
ARG3
 == 0) \

654 
	`__ASM
 ("pkhtb %0, %1, %2" : "ô" (
__RES
è: "r" (
__ARG1
), "r" (
__ARG2
) ); \

656 
	`__ASM
 ("pkhtb %0, %1, %2,‡¤ %3" : "ô" (
__RES
è: "r" (
__ARG1
), "r" (
__ARG2
), "I" (
ARG3
) ); \

657 
__RES
; \

658 })

	)

660 
__©Œibu‹__
ĞĞ
®ways_šlše
 ) ) 
__STATIC_INLINE
 
ušt32_t
 
	$__SMMLA
 (
št32_t
 
İ1
, iÁ32_ˆ
İ2
, iÁ32_ˆ
İ3
)

662 
št32_t
 
»suÉ
;

664 
__ASM
 vŞ©("smmÏ %0, %1, %2, %3" : "ô" (
»suÉ
): "r" (
İ1
), "r" (
İ2
), "r" (
İ3
) );

665 (
»suÉ
);

666 
	}
}

669 #–ià
defšed
 ( 
__ICCARM__
 )

671 
	~<cmsis_Ÿr.h
>

674 #–ià
defšed
 ( 
__TMS470__
 )

676 
	~<cmsis_ccs.h
>

679 #–ià
defšed
 ( 
__TASKING__
 )

684 #–ià
defšed
 ( 
__CSMC__
 )

686 
	~<cmsis_csm.h
>

693 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\PeripheralNames.h

16 #iâdeà
MBED_PERIPHERALNAMES_H


17 
	#MBED_PERIPHERALNAMES_H


	)

19 
	~"cmsis.h
"

21 #ifdeà
__ılu¥lus


27 
UART_0
 = ()
LPC_USART0_BASE
,

28 
UART_1
 = ()
LPC_USART1_BASE
,

29 
UART_2
 = ()
LPC_USART2_BASE
,

30 
UART_3
 = ()
LPC_USART3_BASE
,

31 
UART_4
 = ()
LPC_USART4_BASE
,

32 } 
	tUARTName
;

35 
ADC_0
 = 0,

36 
ADC_1
,

37 
ADC_2
,

38 
ADC_3
,

39 
ADC_4
,

40 
ADC_5
,

41 
ADC_6
,

42 
ADC_7
,

43 
ADC_8
,

44 
ADC_9
,

45 
ADC_10
,

46 
ADC_11
,

47 } 
	tADCName
;

50 
SPI_0
 = ()
LPC_SSP0_BASE
,

51 
SPI_1
 = ()
LPC_SSP1_BASE


52 } 
	tSPIName
;

55 
I2C_0
 = ()
LPC_I2C0_BASE
,

56 
I2C_1
 = ()
LPC_I2C1_BASE


57 } 
	tI2CName
;

60 
SCT0_0
 = 0,

61 
SCT0_1
,

62 
SCT0_2
,

63 
SCT0_3
,

64 
SCT1_0
,

65 
SCT1_1
,

66 
SCT1_2
,

67 
SCT1_3
,

68 } 
	tPWMName
;

70 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\PinNames.h

16 #iâdeà
MBED_PINNAMES_H


17 
	#MBED_PINNAMES_H


	)

19 
	~"cmsis.h
"

21 #ifdeà
__ılu¥lus


26 
PIN_INPUT
,

27 
PIN_OUTPUT


28 } 
	tPšDœeùiÚ
;

30 
	#PORT_SHIFT
 16

	)

31 
	#PIN_SHIFT
 9

	)

36 
P0_0
 = (0 << 
PORT_SHIFT
è| (0 << 
PIN_SHIFT
) | 0x000,

37 
P0_1
 = (0 << 
PORT_SHIFT
è| (1 << 
PIN_SHIFT
) | 0x004,

38 
P0_2
 = (0 << 
PORT_SHIFT
è| (2 << 
PIN_SHIFT
) | 0x008,

39 
P0_3
 = (0 << 
PORT_SHIFT
è| (3 << 
PIN_SHIFT
) | 0x00C,

40 
P0_4
 = (0 << 
PORT_SHIFT
è| (4 << 
PIN_SHIFT
) | 0x010,

41 
P0_5
 = (0 << 
PORT_SHIFT
è| (5 << 
PIN_SHIFT
) | 0x014,

42 
P0_6
 = (0 << 
PORT_SHIFT
è| (6 << 
PIN_SHIFT
) | 0x018,

43 
P0_7
 = (0 << 
PORT_SHIFT
è| (7 << 
PIN_SHIFT
) | 0x01C,

44 
P0_8
 = (0 << 
PORT_SHIFT
è| (8 << 
PIN_SHIFT
) | 0x020,

45 
P0_9
 = (0 << 
PORT_SHIFT
è| (9 << 
PIN_SHIFT
) | 0x024,

46 
P0_10
ğ(0 << 
PORT_SHIFT
è| (10<< 
PIN_SHIFT
) | 0x028,

47 
P0_11
ğ(0 << 
PORT_SHIFT
è| (11<< 
PIN_SHIFT
) | 0x02C,

48 
P0_12
ğ(0 << 
PORT_SHIFT
è| (12<< 
PIN_SHIFT
) | 0x030,

49 
P0_13
ğ(0 << 
PORT_SHIFT
è| (13<< 
PIN_SHIFT
) | 0x034,

50 
P0_14
ğ(0 << 
PORT_SHIFT
è| (14<< 
PIN_SHIFT
) | 0x038,

51 
P0_15
ğ(0 << 
PORT_SHIFT
è| (15<< 
PIN_SHIFT
) | 0x03C,

52 
P0_16
ğ(0 << 
PORT_SHIFT
è| (16<< 
PIN_SHIFT
) | 0x040,

53 
P0_17
ğ(0 << 
PORT_SHIFT
è| (17<< 
PIN_SHIFT
) | 0x044,

54 
P0_18
ğ(0 << 
PORT_SHIFT
è| (18<< 
PIN_SHIFT
) | 0x048,

55 
P0_19
ğ(0 << 
PORT_SHIFT
è| (19<< 
PIN_SHIFT
) | 0x04C,

56 
P0_20
ğ(0 << 
PORT_SHIFT
è| (20<< 
PIN_SHIFT
) | 0x050,

57 
P0_21
ğ(0 << 
PORT_SHIFT
è| (21<< 
PIN_SHIFT
) | 0x054,

58 
P0_22
ğ(0 << 
PORT_SHIFT
è| (22<< 
PIN_SHIFT
) | 0x058,

59 
P0_23
ğ(0 << 
PORT_SHIFT
è| (23<< 
PIN_SHIFT
) | 0x05C,

61 
P1_0
 = (1 << 
PORT_SHIFT
è| (0 << 
PIN_SHIFT
) | 0x060,

62 
P1_1
 = (1 << 
PORT_SHIFT
è| (1 << 
PIN_SHIFT
) | 0x064,

63 
P1_2
 = (1 << 
PORT_SHIFT
è| (2 << 
PIN_SHIFT
) | 0x068,

64 
P1_3
 = (1 << 
PORT_SHIFT
è| (3 << 
PIN_SHIFT
) | 0x06C,

65 
P1_4
 = (1 << 
PORT_SHIFT
è| (4 << 
PIN_SHIFT
) | 0x070,

66 
P1_5
 = (1 << 
PORT_SHIFT
è| (5 << 
PIN_SHIFT
) | 0x074,

67 
P1_6
 = (1 << 
PORT_SHIFT
è| (6 << 
PIN_SHIFT
) | 0x078,

68 
P1_7
 = (1 << 
PORT_SHIFT
è| (7 << 
PIN_SHIFT
) | 0x07C,

69 
P1_8
 = (1 << 
PORT_SHIFT
è| (8 << 
PIN_SHIFT
) | 0x080,

70 
P1_9
 = (1 << 
PORT_SHIFT
è| (9 << 
PIN_SHIFT
) | 0x084,

71 
P1_10
ğ(1 << 
PORT_SHIFT
è| (10<< 
PIN_SHIFT
) | 0x088,

72 
P1_11
ğ(1 << 
PORT_SHIFT
è| (11<< 
PIN_SHIFT
) | 0x08C,

73 
P1_12
ğ(1 << 
PORT_SHIFT
è| (12<< 
PIN_SHIFT
) | 0x090,

74 
P1_13
ğ(1 << 
PORT_SHIFT
è| (13<< 
PIN_SHIFT
) | 0x094,

75 
P1_14
ğ(1 << 
PORT_SHIFT
è| (14<< 
PIN_SHIFT
) | 0x098,

76 
P1_15
ğ(1 << 
PORT_SHIFT
è| (15<< 
PIN_SHIFT
) | 0x09C,

77 
P1_16
ğ(1 << 
PORT_SHIFT
è| (16<< 
PIN_SHIFT
) | 0x0A0,

78 
P1_17
ğ(1 << 
PORT_SHIFT
è| (17<< 
PIN_SHIFT
) | 0x0A4,

79 
P1_18
ğ(1 << 
PORT_SHIFT
è| (18<< 
PIN_SHIFT
) | 0x0A8,

80 
P1_19
ğ(1 << 
PORT_SHIFT
è| (19<< 
PIN_SHIFT
) | 0x0AC,

81 
P1_20
ğ(1 << 
PORT_SHIFT
è| (20<< 
PIN_SHIFT
) | 0x0B0,

82 
P1_21
ğ(1 << 
PORT_SHIFT
è| (21<< 
PIN_SHIFT
) | 0x0B4,

83 
P1_22
ğ(1 << 
PORT_SHIFT
è| (22<< 
PIN_SHIFT
) | 0x0B8,

84 
P1_23
ğ(1 << 
PORT_SHIFT
è| (23<< 
PIN_SHIFT
) | 0x0BC,

85 
P1_24
ğ(1 << 
PORT_SHIFT
è| (24<< 
PIN_SHIFT
) | 0x0C0,

86 
P1_25
ğ(1 << 
PORT_SHIFT
è| (25<< 
PIN_SHIFT
) | 0x0C4,

87 
P1_26
ğ(1 << 
PORT_SHIFT
è| (26<< 
PIN_SHIFT
) | 0x0C8,

88 
P1_27
ğ(1 << 
PORT_SHIFT
è| (27<< 
PIN_SHIFT
) | 0x0CC,

89 
P1_28
ğ(1 << 
PORT_SHIFT
è| (28<< 
PIN_SHIFT
) | 0x0D0,

90 
P1_29
ğ(1 << 
PORT_SHIFT
è| (29<< 
PIN_SHIFT
) | 0x0D4,

91 
P1_30
ğ(1 << 
PORT_SHIFT
è| (30<< 
PIN_SHIFT
) | 0x0D8,

92 
P1_31
ğ(1 << 
PORT_SHIFT
è| (31<< 
PIN_SHIFT
) | 0x0DC,

94 
P2_0
 = (2 << 
PORT_SHIFT
è| (0 << 
PIN_SHIFT
) | 0x0F0,

95 
P2_1
 = (2 << 
PORT_SHIFT
è| (1 << 
PIN_SHIFT
) | 0x0F4,

96 
P2_2
 = (2 << 
PORT_SHIFT
è| (2 << 
PIN_SHIFT
) | 0x0FC,

97 
P2_3
 = (2 << 
PORT_SHIFT
è| (3 << 
PIN_SHIFT
) | 0x100,

98 
P2_4
 = (2 << 
PORT_SHIFT
è| (4 << 
PIN_SHIFT
) | 0x104,

99 
P2_5
 = (2 << 
PORT_SHIFT
è| (5 << 
PIN_SHIFT
) | 0x108,

100 
P2_6
 = (2 << 
PORT_SHIFT
è| (6 << 
PIN_SHIFT
) | 0x10C,

101 
P2_7
 = (2 << 
PORT_SHIFT
è| (7 << 
PIN_SHIFT
) | 0x110,

102 
P2_8
 = (2 << 
PORT_SHIFT
è| (8 << 
PIN_SHIFT
) | 0x114,

103 
P2_9
 = (2 << 
PORT_SHIFT
è| (9 << 
PIN_SHIFT
) | 0x118,

104 
P2_10
ğ(2 << 
PORT_SHIFT
è| (10<< 
PIN_SHIFT
) | 0x11C,

105 
P2_11
ğ(2 << 
PORT_SHIFT
è| (11<< 
PIN_SHIFT
) | 0x120,

106 
P2_12
ğ(2 << 
PORT_SHIFT
è| (12<< 
PIN_SHIFT
) | 0x124,

107 
P2_13
ğ(2 << 
PORT_SHIFT
è| (13<< 
PIN_SHIFT
) | 0x128,

108 
P2_14
ğ(2 << 
PORT_SHIFT
è| (14<< 
PIN_SHIFT
) | 0x12C,

109 
P2_15
ğ(2 << 
PORT_SHIFT
è| (15<< 
PIN_SHIFT
) | 0x130,

110 
P2_16
ğ(2 << 
PORT_SHIFT
è| (16<< 
PIN_SHIFT
) | 0x134,

111 
P2_17
ğ(2 << 
PORT_SHIFT
è| (17<< 
PIN_SHIFT
) | 0x138,

112 
P2_18
ğ(2 << 
PORT_SHIFT
è| (18<< 
PIN_SHIFT
) | 0x13C,

113 
P2_19
ğ(2 << 
PORT_SHIFT
è| (19<< 
PIN_SHIFT
) | 0x140,

114 
P2_20
ğ(2 << 
PORT_SHIFT
è| (20<< 
PIN_SHIFT
) | 0x144,

115 
P2_21
ğ(2 << 
PORT_SHIFT
è| (21<< 
PIN_SHIFT
) | 0x148,

116 
P2_22
ğ(2 << 
PORT_SHIFT
è| (22<< 
PIN_SHIFT
) | 0x14C,

117 
P2_23
ğ(2 << 
PORT_SHIFT
è| (23<< 
PIN_SHIFT
) | 0x150,

119 
LED_RED
 = 
P2_17
,

120 
LED_GREEN
 = 
P2_16
,

121 
LED_BLUE
 = 
P2_18
,

124 
LED1
 = 
LED_RED
,

125 
LED2
 = 
LED_GREEN
,

126 
LED3
 = 
LED_BLUE
,

127 
LED4
 = 
LED_BLUE
,

130 
USBTX
 = 
P0_19
,

131 
USBRX
 = 
P0_18
,

134 
D0
 = 
P0_18
,

135 
D1
 = 
P0_19
,

136 
D2
 = 
P1_18
,

137 
D3
 = 
P1_24
,

138 
D4
 = 
P1_19
,

139 
D5
 = 
P1_26
,

140 
D6
 = 
P1_27
,

141 
D7
 = 
P1_25
,

142 
D8
 = 
P1_28
,

143 
D9
 = 
P2_3
,

144 
D10
ğ
P0_2
,

145 
D11
ğ
P0_9
,

146 
D12
ğ
P0_8
,

147 
D13
ğ
P1_29
,

148 
D14
ğ
P0_5
,

149 
D15
ğ
P0_4
,

151 
A0
 = 
P1_9
,

152 
A1
 = 
P0_14
,

153 
A2
 = 
P0_13
,

154 
A3
 = 
P0_12
,

155 
A4
 = 
P0_5
,

156 
A5
 = 
P0_4
,

157 
SDA
ğ
P0_5
,

158 
SCL
ğ
P0_4
,

161 
NC
 = ()0xFFFFFFFF,

162 } 
	tPšName
;

165 
PuÎUp
 = 2,

166 
PuÎDown
 = 1,

167 
PuÎNÚe
 = 0,

168 
R•—‹r
 = 3,

169 
O³nD¿š
 = 4,

170 
PuÎDeçuÉ
 = 
PuÎDown


171 } 
	tPšMode
;

173 
	#STDIO_UART_TX
 
USBTX


	)

174 
	#STDIO_UART_RX
 
USBRX


	)

175 
	#STDIO_UART
 
UART_0


	)

177 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\PortNames.h

16 #iâdeà
MBED_PORTNAMES_H


17 
	#MBED_PORTNAMES_H


	)

19 #ifdeà
__ılu¥lus


24 
PÜt0
 = 0,

25 
PÜt1
 = 1,

26 
PÜt2
 = 2

27 } 
	tPÜtName
;

29 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\analogin_api.c

16 
	~"mbed_as£¹.h
"

17 
	~"ª®ogš_­i.h
"

18 
	~"cmsis.h
"

19 
	~"pšm­.h
"

20 
	~"mbed_”rÜ.h
"

22 #ià
DEVICE_ANALOGIN


24 
	#ANALOGIN_MEDIAN_FILTER
 1

	)

26 
	#ADC_10BIT_RANGE
 0x3FF

	)

27 
	#ADC_12BIT_RANGE
 0xFFF

	)

28 
	#PDRUN_VALID_BITS
 0x000025FFL

	)

29 
	#PDRUN_RESERVED_ONE
 0x0000C800L

	)

31 
	#ADC_RANGE
 
ADC_12BIT_RANGE


	)

33 cÚ¡ 
PšM­
 
	gPšM­_ADC
[] = {

34 {
P1_9
 , 
ADC_0
, 3},

35 {
P0_23
, 
ADC_1
, 1},

36 {
P0_16
, 
ADC_2
, 1},

37 {
P0_15
, 
ADC_3
, 3},

38 {
P1_22
, 
ADC_4
, 3},

39 {
P1_3
 , 
ADC_5
, 4},

40 {
P0_14
, 
ADC_6
, 2},

41 {
P0_13
, 
ADC_7
, 2},

42 {
P0_12
, 
ADC_8
, 2},

43 {
P0_11
, 
ADC_9
, 2},

44 {
P1_29
, 
ADC_10
,4},

45 {
P0_22
, 
ADC_11
,1},

46 {
NC
 , NC ,0}

50 
	$ª®ogš_š™
(
ª®ogš_t
 *
obj
, 
PšName
 
pš
) {

51 vŞ©
ušt32_t
 
tmp
;

52 
obj
->
adc
 = (
ADCName
)
	`pšm­_³rh”®
(
pš
, 
PšM­_ADC
);

53 
	`MBED_ASSERT
(
obj
->
adc
 !ğ(
ADCName
)
NC
);

55 
	`pšm­_pšout
(
pš
, 
PšM­_ADC
);

57 
__IO
 
ušt32_t
 *
»g
 = (__IO ušt32_t*)(
LPC_IOCON_BASE
 + (
pš
 & 0x1FF));

59 *
»g
 &= ~(1 << 7);

62 
tmp
 = (
LPC_SYSCON
->
PDRUNCFG
 & 
PDRUN_VALID_BITS
);

63 
tmp
 &ğ~((1 << 4è& 
PDRUN_VALID_BITS
);

64 
LPC_SYSCON
->
PDRUNCFG
 = (
tmp
 | 
PDRUN_RESERVED_ONE
);

67 
LPC_SYSCON
->
SYSAHBCLKCTRL
 |= (1 << 13);

70 
ušt32_t
 
şkdiv
 = (
Sy¡emCÜeClock
 / 500000) - 1;

73 
LPC_ADC
->
CTRL
 = (1UL << 30è| (
şkdiv
 & 0xFF);

74 (
LPC_ADC
->
CTRL
 & (1UL << 30)) != 0);

77 
LPC_ADC
->
CTRL
 = 0;

78 
	}
}

80 
šlše
 
ušt32_t
 
	$adc_»ad
(
ª®ogš_t
 *
obj
) {

83 
LPC_ADC
->
SEQA_CTRL
 &= ~(0xFFF);

84 
LPC_ADC
->
SEQA_CTRL
 |ğ(1UL << 
obj
->
adc
);

87 
LPC_ADC
->
SEQA_CTRL
 |= ((1UL << 26) | (1UL << 31) | (1UL << 19));

90 vŞ©
ušt32_t
 
d©a
;

92 
d©a
 = 
LPC_ADC
->
SEQA_GDAT
;

93 } (
d©a
 & (1UL << 31)) == 0);

94 
d©a
 = 
LPC_ADC
->
DAT
[
obj
->
adc
];

97 
LPC_ADC
->
SEQA_CTRL
 &= ~(1UL << 31);

99  ((
d©a
 >> 4è& 
ADC_RANGE
);

100 
	}
}

102 
šlše
 
	$Üd”
(
ušt32_t
 *
a
, ušt32_ˆ*
b
) {

103 ià(*
a
 > *
b
) {

104 
ušt32_t
 
t
 = *
a
;

105 *
a
 = *
b
;

106 *
b
 = 
t
;

108 
	}
}

110 
šlše
 
ušt32_t
 
	$adc_»ad_u32
(
ª®ogš_t
 *
obj
) {

111 
ušt32_t
 
v®ue
;

112 #ià
ANALOGIN_MEDIAN_FILTER


113 
ušt32_t
 
v1
 = 
	`adc_»ad
(
obj
);

114 
ušt32_t
 
v2
 = 
	`adc_»ad
(
obj
);

115 
ušt32_t
 
v3
 = 
	`adc_»ad
(
obj
);

116 
	`Üd”
(&
v1
, &
v2
);

117 
	`Üd”
(&
v2
, &
v3
);

118 
	`Üd”
(&
v1
, &
v2
);

119 
v®ue
 = 
v2
;

121 
v®ue
 = 
	`adc_»ad
(
obj
);

123  
v®ue
;

124 
	}
}

126 
ušt16_t
 
	$ª®ogš_»ad_u16
(
ª®ogš_t
 *
obj
) {

127 
ušt32_t
 
v®ue
 = 
	`adc_»ad_u32
(
obj
);

128  (
v®ue
 << 4) | ((value >> 8) & 0x000F);

129 
	}
}

131 
	$ª®ogš_»ad
(
ª®ogš_t
 *
obj
) {

132 
ušt32_t
 
v®ue
 = 
	`adc_»ad_u32
(
obj
);

133  ()
v®ue
 * (1.0à/ ()
ADC_RANGE
);

134 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\device.h

16 #iâdeà
MBED_DEVICE_H


17 
	#MBED_DEVICE_H


	)

19 
	#DEVICE_PORTIN
 0

	)

20 
	#DEVICE_PORTOUT
 0

	)

21 
	#DEVICE_PORTINOUT
 0

	)

23 
	#DEVICE_INTERRUPTIN
 1

	)

25 
	#DEVICE_ANALOGIN
 1

	)

26 
	#DEVICE_ANALOGOUT
 0

	)

28 
	#DEVICE_SERIAL
 1

	)

30 
	#DEVICE_I2C
 1

	)

31 
	#DEVICE_I2CSLAVE
 1

	)

33 
	#DEVICE_SPI
 1

	)

34 
	#DEVICE_SPISLAVE
 0

	)

36 
	#DEVICE_CAN
 0

	)

38 
	#DEVICE_RTC
 1

	)

40 
	#DEVICE_ETHERNET
 0

	)

42 
	#DEVICE_PWMOUT
 1

	)

44 
	#DEVICE_SEMIHOST
 0

	)

45 
	#DEVICE_LOCALFILESYSTEM
 0

	)

47 
	#DEVICE_SLEEP
 1

	)

49 
	#DEVICE_DEBUG_AWARENESS
 0

	)

51 
	#DEVICE_STDIO_MESSAGES
 0

	)

53 
	#DEVICE_ERROR_RED
 1

	)

55 
	~"objeùs.h
"

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\gpio_api.c

16 
	~"mbed_as£¹.h
"

17 
	~"gpio_­i.h
"

18 
	~"pšm­.h
"

20 
	ggpio_’abËd
 = 0;

22 
	$gpio_’abË
() {

23 
gpio_’abËd
 = 1;

26 
LPC_SYSCON
->
SYSAHBCLKCTRL
 |= ((1 << 16) | (1 << 6));

27 
	}
}

29 
ušt32_t
 
	$gpio_£t
(
PšName
 
pš
) {

30 
	`MBED_ASSERT
(
pš
 !ğ(
PšName
)
NC
);

31 ià(!
gpio_’abËd
)

32 
	`gpio_’abË
();

34 
func
 = ((
pš
 =ğ
P0_0
) ||

35 (
pš
 =ğ
P0_10
) ||

36 (
pš
 =ğ
P0_11
) ||

37 (
pš
 =ğ
P0_12
) ||

38 (
pš
 =ğ
P0_13
) ||

39 (
pš
 =ğ
P0_14
) ||

40 (
pš
 =ğ
P0_15
)) ? (1) : (0);

42 
	`pš_funùiÚ
(
pš
, 
func
);

44  (1UL << (()
pš
 >> 
PIN_SHIFT
 & 0x1F));

45 
	}
}

47 
	$gpio_š™
(
gpio_t
 *
obj
, 
PšName
 
pš
) {

48 
obj
->
pš
 =…in;

49 ià(
pš
 =ğ(
PšName
)
NC
)

52 
obj
->
mask
 = 
	`gpio_£t
(
pš
);

54 
pÜt
 = ()(
pš
 >> 
PORT_SHIFT
);

56 
obj
->
»g_£t
 = &
LPC_GPIO_PORT
->
SET
[
pÜt
];

57 
obj
->
»g_şr
 = &
LPC_GPIO_PORT
->
CLR
[
pÜt
];

58 
obj
->
»g_š
 = &
LPC_GPIO_PORT
->
PIN
[
pÜt
];

59 
obj
->
»g_dœ
 = &
LPC_GPIO_PORT
->
DIR
[
pÜt
];

60 
	}
}

62 
	$gpio_mode
(
gpio_t
 *
obj
, 
PšMode
 
mode
) {

63 
	`pš_mode
(
obj
->
pš
, 
mode
);

64 
	}
}

66 
	$gpio_dœ
(
gpio_t
 *
obj
, 
PšDœeùiÚ
 
dœeùiÚ
) {

67 
	`MBED_ASSERT
(
obj
->
pš
 !ğ(
PšName
)
NC
);

68 
dœeùiÚ
) {

69 
PIN_INPUT
 :

70 *
obj
->
»g_dœ
 &ğ~obj->
mask
;

72 
PIN_OUTPUT
:

73 *
obj
->
»g_dœ
 |ğobj->
mask
;

76 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\gpio_irq_api.c

16 
	~<¡ddef.h
>

18 
	~"cmsis.h
"

19 
	~"gpio_œq_­i.h
"

20 
	~"mbed_”rÜ.h
"

22 #ià
DEVICE_INTERRUPTIN


24 
	#CHANNEL_NUM
 8

	)

25 
	#LPC_GPIO_X
 
LPC_PINT


	)

26 
	#PININT_IRQ
 
PIN_INT0_IRQn


	)

28 
ušt32_t
 
	gchªÃl_ids
[
CHANNEL_NUM
] = {0};

29 
gpio_œq_hªdËr
 
	gœq_hªdËr
;

31 
šlše
 
	$hªdË_š‹¼u±_š
(
ušt32_t
 
chªÃl
) {

32 
ušt32_t
 
ch_b™
 = (1 << 
chªÃl
);

37 iàĞ((
LPC_GPIO_X
->
IST
 & 
ch_b™
) == 0) ||

38 (
chªÃl_ids
[
chªÃl
] == 0 ) ||

39 (
LPC_GPIO_X
->
ISEL
 & 
ch_b™
 ) ) ;

41 ià((
LPC_GPIO_X
->
IENR
 & 
ch_b™
è&& (LPC_GPIO_X->
RISE
 & ch_bit)) {

42 
	`œq_hªdËr
(
chªÃl_ids
[
chªÃl
], 
IRQ_RISE
);

43 
LPC_GPIO_X
->
RISE
 = 
ch_b™
;

45 ià((
LPC_GPIO_X
->
IENF
 & 
ch_b™
è&& (LPC_GPIO_X->
FALL
 & ch_bit)) {

46 
	`œq_hªdËr
(
chªÃl_ids
[
chªÃl
], 
IRQ_FALL
);

47 
LPC_GPIO_X
->
FALL
 = 
ch_b™
;

49 
LPC_GPIO_X
->
IST
 = 
ch_b™
;

50 
	}
}

52 
	$gpio_œq0
(è{
	`hªdË_š‹¼u±_š
(0);
	}
}

53 
	$gpio_œq1
(è{
	`hªdË_š‹¼u±_š
(1);
	}
}

54 
	$gpio_œq2
(è{
	`hªdË_š‹¼u±_š
(2);
	}
}

55 
	$gpio_œq3
(è{
	`hªdË_š‹¼u±_š
(3);
	}
}

56 
	$gpio_œq4
(è{
	`hªdË_š‹¼u±_š
(4);
	}
}

57 
	$gpio_œq5
(è{
	`hªdË_š‹¼u±_š
(5);
	}
}

58 
	$gpio_œq6
(è{
	`hªdË_š‹¼u±_š
(6);
	}
}

59 
	$gpio_œq7
(è{
	`hªdË_š‹¼u±_š
(7);
	}
}

61 
	$gpio_œq_š™
(
gpio_œq_t
 *
obj
, 
PšName
 
pš
, 
gpio_œq_hªdËr
 
hªdËr
, 
ušt32_t
 
id
) {

63 ià(
pš
 >ğ
P2_8
)  -1;

65 
œq_hªdËr
 = 
hªdËr
;

67 
found_ä“_chªÃl
 = 0;

68 
i
 = 0;

69 
i
=0; i<
CHANNEL_NUM
; i++) {

70 ià(
chªÃl_ids
[
i
] == 0) {

71 
chªÃl_ids
[
i
] = 
id
;

72 
obj
->
ch
 = 
i
;

73 
found_ä“_chªÃl
 = 1;

77 ià(!
found_ä“_chªÃl
)  -1;

80 
LPC_SYSCON
->
SYSAHBCLKCTRL
 |= ((1 << 19) | (1 << 16) | (1 << 7));

82 
LPC_SYSCON
->
PINTSEL
[
obj
->
ch
] = ((((
pš
 >> 
PORT_SHIFT
è& 0x3è* 24è+ (Õš >> 
PIN_SHIFT
) & 0x1F));

85 
LPC_SYSCON
->
STARTERP0
 |ğ(1 << 
obj
->
ch
);

87 
LPC_GPIO_PORT
->
DIR
[(
pš
 >> 
PORT_SHIFT
è& 0x3] &ğ~(1 << (Õš >> 
PIN_SHIFT
) & 0x1F));

89 (*
chªÃls_œq
)(èğ
NULL
;

90 
obj
->
ch
) {

91 0: 
chªÃls_œq
 = &
gpio_œq0
; ;

92 1: 
chªÃls_œq
 = &
gpio_œq1
; ;

93 2: 
chªÃls_œq
 = &
gpio_œq2
; ;

94 3: 
chªÃls_œq
 = &
gpio_œq3
; ;

95 4: 
chªÃls_œq
 = &
gpio_œq4
; ;

96 5: 
chªÃls_œq
 = &
gpio_œq5
; ;

97 6: 
chªÃls_œq
 = &
gpio_œq6
; ;

98 7: 
chªÃls_œq
 = &
gpio_œq7
; ;

100 
	`NVIC_S‘VeùÜ
((
IRQn_Ty³
)(
PININT_IRQ
 + 
obj
->
ch
), (
ušt32_t
)
chªÃls_œq
);

101 
	`NVIC_EÇbËIRQ
((
IRQn_Ty³
)(
PININT_IRQ
 + 
obj
->
ch
));

104 
	}
}

106 
	$gpio_œq_ä“
(
gpio_œq_t
 *
obj
) {

107 
chªÃl_ids
[
obj
->
ch
] = 0;

108 
LPC_SYSCON
->
STARTERP0
 &ğ~(1 << 
obj
->
ch
);

109 
	}
}

111 
	$gpio_œq_£t
(
gpio_œq_t
 *
obj
, 
gpio_œq_ev’t
 
ev’t
, 
ušt32_t
 
’abË
) {

112 
ch_b™
 = (1 << 
obj
->
ch
);

115 ià(!(
LPC_GPIO_X
->
ISEL
 & 
ch_b™
))

116 
LPC_GPIO_X
->
IST
 = 
ch_b™
;

119 
LPC_GPIO_X
->
ISEL
 &ğ~
ch_b™
;

120 ià(
ev’t
 =ğ
IRQ_RISE
) {

121 ià(
’abË
) {

122 
LPC_GPIO_X
->
IENR
 |ğ
ch_b™
;

124 
LPC_GPIO_X
->
IENR
 &ğ~
ch_b™
;

127 ià(
’abË
) {

128 
LPC_GPIO_X
->
IENF
 |ğ
ch_b™
;

130 
LPC_GPIO_X
->
IENF
 &ğ~
ch_b™
;

133 
	}
}

135 
	$gpio_œq_’abË
(
gpio_œq_t
 *
obj
) {

136 
	`NVIC_EÇbËIRQ
((
IRQn_Ty³
)(
PININT_IRQ
 + 
obj
->
ch
));

137 
	}
}

139 
	$gpio_œq_di§bË
(
gpio_œq_t
 *
obj
) {

140 
	`NVIC_Di§bËIRQ
((
IRQn_Ty³
)(
PININT_IRQ
 + 
obj
->
ch
));

141 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\gpio_object.h

16 #iâdeà
MBED_GPIO_OBJECT_H


17 
	#MBED_GPIO_OBJECT_H


	)

19 
	~"mbed_as£¹.h
"

21 #ifdeà
__ılu¥lus


26 
PšName
 
pš
;

27 
ušt32_t
 
mask
;

29 
__IO
 
ušt32_t
 *
»g_dœ
;

30 
__IO
 
ušt32_t
 *
»g_£t
;

31 
__IO
 
ušt32_t
 *
»g_şr
;

32 
__I
 
ušt32_t
 *
»g_š
;

33 } 
	tgpio_t
;

35 
šlše
 
gpio_wr™e
(
gpio_t
 *
obj
, 
v®ue
) {

36 
MBED_ASSERT
(
obj
->
pš
 !ğ(
PšName
)
NC
);

37 ià(
v®ue
)

38 *
obj
->
»g_£t
 = obj->
mask
;

40 *
obj
->
»g_şr
 = obj->
mask
;

43 
šlše
 
gpio_»ad
(
gpio_t
 *
obj
) {

44 
MBED_ASSERT
(
obj
->
pš
 !ğ(
PšName
)
NC
);

45  ((*
obj
->
»g_š
 & obj->
mask
) ? 1 : 0);

48 
šlše
 
gpio_is_cÚÃùed
(cÚ¡ 
gpio_t
 *
obj
) {

49  
obj
->
pš
 !ğ(
PšName
)
NC
;

52 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\i2c_api.c

16 
	~"mbed_as£¹.h
"

17 
	~"i2c_­i.h
"

18 
	~"cmsis.h
"

19 
	~"pšm­.h
"

21 #ià
DEVICE_I2C


23 cÚ¡ 
PšM­
 
	gPšM­_I2C_SDA
[] = {

24 {
P0_5
 , 
I2C_0
, 1},

25 {
P1_3
 , 
I2C_1
, 3},

26 {
P1_14
, 
I2C_1
, 1},

27 {
P1_24
, 
I2C_1
, 2},

28 {
NC
 , NC , 0}

31 cÚ¡ 
PšM­
 
	gPšM­_I2C_SCL
[] = {

32 {
P0_4
 , 
I2C_0
, 1},

33 {
P0_7
 , 
I2C_1
, 3},

34 {
P1_11
, 
I2C_1
, 1},

35 {
P1_30
, 
I2C_1
, 1},

36 {
NC
 , NC, 0}

39 
	#I2C_CONSET
(
x
è(x->
i2c
->
CONSET
)

	)

40 
	#I2C_CONCLR
(
x
è(x->
i2c
->
CONCLR
)

	)

41 
	#I2C_STAT
(
x
è(x->
i2c
->
STAT
)

	)

42 
	#I2C_DAT
(
x
è(x->
i2c
->
DAT
)

	)

43 
	#I2C_SCLL
(
x
, 
v®
è(x->
i2c
->
SCLL
 = v®)

	)

44 
	#I2C_SCLH
(
x
, 
v®
è(x->
i2c
->
SCLH
 = v®)

	)

46 cÚ¡ 
ušt32_t
 
	gI2C_addr_off£t
[2][4] = {

51 
šlše
 
	$i2c_cÚşr
(
i2c_t
 *
obj
, 
¡¬t
, 
¡İ
, 
š‹¼u±
, 
acknowËdge
) {

52 
	`I2C_CONCLR
(
obj
èğ(
¡¬t
 << 5)

53 | (
¡İ
 << 4)

54 | (
š‹¼u±
 << 3)

55 | (
acknowËdge
 << 2);

56 
	}
}

58 
šlše
 
	$i2c_cÚ£t
(
i2c_t
 *
obj
, 
¡¬t
, 
¡İ
, 
š‹¼u±
, 
acknowËdge
) {

59 
	`I2C_CONSET
(
obj
èğ(
¡¬t
 << 5)

60 | (
¡İ
 << 4)

61 | (
š‹¼u±
 << 3)

62 | (
acknowËdge
 << 2);

63 
	}
}

66 
šlše
 
	$i2c_ş—r_SI
(
i2c_t
 *
obj
) {

67 
	`i2c_cÚşr
(
obj
, 0, 0, 1, 0);

68 
	}
}

70 
šlše
 
	$i2c_¡©us
(
i2c_t
 *
obj
) {

71  
	`I2C_STAT
(
obj
);

72 
	}
}

75 
	$i2c_wa™_SI
(
i2c_t
 *
obj
) {

76 vŞ©
timeout
 = 0;

77 !(
	`I2C_CONSET
(
obj
) & (1 << 3))) {

78 
timeout
++;

79 ià(
timeout
 > 100000)  -1;

82 
	}
}

84 
šlše
 
	$i2c_š‹rçû_’abË
(
i2c_t
 *
obj
) {

85 
	`I2C_CONSET
(
obj
) = 0x40;

86 
	}
}

88 
šlše
 
	$i2c_pow”_’abË
(
i2c_t
 *
obj
) {

89 
LPC_SYSCON
->
SYSAHBCLKCTRL
 |= ((1 << 5) | (1 << 25));

90 
LPC_SYSCON
->
PRESETCTRL
 |= ((1 << 1) | (1 << 3));

91 
	}
}

93 
	$i2c_š™
(
i2c_t
 *
obj
, 
PšName
 
sda
, PšNam
sş
) {

95 
I2CName
 
i2c_sda
 = (I2CName)
	`pšm­_³rh”®
(
sda
, 
PšM­_I2C_SDA
);

96 
I2CName
 
i2c_sş
 = (I2CName)
	`pšm­_³rh”®
(
sş
, 
PšM­_I2C_SCL
);

97 
obj
->
i2c
 = (
LPC_I2C0_Ty³
 *)
	`pšm­_m”ge
(
i2c_sda
, 
i2c_sş
);

98 
	`MBED_ASSERT
(()
obj
->
i2c
 !ğ
NC
);

101 
	`i2c_pow”_’abË
(
obj
);

104 
	`i2c_äequ’cy
(
obj
, 100000);

105 
	`i2c_cÚşr
(
obj
, 1, 1, 1, 1);

106 
	`i2c_š‹rçû_’abË
(
obj
);

108 
	`pšm­_pšout
(
sda
, 
PšM­_I2C_SDA
);

109 
	`pšm­_pšout
(
sş
, 
PšM­_I2C_SCL
);

110 
	}
}

112 
šlše
 
	$i2c_¡¬t
(
i2c_t
 *
obj
) {

113 
¡©us
 = 0;

118 
	`i2c_cÚşr
(
obj
, 1, 1, 1, 1);

122 
	`i2c_cÚ£t
(
obj
, 1, 0, 0, 1);

124 
	`i2c_wa™_SI
(
obj
);

125 
¡©us
 = 
	`i2c_¡©us
(
obj
);

128 
	`i2c_cÚşr
(
obj
, 1, 0, 0, 0);

129  
¡©us
;

130 
	}
}

132 
šlše
 
	$i2c_¡İ
(
i2c_t
 *
obj
) {

133 
timeout
 = 0;

136 
	`i2c_cÚ£t
(
obj
, 0, 1, 0, 0);

137 
	`i2c_ş—r_SI
(
obj
);

140 
	`I2C_CONSET
(
obj
) & (1 << 4)) {

141 
timeout
 ++;

142 ià(
timeout
 > 100000)  1;

146 
	}
}

149 
šlše
 
	$i2c_do_wr™e
(
i2c_t
 *
obj
, 
v®ue
, 
ušt8_t
 
addr
) {

151 
	`I2C_DAT
(
obj
èğ
v®ue
;

154 
	`i2c_ş—r_SI
(
obj
);

157 
	`i2c_wa™_SI
(
obj
);

158  
	`i2c_¡©us
(
obj
);

159 
	}
}

161 
šlše
 
	$i2c_do_»ad
(
i2c_t
 *
obj
, 
Ï¡
) {

163 ià(
Ï¡
) {

164 
	`i2c_cÚşr
(
obj
, 0, 0, 0, 1);

166 
	`i2c_cÚ£t
(
obj
, 0, 0, 0, 1);

170 
	`i2c_ş—r_SI
(
obj
);

173 
	`i2c_wa™_SI
(
obj
);

176  (
	`I2C_DAT
(
obj
) & 0xFF);

177 
	}
}

179 
	$i2c_äequ’cy
(
i2c_t
 *
obj
, 
hz
) {

181 
ušt32_t
 
PCLK
 = 
Sy¡emCÜeClock
;

183 
ušt32_t
 
pul£
 = 
PCLK
 / (
hz
 * 2);

186 
	`I2C_SCLL
(
obj
, 
pul£
);

187 
	`I2C_SCLH
(
obj
, 
pul£
);

188 
	}
}

204 
	$i2c_»ad
(
i2c_t
 *
obj
, 
add»ss
, *
d©a
, 
Ëngth
, 
¡İ
) {

205 
couÁ
, 
¡©us
;

207 
¡©us
 = 
	`i2c_¡¬t
(
obj
);

209 ià((
¡©us
 != 0x10) && (status != 0x08)) {

210 
	`i2c_¡İ
(
obj
);

211  
I2C_ERROR_BUS_BUSY
;

214 
¡©us
 = 
	`i2c_do_wr™e
(
obj
, (
add»ss
 | 0x01), 1);

215 ià(
¡©us
 != 0x40) {

216 
	`i2c_¡İ
(
obj
);

217  
I2C_ERROR_NO_SLAVE
;

221 
couÁ
 = 0; couÁ < (
Ëngth
 - 1); count++) {

222 
v®ue
 = 
	`i2c_do_»ad
(
obj
, 0);

223 
¡©us
 = 
	`i2c_¡©us
(
obj
);

224 ià(
¡©us
 != 0x50) {

225 
	`i2c_¡İ
(
obj
);

226  
couÁ
;

228 
d©a
[
couÁ
] = (è
v®ue
;

232 
v®ue
 = 
	`i2c_do_»ad
(
obj
, 1);

233 
¡©us
 = 
	`i2c_¡©us
(
obj
);

234 ià(
¡©us
 != 0x58) {

235 
	`i2c_¡İ
(
obj
);

236  
Ëngth
 - 1;

239 
d©a
[
couÁ
] = (è
v®ue
;

242 ià(
¡İ
) {

243 
	`i2c_¡İ
(
obj
);

246  
Ëngth
;

247 
	}
}

249 
	$i2c_wr™e
(
i2c_t
 *
obj
, 
add»ss
, cÚ¡ *
d©a
, 
Ëngth
, 
¡İ
) {

250 
i
, 
¡©us
;

252 
¡©us
 = 
	`i2c_¡¬t
(
obj
);

254 ià((
¡©us
 != 0x10) && (status != 0x08)) {

255 
	`i2c_¡İ
(
obj
);

256  
I2C_ERROR_BUS_BUSY
;

259 
¡©us
 = 
	`i2c_do_wr™e
(
obj
, (
add»ss
 & 0xFE), 1);

260 ià(
¡©us
 != 0x18) {

261 
	`i2c_¡İ
(
obj
);

262  
I2C_ERROR_NO_SLAVE
;

265 
i
=0; i<
Ëngth
; i++) {

266 
¡©us
 = 
	`i2c_do_wr™e
(
obj
, 
d©a
[
i
], 0);

267 if(
¡©us
 != 0x28) {

268 
	`i2c_¡İ
(
obj
);

269  
i
;

278 ià(
¡İ
) {

279 
	`i2c_¡İ
(
obj
);

282  
Ëngth
;

283 
	}
}

285 
	$i2c_»£t
(
i2c_t
 *
obj
) {

286 
	`i2c_¡İ
(
obj
);

287 
	}
}

289 
	$i2c_by‹_»ad
(
i2c_t
 *
obj
, 
Ï¡
) {

290  (
	`i2c_do_»ad
(
obj
, 
Ï¡
) & 0xFF);

291 
	}
}

293 
	$i2c_by‹_wr™e
(
i2c_t
 *
obj
, 
d©a
) {

294 
ack
;

295 
¡©us
 = 
	`i2c_do_wr™e
(
obj
, (
d©a
 & 0xFF), 0);

297 
¡©us
) {

299 
ack
 = 1;

302 
ack
 = 1;

305 
ack
 = 1;

308 
ack
 = 0;

312  
ack
;

313 
	}
}

315 
	$i2c_¦ave_mode
(
i2c_t
 *
obj
, 
’abË_¦ave
) {

316 ià(
’abË_¦ave
 != 0) {

317 
	`i2c_cÚşr
(
obj
, 1, 1, 1, 0);

318 
	`i2c_cÚ£t
(
obj
, 0, 0, 0, 1);

320 
	`i2c_cÚşr
(
obj
, 1, 1, 1, 1);

322 
	}
}

324 
	$i2c_¦ave_»ûive
(
i2c_t
 *
obj
) {

325 
¡©us
;

326 
»tv®
;

328 
¡©us
 = 
	`i2c_¡©us
(
obj
);

329 
¡©us
) {

330 0x60: 
»tv®
 = 3; ;

331 0x70: 
»tv®
 = 2; ;

332 0xA8: 
»tv®
 = 1; ;

333  : 
»tv®
 = 0; ;

336 (
»tv®
);

337 
	}
}

339 
	$i2c_¦ave_»ad
(
i2c_t
 *
obj
, *
d©a
, 
Ëngth
) {

340 
couÁ
 = 0;

341 
¡©us
;

344 
	`i2c_ş—r_SI
(
obj
);

345 
	`i2c_wa™_SI
(
obj
);

346 
¡©us
 = 
	`i2c_¡©us
(
obj
);

347 if((
¡©us
 == 0x80) || (status == 0x90)) {

348 
d©a
[
couÁ
] = 
	`I2C_DAT
(
obj
) & 0xFF;

350 
couÁ
++;

351 } ((
¡©us
 == 0x80) || (status == 0x90) ||

352 (
¡©us
 =ğ0x060è|| (¡©u =ğ0x70)è&& (
couÁ
 < 
Ëngth
));

354 if(
¡©us
 != 0xA0) {

355 
	`i2c_¡İ
(
obj
);

358 
	`i2c_ş—r_SI
(
obj
);

360  
couÁ
;

361 
	}
}

363 
	$i2c_¦ave_wr™e
(
i2c_t
 *
obj
, cÚ¡ *
d©a
, 
Ëngth
) {

364 
couÁ
 = 0;

365 
¡©us
;

367 if(
Ëngth
 <= 0) {

372 
¡©us
 = 
	`i2c_do_wr™e
(
obj
, 
d©a
[
couÁ
], 0);

373 
couÁ
++;

374 } (
couÁ
 < 
Ëngth
è&& (
¡©us
 == 0xB8));

376 if((
¡©us
 != 0xC0) && (status != 0xC8)) {

377 
	`i2c_¡İ
(
obj
);

380 
	`i2c_ş—r_SI
(
obj
);

382 (
couÁ
);

383 
	}
}

385 
	$i2c_¦ave_add»ss
(
i2c_t
 *
obj
, 
idx
, 
ušt32_t
 
add»ss
, ušt32_ˆ
mask
) {

386 
ušt32_t
 
addr
;

388 ià((
idx
 >= 0) && (idx <= 3)) {

389 
addr
 = ((
ušt32_t
)
obj
->
i2c
è+ 
I2C_addr_off£t
[0][
idx
];

390 *((
ušt32_t
 *è
addr
èğ
add»ss
 & 0xFF;

392 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\objects.h

16 #iâdeà
MBED_OBJECTS_H


17 
	#MBED_OBJECTS_H


	)

19 
	~"cmsis.h
"

20 
	~"PÜtNames.h
"

21 
	~"P”h”®Names.h
"

22 
	~"PšNames.h
"

24 #ifdeà
__ılu¥lus


28 #ià
DEVICE_INTERRUPTIN


29 
	sgpio_œq_s
 {

30 
ušt32_t
 
ch
;

34 #ià
DEVICE_PWMOUT


35 
	spwmout_s
 {

36 
LPC_SCT0_Ty³
* 
	mpwm
;

37 
ušt32_t
 
	mpwm_ch
;

41 #ià
DEVICE_SERIAL


42 
	s£rŸl_s
 {

43 
LPC_USART0_Ty³
 *
	mu¬t
;

44 
LPC_USART4_Ty³
 *
	mmši_u¬t
;

45 
	mšdex
;

49 #ià
DEVICE_ANALOGIN


50 
	sª®ogš_s
 {

51 
ADCName
 
	madc
;

55 #ià
DEVICE_ANALOGOUT


56 
	sdac_s
 {

57 
DACName
 
	mdac
;

61 #ià
DEVICE_I2C


62 
	si2c_s
 {

63 
LPC_I2C0_Ty³
 *
	mi2c
;

67 #ià
DEVICE_SPI


68 
	s¥i_s
 {

69 
LPC_SSP0_Ty³
 *
	m¥i
;

70 
	m¥i_n
;

74 
	~"gpio_objeù.h
"

76 #ifdeà
__ılu¥lus


	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\pinmap.c

16 
	~"mbed_as£¹.h
"

17 
	~"pšm­.h
"

18 
	~"mbed_”rÜ.h
"

20 
	$pš_funùiÚ
(
PšName
 
pš
, 
funùiÚ
) {

21 
	`MBED_ASSERT
(
pš
 !ğ(
PšName
)
NC
);

22 
__IO
 
ušt32_t
 *
»g
 = (__IO ušt32_t*)(
LPC_IOCON_BASE
 + (
pš
 & 0x1FF));

25 *
»g
 = (*»g & ~0x7è| (
funùiÚ
 & 0x7);

26 
	}
}

28 
	$pš_mode
(
PšName
 
pš
, 
PšMode
 
mode
) {

29 
	`MBED_ASSERT
(
pš
 !ğ(
PšName
)
NC
);

30 ià((
pš
 =ğ
P0_4
è|| (pš =ğ
P0_5
)) {

35 
__IO
 
ušt32_t
 *
»g
 = (__IO ušt32_t*)(
LPC_IOCON_BASE
 + (
pš
 & 0x1FF));

37 ià(
mode
 =ğ
O³nD¿š
) {

38 *
»g
 |= (1 << 10);

40 
ušt32_t
 
tmp
 = *
»g
;

41 
tmp
 &= ~(0x3 << 3);

42 
tmp
 |ğ(
mode
 & 0x3) << 3;

43 *
»g
 = 
tmp
;

45 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\pwmout_api.c

17 
	~"pwmout_­i.h
"

18 
	~"cmsis.h
"

19 
	~"pšm­.h
"

20 
	~"mbed_”rÜ.h
"

22 #ià
DEVICE_PWMOUT


24 
	#SCT_CHANNELS
 2

	)

26 cÚ¡ 
PšM­
 
	gPšM­_PWM
[] = {

27 {
P1_19
, 
SCT0_0
, 2},

28 {
P2_2
 , 
SCT0_1
, 3},

29 {
P2_7
 , 
SCT0_2
, 2},

30 {
P1_13
, 
SCT0_3
, 2},

31 {
P2_16
, 
SCT1_0
, 1},

32 {
P2_17
, 
SCT1_1
, 1},

33 {
P2_18
, 
SCT1_2
, 1},

34 {
P2_19
, 
SCT1_3
, 1},

35 {
NC
 , NC ,0}

39 
LPC_SCT0_Ty³
 *
	gSCTs
[
SCT_CHANNELS
] = {

40 (
LPC_SCT0_Ty³
*)
LPC_SCT0
,

41 (
LPC_SCT0_Ty³
*)
LPC_SCT1
,

46 
	gsù_u£d
 = 0;

48 
	$g‘_avaabË_sù
() {

49 
i
;

50 
i
=0; i<
SCT_CHANNELS
; i++) {

51 ià((
sù_u£d
 & (1 << 
i
)) == 0)

52  
i
;

55 
	}
}

57 
	$pwmout_š™
(
pwmout_t
* 
obj
, 
PšName
 
pš
) {

59 
PWMName
 
pwm_m­³d
 = (PWMName)
	`pšm­_³rh”®
(
pš
, 
PšM­_PWM
);

60 ià(
pwm_m­³d
 =ğ(
PWMName
)
NC
) {

61 
	`”rÜ
("PwmOut…in mapping failed");

63 
sù_n
 = 
	`g‘_avaabË_sù
();

64 ià(
sù_n
 == -1) {

65 
	`”rÜ
("No‡vailable SCT");

68 
sù_u£d
 |ğ(1 << 
sù_n
);

69 
obj
->
pwm
 = 
SCTs
[
sù_n
];

70 
obj
->
pwm_ch
 = 
sù_n
;

73 
LPC_SYSCON
->
SYSAHBCLKCTRL
 |= (1UL << 31);

76 
LPC_SYSCON
->
PRESETCTRL
 |ğ(1 << (
obj
->
pwm_ch
 + 9));

77 
	`pšm­_pšout
(
pš
, 
PšM­_PWM
);

78 
LPC_SCT0_Ty³
* 
pwm
 = 
obj
->pwm;

81 
pwm
->
CONFIG
 |= ((0x3 << 17) | 0x01);

84 
pwm
->
CTRL
 |= (1 << 2) | (1 << 3);

87 
pwm
->
CTRL
 &= ~(0x7F << 5);

88 
pwm
->
CTRL
 |ğ(((
Sy¡emCÜeClock
/1000000 - 1) & 0x7F) << 5);

90 
pwm_m­³d
) {

91 
SCT0_0
:

92 
SCT1_0
:

93 
pwm
->
OUT0_SET
 = (1 << 0);

94 
pwm
->
OUT0_CLR
 = (1 << 1);

96 
SCT0_1
:

97 
SCT1_1
:

98 
pwm
->
OUT1_SET
 = (1 << 0);

99 
pwm
->
OUT1_CLR
 = (1 << 1);

101 
SCT0_2
:

102 
SCT1_2
:

103 
pwm
->
OUT2_SET
 = (1 << 0);

104 
pwm
->
OUT2_CLR
 = (1 << 1);

106 
SCT0_3
:

107 
SCT1_3
:

108 
pwm
->
OUT3_SET
 = (1 << 0);

109 
pwm
->
OUT3_CLR
 = (1 << 1);

115 
pwm
->
EV0_CTRL
 = (1 << 12);

116 
pwm
->
EV0_STATE
 = 0xFFFFFFFF;

118 
pwm
->
EV1_CTRL
 = (1 << 12) | (1 << 0);

119 
pwm
->
EV1_STATE
 = 0xFFFFFFFF;

122 
pwm
->
MATCHREL0
 = 20000;

123 
pwm
->
MATCHREL1
 = (pwm->
MATCHREL0
 / 4);

127 
pwm
->
CTRL
 &= ~(1 << 2);

130 
	`pwmout_³riod_ms
(
obj
, 20);

131 
	`pwmout_wr™e
 (
obj
, 0);

132 
	}
}

134 
	$pwmout_ä“
(
pwmout_t
* 
obj
) {

135 
sù_u£d
 &ğ~(1 << 
obj
->
pwm_ch
);

136 ià(
sù_u£d
 == 0) {

138 
LPC_SYSCON
->
SYSAHBCLKCTRL
 &= ~(1UL << 31);

140 
	}
}

142 
	$pwmout_wr™e
(
pwmout_t
* 
obj
, 
v®ue
) {

143 ià(
v®ue
 < 0.0f) {

144 
v®ue
 = 0.0;

145 } ià(
v®ue
 > 1.0f) {

146 
v®ue
 = 1.0;

148 
ušt32_t
 
t_Ú
 = (ušt32_t)(()(
obj
->
pwm
->
MATCHREL0
è* 
v®ue
);

149 
obj
->
pwm
->
MATCHREL1
 = 
t_Ú
;

150 
	}
}

152 
	$pwmout_»ad
(
pwmout_t
* 
obj
) {

153 
ušt32_t
 
t_off
 = 
obj
->
pwm
->
MATCHREL0
;

154 
ušt32_t
 
t_Ú
 = 
obj
->
pwm
->
MATCHREL1
;

155 
v
 = ()
t_Ú
/()
t_off
;

156  (
v
 > 1.0f) ? (1.0f) : (v);

157 
	}
}

159 
	$pwmout_³riod
(
pwmout_t
* 
obj
, 
£cÚds
) {

160 
	`pwmout_³riod_us
(
obj
, 
£cÚds
 * 1000000.0f);

161 
	}
}

163 
	$pwmout_³riod_ms
(
pwmout_t
* 
obj
, 
ms
) {

164 
	`pwmout_³riod_us
(
obj
, 
ms
 * 1000);

165 
	}
}

168 
	$pwmout_³riod_us
(
pwmout_t
* 
obj
, 
us
) {

169 
ušt32_t
 
t_off
 = 
obj
->
pwm
->
MATCHREL0
;

170 
ušt32_t
 
t_Ú
 = 
obj
->
pwm
->
MATCHREL1
;

171 
v
 = ()
t_Ú
/()
t_off
;

172 
obj
->
pwm
->
MATCHREL0
 = (
ušt32_t
)
us
;

173 
obj
->
pwm
->
MATCHREL1
 = (
ušt32_t
)(()
us
 * ()
v
);

174 
	}
}

176 
	$pwmout_pul£width
(
pwmout_t
* 
obj
, 
£cÚds
) {

177 
	`pwmout_pul£width_us
(
obj
, 
£cÚds
 * 1000000.0f);

178 
	}
}

180 
	$pwmout_pul£width_ms
(
pwmout_t
* 
obj
, 
ms
) {

181 
	`pwmout_pul£width_us
(
obj
, 
ms
 * 1000);

182 
	}
}

184 
	$pwmout_pul£width_us
(
pwmout_t
* 
obj
, 
us
) {

185 
obj
->
pwm
->
MATCHREL1
 = (
ušt32_t
)
us
;

186 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\rtc_api.c

16 
	~"¹c_­i.h
"

18 #ià
DEVICE_RTC


20 
	$¹c_š™
()

23 
LPC_SYSCON
->
SYSAHBCLKCTRL
 |= (1 << 30);

26 
LPC_RTC
->
CTRL
 |= 1;

28 
LPC_RTC
->
COUNT
 = 0;

31 
LPC_RTC
->
CTRL
 |= (1 << 7);

33 
LPC_RTC
->
CTRL
 &= ~1;

34 
	}
}

36 
	$¹c_ä“
()

38 
LPC_SYSCON
->
SYSAHBCLKCTRL
 &= ~(1 << 30);

39 
LPC_RTC
->
CTRL
 &= ~(1 << 7);

40 
	}
}

42 
	$¹c_i£ÇbËd
()

44  (((
LPC_RTC
->
CTRL
) & 0x80) != 0);

45 
	}
}

47 
time_t
 
	$¹c_»ad
()

49  (
time_t
)
LPC_RTC
->
COUNT
;

50 
	}
}

52 
	$¹c_wr™e
(
time_t
 
t
)

55 
LPC_RTC
->
CTRL
 &= ~(1 << 7);

58 
LPC_RTC
->
COUNT
 = 
t
;

61 
LPC_RTC
->
CTRL
 |= (1 << 7);

62 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\serial_api.c

18 
	~"mbed_as£¹.h
"

19 
	~<m©h.h
>

20 
	~<¡ršg.h
>

21 
	~<¡dlib.h
>

23 
	~"£rŸl_­i.h
"

24 
	~"cmsis.h
"

25 
	~"pšm­.h
"

27 #ià
DEVICE_SERIAL


33 
	#UART_NUM
 5

	)

36 
	#UART_EN
 (0x01<<0)

	)

39 
	#TXBRKEN
 (0x01<<1)

	)

42 
	#RXRDY
 (0x01<<0)

	)

43 
	#TXRDY
 (0x01<<2)

	)

44 
	#DELTACTS
 (0x01<<5)

	)

45 
	#RXBRK
 (0x01<<10)

	)

46 
	#DELTARXBRK
 (0x01<<11)

	)

48 cÚ¡ 
PšM­
 
	gPšM­_UART_TX
[] = {

49 {
P0_19
, 
UART_0
, 1},

50 {
P1_18
, 
UART_0
, 2},

51 {
P1_27
, 
UART_0
, 2},

52 {
P1_8
 , 
UART_1
, 2},

53 {
P0_14
, 
UART_1
, 4},

54 {
P1_0
 , 
UART_2
, 3},

55 {
P1_23
, 
UART_2
, 3},

56 {
P2_4
 , 
UART_3
, 1},

57 {
P2_12
, 
UART_4
, 1},

58 { 
NC
 , NC , 0}

61 cÚ¡ 
PšM­
 
	gPšM­_UART_RX
[] = {

62 {
P0_18
, 
UART_0
, 1},

63 {
P1_17
, 
UART_0
, 2},

64 {
P1_26
, 
UART_0
, 2},

65 {
P1_2
 , 
UART_1
, 3},

66 {
P0_13
, 
UART_1
, 4},

67 {
P0_20
, 
UART_2
, 2},

68 {
P1_6
 , 
UART_2
, 2},

69 {
P2_3
 , 
UART_3
, 1},

70 {
P2_11
, 
UART_4
, 1},

71 {
NC
 , NC , 0}

74 
ušt32_t
 
	g£rŸl_œq_ids
[
UART_NUM
] = {0};

75 
u¬t_œq_hªdËr
 
	gœq_hªdËr
;

77 
	g¡dio_u¬t_š™ed
 = 0;

78 
£rŸl_t
 
	g¡dio_u¬t
;

80 
	$£rŸl_š™
(
£rŸl_t
 *
obj
, 
PšName
 
tx
, PšNam
rx
) {

81 
is_¡dio_u¬t
 = 0;

84 
UARTName
 
u¬t_tx
 = (UARTName)
	`pšm­_³rh”®
(
tx
, 
PšM­_UART_TX
);

85 
UARTName
 
u¬t_rx
 = (UARTName)
	`pšm­_³rh”®
(
rx
, 
PšM­_UART_RX
);

86 
UARTName
 
u¬t
 = (UARTName)
	`pšm­_m”ge
(
u¬t_tx
, 
u¬t_rx
);

87 
	`MBED_ASSERT
(()
u¬t
 !ğ
NC
);

89 
u¬t
) {

90 
UART_0
:

91 
obj
->
šdex
 = 0;

92 
LPC_SYSCON
->
SYSAHBCLKCTRL
 |= (1 << 12);

94 
UART_1
:

95 
obj
->
šdex
 = 1;

96 
LPC_SYSCON
->
SYSAHBCLKCTRL
 |= (1 << 20);

97 
LPC_SYSCON
->
PRESETCTRL
 |= (1 << 5);

99 
UART_2
:

100 
obj
->
šdex
 = 2;

101 
LPC_SYSCON
->
SYSAHBCLKCTRL
 |= (1 << 21);

102 
LPC_SYSCON
->
PRESETCTRL
 |= (1 << 6);

104 
UART_3
:

105 
obj
->
šdex
 = 3;

106 
LPC_SYSCON
->
SYSAHBCLKCTRL
 |= (1 << 22);

107 
LPC_SYSCON
->
PRESETCTRL
 |= (1 << 7);

109 
UART_4
:

110 
obj
->
šdex
 = 4;

111 
LPC_SYSCON
->
SYSAHBCLKCTRL
 |= (1 << 22);

112 
LPC_SYSCON
->
PRESETCTRL
 |= (1 << 8);

116 ià(
obj
->
šdex
 == 0)

117 
obj
->
u¬t
 = (
LPC_USART0_Ty³
 *)uart;

119 
obj
->
mši_u¬t
 = (
LPC_USART4_Ty³
 *)
u¬t
;

121 ià(
obj
->
šdex
 == 0) {

123 
obj
->
u¬t
->
FCR
 = 1 << 0

128 
obj
->
u¬t
->
IER
 = 0 << 0

134 
obj
->
mši_u¬t
->
STAT
 = (
DELTACTS
 | 
DELTARXBRK
);

136 
obj
->
mši_u¬t
->
CFG
 |ğ
UART_EN
;

139 
	`£rŸl_baud
 (
obj
, 9600);

140 
	`£rŸl_fÜm©
(
obj
, 8, 
P¬™yNÚe
, 1);

143 
	`pšm­_pšout
(
tx
, 
PšM­_UART_TX
);

144 
	`pšm­_pšout
(
rx
, 
PšM­_UART_RX
);

147 ià(
tx
 !ğ
NC
) {

148 
	`pš_mode
(
tx
, 
PuÎUp
);

150 ià(
rx
 !ğ
NC
) {

151 
	`pš_mode
(
rx
, 
PuÎUp
);

154 
is_¡dio_u¬t
 = (
u¬t
 =ğ
STDIO_UART
) ? (1) : (0);

156 ià(
is_¡dio_u¬t
 && (
obj
->
šdex
 == 0)) {

157 
¡dio_u¬t_š™ed
 = 1;

158 
	`memıy
(&
¡dio_u¬t
, 
obj
, (
£rŸl_t
));

160 
	}
}

162 
	$£rŸl_ä“
(
£rŸl_t
 *
obj
) {

163 
£rŸl_œq_ids
[
obj
->
šdex
] = 0;

164 
	}
}

168 
	$£rŸl_baud
(
£rŸl_t
 *
obj
, 
baud¿‹
) {

169 
LPC_SYSCON
->
USART0CLKDIV
 = 1;

170 
LPC_SYSCON
->
FRGCLKDIV
 = 1;

172 ià(
obj
->
šdex
 == 0) {

173 
ušt32_t
 
PCLK
 = 
Sy¡emCÜeClock
;

180 
ušt16_t
 
DL
 = 
PCLK
 / (16 * 
baud¿‹
);

182 
ušt8_t
 
DivAddV®
 = 0;

183 
ušt8_t
 
MulV®
 = 1;

184 
h™
 = 0;

185 
ušt16_t
 
dlv
;

186 
ušt8_t
 
mv
, 
dav
;

187 ià((
PCLK
 % (16 * 
baud¿‹
)) != 0) {

188 
”r_be¡
 = 
baud¿‹
, 
b
;

189 
mv
 = 1; mv < 16 && !
h™
; mv++)

191 
dav
 = 0; dav < 
mv
; dav++)

199 ià((
mv
 * 
PCLK
 * 2) & 0x80000000)

200 
dlv
 = ((((2 * 
mv
 * 
PCLK
è/ (
baud¿‹
 * (
dav
 + mv))) / 16) + 1) / 2;

202 
dlv
 = ((((4 * 
mv
 * 
PCLK
è/ (
baud¿‹
 * (
dav
 + mv))) / 32) + 1) / 2;

205 ià(
dlv
 == 0)

206 
dlv
 = 1;

209 ià((
dav
 > 0è&& (
dlv
 < 2))

210 
dlv
 = 2;

213 
b
 = ((
PCLK
 * 
mv
 / (
dlv
 * (
dav
 + mv) * 8)) + 1) / 2;

216 
b
 = 
	`abs
(b - 
baud¿‹
);

217 ià(
b
 < 
”r_be¡
)

219 
”r_be¡
 = 
b
;

221 
DL
 = 
dlv
;

222 
MulV®
 = 
mv
;

223 
DivAddV®
 = 
dav
;

225 ià(
b
 =ğ
baud¿‹
)

227 
h™
 = 1;

236 
obj
->
u¬t
->
LCR
 |= (1 << 7);

239 
obj
->
u¬t
->
DLM
 = (
DL
 >> 8) & 0xFF;

240 
obj
->
u¬t
->
DLL
 = (
DL
 >> 0) & 0xFF;

241 
obj
->
u¬t
->
FDR
 = (
ušt32_t
è
DivAddV®
 << 0

242 | (
ušt32_t
è
MulV®
 << 4;

245 
obj
->
u¬t
->
LCR
 &= ~(1 << 7);

248 
ušt32_t
 
UARTSysClk
 = 
Sy¡emCÜeClock
 / 
LPC_SYSCON
->
FRGCLKDIV
;

249 
obj
->
mši_u¬t
->
BRG
 = 
UARTSysClk
 / 16 / 
baud¿‹
 - 1;

251 
LPC_SYSCON
->
UARTFRGDIV
 = 0xFF;

252 
LPC_SYSCON
->
UARTFRGMULT
 = ( ((
UARTSysClk
 / 16è* (LPC_SYSCON->
UARTFRGDIV
 + 1)) /

253 (
baud¿‹
 * (
obj
->
mši_u¬t
->
BRG
 + 1))

254 è- (
LPC_SYSCON
->
UARTFRGDIV
 + 1);

256 
	}
}

258 
	$£rŸl_fÜm©
(
£rŸl_t
 *
obj
, 
d©a_b™s
, 
S”ŸlP¬™y
 
·r™y
, 
¡İ_b™s
) {

259 
	`MBED_ASSERT
((
¡İ_b™s
 == 1) || (stop_bits == 2));

261 
¡İ_b™s
 -= 1;

263 ià(
obj
->
šdex
 == 0) {

264 
	`MBED_ASSERT
((
d©a_b™s
 > 4) && (data_bits < 9));

265 
	`MBED_ASSERT
((
·r™y
 =ğ
P¬™yNÚe
è|| (·r™y =ğ
P¬™yOdd
è|| (·r™y =ğ
P¬™yEv’
) ||

266 (
·r™y
 =ğ
P¬™yFÜûd1
è|| (·r™y =ğ
P¬™yFÜûd0
));

267 
d©a_b™s
 -= 5;

269 
·r™y_’abË
, 
·r™y_£Ëù
;

270 
·r™y
) {

271 
P¬™yNÚe
: 
·r™y_’abË
 = 0; 
·r™y_£Ëù
 = 0; ;

272 
P¬™yOdd
 : 
·r™y_’abË
 = 1; 
·r™y_£Ëù
 = 0; ;

273 
P¬™yEv’
: 
·r™y_’abË
 = 1; 
·r™y_£Ëù
 = 1; ;

274 
P¬™yFÜûd1
: 
·r™y_’abË
 = 1; 
·r™y_£Ëù
 = 2; ;

275 
P¬™yFÜûd0
: 
·r™y_’abË
 = 1; 
·r™y_£Ëù
 = 3; ;

280 
obj
->
u¬t
->
LCR
 = 
d©a_b™s
 << 0

281 | 
¡İ_b™s
 << 2

282 | 
·r™y_’abË
 << 3

283 | 
·r™y_£Ëù
 << 4;

287 
	`MBED_ASSERT
((
d©a_b™s
 > 6) && (data_bits < 10));

288 
	`MBED_ASSERT
((
·r™y
 =ğ
P¬™yNÚe
è|| (·r™y =ğ
P¬™yOdd
è|| (·r™y =ğ
P¬™yEv’
));

289 
d©a_b™s
 -= 7;

291 
·r™y£l
;

292 
·r™y
) {

293 
P¬™yNÚe
: 
·r™y£l
 = 0; ;

294 
P¬™yEv’
: 
·r™y£l
 = 2; ;

295 
P¬™yOdd
 : 
·r™y£l
 = 3; ;

299 
obj
->
mši_u¬t
->
CFG
 = (
d©a_b™s
 << 2)

300 | (
·r™y£l
 << 4)

301 | (
¡İ_b™s
 << 6)

302 | 
UART_EN
;

304 
	}
}

309 
šlše
 
	$u¬t_œq
(
ušt32_t
 
iœ
, ušt32_ˆ
šdex
) {

310 
S”ŸlIrq
 
œq_ty³
;

311 
iœ
) {

312 1: 
œq_ty³
 = 
TxIrq
; ;

313 2: 
œq_ty³
 = 
RxIrq
; ;

317 ià(
£rŸl_œq_ids
[
šdex
] != 0)

318 
	`œq_hªdËr
(
£rŸl_œq_ids
[
šdex
], 
œq_ty³
);

319 
	}
}

321 
	$u¬t0_œq
()

323 
	`u¬t_œq
((
LPC_USART0
->
IIR
 >> 1) & 0x7, 0);

324 
	}
}

326 
	$u¬t1_œq
()

328 if(
LPC_USART1
->
STAT
 & (1 << 2)){

329 
	`u¬t_œq
(1, 1);

331 if(
LPC_USART1
->
STAT
 & (1 << 0)){

332 
	`u¬t_œq
(2, 1);

334 
	}
}

336 
	$u¬t2_œq
()

338 if(
LPC_USART2
->
STAT
 & (1 << 2)){

339 
	`u¬t_œq
(1, 2);

341 if(
LPC_USART2
->
STAT
 & (1 << 0)){

342 
	`u¬t_œq
(2, 2);

344 
	}
}

346 
	$u¬t3_œq
()

348 if(
LPC_USART3
->
STAT
 & (1 << 2)){

349 
	`u¬t_œq
(1, 3);

351 if(
LPC_USART3
->
STAT
 & (1 << 0)){

352 
	`u¬t_œq
(2, 3);

354 
	}
}

356 
	$u¬t4_œq
()

358 if(
LPC_USART4
->
STAT
 & (1 << 2)){

359 
	`u¬t_œq
(1, 4);

361 if(
LPC_USART4
->
STAT
 & (1 << 0)){

362 
	`u¬t_œq
(2, 4);

364 
	}
}

366 
	$£rŸl_œq_hªdËr
(
£rŸl_t
 *
obj
, 
u¬t_œq_hªdËr
 
hªdËr
, 
ušt32_t
 
id
) {

367 
œq_hªdËr
 = 
hªdËr
;

368 
£rŸl_œq_ids
[
obj
->
šdex
] = 
id
;

369 
	}
}

371 
	$£rŸl_œq_£t
(
£rŸl_t
 *
obj
, 
S”ŸlIrq
 
œq
, 
ušt32_t
 
’abË
) {

372 
IRQn_Ty³
 
œq_n
 = (IRQn_Type)0;

373 
ušt32_t
 
veùÜ
 = 0;

374 if(
obj
->
šdex
 == 0){

375 
œq_n
 = 
USART0_IRQn
; 
veùÜ
 = (
ušt32_t
)&
u¬t0_œq
;

378 ()
obj
->
mši_u¬t
) {

379 
UART_0
: 
œq_n
 = 
USART0_IRQn
; 
veùÜ
 = (
ušt32_t
)&
u¬t0_œq
; ;

380 
UART_1
: 
œq_n
 = 
USART1_4_IRQn
; 
veùÜ
 = (
ušt32_t
)&
u¬t1_œq
; ;

381 
UART_2
: 
œq_n
 = 
USART2_3_IRQn
; 
veùÜ
 = (
ušt32_t
)&
u¬t2_œq
; ;

382 
UART_3
: 
œq_n
 = 
USART2_3_IRQn
; 
veùÜ
 = (
ušt32_t
)&
u¬t3_œq
; ;

383 
UART_4
: 
œq_n
 = 
USART1_4_IRQn
; 
veùÜ
 = (
ušt32_t
)&
u¬t4_œq
; ;

387 ià(
’abË
) {

388 ià(
obj
->
šdex
 == 0) {

389 
obj
->
u¬t
->
IER
 |ğ(1 << 
œq
);

392 
obj
->
mši_u¬t
->
INTENSET
 = (1 << ((
œq
 =ğ
RxIrq
) ? 0 : 2));

394 
	`NVIC_S‘VeùÜ
(
œq_n
, 
veùÜ
);

395 
	`NVIC_EÇbËIRQ
(
œq_n
);

397 
®l_di§bËd
 = 0;

398 
S”ŸlIrq
 
Ùh”_œq
 = (
œq
 =ğ
RxIrq
è? (RxIrqè: (
TxIrq
);

400 ià(
obj
->
šdex
 == 0) {

401 
obj
->
u¬t
->
IER
 &ğ~(1 << 
œq
);

402 
®l_di§bËd
 = (
obj
->
u¬t
->
IER
 & (1 << 
Ùh”_œq
)) == 0;

405 
obj
->
mši_u¬t
->
INTENCLR
 = (1 << ((
œq
 =ğ
RxIrq
) ? 0 : 2));

406 
®l_di§bËd
 = (
obj
->
mši_u¬t
->
INTENSET
) == 0;

409 ià(
®l_di§bËd
)

410 
	`NVIC_Di§bËIRQ
(
œq_n
);

412 
	}
}

417 
	$£rŸl_g‘c
(
£rŸl_t
 *
obj
) {

418 !
	`£rŸl_»adabË
(
obj
));

419 ià(
obj
->
šdex
 == 0) {

420  
obj
->
u¬t
->
RBR
;

423  
obj
->
mši_u¬t
->
RXDAT
;

425 
	}
}

427 
	$£rŸl_putc
(
£rŸl_t
 *
obj
, 
c
) {

428 !
	`£rŸl_wr™abË
(
obj
));

429 ià(
obj
->
šdex
 == 0) {

430 
obj
->
u¬t
->
THR
 = 
c
;

433 
obj
->
mši_u¬t
->
TXDAT
 = 
c
;

435 
	}
}

437 
	$£rŸl_»adabË
(
£rŸl_t
 *
obj
) {

438 ià(
obj
->
šdex
 == 0) {

439  
obj
->
u¬t
->
LSR
 & 0x01;

442  
obj
->
mši_u¬t
->
STAT
 & 
RXRDY
;

444 
	}
}

446 
	$£rŸl_wr™abË
(
£rŸl_t
 *
obj
) {

447 ià(
obj
->
šdex
 == 0) {

448  
obj
->
u¬t
->
LSR
 & 0x20;

451  
obj
->
mši_u¬t
->
STAT
 & 
TXRDY
;

453 
	}
}

455 
	$£rŸl_ş—r
(
£rŸl_t
 *
obj
) {

456 ià(
obj
->
šdex
 == 0) {

457 
obj
->
u¬t
->
FCR
 = 1 << 1

462 
obj
->
mši_u¬t
->
STAT
 = 0;

464 
	}
}

466 
	$£rŸl_pšout_tx
(
PšName
 
tx
) {

467 
	`pšm­_pšout
(
tx
, 
PšM­_UART_TX
);

468 
	}
}

470 
	$£rŸl_b»ak_£t
(
£rŸl_t
 *
obj
) {

471 ià(
obj
->
šdex
 == 0) {

472 
obj
->
u¬t
->
LCR
 |= (1 << 6);

475 
obj
->
mši_u¬t
->
CTL
 |ğ
TXBRKEN
;

477 
	}
}

479 
	$£rŸl_b»ak_ş—r
(
£rŸl_t
 *
obj
) {

480 ià(
obj
->
šdex
 == 0) {

481 
obj
->
u¬t
->
LCR
 &= ~(1 << 6);

484 
obj
->
mši_u¬t
->
CTL
 &ğ~
TXBRKEN
;

486 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\sleep.c

16 
	~"¦“p_­i.h
"

17 
	~"cmsis.h
"

18 
	~"mbed_š‹rçû.h
"

20 #ià
DEVICE_SLEEP


22 
	$¦“p
() {

24 #ià(
DEVICE_SEMIHOST
 == 1)

26 
	`mbed_š‹rçû_discÚÃù
();

30 
LPC_PMU
->
PCON
 &= ~0x03;

33 
SCB
->
SCR
 &ğ~
SCB_SCR_SLEEPDEEP_Msk
;

36 
	`__WFI
();

37 
	}
}

40 
	$d“p¦“p
() {

42 #ià(
DEVICE_SEMIHOST
 == 1)

44 
	`mbed_š‹rçû_discÚÃù
();

48 
LPC_PMU
->
PCON
 &= ~0x03;

49 
LPC_PMU
->
PCON
 |= 0x01;

53 
LPC_SYSCON
->
PDSLEEPCFG
 = 0x00000037 | (LPC_SYSCON->
PDRUNCFG
 & (0x00000048));

56 
LPC_SYSCON
->
PDAWAKECFG
 = LPC_SYSCON->
PDRUNCFG
;

59 
LPC_SYSCON
->
STARTERP0
 = 0xFF;

60 
LPC_SYSCON
->
STARTERP1
 = 0xFFFFFFFF;

63 
SCB
->
SCR
 |ğ
SCB_SCR_SLEEPDEEP_Msk
;

66 
	`__WFI
();

67 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\spi_api.c

16 
	~"mbed_as£¹.h
"

17 
	~<m©h.h
>

19 
	~"¥i_­i.h
"

20 
	~"cmsis.h
"

21 
	~"pšm­.h
"

22 
	~"mbed_”rÜ.h
"

24 #ià
DEVICE_SPI


26 cÚ¡ 
PšM­
 
	gPšM­_SPI_SCLK
[] = {

27 {
P0_6
 , 
SPI_0
, 0x02},

28 {
P1_29
, 
SPI_0
, 0x01},

29 {
P2_7
 , 
SPI_0
, 0x01},

30 {
P1_20
, 
SPI_1
, 0x02},

31 {
P1_27
, 
SPI_1
, 0x04},

32 {
NC
 , NC , 0}

35 cÚ¡ 
PšM­
 
	gPšM­_SPI_MOSI
[] = {

36 {
P0_9
 , 
SPI_0
, 0x01},

37 {
P1_12
, 
SPI_0
, 0x01},

38 {
P0_21
, 
SPI_1
, 0x02},

39 {
P1_22
, 
SPI_1
, 0x01},

40 {
NC
 , NC , 0}

43 cÚ¡ 
PšM­
 
	gPšM­_SPI_MISO
[] = {

44 {
P0_8
 , 
SPI_0
, 0x01},

45 {
P1_16
, 
SPI_0
, 0x01},

46 {
P0_22
, 
SPI_1
, 0x03},

47 {
P1_21
, 
SPI_1
, 0x02},

48 {
NC
 , NC , 0}

51 cÚ¡ 
PšM­
 
	gPšM­_SPI_SSEL
[] = {

52 {
P0_2
 , 
SPI_0
, 0x01},

53 {
P1_15
, 
SPI_0
, 0x01},

54 {
P0_23
, 
SPI_1
, 0x04},

55 {
P1_23
, 
SPI_1
, 0x02},

56 {
NC
 , NC , 0}

59 
šlše
 
s¥_di§bË
(
¥i_t
 *
obj
);

60 
šlše
 
s¥_’abË
(
¥i_t
 *
obj
);

62 
	$¥i_š™
(
¥i_t
 *
obj
, 
PšName
 
mosi
, PšNam
miso
, PšNam
sşk
, PšNam
s£l
) {

64 
SPIName
 
¥i_mosi
 = (SPIName)
	`pšm­_³rh”®
(
mosi
, 
PšM­_SPI_MOSI
);

65 
SPIName
 
¥i_miso
 = (SPIName)
	`pšm­_³rh”®
(
miso
, 
PšM­_SPI_MISO
);

66 
SPIName
 
¥i_sşk
 = (SPIName)
	`pšm­_³rh”®
(
sşk
, 
PšM­_SPI_SCLK
);

67 
SPIName
 
¥i_s£l
 = (SPIName)
	`pšm­_³rh”®
(
s£l
, 
PšM­_SPI_SSEL
);

68 
SPIName
 
¥i_d©a
 = (SPIName)
	`pšm­_m”ge
(
¥i_mosi
, 
¥i_miso
);

69 
SPIName
 
¥i_ú
 = (SPIName)
	`pšm­_m”ge
(
¥i_sşk
, 
¥i_s£l
);

71 
obj
->
¥i
 = (
LPC_SSP0_Ty³
*)
	`pšm­_m”ge
(
¥i_d©a
, 
¥i_ú
);

72 
	`MBED_ASSERT
(()
obj
->
¥i
 !ğ
NC
);

75 ()
obj
->
¥i
) {

76 
SPI_0
:

77 
LPC_SYSCON
->
SYSAHBCLKCTRL
 |= 1 << 11;

78 
LPC_SYSCON
->
SSP0CLKDIV
 = 0x01;

79 
LPC_SYSCON
->
PRESETCTRL
 |= 1 << 0;

81 
SPI_1
:

82 
LPC_SYSCON
->
SYSAHBCLKCTRL
 |= 1 << 18;

83 
LPC_SYSCON
->
SSP1CLKDIV
 = 0x01;

84 
LPC_SYSCON
->
PRESETCTRL
 |= 1 << 2;

89 
	`pšm­_pšout
(
mosi
, 
PšM­_SPI_MOSI
);

90 
	`pšm­_pšout
(
miso
, 
PšM­_SPI_MISO
);

91 
	`pšm­_pšout
(
sşk
, 
PšM­_SPI_SCLK
);

92 ià(
s£l
 !ğ
NC
) {

93 
	`pšm­_pšout
(
s£l
, 
PšM­_SPI_SSEL
);

95 
	}
}

97 
	$¥i_ä“
(
¥i_t
 *
obj
è{
	}
}

99 
	$¥i_fÜm©
(
¥i_t
 *
obj
, 
b™s
, 
mode
, 
¦ave
) {

100 
	`s¥_di§bË
(
obj
);

101 
	`MBED_ASSERT
(((
b™s
 >ğ4è&& (b™ <ğ16)è|| ((
mode
 >= 0) && (mode <= 3)));

103 
pŞ¬™y
 = (
mode
 & 0x2) ? 1 : 0;

104 
pha£
 = (
mode
 & 0x1) ? 1 : 0;

107 
DSS
 = 
b™s
 - 1;

108 
SPO
 = (
pŞ¬™y
) ? 1 : 0;

109 
SPH
 = (
pha£
) ? 1 : 0;

111 
FRF
 = 0;

112 
ušt32_t
 
tmp
 = 
obj
->
¥i
->
CR0
;

113 
tmp
 &= ~(0xFFFF);

114 
tmp
 |ğ
DSS
 << 0

115 | 
FRF
 << 4

116 | 
SPO
 << 6

117 | 
SPH
 << 7;

118 
obj
->
¥i
->
CR0
 = 
tmp
;

120 
tmp
 = 
obj
->
¥i
->
CR1
;

121 
tmp
 &= ~(0xD);

122 
tmp
 |= 0 << 0

123 | ((
¦ave
) ? 1 : 0) << 2

125 
obj
->
¥i
->
CR1
 = 
tmp
;

127 
	`s¥_’abË
(
obj
);

128 
	}
}

130 
	$¥i_äequ’cy
(
¥i_t
 *
obj
, 
hz
) {

131 
	`s¥_di§bË
(
obj
);

133 
ušt32_t
 
PCLK
 = 
Sy¡emCÜeClock
;

135 
´esÿËr
;

137 
´esÿËr
 = 2;…rescaler <= 254;…rescaler += 2) {

138 
´esÿË_hz
 = 
PCLK
 / 
´esÿËr
;

141 
divid”
 = 
	`æoÜ
((()
´esÿË_hz
 / ()
hz
) + 0.5f);

144 ià(
divid”
 < 256) {

146 
obj
->
¥i
->
CPSR
 = 
´esÿËr
;

149 
obj
->
¥i
->
CR0
 &= ~(0xFFFF << 8);

150 
obj
->
¥i
->
CR0
 |ğ(
divid”
 - 1) << 8;

151 
	`s¥_’abË
(
obj
);

155 
	`”rÜ
("Couldn't setup„equested SPI frequency");

156 
	}
}

158 
šlše
 
	$s¥_di§bË
(
¥i_t
 *
obj
) {

159  
obj
->
¥i
->
CR1
 &= ~(1 << 1);

160 
	}
}

162 
šlše
 
	$s¥_’abË
(
¥i_t
 *
obj
) {

163  
obj
->
¥i
->
CR1
 |= (1 << 1);

164 
	}
}

166 
šlše
 
	$s¥_»adabË
(
¥i_t
 *
obj
) {

167  
obj
->
¥i
->
SR
 & (1 << 2);

168 
	}
}

170 
šlše
 
	$s¥_wr™—bË
(
¥i_t
 *
obj
) {

171  
obj
->
¥i
->
SR
 & (1 << 1);

172 
	}
}

174 
šlše
 
	$s¥_wr™e
(
¥i_t
 *
obj
, 
v®ue
) {

175 !
	`s¥_wr™—bË
(
obj
));

176 
obj
->
¥i
->
DR
 = 
v®ue
;

177 
	}
}

179 
šlše
 
	$s¥_»ad
(
¥i_t
 *
obj
) {

180 !
	`s¥_»adabË
(
obj
));

181  
obj
->
¥i
->
DR
;

182 
	}
}

184 
šlše
 
	$s¥_busy
(
¥i_t
 *
obj
) {

185  (
obj
->
¥i
->
SR
 & (1 << 4)) ? (1) : (0);

186 
	}
}

188 
	$¥i_ma¡”_wr™e
(
¥i_t
 *
obj
, 
v®ue
) {

189 
	`s¥_wr™e
(
obj
, 
v®ue
);

190  
	`s¥_»ad
(
obj
);

191 
	}
}

193 
	$¥i_¦ave_»ûive
(
¥i_t
 *
obj
) {

194  (
	`s¥_»adabË
(
obj
è&& !
	`s¥_busy
(obj)) ? (1) : (0);

195 
	}
}

197 
	$¥i_¦ave_»ad
(
¥i_t
 *
obj
) {

198  
obj
->
¥i
->
DR
;

199 
	}
}

201 
	$¥i_¦ave_wr™e
(
¥i_t
 *
obj
, 
v®ue
) {

202 
	`s¥_wr™—bË
(
obj
) == 0) ;

203 
obj
->
¥i
->
DR
 = 
v®ue
;

204 
	}
}

206 
	$¥i_busy
(
¥i_t
 *
obj
) {

207  
	`s¥_busy
(
obj
);

208 
	}
}

	@C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\us_ticker.c

16 
	~<¡ddef.h
>

17 
	~"us_tick”_­i.h
"

18 
	~"P”h”®Names.h
"

20 
	#US_TICKER_TIMER
 ((
LPC_CT32B0_Ty³
 *)
LPC_CT32B1_BASE
)

	)

21 
	#US_TICKER_TIMER_IRQn
 
CT32B1_IRQn


	)

23 
	gus_tick”_š™ed
 = 0;

25 
	$us_tick”_š™
() {

26 ià(
us_tick”_š™ed
) ;

27 
us_tick”_š™ed
 = 1;

29 
LPC_SYSCON
->
SYSAHBCLKCTRL
 |= (1<<10);

30 
ušt32_t
 
PCLK
 = 
Sy¡emCÜeClock
;

32 
US_TICKER_TIMER
->
TCR
 = 0x2;

34 
ušt32_t
 
´esÿË
 = 
PCLK
 / 1000000;

35 
US_TICKER_TIMER
->
PR
 = 
´esÿË
 - 1;

36 
US_TICKER_TIMER
->
TCR
 = 1;

38 
	`NVIC_S‘VeùÜ
(
US_TICKER_TIMER_IRQn
, (
ušt32_t
)
us_tick”_œq_hªdËr
);

39 
	`NVIC_EÇbËIRQ
(
US_TICKER_TIMER_IRQn
);

40 
	}
}

42 
ušt32_t
 
	$us_tick”_»ad
() {

43 ià(!
us_tick”_š™ed
)

44 
	`us_tick”_š™
();

46  
US_TICKER_TIMER
->
TC
;

47 
	}
}

49 
	$us_tick”_£t_š‹¼u±
(
time¡amp_t
 
time¡amp
) {

51 
US_TICKER_TIMER
->
MR0
 = (
ušt32_t
)
time¡amp
;

53 
US_TICKER_TIMER
->
MCR
 |= 1;

54 
	}
}

56 
	$us_tick”_di§bË_š‹¼u±
() {

57 
US_TICKER_TIMER
->
MCR
 &= ~1;

58 
	}
}

60 
	$us_tick”_ş—r_š‹¼u±
() {

61 
US_TICKER_TIMER
->
IR
 = 1;

62 
	}
}

	@
1
.
0
396
29792
C:\PokittoLib_Git\PokittoLib_curr\Examples\Bitmap\My_settings.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\Bitmap\bitmap.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Bitmap\pokitto_icon.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\DrawDemo\My_settings.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\DrawDemo\drawdemo.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\Animation.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\Animation.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\My_settings.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_cheeks.c
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_dreamy.c
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_eyepupil.c
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_flat.c
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_grin.c
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_halfpupil.c
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_heart.c
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_lefteye.c
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_lids_closed.c
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_lids_halfeyes.c
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_lids_smug.c
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_oh.c
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_professoreyes.c
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_righteye.c
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_smile.c
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_smile_open.c
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_squint.c
C:\PokittoLib_Git\PokittoLib_curr\Examples\FeelGood\m_tongue.c
C:\PokittoLib_Git\PokittoLib_curr\Examples\HelloWorld\My_settings.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\HelloWorld\main.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Mode13\My_settings.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\Mode13\mode13.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Mode14\My_settings.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\Mode14\lemm.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\Mode14\mode14.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Mode15\Mode15.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Mode15\My_settings.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\My_settings.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\Pixonia.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\anim_blue_flag1.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\anim_blue_flag2.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\dirt_pillar.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\gameover.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\gold.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\gold2.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\main.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\night_palette.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\pixelman_nw_1.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\pixelman_nw_2.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\pixelman_se_1.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\pixelman_se_2.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\pixonia.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\splatter.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_beach_se.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_beach_sw.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_bump_e.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_bump_n.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_bump_ne.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_bump_nw.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_bump_s.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_bump_se.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_bump_sw.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_bump_w.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_earth.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_gold.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_grain.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_hut.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_plain.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_stone.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_tree.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_water1.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\ter_water2.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\theresgold.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\werewolf_nw_1.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\werewolf_nw_2.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\werewolf_se_1.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Pixonia\werewolf_se_2.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Sprites\My_settings.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\Sprites\gfxdata.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\Sprites\main.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\SynthTest\My_settings.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\SynthTest\SynthTest.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\SynthTest\beat_11025.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\TestCrashScreen\My_settings.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\TestCrashScreen\main.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\Tracker\Arrays.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\Tracker\My_settings.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\Tracker\PatchSettings.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\Tracker\Tracker.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\Tracker\main.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\UpdateAndClipRect\My_settings.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\UpdateAndClipRect\gfxdata.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\UpdateAndClipRect\main.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\WavePlayer\My_settings.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\WavePlayer\main.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\WavePlayer\wave_player.cpp
C:\PokittoLib_Git\PokittoLib_curr\Examples\WavePlayer\wave_player.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\Zuzupong\My_settings.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\Zuzupong\textures.h
C:\PokittoLib_Git\PokittoLib_curr\Examples\Zuzupong\zuzupong.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\TIC806x6.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\ZXSpec.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\adventurer12x16.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\donut7x10.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\dragon6x8.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\font3x3.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\font3x5.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\font5x7.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\fontC64.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\fontC64UIGfx.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\fontMonkey.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\karateka8x11.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\koubit7x7.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\mini4x6.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\runes6x8.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\tight4x7.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\FONTS\tiny5x7.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\GBcompatibility.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\Localization.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\Macros_LCD.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palAction.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palCGA.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palDB16.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palDefault.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palGameboy.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palMagma.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palMono.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palPico.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palRainbow.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PALETTES\palZXSpec.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoBacklight.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoBacklight.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoBattery.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoBattery.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoButtons.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoButtons.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoConsole.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoConsole.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoCore.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoCore.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoDisk.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoDisk.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoDisplay.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoDisplay.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoFakeavr.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoFonts.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoGlobs.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoItoa.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoItoa.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoLogos.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoLogos.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoPalette.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoPalettes.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoSound.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoSound.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\PokittoTimer.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_CORE\binary.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\HWButtons.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\HWButtons.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\HWLCD.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\HWLCD.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\HWSound.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\HWSound.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\PokittoClock.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\PokittoEEPROM.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\PokittoHW.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\Pokitto_extport.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\Pokitto_extport.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\SoftwareI2C.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\SoftwareI2C.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\clock_11u6x.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\dma_11u6x.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\dma_11u6x.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\iap.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\iap.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\loader.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\lpc_defs.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_HW\timer_11u6x.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\MicroPython\My_settings.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\MicroPython\PythonBindings.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\MicroPython\PythonBindings.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\MicroPython\UsbSerialPrint.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\MicroPython\frozen_mpy.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\MicroPython\main.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\MicroPython\src_py\sprite.py
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\CRC16.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\CRC16.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\CRC7.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\CRC7.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\ChaN\ccsbcs.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\ChaN\diskio.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\ChaN\diskio.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\ChaN\ff.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\ChaN\ff.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\ChaN\ffconf.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\ChaN\integer.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\FATDirHandle.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\FATDirHandle.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\FATFileHandle.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\FATFileHandle.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\FATFileSystem.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\FATFileSystem.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\FATFileSystem\MemFileSystem.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\SDFileSystem.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\SDFileSystem\SDFileSystem.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth_envfuncs.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth_helpers.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth_mixfuncs.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth_osc.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth_oscfuncs.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth_song.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth_songfuncs.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\Synth\Synth_wavefuncs.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBDescriptor.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBDevice.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBDevice.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBDevice_Types.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBEndpoints.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBEndpoints_EFM32.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBEndpoints_KL25Z.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBEndpoints_LPC11U.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBEndpoints_LPC17_LPC23.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBEndpoints_Maxim.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBEndpoints_RZ_A1H.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBEndpoints_STM32F4.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBHAL.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBHAL_EFM32.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBHAL_KL25Z.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBHAL_LPC11U.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBHAL_LPC17.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBHAL_LPC40.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBHAL_Maxim.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBHAL_RZ_A1H.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBHAL_STM32F4.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBDevice\USBRegs_STM32.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBSerial\CircBuffer.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBSerial\USBCDC.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBSerial\USBCDC.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBSerial\USBSerial.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\POKITTO_LIBS\USBDevice\USBSerial\USBSerial.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\Pokitto.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\Pokitto_settings.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\libpff\connect.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\libpff\diskio.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\libpff\integer.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\libpff\mmc.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\libpff\pff.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\libpff\pff.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\AnalogIn.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\AnalogOut.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\BusIn.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\BusInOut.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\BusOut.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\CAN.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\CThunk.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\CallChain.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\CircularBuffer.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\DigitalIn.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\DigitalInOut.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\DigitalOut.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\DirHandle.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\Ethernet.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\FileBase.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\FileHandle.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\FileLike.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\FilePath.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\FileSystemLike.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\FunctionPointer.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\I2C.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\I2CSlave.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\InterruptIn.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\InterruptManager.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\LocalFileSystem.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\LowPowerTicker.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\LowPowerTimeout.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\LowPowerTimer.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\PortIn.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\PortInOut.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\PortOut.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\PwmOut.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\RawSerial.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\SPI.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\SPISlave.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\Serial.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\SerialBase.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\Stream.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\Ticker.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\Timeout.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\Timer.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\TimerEvent.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\Transaction.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\can_helper.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\mbed.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\mbed_assert.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\mbed_debug.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\mbed_error.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\mbed_interface.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\platform.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\rtc_time.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\semihost_api.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\toolchain.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\api\wait_api.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\BusIn.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\BusInOut.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\BusOut.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\CAN.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\CallChain.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\Ethernet.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\FileBase.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\FileLike.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\FilePath.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\FileSystemLike.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\I2C.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\I2CSlave.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\InterruptIn.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\InterruptManager.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\LocalFileSystem.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\RawSerial.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\SPI.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\SPISlave.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\Serial.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\SerialBase.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\Stream.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\Ticker.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\Timeout.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\Timer.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\TimerEvent.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\assert.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\board.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\error.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\gpio.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\lp_ticker_api.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\mbed_interface.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\pinmap_common.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\retarget.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\rtc_time.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\semihost_api.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\ticker_api.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\us_ticker_api.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\common\wait_api.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\analogin_api.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\analogout_api.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\buffer.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\can_api.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\dma_api.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\ethernet_api.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\gpio_api.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\gpio_irq_api.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\i2c_api.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\lp_ticker_api.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\pinmap.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\port_api.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\pwmout_api.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\rtc_api.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\serial_api.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\sleep_api.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\spi_api.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\ticker_api.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\hal\us_ticker_api.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\TARGET_NXP\TARGET_LPC11U6X\LPC11U6x.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\TARGET_NXP\TARGET_LPC11U6X\TOOLCHAIN_GCC_ARM\TARGET_LPC11U68\startup_LPC11U68.cpp
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\TARGET_NXP\TARGET_LPC11U6X\cmsis.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\TARGET_NXP\TARGET_LPC11U6X\cmsis_nvic.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\TARGET_NXP\TARGET_LPC11U6X\cmsis_nvic.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\TARGET_NXP\TARGET_LPC11U6X\system_LPC11U6x.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\TARGET_NXP\TARGET_LPC11U6X\system_LPC11U6x.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_ca9.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_caFunc.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_caInstr.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_ca_mmu.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_cm0.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_cm0plus.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_cm3.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_cm4.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_cm4_simd.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_cm7.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_cmFunc.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_cmInstr.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\cmsis\core_cmSimd.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\PeripheralNames.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\PinNames.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\PortNames.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\analogin_api.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\device.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\gpio_api.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\gpio_irq_api.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\gpio_object.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\i2c_api.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\objects.h
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\pinmap.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\pwmout_api.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\rtc_api.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\serial_api.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\sleep.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\spi_api.c
C:\PokittoLib_Git\PokittoLib_curr\Pokitto\mbed-pokitto\targets\hal\TARGET_NXP\TARGET_LPC11U6X\us_ticker.c
